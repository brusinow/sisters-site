"use strict";angular.module("ngCart",["ngCart.directives"]).config([function(){}]).provider("$ngCart",function(){this.$get=function(){}}).run(["$rootScope","ngCart","ngCartItem","store",function($rootScope,ngCart,ngCartItem,store){$rootScope.$on("ngCart:change",function(){ngCart.$save()}),angular.isObject(store.get("cart"))?ngCart.$restore(store.get("cart")):ngCart.init()}]).service("ngCart",["$rootScope","$location","$window","ngCartItem","store",function($rootScope,$location,$window,ngCartItem,store){this.init=function(){this.$cart={shipping:null,taxRate:null,tax:null,items:[]}},this.addItem=function(id,sku,name,price,quantity,data,attr){var inCart=this.getItemById(id);if("object"==typeof inCart)inCart.setQuantity(quantity,!1),$rootScope.$broadcast("ngCart:itemUpdated",inCart);else{var newItem=new ngCartItem(id,sku,name,price,quantity,data,attr);this.$cart.items.push(newItem),$rootScope.$broadcast("ngCart:itemAdded",newItem)}$rootScope.$broadcast("ngCart:change",{})},this.addItemBtn=function(id,sku,name,price,quantity,data){var skus=data.skus;if(1===skus.length){var inCart=this.getItemById(id);if("object"==typeof inCart)inCart.setQuantity(quantity,!1),$rootScope.$broadcast("ngCart:itemUpdated",inCart);else{var newItem=new ngCartItem(id,sku,name,price,quantity,data);this.$cart.items.push(newItem),$rootScope.$broadcast("ngCart:itemAdded",newItem)}$rootScope.$broadcast("ngCart:change",{})}else $location.url("/store/"+data.id)},this.changeQuantity=function(id,quantity){var inCart=this.getItemById(id);"object"==typeof inCart?(inCart.setQuantity(quantity,!0),$rootScope.$broadcast("ngCart:itemUpdated",inCart)):console.log("nothing there"),$rootScope.$broadcast("ngCart:change",{})},this.getItemById=function(itemId){var items=this.getCart().items,build=!1;return angular.forEach(items,function(item){item.getId()===itemId&&(build=item)}),build},this.setShipping=function(shipping){return this.$cart.shipping=shipping,$rootScope.$broadcast("ngCart:change",{}),this.getShipping()},this.getShipping=function(){return 0==this.getCart().items.length?0:this.getCart().shipping},this.setTaxRate=function(taxRate){return this.$cart.taxRate=+parseFloat(taxRate).toFixed(2),$rootScope.$broadcast("ngCart:change",{}),this.getTaxRate()},this.getTaxRate=function(){return this.$cart.taxRate},this.getTax=function(){return Math.round(this.getSubTotal()/100*this.getCart().taxRate)},this.setCart=function(cart){return this.$cart=cart,this.getCart()},this.getCart=function(){return this.$cart},this.getItems=function(){return this.getCart().items},this.getTotalItems=function(){var count=0,items=this.getItems();return angular.forEach(items,function(item){count+=item.getQuantity()}),count},this.getTotalUniqueItems=function(){return this.getCart().items.length},this.getSubTotal=function(){var total=0;return angular.forEach(this.getCart().items,function(item){total+=item.getTotal()}),+parseFloat(total).toFixed(2)},this.totalCost=function(){return+parseFloat(this.getSubTotal()+this.getShipping()+this.getTax()).toFixed(2)},this.removeItem=function(index){var item=this.$cart.items.splice(index,1)[0]||{};$rootScope.$broadcast("ngCart:itemRemoved",item),$rootScope.$broadcast("ngCart:change",{})},this.removeItemById=function(id){var item,cart=this.getCart();angular.forEach(cart.items,function(item,index){item.getId()===id&&(item=cart.items.splice(index,1)[0]||{})}),this.setCart(cart),$rootScope.$broadcast("ngCart:itemRemoved",item),$rootScope.$broadcast("ngCart:change",{})},this.empty=function(){$rootScope.$broadcast("ngCart:change",{}),this.$cart.items=[],$window.localStorage.removeItem("cart")},this.isEmpty=function(){return!(this.$cart.items.length>0)},this.toObject=function(){if(0===this.getItems().length)return!1;var items=[];return angular.forEach(this.getItems(),function(item){items.push(item.toObject())}),{shipping:this.getShipping(),tax:this.getTax(),taxRate:this.getTaxRate(),subTotal:this.getSubTotal(),totalCost:this.totalCost(),items:items}},this.$restore=function(storedCart){var _self=this;_self.init(),_self.$cart.shipping=storedCart.shipping,_self.$cart.taxRate=storedCart.taxRate,_self.$cart.tax=storedCart.tax,angular.forEach(storedCart.items,function(item){_self.$cart.items.push(new ngCartItem(item.parent,item.sku,item.description,item.amount,item.quantity,item._data,item.attr))}),this.$save()},this.$save=function(){return store.set("cart",JSON.stringify(this.getCart()))}}]).factory("ngCartItem",["$rootScope","$log",function($rootScope,$log){var item=function(id,sku,name,price,quantity,data,attr){this.setId(id),this.setSku(sku),this.setName(name),this.setPrice(price),this.setQuantity(quantity),this.setData(data),this.setAttr(attr)};return item.prototype.setId=function(id){id?this.parent=id:$log.error("An ID must be provided")},item.prototype.setSku=function(sku){sku?this.sku=sku:$log.error("A sku must be provided")},item.prototype.getId=function(){return this.parent},item.prototype.getSku=function(){return this.sku},item.prototype.setName=function(name){name?this.description=name:$log.error("A name must be provided")},item.prototype.getName=function(){return this.description},item.prototype.setPrice=function(price){var priceFloat=parseFloat(price);priceFloat?priceFloat<=0?$log.error("A price must be over 0"):this.amount=priceFloat:$log.error("A price must be provided")},item.prototype.getPrice=function(){return this.amount},item.prototype.setQuantity=function(quantity,relative){var quantityInt=parseInt(quantity);quantityInt%1===0?(relative===!0?this.quantity+=quantityInt:this.quantity=quantityInt,this.quantity<1&&(this.quantity=1)):(this.quantity=1,$log.info("Quantity must be an integer and was defaulted to 1"))},item.prototype.getQuantity=function(){return this.quantity},item.prototype.setData=function(data){data&&(this._data=data)},item.prototype.getData=function(){return this._data?this._data:void $log.info("This item has no data")},item.prototype.setAttr=function(attributes){attributes&&(this.attr=attributes)},item.prototype.getAttr=function(){if(this.attr){if(this.attr.size)return this.attr.size;if(this.attr.color)return this.attr.size}},item.prototype.getTotal=function(){return+parseFloat(this.getQuantity()*this.getPrice()).toFixed(2)},item.prototype.toObject=function(){return{id:this.getId(),name:this.getName(),price:this.getPrice(),quantity:this.getQuantity(),data:this.getData(),total:this.getTotal()}},item}]).service("store",["$window",function($window){return{get:function(key){if($window.localStorage.getItem(key)){var cart=angular.fromJson($window.localStorage.getItem(key));return JSON.parse(cart)}return!1},set:function(key,val){return void 0===val?$window.localStorage.removeItem(key):$window.localStorage.setItem(key,angular.toJson(val)),$window.localStorage.getItem(key)}}}]).controller("CartController",["$scope","$rootScope","ngCart","$timeout",function($scope,$rootScope,ngCart,$timeout){$scope.loaded=!1,$scope.toggleCart=!1,$scope.ngCart=ngCart,$timeout(function(){$scope.loaded=!0});var items=ngCart.getItems(),filtered=[];angular.forEach(items,function(item){"shippable"===item._data.product_type&&filtered.push(item)}),filtered.length>0?($scope.shipBool=!0,$scope.$emit("setShippable",!0)):($scope.shipBool=!1,$scope.$emit("setShippable",!1))}]).controller("CartBtnController",["$scope","ngCart","$timeout",function($scope,ngCart,$timeout){$scope.loaded=!1,$scope.toggleCart=!1,$scope.ngCart=ngCart,$timeout(function(){$scope.loaded=!0})}]).value("version","1.0.0"),angular.module("ngCart.directives",["ngCart.fulfilment"]).controller("CartController",["$scope","ngCart",function($scope,ngCart){$scope.ngCart=ngCart}]).directive("ngcartAddBtn",["ngCart",function(ngCart){return{restrict:"E",controller:"CartBtnController",scope:{id:"@",sku:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/addtocartBtn.html":attrs.templateUrl},link:function(scope,element,attrs){scope.attrs=attrs,scope.inCart=function(){return ngCart.getItemById(attrs.id)},scope.inCart()?scope.q=ngCart.getItemById(attrs.id).getQuantity():scope.q=parseInt(scope.quantity),scope.qtyOpt=[];for(var i=1;i<=scope.quantityMax;i++)scope.qtyOpt.push(i)}}}]).directive("ngcartAddtocart",["ngCart",function(ngCart){return{restrict:"E",controller:"CartController",scope:{id:"@",sku:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/addtocart.html":attrs.templateUrl},link:function(scope,element,attrs){scope.attrs=attrs,scope.inCart=function(){return ngCart.getItemById(attrs.id)},scope.inCart()?scope.q=ngCart.getItemById(attrs.id).getQuantity():scope.q=parseInt(scope.quantity),scope.qtyOpt=[];var thisMax,showCountRef=firebase.database().ref("tickets/"+scope.id+"/totalTickets");showCountRef.once("value").then(function(snapshot){if(scope.totalTix=snapshot.val(),thisMax=scope.quantityMax<scope.totalTix?scope.quantityMax:scope.totalTix,thisMax>0)for(var i=1;i<=thisMax;i++)scope.qtyOpt.push(i)})}}}]).directive("ngcartCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/cart.html":attrs.templateUrl},link:function(scope,element,attrs){}}}]).directive("ngcartSummary",[function(){return{restrict:"E",controller:"CartController",scope:{},transclude:!0,templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/summary.html":attrs.templateUrl}}}]).directive("ngcartCartConfirm",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/cart-confirm.html":attrs.templateUrl},link:function(scope,element,attrs){}}}]).directive("ngcartSmallCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/small-cart.html":attrs.templateUrl},link:function(scope,element,attrs){}}}]).directive("ngcartSmallCartCollapse",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"views/ngCart/small-cart-collapse.html":attrs.templateUrl},link:function(scope,element,attrs){}}}]).directive("ngcartCheckout",[function(){return{restrict:"E",controller:["$rootScope","$scope","ngCart","fulfilmentProvider",function($rootScope,$scope,ngCart,fulfilmentProvider){$scope.ngCart=ngCart,$scope.checkout=function(){fulfilmentProvider.setService($scope.service),fulfilmentProvider.setSettings($scope.settings),fulfilmentProvider.checkout().success(function(data,status,headers,config){$rootScope.$broadcast("ngCart:checkout_succeeded",data)}).error(function(data,status,headers,config){$rootScope.$broadcast("ngCart:checkout_failed",{statusCode:status,error:data})})}}],scope:{service:"@",settings:"="},transclude:!0,templateUrl:function(element,attrs){return"undefined"==typeof attrs.templateUrl?"template/ngCart/checkout.html":attrs.templateUrl}}}]),angular.module("ngCart.fulfilment",[]).service("fulfilmentProvider",["$injector",function($injector){this._obj={service:void 0,settings:void 0},this.setService=function(service){this._obj.service=service},this.setSettings=function(settings){this._obj.settings=settings},this.checkout=function(){var provider=$injector.get("ngCart.fulfilment."+this._obj.service);return provider.checkout(this._obj.settings)}}]).service("ngCart.fulfilment.log",["$q","$log","ngCart",function($q,$log,ngCart){this.checkout=function(){var deferred=$q.defer();return $log.info(ngCart.toObject()),deferred.resolve({cart:ngCart.toObject()}),deferred.promise}}]).service("ngCart.fulfilment.http",["$http","ngCart",function($http,ngCart){this.checkout=function(settings){return $http.post(settings.url,{data:ngCart.toObject(),options:settings.options})}}]).service("ngCart.fulfilment.paypal",["$http","ngCart",function($http,ngCart){}]);
"use strict";angular.module("angular-parallax",[]).directive("parallax",["$window",function($window){return{restrict:"A",scope:{parallaxRatio:"@",parallaxVerticalOffset:"@",parallaxHorizontalOffset:"@"},link:function($scope,elem,attrs){var setPosition=function(){$scope.parallaxHorizontalOffset||($scope.parallaxHorizontalOffset="0");var calcValY=$window.pageYOffset*($scope.parallaxRatio?$scope.parallaxRatio:1.1);if(calcValY<=$window.innerHeight){var topVal=calcValY<$scope.parallaxVerticalOffset?$scope.parallaxVerticalOffset:calcValY,hozVal=$scope.parallaxHorizontalOffset.indexOf("%")===-1?$scope.parallaxHorizontalOffset+"px":$scope.parallaxHorizontalOffset;elem.css("transform","translate("+hozVal+", "+topVal+"px)")}};setPosition(),angular.element($window).bind("scroll",setPosition),angular.element($window).bind("touchmove",setPosition)}}}]).directive("parallaxBackground",["$window",function($window){return{restrict:"A",transclude:!0,template:"<div ng-transclude></div>",scope:{parallaxRatio:"@",parallaxVerticalOffset:"@",parallaxStartPoint:"@"},link:function($scope,elem,attrs){var setPosition=function(){var offset=$scope.parallaxVerticalOffset/100*elem[0].offsetHeight,calcValY=(elem.prop("offsetTop")-$window.pageYOffset)*($scope.parallaxRatio?$scope.parallaxRatio:1.1)-(offset||0);calcValY>=$scope.parallaxStartPoint&&(calcValY=$scope.parallaxStartPoint),elem.css("background-position","50% "+calcValY+"px")};angular.element($window).bind("load",function(e){setPosition(),$scope.$apply()}),angular.element($window).bind("scroll",setPosition),angular.element($window).bind("touchmove",setPosition)}}}]);
!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";module.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",__webpack_require__(1)]).factory("FileSaverUtils",[__webpack_require__(2)]).factory("Blob",["$window",__webpack_require__(3)]).factory("SaveAs",[__webpack_require__(5)])},function(module,exports){"use strict";module.exports=function(Blob,SaveAs,FileSaverUtils){function save(blob,filename,disableAutoBOM){try{SaveAs(blob,filename,disableAutoBOM)}catch(err){FileSaverUtils.handleErrors(err.message)}}return{saveAs:function(data,filename,disableAutoBOM){return FileSaverUtils.isBlobInstance(data)||FileSaverUtils.handleErrors("Data argument should be a blob instance"),FileSaverUtils.isString(filename)||FileSaverUtils.handleErrors("Filename argument should be a string"),save(data,filename,disableAutoBOM)}}}},function(module,exports){"use strict";module.exports=function(){return{handleErrors:function(msg){throw new Error(msg)},isString:function(obj){return"string"==typeof obj||obj instanceof String},isUndefined:function(obj){return"undefined"==typeof obj},isBlobInstance:function(obj){return obj instanceof Blob}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4),module.exports=function($window){return $window.Blob}},function(module,exports){!function(view){"use strict";if(view.URL=view.URL||view.webkitURL,view.Blob&&view.URL)try{return void new Blob}catch(e){}var BlobBuilder=view.BlobBuilder||view.WebKitBlobBuilder||view.MozBlobBuilder||function(view){var get_class=function(object){return Object.prototype.toString.call(object).match(/^\[object\s(.*)\]$/)[1]},FakeBlobBuilder=function(){this.data=[]},FakeBlob=function(data,type,encoding){this.data=data,this.size=data.length,this.type=type,this.encoding=encoding},FBB_proto=FakeBlobBuilder.prototype,FB_proto=FakeBlob.prototype,FileReaderSync=view.FileReaderSync,FileException=function(type){this.code=this[this.name=type]},file_ex_codes="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),file_ex_code=file_ex_codes.length,real_URL=view.URL||view.webkitURL||view,real_create_object_URL=real_URL.createObjectURL,real_revoke_object_URL=real_URL.revokeObjectURL,URL=real_URL,btoa=view.btoa,atob=view.atob,ArrayBuffer=view.ArrayBuffer,Uint8Array=view.Uint8Array,origin=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(FakeBlob.fake=FB_proto.fake=!0;file_ex_code--;)FileException.prototype[file_ex_codes[file_ex_code]]=file_ex_code+1;return real_URL.createObjectURL||(URL=view.URL=function(uri){var uri_origin,uri_info=document.createElementNS("http://www.w3.org/1999/xhtml","a");return uri_info.href=uri,"origin"in uri_info||("data:"===uri_info.protocol.toLowerCase()?uri_info.origin=null:(uri_origin=uri.match(origin),uri_info.origin=uri_origin&&uri_origin[1])),uri_info}),URL.createObjectURL=function(blob){var data_URI_header,type=blob.type;return null===type&&(type="application/octet-stream"),blob instanceof FakeBlob?(data_URI_header="data:"+type,"base64"===blob.encoding?data_URI_header+";base64,"+blob.data:"URI"===blob.encoding?data_URI_header+","+decodeURIComponent(blob.data):btoa?data_URI_header+";base64,"+btoa(blob.data):data_URI_header+","+encodeURIComponent(blob.data)):real_create_object_URL?real_create_object_URL.call(real_URL,blob):void 0},URL.revokeObjectURL=function(object_URL){"data:"!==object_URL.substring(0,5)&&real_revoke_object_URL&&real_revoke_object_URL.call(real_URL,object_URL)},FBB_proto.append=function(data){var bb=this.data;if(Uint8Array&&(data instanceof ArrayBuffer||data instanceof Uint8Array)){for(var str="",buf=new Uint8Array(data),i=0,buf_len=buf.length;i<buf_len;i++)str+=String.fromCharCode(buf[i]);bb.push(str)}else if("Blob"===get_class(data)||"File"===get_class(data)){if(!FileReaderSync)throw new FileException("NOT_READABLE_ERR");var fr=new FileReaderSync;bb.push(fr.readAsBinaryString(data))}else data instanceof FakeBlob?"base64"===data.encoding&&atob?bb.push(atob(data.data)):"URI"===data.encoding?bb.push(decodeURIComponent(data.data)):"raw"===data.encoding&&bb.push(data.data):("string"!=typeof data&&(data+=""),bb.push(unescape(encodeURIComponent(data))))},FBB_proto.getBlob=function(type){return arguments.length||(type=null),new FakeBlob(this.data.join(""),type,"raw")},FBB_proto.toString=function(){return"[object BlobBuilder]"},FB_proto.slice=function(start,end,type){var args=arguments.length;return args<3&&(type=null),new FakeBlob(this.data.slice(start,args>1?end:this.data.length),type,this.encoding)},FB_proto.toString=function(){return"[object Blob]"},FB_proto.close=function(){this.size=0,delete this.data},FakeBlobBuilder}(view);view.Blob=function(blobParts,options){var type=options?options.type||"":"",builder=new BlobBuilder;if(blobParts)for(var i=0,len=blobParts.length;i<len;i++)Uint8Array&&blobParts[i]instanceof Uint8Array?builder.append(blobParts[i].buffer):builder.append(blobParts[i]);var blob=builder.getBlob(type);return!blob.slice&&blob.webkitSlice&&(blob.slice=blob.webkitSlice),blob};var getPrototypeOf=Object.getPrototypeOf||function(object){return object.__proto__};view.Blob.prototype=getPrototypeOf(new view.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){return __webpack_require__(6).saveAs||function(){}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,saveAs=saveAs||function(view){"use strict";if(!("undefined"==typeof view||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},is_safari=/constructor/i.test(view.HTMLElement),is_chrome_ios=/CriOS\/[\d]+/.test(navigator.userAgent),throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex},0)},force_saveable_type="application/octet-stream",arbitrary_revoke_timeout=4e4,revoke=function(file){var revoker=function(){"string"==typeof file?get_URL().revokeObjectURL(file):file.remove()};setTimeout(revoker,arbitrary_revoke_timeout)},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);for(var i=event_types.length;i--;){var listener=filesaver["on"+event_types[i]];if("function"==typeof listener)try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}},auto_bom=function(blob){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)?new Blob([String.fromCharCode(65279),blob],{type:blob.type}):blob},FileSaver=function(blob,name,no_auto_bom){no_auto_bom||(blob=auto_bom(blob));var object_url,filesaver=this,type=blob.type,force=type===force_saveable_type,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if((is_chrome_ios||force&&is_safari)&&view.FileReader){var reader=new FileReader;return reader.onloadend=function(){var url=is_chrome_ios?reader.result:reader.result.replace(/^data:[^;]*;/,"data:attachment/file;"),popup=view.open(url,"_blank");popup||(view.location.href=url),url=void 0,filesaver.readyState=filesaver.DONE,dispatch_all()},reader.readAsDataURL(blob),void(filesaver.readyState=filesaver.INIT)}if(object_url||(object_url=get_URL().createObjectURL(blob)),force)view.location.href=object_url;else{var opened=view.open(object_url,"_blank");opened||(view.location.href=object_url)}filesaver.readyState=filesaver.DONE,dispatch_all(),revoke(object_url)};return filesaver.readyState=filesaver.INIT,can_use_save_link?(object_url=get_URL().createObjectURL(blob),void setTimeout(function(){save_link.href=object_url,save_link.download=name,click(save_link),dispatch_all(),revoke(object_url),filesaver.readyState=filesaver.DONE})):void fs_error()},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name||blob.name||"download",no_auto_bom)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(blob,name,no_auto_bom){return name=name||blob.name||"download",no_auto_bom||(blob=auto_bom(blob)),navigator.msSaveOrOpenBlob(blob,name)}:(FS_proto.abort=function(){},FS_proto.readyState=FS_proto.INIT=0,FS_proto.WRITING=1,FS_proto.DONE=2,FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null,saveAs)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:null!==__webpack_require__(7)&&null!==__webpack_require__(8)&&(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(exports,{})}])});
var uiroutermetatags;!function(uiroutermetatags){function runBlock($log,$rootScope,MetaTags,$window){function stateChangeStart(event,toState,toParams,from,fromParams){$window.prerenderReady=!1}function stateChangeSuccess(event,toState){toState.metaTags||$log.debug('MetaTags - route: "'+toState.name+'" does not contain any metatags'),MetaTags.update(toState.metaTags)}function stateChangeError(event,toState,toParams,fromState,fromParams,error){MetaTags.prerender.statusCode=500,$window.prerenderReady=!0}function stateNotFound(event,unfoundState,fromState){MetaTags.prerender.statusCode=404,$window.prerenderReady=!0}$rootScope.MetaTags=MetaTags,$rootScope.$on("$stateChangeStart",stateChangeStart),$rootScope.$on("$stateChangeSuccess",stateChangeSuccess),$rootScope.$on("$stateChangeError",stateChangeError),$rootScope.$on("$stateNotFound",stateNotFound)}runBlock.$inject=["$log","$rootScope","MetaTags","$window"];var appModule=angular.module("ui.router.metatags",["ui.router"]),UIRouterMetatags=function(){function UIRouterMetatags(){this.prefix="",this.suffix="",this.defaultTitle="",this.defaultDescription="",this.defaultKeywords="",this.defaultRobots="",this.staticProperties={},this.enableOGURL=!1}return UIRouterMetatags.prototype.setTitlePrefix=function(prefix){return this.prefix=prefix,this},UIRouterMetatags.prototype.setTitleSuffix=function(suffix){return this.suffix=suffix,this},UIRouterMetatags.prototype.setDefaultTitle=function(title){return this.defaultTitle=title,this},UIRouterMetatags.prototype.setDefaultDescription=function(description){return this.defaultDescription=description,this},UIRouterMetatags.prototype.setDefaultKeywords=function(keywords){return this.defaultKeywords=keywords,this},UIRouterMetatags.prototype.setDefaultRobots=function(robots){return this.defaultRobots=robots,this},UIRouterMetatags.prototype.setStaticProperties=function(properties){return this.staticProperties=properties,this},UIRouterMetatags.prototype.setOGURL=function(enabled){return this.enableOGURL=enabled,this},UIRouterMetatags.prototype.$get=function(){return{prefix:this.prefix,suffix:this.suffix,defaultTitle:this.defaultTitle,defaultDescription:this.defaultDescription,defaultKeywords:this.defaultKeywords,defaultRobots:this.defaultRobots,staticProperties:this.staticProperties,enableOGURL:this.enableOGURL}},UIRouterMetatags}();appModule.provider("UIRouterMetatags",UIRouterMetatags);var MetaTags=function(){function MetaTags($log,UIRouterMetatags,$interpolate,$injector,$state,$location,$window){this.$log=$log,this.UIRouterMetatags=UIRouterMetatags,this.$interpolate=$interpolate,this.$injector=$injector,this.$state=$state,this.$location=$location,this.$window=$window,this.prerender={}}return MetaTags.$inject=["$log","UIRouterMetatags","$interpolate","$injector","$state","$location","$window"],MetaTags.prototype.update=function(tags){var _this=this;try{this.properties=angular.extend({},this.UIRouterMetatags.staticProperties),this.UIRouterMetatags.enableOGURL&&(this.properties["og:url"]=this.$location.absUrl()),tags?(this.title=tags.title?this.UIRouterMetatags.prefix+(this.getValue("title",tags.title)||"")+this.UIRouterMetatags.suffix:this.UIRouterMetatags.defaultTitle,this.description=tags.description?this.getValue("description",tags.description):this.UIRouterMetatags.defaultDescription,this.keywords=tags.keywords?this.getValue("keywords",tags.keywords):this.UIRouterMetatags.defaultKeywords,this.robots=tags.robots?this.getValue("robots",tags.robots):this.UIRouterMetatags.defaultRobots,angular.forEach(tags.properties,function(value,key){var v=_this.getValue(key,value);v&&(_this.properties[key]=v)})):(this.title=this.UIRouterMetatags.defaultTitle,this.description=this.UIRouterMetatags.defaultDescription,this.keywords=this.UIRouterMetatags.defaultKeywords,this.robots=this.UIRouterMetatags.defaultRobots),tags&&tags.prerender?(this.prerender.statusCode=tags.prerender.statusCode?this.getValue("prerender.statusCode",tags.prerender.statusCode):200,this.prerender.header=tags.prerender.header?this.getValue("rerender.header",tags.prerender.header):null):(this.prerender.statusCode=200,this.prerender.header=null),this.$window.prerenderReady=!0}catch(err){this.$log.error("error occured when extracting metatags:",err)}},MetaTags.prototype.getValue=function(tagType,tag){try{return tag?"number"==typeof tag?tag:"string"==typeof tag&&0===tag.trim().length?null:angular.isFunction(tag)||Array.isArray(tag)?this.$injector.invoke(tag,this,this.$state.$current.locals.globals):this.$interpolate(tag)(this.$state.$current.locals.globals):null}catch(err){return this.$log.error("error occured when trying to get the value of tag:",tagType,err),null}},MetaTags}();appModule.service("MetaTags",MetaTags),appModule.run(runBlock)}(uiroutermetatags||(uiroutermetatags={}));
var tableSortModule=angular.module("tableSort",[]);tableSortModule.provider("tableSortConfig",function(){this.filterTemplate="",this.filterFunction=void 0,this.paginationTemplate="",this.perPageOptions=[10,25,50,100],this.perPageDefault=this.perPageOptions[0],this.itemNameSingular="item",this.itemNamePlural=this.itemNameSingular+"s",this.noDataText="No "+this.itemNamePlural,this.wrappingElementClass="",isNaN(this.perPageDefault)||this.perPageOptions.indexOf(this.perPageDefault)!==-1||this.perPageOptions.push(this.perPageDefault),this.perPageOptions.sort(function(a,b){return a-b}),this.$get=function(){return this}}),tableSortModule.directive("tsWrapper",["$parse","$compile",function($parse,$compile){"use strict";function replaceTemplateTokens($scope,templateString){console.log("what is templateString? ",templateString);var newString=templateString.replace(/FILTER_STRING/g,"filtering.filterString").replace(/CURRENT_PAGE_RANGE/g,"pagination.getPageRangeString(TOTAL_COUNT)").replace(/TOTAL_COUNT/g,$scope.itemsArrayExpression+".length").replace(/PER_PAGE_OPTIONS/g,"pagination.perPageOptions").replace(/ITEMS_PER_PAGE/g,"pagination.perPage").replace(/ITEM_NAME_SINGULAR/g,"itemNameSingular").replace(/ITEM_NAME_PLURAL/g,"itemNamePlural").replace(/FILTERED_COUNT/g,"filtering.filteredCount").replace(/CURRENT_PAGE_NUMBER/g,"pagination.currentPage");return console.log("newString: ",newString),newString}function createDefaultComparer(){function _defaultComparer(a,b){return a>b?1:a<b?-1:0}var stringComparer=_defaultComparer,numericComparer=_defaultComparer;"object"==typeof Intl?stringComparer=new Intl.Collator((void 0),{sensitivity:"case"}).compare:"function"==typeof String.prototype.localeCompare&&(stringComparer=function(a,b){return(a+"").localeCompare(b,void 0,{sensitivity:"case"})});var comparerFn=function(a,b){return"number"==typeof a&&"number"==typeof b?numericComparer(a,b):a instanceof Date&&b instanceof Date?numericComparer(a.getTime(),b.getTime()):stringComparer(a,b)};return comparerFn}var defaultComparer=createDefaultComparer();return{scope:!0,controller:["$scope","tableSortConfig",function($scope,tableSortConfig){$scope.pagination={template:tableSortConfig.paginationTemplate,perPageOptions:tableSortConfig.perPageOptions.concat(),perPage:tableSortConfig.perPageDefault,currentPage:1,getPageRangeString:function(total){var maxOnPage=total!==$scope.filtering.filteredCount?$scope.filtering.filteredCount:total,startPage=Math.max(($scope.pagination.currentPage-1)*$scope.pagination.perPage+1,1),endPage=Math.min($scope.pagination.currentPage*$scope.pagination.perPage,maxOnPage);return 0===$scope.filtering.filteredCount?"":(endPage===maxOnPage&&1===startPage?"":startPage+"-")+endPage}},console.log("what is pagination: ",$scope.pagination),$scope.filtering={template:tableSortConfig.filterTemplate,filterString:"",filterFunction:tableSortConfig.filterFunction,filteredCount:0,filterFields:[]},console.log("what is filtering: ",$scope.filtering),$scope.itemsArrayExpression="",$scope.itemNameSingular=tableSortConfig.itemNameSingular,$scope.itemNamePlural=tableSortConfig.itemNamePlural,$scope.noDataText=tableSortConfig.noDataText,$scope.wrappingElementClass=tableSortConfig.wrappingElementClass,$scope.sortExpression=[],$scope.headings=[];var parse_sortexpr=function(expr,name){return[$parse(expr),null,!1,name?name:expr]};this.setSortField=function(sortexpr,element,name,sortBy){var i,expr=parse_sortexpr(sortexpr,name);if(expr.push(sortBy),1===$scope.sortExpression.length&&$scope.sortExpression[0][0]===expr[0])$scope.sortExpression[0][2]?(element.removeClass("tablesort-desc"),element.addClass("tablesort-asc"),$scope.sortExpression[0][2]=!1):(element.removeClass("tablesort-asc"),element.addClass("tablesort-desc"),$scope.sortExpression[0][2]=!0),$scope.$emit("tablesort:sortOrder",[{name:$scope.sortExpression[0][3],order:$scope.sortExpression[0][2]}]);else{for(i=0;i<$scope.headings.length;i+=1)$scope.headings[i].removeClass("tablesort-desc").removeClass("tablesort-asc");element.addClass("tablesort-asc"),$scope.sortExpression=[expr],$scope.$emit("tablesort:sortOrder",[{name:expr[3],order:expr[2]}])}},this.addSortField=function(sortexpr,element,name,sortBy){var i,toggle_order=!1,expr=parse_sortexpr(sortexpr,name);for(expr.push(sortBy),i=0;i<$scope.sortExpression.length;i+=1)$scope.sortExpression[i][0]===expr[0]&&($scope.sortExpression[i][2]?(element.removeClass("tablesort-desc"),element.addClass("tablesort-asc"),$scope.sortExpression[i][2]=!1):(element.removeClass("tablesort-asc"),element.addClass("tablesort-desc"),$scope.sortExpression[i][2]=!0),toggle_order=!0);toggle_order||(element.addClass("tablesort-asc"),$scope.sortExpression.push(expr)),$scope.$emit("tablesort:sortOrder",$scope.sortExpression.map(function(a){return{name:a[3],order:a[2]}}))},this.setTrackBy=function(trackBy){$scope.trackBy=trackBy},this.registerHeading=function(headingelement){$scope.headings.push(headingelement)},this.addFilterField=function(sortexpr,element){var expr=parse_sortexpr(sortexpr);$scope.filtering.filterFields.push(expr)},this.setArrayExpr=function(dataArrayExp){$scope.itemsArrayExpression=dataArrayExp}}],link:function($scope,$element,$attrs,tsWrapperCtrl){if($attrs.tsItemName){var originalNoDataText="No "+$scope.itemNamePlural;$scope.itemNameSingular=$attrs.tsItemName,$attrs.tsItemNamePlural?$scope.itemNamePlural=$attrs.tsItemNamePlural:$scope.itemNamePlural=$attrs.tsItemName+"s",$attrs.tsNoDataText||$scope.noDataText!==originalNoDataText||($scope.noDataText="No "+$scope.itemNamePlural)}if($attrs.tsNoDataText&&($scope.noDataText=$attrs.tsNoDataText),$attrs.tsWrappingElementClass&&($scope.wrappingElementClass=$attrs.tsWrappingElementClass),$attrs.tsPerPageOptions&&($scope.pagination.perPageOptions=$scope.$eval($attrs.tsPerPageOptions)),$attrs.tsPerPageDefault){var defaultPerPage=$scope.$eval($attrs.tsPerPageDefault);isNaN(defaultPerPage)||($scope.pagination.perPage=defaultPerPage,$scope.pagination.perPageOptions.indexOf($scope.pagination.perPage)===-1&&($scope.pagination.perPageOptions.push($scope.pagination.perPage),$scope.pagination.perPageOptions.sort(function(a,b){return a-b})))}if($attrs.tsFilterFields)for(var filterFields=$attrs.tsFilterFields.split(",").filter(function(item){return item&&""!==item.trim()}),i=0;i<filterFields.length;i+=1)tsWrapperCtrl.addFilterField(filterFields[i]);var $filterHtml;if("false"!==$attrs.tsDisplayFiltering&&""!==$scope.filtering.template&&$scope.filtering.filterFields.length>0){var filterString=replaceTemplateTokens($scope,$scope.filtering.template);$filterHtml=$compile(filterString)($scope),$element.parent()[0].insertBefore($filterHtml[0],$element[0])}$attrs.tsFilterFunction&&($scope.filtering.filterFunction=$scope.$eval($attrs.tsFilterFunction)),angular.isFunction($scope.filtering.filterFunction)||(0===$scope.filtering.filterFields.length?$scope.filtering.filterFunction=function(item){return!0}:$scope.filtering.filterFunction=function(item){for(var shouldInclude=!1,i=0;i<$scope.filtering.filterFields.length;i+=1)if(!shouldInclude){var str=($scope.filtering.filterFields[i][0](item)||"").toString().toLowerCase();shouldInclude=str.indexOf($scope.filtering.filterString.toLowerCase())>-1}return shouldInclude}),$scope.filterLimitFun=function(array){if(!$attrs.tsFilterFunction&&""===$scope.filtering.filterString)return $scope.filtering.filteredCount=array.length,array;var filteredArr=array.filter($scope.filtering.filterFunction);return $scope.filtering.filteredCount=filteredArr.length,filteredArr},$scope.sortFun=function(a,b){var i,aval,bval,descending,filterFun,compResult;for(i=0;i<$scope.sortExpression.length;i+=1){if(aval=$scope.sortExpression[i][0](a),bval=$scope.sortExpression[i][0](b),filterFun=b[$scope.sortExpression[i][1]],filterFun&&(aval=filterFun(aval),bval=filterFun(bval)),void 0!==aval&&null!==aval||(aval=""),void 0!==bval&&null!==bval||(bval=""),descending=$scope.sortExpression[i][2],compResult=($scope.sortExpression[i][4]||defaultComparer)(aval,bval),1===compResult)return descending?-1:1;if(compResult===-1)return descending?1:-1}if($scope.trackBy){if(aval=a[$scope.trackBy],bval=b[$scope.trackBy],void 0!==aval&&null!==aval||(aval=""),void 0!==bval&&null!==bval||(bval=""),compResult=defaultComparer(aval,bval),1===compResult)return descending?-1:1;if(compResult===-1)return descending?1:-1}return 0},$scope.pageLimitFun=function(array){if("false"===$attrs.tsDisplayPagination||""===$scope.pagination.template)return array;for(var begin=($scope.pagination.currentPage-1)*$scope.pagination.perPage,end=$scope.pagination.currentPage*$scope.pagination.perPage,final=[],i=0;i<array.length;i++)i>=begin&&i<end&&final.push(array[i]);return final};var $paginationHtml;if("false"!==$attrs.tsDisplayPagination&&""!==$scope.pagination.template){var pagerString=replaceTemplateTokens($scope,$scope.pagination.template);$paginationHtml=$compile(pagerString)($scope),$element.after($paginationHtml)}var $wrappingElement;if($scope.wrappingElementClass&&""!==$scope.wrappingElementClass&&($wrappingElement=$element.wrap("<div class='"+$scope.wrappingElementClass+"' />")),$attrs.tsGetTableDataFunction){var getter=$parse($attrs.tsGetTableDataFunction),setter=getter.assign,fn=function(shouldApplySorting,shouldApplyFiltering,limitToCurrentPageOnly){var arr=$parse($scope.itemsArrayExpression)($scope);return shouldApplySorting&&(arr=arr.sort($scope.sortFun)),shouldApplyFiltering&&(arr=$scope.filterLimitFun(arr)),limitToCurrentPageOnly&&(arr=$scope.pageLimitFun(arr)),arr};setter($scope.$parent,fn)}$scope.$on("$destroy",function(){$filterHtml&&$filterHtml.remove(),$paginationHtml&&$paginationHtml.remove(),$wrappingElement&&$wrappingElement.replaceWith($element)})}}}]),tableSortModule.directive("tsCriteria",function(){return{require:"^tsWrapper",scope:{tsOrderBy:"="},link:function(scope,element,attrs,tsWrapperCtrl){var clickingCallback=function(event){scope.$apply(function(){event.shiftKey?tsWrapperCtrl.addSortField(attrs.tsCriteria,element,attrs.tsName,scope.tsOrderBy):tsWrapperCtrl.setSortField(attrs.tsCriteria,element,attrs.tsName,scope.tsOrderBy)})};element.bind("click",clickingCallback),element.addClass("tablesort-sortable"),"tsDefault"in attrs&&"0"!==attrs.tsDefault&&(tsWrapperCtrl.addSortField(attrs.tsCriteria,element,attrs.tsName,scope.tsOrderBy),"descending"===attrs.tsDefault&&tsWrapperCtrl.addSortField(attrs.tsCriteria,element,attrs.tsName,scope.tsOrderBy)),"tsFilter"in attrs&&tsWrapperCtrl.addFilterField(attrs.tsCriteria,element),tsWrapperCtrl.registerHeading(element)}}}),tableSortModule.directive("tsRepeat",["$compile","$interpolate",function($compile,$interpolate){return{terminal:!0,multiElement:!0,require:"^tsWrapper",priority:1e6,link:function(scope,element,attrs,tsWrapperCtrl){for(var repeatAttrs=["ng-repeat","data-ng-repeat","ng-repeat-start","data-ng-repeat-start"],ngRepeatDirective=repeatAttrs[0],tsRepeatDirective="ts-repeat",i=0;i<repeatAttrs.length;i++)if(angular.isDefined(element.attr(repeatAttrs[i]))){ngRepeatDirective=repeatAttrs[i],tsRepeatDirective=ngRepeatDirective.replace(/^(data-)?ng/,"$1ts");break}var tsExpr="tablesortOrderBy:sortFun | tablesortLimit:filterLimitFun | tablesortLimit:pageLimitFun",repeatExpr=element.attr(ngRepeatDirective),repeatExprRegex=/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(\s+track\s+by\s+[\s\S]+?)?\s*$/,trackByMatch=repeatExpr.match(/\s+track\s+by\s+\S+?\.(\S+)/),repeatInMatch=repeatExpr.match(repeatExprRegex);if(trackByMatch&&tsWrapperCtrl.setTrackBy(trackByMatch[1]),repeatExpr.search(/tablesort/)!==-1?(repeatExpr=repeatExpr.replace(/tablesort/,tsExpr),trackByMatch&&(repeatExpr=repeatExpr.replace(trackByMatch[0],"")+trackByMatch[0])):repeatExpr=repeatExpr.replace(repeatExprRegex,"$1 in $2 | "+tsExpr+"$3"),angular.isUndefined(attrs.tsHideNoData)){var startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),noDataRow=angular.element(element[0]).clone();noDataRow.removeAttr(ngRepeatDirective),noDataRow.removeAttr(tsRepeatDirective),noDataRow.addClass("showIfLast"),noDataRow.children().remove(),noDataRow.append('<td colspan="'+element[0].childElementCount+'">'+startSym+"noDataText"+endSym+"</td>"),noDataRow=$compile(noDataRow)(scope),element.parent().prepend(noDataRow)}tsWrapperCtrl.setArrayExpr(repeatInMatch[2]),angular.element(element[0]).attr(ngRepeatDirective,repeatExpr),$compile(element,null,1e6)(scope)}}}]),tableSortModule.filter("tablesortLimit",function(){return function(array,limitFun){if(array)return limitFun(array)}}),tableSortModule.filter("tablesortOrderBy",function(){return function(array,sortfun){if(array){var arrayCopy=array.concat();return arrayCopy.sort(sortfun)}}}),tableSortModule.filter("parseInt",function(){return function(input){return parseInt(input)||null}}),tableSortModule.filter("parseFloat",function(){return function(input){return parseFloat(input)||null}}),tableSortModule.filter("parseDate",function(){return function(input){var timestamp=Date.parse(input);return isNaN(timestamp)?null:timestamp}});
angular.module("picardy.fontawesome",[]).directive("fa",function(){return{restrict:"E",template:'<span class="fa" aria-hidden="true"></span>',replace:!0,link:function(scope,element,attrs){function _observeStringAttr(attr,baseClass){var className;attrs.$observe(attr,function(){baseClass=baseClass||"fa-"+attr,element.removeClass(currentClasses[attr]),attrs[attr]&&(className=[baseClass,attrs[attr]].join("-"),element.addClass(className),currentClasses[attr]=className)})}function _observeBooleanAttr(attr,className){var value;attrs.$observe(attr,function(){className=className||"fa-"+attr,value=attr in attrs&&"false"!==attrs[attr]&&attrs[attr]!==!1,element.toggleClass(className,value)})}var currentClasses={};_observeStringAttr("name","fa"),_observeStringAttr("rotate"),_observeStringAttr("flip"),_observeStringAttr("stack"),attrs.$observe("size",function(){var className;element.removeClass(currentClasses.size),"large"===attrs.size?className="fa-lg":isNaN(parseInt(attrs.size,10))||(className="fa-"+attrs.size+"x"),element.addClass(className),currentClasses.size=className}),attrs.$observe("stack",function(){var className;element.removeClass(currentClasses.stack),"large"===attrs.stack?className="fa-stack-lg":isNaN(parseInt(attrs.stack,10))||(className="fa-stack-"+attrs.stack+"x"),element.addClass(className),currentClasses.stack=className}),_observeBooleanAttr("border"),_observeBooleanAttr("fw"),_observeBooleanAttr("inverse"),_observeBooleanAttr("spin"),element.toggleClass("fa-li",element.parent()&&"LI"===element.parent().prop("tagName")&&element.parent().parent()&&element.parent().parent().hasClass("fa-ul")&&element.parent().children()[0]===element[0]&&"false"!==attrs.list&&attrs.list!==!1),attrs.$observe("alt",function(){var altText=attrs.alt,altElem=element.next(),altElemClass="fa-alt-text";altText?(element.removeAttr("alt"),altElem&&altElem.hasClass(altElemClass)||(element.after('<span class="sr-only fa-alt-text"></span>'),altElem=element.next()),altElem.text(altText)):altElem&&altElem.hasClass(altElemClass)&&altElem.remove()})}}}).directive("faStack",function(){return{restrict:"E",transclude:!0,template:'<span ng-transclude class="fa-stack fa-lg"></span>',replace:!0,link:function(scope,element,attrs){function _observeStringAttr(attr,baseClass){var className;attrs.$observe(attr,function(){baseClass=baseClass||"fa-"+attr,element.removeClass(currentClasses[attr]),attrs[attr]&&(className=[baseClass,attrs[attr]].join("-"),element.addClass(className),currentClasses[attr]=className)})}var currentClasses={};_observeStringAttr("size"),attrs.$observe("size",function(){var className;element.removeClass(currentClasses.size),"large"===attrs.size?className="fa-lg":isNaN(parseInt(attrs.size,10))||(className="fa-"+attrs.size+"x"),element.addClass(className),currentClasses.size=className})}}});
!function($,window,document,undefined){"use strict";function Plugin(element,options){this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.$element=$(element),this.init()}var pluginName="menuButton",defaults={propertyName:"value"};Plugin.prototype={constructor:Plugin,init:function(){this.toggle()},toggle:function(el,options){"show"===this.$element.data("dropdown")?this.hideMenu():this.showMenu()},showMenu:function(){this.$element.data("dropdown","show"),this.$element.find("ul").show()},hideMenu:function(){this.$element.data("dropdown","hide"),this.$element.find("ul").hide()}},$.fn[pluginName]=function(options){return this.each(function(){$.data(this,"plugin_"+pluginName)?$.data(this,"plugin_"+pluginName).toggle():$.data(this,"plugin_"+pluginName,new Plugin(this,options))})},$(document).on("click",function(e){$.each($("[data-buttons=dropdown]"),function(i,value){$(e.target.offsetParent)[0]!=$(this)[0]&&$.data(this,"plugin_"+pluginName)&&($.data(this,"plugin_"+pluginName).hideMenu(),$(this).find("ul").hide())})}),$(document).on("click","[data-buttons=dropdown]",function(e){var $dropdown=$(e.currentTarget);$dropdown.menuButton()}),$(document).on("click","[data-buttons=dropdown] > a",function(e){e.preventDefault()})}(jQuery,window,document);
var timerModule=angular.module("timer",[]).directive("timer",["$compile",function($compile){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",language:"@?",fallback:"@?",maxTimeUnit:"=",seconds:"=?",minutes:"=?",hours:"=?",days:"=?",months:"=?",years:"=?",secondsS:"=?",minutesS:"=?",hoursS:"=?",daysS:"=?",monthsS:"=?",yearsS:"=?"},controller:["$scope","$element","$attrs","$timeout","I18nService","$interpolate","progressBarService",function($scope,$element,$attrs,$timeout,I18nService,$interpolate,progressBarService){function resetTimeout(){$scope.timeoutId&&clearTimeout($scope.timeoutId)}function calculateTimeUnits(){var timeUnits={};void 0!==$attrs.startTime&&($scope.millis=moment().diff(moment($scope.startTimeAttr))),timeUnits=i18nService.getTimeUnits($scope.millis),$scope.maxTimeUnit&&"day"!==$scope.maxTimeUnit?"second"===$scope.maxTimeUnit?($scope.seconds=Math.floor($scope.millis/1e3),$scope.minutes=0,$scope.hours=0,$scope.days=0,$scope.months=0,$scope.years=0):"minute"===$scope.maxTimeUnit?($scope.seconds=Math.floor($scope.millis/1e3%60),$scope.minutes=Math.floor($scope.millis/6e4),$scope.hours=0,$scope.days=0,$scope.months=0,$scope.years=0):"hour"===$scope.maxTimeUnit?($scope.seconds=Math.floor($scope.millis/1e3%60),$scope.minutes=Math.floor($scope.millis/6e4%60),$scope.hours=Math.floor($scope.millis/36e5),$scope.days=0,$scope.months=0,$scope.years=0):"month"===$scope.maxTimeUnit?($scope.seconds=Math.floor($scope.millis/1e3%60),$scope.minutes=Math.floor($scope.millis/6e4%60),$scope.hours=Math.floor($scope.millis/36e5%24),$scope.days=Math.floor($scope.millis/36e5/24%30),$scope.months=Math.floor($scope.millis/36e5/24/30),$scope.years=0):"year"===$scope.maxTimeUnit&&($scope.seconds=Math.floor($scope.millis/1e3%60),$scope.minutes=Math.floor($scope.millis/6e4%60),$scope.hours=Math.floor($scope.millis/36e5%24),$scope.days=Math.floor($scope.millis/36e5/24%30),$scope.months=Math.floor($scope.millis/36e5/24/30%12),$scope.years=Math.floor($scope.millis/36e5/24/365)):($scope.seconds=Math.floor($scope.millis/1e3%60),$scope.minutes=Math.floor($scope.millis/6e4%60),$scope.hours=Math.floor($scope.millis/36e5%24),$scope.days=Math.floor($scope.millis/36e5/24),$scope.months=0,$scope.years=0),$scope.secondsS=1===$scope.seconds?"":"s",$scope.minutesS=1===$scope.minutes?"":"s",$scope.hoursS=1===$scope.hours?"":"s",$scope.daysS=1===$scope.days?"":"s",$scope.monthsS=1===$scope.months?"":"s",$scope.yearsS=1===$scope.years?"":"s",$scope.secondUnit=timeUnits.seconds,$scope.minuteUnit=timeUnits.minutes,$scope.hourUnit=timeUnits.hours,$scope.dayUnit=timeUnits.days,$scope.monthUnit=timeUnits.months,$scope.yearUnit=timeUnits.years,$scope.sseconds=$scope.seconds<10?"0"+$scope.seconds:$scope.seconds,$scope.mminutes=$scope.minutes<10?"0"+$scope.minutes:$scope.minutes,$scope.hhours=$scope.hours<10?"0"+$scope.hours:$scope.hours,$scope.ddays=$scope.days<10?"0"+$scope.days:$scope.days,$scope.mmonths=$scope.months<10?"0"+$scope.months:$scope.months,$scope.yyears=$scope.years<10?"0"+$scope.years:$scope.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),$scope.autoStart=$attrs.autoStart||$attrs.autostart,$scope.language=$scope.language||"en",$scope.fallback=$scope.fallback||"en",$scope.$watch("language",function(newVal,oldVal){void 0!==newVal&&i18nService.init(newVal,$scope.fallback)});var i18nService=new I18nService;i18nService.init($scope.language,$scope.fallback),$scope.displayProgressBar=0,$scope.displayProgressActive="active",0===$element.html().trim().length?$element.append($compile("<span>"+$interpolate.startSymbol()+"millis"+$interpolate.endSymbol()+"</span>")($scope)):$element.append($compile($element.contents())($scope)),$scope.startTime=null,$scope.endTime=null,$scope.timeoutId=null,$scope.countdown=angular.isNumber($scope.countdownattr)&&parseInt($scope.countdownattr,10)>=0?parseInt($scope.countdownattr,10):void 0,$scope.isRunning=!1,$scope.$on("timer-start",function(){$scope.start()}),$scope.$on("timer-resume",function(){$scope.resume()}),$scope.$on("timer-stop",function(){$scope.stop()}),$scope.$on("timer-clear",function(){$scope.clear()}),$scope.$on("timer-reset",function(){$scope.reset()}),$scope.$on("timer-set-countdown",function(e,countdown){$scope.countdown=countdown}),$scope.$watch("startTimeAttr",function(newValue,oldValue){newValue!==oldValue&&$scope.isRunning&&$scope.start()}),$scope.$watch("endTimeAttr",function(newValue,oldValue){newValue!==oldValue&&$scope.isRunning&&$scope.start()}),$scope.start=function(){$scope.startTime=$scope.startTimeAttr?moment($scope.startTimeAttr):moment(),$scope.endTime=$scope.endTimeAttr?moment($scope.endTimeAttr):null,angular.isNumber($scope.countdown)||($scope.countdown=angular.isNumber($scope.countdownattr)&&parseInt($scope.countdownattr,10)>0?parseInt($scope.countdownattr,10):void 0),resetTimeout(),tick(),$scope.isRunning=!0,$scope.$emit("timer-started",{timeoutId:$scope.timeoutId,millis:$scope.millis,seconds:$scope.seconds,minutes:$scope.minutes,hours:$scope.hours,days:$scope.days})},$scope.resume=function(){resetTimeout(),$scope.countdownattr&&($scope.countdown+=1),$scope.startTime=moment().diff(moment($scope.stoppedTime).diff(moment($scope.startTime))),tick(),$scope.isRunning=!0,$scope.$emit("timer-started",{timeoutId:$scope.timeoutId,millis:$scope.millis,seconds:$scope.seconds,minutes:$scope.minutes,hours:$scope.hours,days:$scope.days})},$scope.stop=$scope.pause=function(){var timeoutId=$scope.timeoutId;$scope.clear(),$scope.$emit("timer-stopped",{timeoutId:timeoutId,millis:$scope.millis,seconds:$scope.seconds,minutes:$scope.minutes,hours:$scope.hours,days:$scope.days})},$scope.clear=function(){$scope.stoppedTime=moment(),resetTimeout(),$scope.timeoutId=null,$scope.isRunning=!1},$scope.reset=function(){$scope.startTime=$scope.startTimeAttr?moment($scope.startTimeAttr):moment(),$scope.endTime=$scope.endTimeAttr?moment($scope.endTimeAttr):null,$scope.countdown=angular.isNumber($scope.countdownattr)&&parseInt($scope.countdownattr,10)>0?parseInt($scope.countdownattr,10):void 0,resetTimeout(),tick(),$scope.isRunning=!1,$scope.clear(),$scope.$emit("timer-reset",{timeoutId:timeoutId,millis:$scope.millis,seconds:$scope.seconds,minutes:$scope.minutes,hours:$scope.hours,days:$scope.days})},$element.bind("$destroy",function(){resetTimeout(),$scope.isRunning=!1}),$scope.countdownattr?($scope.millis=1e3*$scope.countdownattr,$scope.addCDSeconds=function(extraSeconds){$scope.countdown+=extraSeconds,$scope.isRunning||$scope.start()},$scope.$on("timer-add-cd-seconds",function(e,extraSeconds){$scope.addCDSeconds(extraSeconds)}),$scope.$on("timer-set-countdown-seconds",function(e,countdownSeconds){$scope.isRunning||$scope.clear(),$scope.countdown=countdownSeconds,$scope.millis=1e3*countdownSeconds,calculateTimeUnits()})):$scope.millis=0,calculateTimeUnits();var tick=function tick(){var typeTimer=null;$scope.millis=moment().diff($scope.startTime);var adjustment=$scope.millis%1e3;return $scope.endTimeAttr&&(typeTimer=$scope.endTimeAttr,$scope.millis=moment($scope.endTime).diff(moment()),adjustment=$scope.interval-$scope.millis%1e3),$scope.countdownattr&&(typeTimer=$scope.countdownattr,$scope.millis=1e3*$scope.countdown),$scope.millis<0?($scope.stop(),$scope.millis=0,calculateTimeUnits(),void($scope.finishCallback&&$scope.$eval($scope.finishCallback))):(calculateTimeUnits(),$scope.timeoutId=setTimeout(function(){tick(),$scope.$apply()},$scope.interval-adjustment),$scope.$emit("timer-tick",{timeoutId:$scope.timeoutId,millis:$scope.millis,seconds:$scope.seconds,minutes:$scope.minutes,hours:$scope.hours,days:$scope.days}),$scope.countdown>0?$scope.countdown--:$scope.countdown<=0&&($scope.stop(),$scope.finishCallback&&$scope.$eval($scope.finishCallback)),void(null!==typeTimer&&($scope.progressBar=progressBarService.calculateProgressBar($scope.startTime,$scope.millis,$scope.endTime,$scope.countdownattr),100===$scope.progressBar&&($scope.displayProgressActive=""))))};void 0!==$scope.autoStart&&$scope.autoStart!==!0||$scope.start()}]}}]).directive("timerControls",function(){return{restrict:"EA",scope:!0,controller:["$scope",function($scope){$scope.timerStatus="reset",$scope.$on("timer-started",function(){$scope.timerStatus="started"}),$scope.$on("timer-stopped",function(){$scope.timerStatus="stopped"}),$scope.$on("timer-reset",function(){$scope.timerStatus="reset"}),$scope.timerStart=function(){$scope.$broadcast("timer-start")},$scope.timerStop=function(){$scope.$broadcast("timer-stop")},$scope.timerResume=function(){$scope.$broadcast("timer-resume")},$scope.timerToggle=function(){switch($scope.timerStatus){case"started":$scope.timerStop();break;case"stopped":$scope.timerResume();break;case"reset":$scope.timerStart()}},$scope.timerAddCDSeconds=function(extraSeconds){$scope.$broadcast("timer-add-cd-seconds",extraSeconds)}}]}});"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=timerModule);var app=angular.module("timer");app.factory("I18nService",function(){var I18nService=function(){};return I18nService.prototype.language="en",I18nService.prototype.fallback="en",I18nService.prototype.timeHumanizer={},I18nService.prototype.init=function(lang,fallback){var supported_languages=humanizeDuration.getSupportedLanguages();this.fallback=void 0!==fallback?fallback:"en",supported_languages.indexOf(fallback)===-1&&(this.fallback="en"),this.language=lang,supported_languages.indexOf(lang)===-1&&(this.language=this.fallback),this.timeHumanizer=humanizeDuration.humanizer({language:this.language,halfUnit:!1})},I18nService.prototype.getTimeUnits=function(millis){var diffFromAlarm=1e3*Math.round(millis/1e3),time={};return"undefined"!=typeof this.timeHumanizer?time={millis:this.timeHumanizer(diffFromAlarm,{units:["ms"]}),seconds:this.timeHumanizer(diffFromAlarm,{units:["s"]}),minutes:this.timeHumanizer(diffFromAlarm,{units:["m","s"]}),hours:this.timeHumanizer(diffFromAlarm,{units:["h","m","s"]}),days:this.timeHumanizer(diffFromAlarm,{units:["d","h","m","s"]}),months:this.timeHumanizer(diffFromAlarm,{units:["mo","d","h","m","s"]}),years:this.timeHumanizer(diffFromAlarm,{units:["y","mo","d","h","m","s"]})}:console.error('i18nService has not been initialized. You must call i18nService.init("en") for example'),time},I18nService});var app=angular.module("timer");app.factory("progressBarService",function(){var ProgressBarService=function(){};return ProgressBarService.prototype.calculateProgressBar=function(startValue,remainingTime,endTimeAttr,coutdown){var endTimeValue,initialCountdown,displayProgressBar=0;return remainingTime/=1e3,null!==endTimeAttr?(endTimeValue=moment(endTimeAttr),initialCountdown=endTimeValue.diff(startValue,"seconds"),displayProgressBar=100*remainingTime/initialCountdown):displayProgressBar=100*remainingTime/coutdown,displayProgressBar=100-displayProgressBar,displayProgressBar=Math.round(10*displayProgressBar)/10,displayProgressBar>100&&(displayProgressBar=100),displayProgressBar},new ProgressBarService});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nQ2FydC5qcyIsImFuZ3VsYXItcGFyYWxsYXguanMiLCJhbmd1bGFyLWZpbGUtc2F2ZXIuYnVuZGxlLmpzIiwidWktcm91dGVyLW1ldGF0YWdzLmpzIiwiYW5ndWxhci10YWJsZXNvcnQuanMiLCJhbmd1bGFyLWZvbnRhd2Vzb21lLmpzIiwiYnV0dG9ucy5qcyIsImFuZ3VsYXItdGltZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInByb3ZpZGVyIiwidGhpcyIsIiRnZXQiLCJydW4iLCIkcm9vdFNjb3BlIiwibmdDYXJ0IiwibmdDYXJ0SXRlbSIsInN0b3JlIiwiJG9uIiwiJHNhdmUiLCJpc09iamVjdCIsImdldCIsIiRyZXN0b3JlIiwiaW5pdCIsInNlcnZpY2UiLCIkbG9jYXRpb24iLCIkd2luZG93IiwiJGNhcnQiLCJzaGlwcGluZyIsInRheFJhdGUiLCJ0YXgiLCJpdGVtcyIsImFkZEl0ZW0iLCJpZCIsInNrdSIsIm5hbWUiLCJwcmljZSIsInF1YW50aXR5IiwiZGF0YSIsImF0dHIiLCJpbkNhcnQiLCJnZXRJdGVtQnlJZCIsInNldFF1YW50aXR5IiwiJGJyb2FkY2FzdCIsIm5ld0l0ZW0iLCJwdXNoIiwiYWRkSXRlbUJ0biIsInNrdXMiLCJsZW5ndGgiLCJ1cmwiLCJjaGFuZ2VRdWFudGl0eSIsImNvbnNvbGUiLCJsb2ciLCJpdGVtSWQiLCJnZXRDYXJ0IiwiYnVpbGQiLCJmb3JFYWNoIiwiaXRlbSIsImdldElkIiwic2V0U2hpcHBpbmciLCJnZXRTaGlwcGluZyIsInNldFRheFJhdGUiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsImdldFRheFJhdGUiLCJnZXRUYXgiLCJNYXRoIiwicm91bmQiLCJnZXRTdWJUb3RhbCIsInNldENhcnQiLCJjYXJ0IiwiZ2V0SXRlbXMiLCJnZXRUb3RhbEl0ZW1zIiwiY291bnQiLCJnZXRRdWFudGl0eSIsImdldFRvdGFsVW5pcXVlSXRlbXMiLCJ0b3RhbCIsImdldFRvdGFsIiwidG90YWxDb3N0IiwicmVtb3ZlSXRlbSIsImluZGV4Iiwic3BsaWNlIiwicmVtb3ZlSXRlbUJ5SWQiLCJlbXB0eSIsImxvY2FsU3RvcmFnZSIsImlzRW1wdHkiLCJ0b09iamVjdCIsInN1YlRvdGFsIiwic3RvcmVkQ2FydCIsIl9zZWxmIiwicGFyZW50IiwiZGVzY3JpcHRpb24iLCJhbW91bnQiLCJfZGF0YSIsInNldCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmYWN0b3J5IiwiJGxvZyIsInNldElkIiwic2V0U2t1Iiwic2V0TmFtZSIsInNldFByaWNlIiwic2V0RGF0YSIsInNldEF0dHIiLCJwcm90b3R5cGUiLCJlcnJvciIsImdldFNrdSIsImdldE5hbWUiLCJwcmljZUZsb2F0IiwiZ2V0UHJpY2UiLCJyZWxhdGl2ZSIsInF1YW50aXR5SW50IiwicGFyc2VJbnQiLCJpbmZvIiwiZ2V0RGF0YSIsImF0dHJpYnV0ZXMiLCJnZXRBdHRyIiwia2V5IiwiZ2V0SXRlbSIsImZyb21Kc29uIiwicGFyc2UiLCJ2YWwiLCJ1bmRlZmluZWQiLCJzZXRJdGVtIiwidG9Kc29uIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiR0aW1lb3V0IiwibG9hZGVkIiwidG9nZ2xlQ2FydCIsImZpbHRlcmVkIiwicHJvZHVjdF90eXBlIiwic2hpcEJvb2wiLCIkZW1pdCIsInZhbHVlIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJzY29wZSIsInF1YW50aXR5TWF4IiwidHJhbnNjbHVkZSIsInRlbXBsYXRlVXJsIiwiZWxlbWVudCIsImF0dHJzIiwibGluayIsInEiLCJxdHlPcHQiLCJpIiwidGhpc01heCIsInNob3dDb3VudFJlZiIsImZpcmViYXNlIiwiZGF0YWJhc2UiLCJyZWYiLCJvbmNlIiwidGhlbiIsInNuYXBzaG90IiwidG90YWxUaXgiLCJmdWxmaWxtZW50UHJvdmlkZXIiLCJjaGVja291dCIsInNldFNlcnZpY2UiLCJzZXRTZXR0aW5ncyIsInNldHRpbmdzIiwic3VjY2VzcyIsInN0YXR1cyIsImhlYWRlcnMiLCJzdGF0dXNDb2RlIiwiJGluamVjdG9yIiwiX29iaiIsIiRxIiwiZGVmZXJyZWQiLCJkZWZlciIsInJlc29sdmUiLCJwcm9taXNlIiwiJGh0dHAiLCJwb3N0Iiwib3B0aW9ucyIsInBhcmFsbGF4UmF0aW8iLCJwYXJhbGxheFZlcnRpY2FsT2Zmc2V0IiwicGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0IiwiZWxlbSIsInNldFBvc2l0aW9uIiwiY2FsY1ZhbFkiLCJwYWdlWU9mZnNldCIsImlubmVySGVpZ2h0IiwidG9wVmFsIiwiaG96VmFsIiwiaW5kZXhPZiIsImNzcyIsImJpbmQiLCJ0ZW1wbGF0ZSIsInBhcmFsbGF4U3RhcnRQb2ludCIsIm9mZnNldCIsIm9mZnNldEhlaWdodCIsInByb3AiLCJlIiwiJGFwcGx5Iiwicm9vdCIsImV4cG9ydHMiLCJkZWZpbmUiLCJhbWQiLCJhIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJwIiwiQmxvYiIsIlNhdmVBcyIsIkZpbGVTYXZlclV0aWxzIiwic2F2ZSIsImJsb2IiLCJmaWxlbmFtZSIsImRpc2FibGVBdXRvQk9NIiwiZXJyIiwiaGFuZGxlRXJyb3JzIiwibWVzc2FnZSIsInNhdmVBcyIsImlzQmxvYkluc3RhbmNlIiwiaXNTdHJpbmciLCJtc2ciLCJFcnJvciIsIm9iaiIsIlN0cmluZyIsImlzVW5kZWZpbmVkIiwidmlldyIsIlVSTCIsIndlYmtpdFVSTCIsIkJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsImdldF9jbGFzcyIsIm9iamVjdCIsIk9iamVjdCIsInRvU3RyaW5nIiwibWF0Y2giLCJGYWtlQmxvYkJ1aWxkZXIiLCJGYWtlQmxvYiIsInR5cGUiLCJlbmNvZGluZyIsInNpemUiLCJGQkJfcHJvdG8iLCJGQl9wcm90byIsIkZpbGVSZWFkZXJTeW5jIiwiRmlsZUV4Y2VwdGlvbiIsImNvZGUiLCJmaWxlX2V4X2NvZGVzIiwic3BsaXQiLCJmaWxlX2V4X2NvZGUiLCJyZWFsX1VSTCIsInJlYWxfY3JlYXRlX29iamVjdF9VUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZWFsX3Jldm9rZV9vYmplY3RfVVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiYnRvYSIsImF0b2IiLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJvcmlnaW4iLCJmYWtlIiwidXJpIiwidXJpX29yaWdpbiIsInVyaV9pbmZvIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJocmVmIiwicHJvdG9jb2wiLCJ0b0xvd2VyQ2FzZSIsImRhdGFfVVJJX2hlYWRlciIsImRlY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9iamVjdF9VUkwiLCJzdWJzdHJpbmciLCJhcHBlbmQiLCJiYiIsInN0ciIsImJ1ZiIsImJ1Zl9sZW4iLCJmcm9tQ2hhckNvZGUiLCJmciIsInJlYWRBc0JpbmFyeVN0cmluZyIsInVuZXNjYXBlIiwiZ2V0QmxvYiIsImFyZ3VtZW50cyIsImpvaW4iLCJzbGljZSIsInN0YXJ0IiwiZW5kIiwiYXJncyIsImNsb3NlIiwiYmxvYlBhcnRzIiwiYnVpbGRlciIsImxlbiIsImJ1ZmZlciIsIndlYmtpdFNsaWNlIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJzZWxmIiwid2luZG93IiwiY29udGVudCIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsIm5hdmlnYXRvciIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkb2MiLCJnZXRfVVJMIiwic2F2ZV9saW5rIiwiY2FuX3VzZV9zYXZlX2xpbmsiLCJjbGljayIsIm5vZGUiLCJldmVudCIsIk1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaXNfc2FmYXJpIiwiSFRNTEVsZW1lbnQiLCJpc19jaHJvbWVfaW9zIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImZvcmNlX3NhdmVhYmxlX3R5cGUiLCJhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQiLCJyZXZva2UiLCJmaWxlIiwicmV2b2tlciIsInJlbW92ZSIsImRpc3BhdGNoIiwiZmlsZXNhdmVyIiwiZXZlbnRfdHlwZXMiLCJjb25jYXQiLCJsaXN0ZW5lciIsImF1dG9fYm9tIiwiRmlsZVNhdmVyIiwibm9fYXV0b19ib20iLCJvYmplY3RfdXJsIiwiZm9yY2UiLCJkaXNwYXRjaF9hbGwiLCJmc19lcnJvciIsIkZpbGVSZWFkZXIiLCJyZWFkZXIiLCJvbmxvYWRlbmQiLCJyZXN1bHQiLCJyZXBsYWNlIiwicG9wdXAiLCJvcGVuIiwibG9jYXRpb24iLCJyZWFkeVN0YXRlIiwiRE9ORSIsInJlYWRBc0RhdGFVUkwiLCJJTklUIiwib3BlbmVkIiwiZG93bmxvYWQiLCJGU19wcm90byIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJhYm9ydCIsIldSSVRJTkciLCJvbndyaXRlc3RhcnQiLCJvbnByb2dyZXNzIiwib253cml0ZSIsIm9uYWJvcnQiLCJvbmVycm9yIiwib253cml0ZWVuZCIsImFwcGx5IiwiX193ZWJwYWNrX2FtZF9vcHRpb25zX18iLCJ1aXJvdXRlcm1ldGF0YWdzIiwicnVuQmxvY2siLCJNZXRhVGFncyIsInN0YXRlQ2hhbmdlU3RhcnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tIiwiZnJvbVBhcmFtcyIsInByZXJlbmRlclJlYWR5Iiwic3RhdGVDaGFuZ2VTdWNjZXNzIiwibWV0YVRhZ3MiLCJkZWJ1ZyIsInVwZGF0ZSIsInN0YXRlQ2hhbmdlRXJyb3IiLCJmcm9tU3RhdGUiLCJwcmVyZW5kZXIiLCJzdGF0ZU5vdEZvdW5kIiwidW5mb3VuZFN0YXRlIiwiJGluamVjdCIsImFwcE1vZHVsZSIsIlVJUm91dGVyTWV0YXRhZ3MiLCJwcmVmaXgiLCJzdWZmaXgiLCJkZWZhdWx0VGl0bGUiLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJkZWZhdWx0S2V5d29yZHMiLCJkZWZhdWx0Um9ib3RzIiwic3RhdGljUHJvcGVydGllcyIsImVuYWJsZU9HVVJMIiwic2V0VGl0bGVQcmVmaXgiLCJzZXRUaXRsZVN1ZmZpeCIsInNldERlZmF1bHRUaXRsZSIsInRpdGxlIiwic2V0RGVmYXVsdERlc2NyaXB0aW9uIiwic2V0RGVmYXVsdEtleXdvcmRzIiwia2V5d29yZHMiLCJzZXREZWZhdWx0Um9ib3RzIiwicm9ib3RzIiwic2V0U3RhdGljUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJzZXRPR1VSTCIsImVuYWJsZWQiLCIkaW50ZXJwb2xhdGUiLCIkc3RhdGUiLCJ0YWdzIiwiX3RoaXMiLCJleHRlbmQiLCJhYnNVcmwiLCJnZXRWYWx1ZSIsInYiLCJoZWFkZXIiLCJ0YWdUeXBlIiwidGFnIiwidHJpbSIsImlzRnVuY3Rpb24iLCJBcnJheSIsImlzQXJyYXkiLCJpbnZva2UiLCIkY3VycmVudCIsImxvY2FscyIsImdsb2JhbHMiLCJ0YWJsZVNvcnRNb2R1bGUiLCJmaWx0ZXJUZW1wbGF0ZSIsImZpbHRlckZ1bmN0aW9uIiwicGFnaW5hdGlvblRlbXBsYXRlIiwicGVyUGFnZU9wdGlvbnMiLCJwZXJQYWdlRGVmYXVsdCIsIml0ZW1OYW1lU2luZ3VsYXIiLCJpdGVtTmFtZVBsdXJhbCIsIm5vRGF0YVRleHQiLCJ3cmFwcGluZ0VsZW1lbnRDbGFzcyIsImlzTmFOIiwic29ydCIsImIiLCIkcGFyc2UiLCIkY29tcGlsZSIsInJlcGxhY2VUZW1wbGF0ZVRva2VucyIsInRlbXBsYXRlU3RyaW5nIiwibmV3U3RyaW5nIiwiaXRlbXNBcnJheUV4cHJlc3Npb24iLCJjcmVhdGVEZWZhdWx0Q29tcGFyZXIiLCJfZGVmYXVsdENvbXBhcmVyIiwic3RyaW5nQ29tcGFyZXIiLCJudW1lcmljQ29tcGFyZXIiLCJJbnRsIiwiQ29sbGF0b3IiLCJzZW5zaXRpdml0eSIsImNvbXBhcmUiLCJsb2NhbGVDb21wYXJlIiwiY29tcGFyZXJGbiIsIkRhdGUiLCJnZXRUaW1lIiwiZGVmYXVsdENvbXBhcmVyIiwidGFibGVTb3J0Q29uZmlnIiwicGFnaW5hdGlvbiIsInBlclBhZ2UiLCJjdXJyZW50UGFnZSIsImdldFBhZ2VSYW5nZVN0cmluZyIsIm1heE9uUGFnZSIsImZpbHRlcmluZyIsImZpbHRlcmVkQ291bnQiLCJzdGFydFBhZ2UiLCJtYXgiLCJlbmRQYWdlIiwibWluIiwiZmlsdGVyU3RyaW5nIiwiZmlsdGVyRmllbGRzIiwic29ydEV4cHJlc3Npb24iLCJoZWFkaW5ncyIsInBhcnNlX3NvcnRleHByIiwiZXhwciIsInNldFNvcnRGaWVsZCIsInNvcnRleHByIiwic29ydEJ5IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm9yZGVyIiwiYWRkU29ydEZpZWxkIiwidG9nZ2xlX29yZGVyIiwibWFwIiwic2V0VHJhY2tCeSIsInRyYWNrQnkiLCJyZWdpc3RlckhlYWRpbmciLCJoZWFkaW5nZWxlbWVudCIsImFkZEZpbHRlckZpZWxkIiwic2V0QXJyYXlFeHByIiwiZGF0YUFycmF5RXhwIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCJ0c1dyYXBwZXJDdHJsIiwidHNJdGVtTmFtZSIsIm9yaWdpbmFsTm9EYXRhVGV4dCIsInRzSXRlbU5hbWVQbHVyYWwiLCJ0c05vRGF0YVRleHQiLCJ0c1dyYXBwaW5nRWxlbWVudENsYXNzIiwidHNQZXJQYWdlT3B0aW9ucyIsIiRldmFsIiwidHNQZXJQYWdlRGVmYXVsdCIsImRlZmF1bHRQZXJQYWdlIiwidHNGaWx0ZXJGaWVsZHMiLCJmaWx0ZXIiLCIkZmlsdGVySHRtbCIsInRzRGlzcGxheUZpbHRlcmluZyIsImluc2VydEJlZm9yZSIsInRzRmlsdGVyRnVuY3Rpb24iLCJzaG91bGRJbmNsdWRlIiwiZmlsdGVyTGltaXRGdW4iLCJhcnJheSIsImZpbHRlcmVkQXJyIiwic29ydEZ1biIsImF2YWwiLCJidmFsIiwiZGVzY2VuZGluZyIsImZpbHRlckZ1biIsImNvbXBSZXN1bHQiLCJwYWdlTGltaXRGdW4iLCJ0c0Rpc3BsYXlQYWdpbmF0aW9uIiwiYmVnaW4iLCJmaW5hbCIsIiRwYWdpbmF0aW9uSHRtbCIsInBhZ2VyU3RyaW5nIiwiYWZ0ZXIiLCIkd3JhcHBpbmdFbGVtZW50Iiwid3JhcCIsInRzR2V0VGFibGVEYXRhRnVuY3Rpb24iLCJnZXR0ZXIiLCJzZXR0ZXIiLCJhc3NpZ24iLCJmbiIsInNob3VsZEFwcGx5U29ydGluZyIsInNob3VsZEFwcGx5RmlsdGVyaW5nIiwibGltaXRUb0N1cnJlbnRQYWdlT25seSIsImFyciIsIiRwYXJlbnQiLCJyZXBsYWNlV2l0aCIsInJlcXVpcmUiLCJ0c09yZGVyQnkiLCJjbGlja2luZ0NhbGxiYWNrIiwic2hpZnRLZXkiLCJ0c0NyaXRlcmlhIiwidHNOYW1lIiwidHNEZWZhdWx0IiwidGVybWluYWwiLCJtdWx0aUVsZW1lbnQiLCJwcmlvcml0eSIsInJlcGVhdEF0dHJzIiwibmdSZXBlYXREaXJlY3RpdmUiLCJ0c1JlcGVhdERpcmVjdGl2ZSIsImlzRGVmaW5lZCIsInRzRXhwciIsInJlcGVhdEV4cHIiLCJyZXBlYXRFeHByUmVnZXgiLCJ0cmFja0J5TWF0Y2giLCJyZXBlYXRJbk1hdGNoIiwic2VhcmNoIiwidHNIaWRlTm9EYXRhIiwic3RhcnRTeW0iLCJzdGFydFN5bWJvbCIsImVuZFN5bSIsImVuZFN5bWJvbCIsIm5vRGF0YVJvdyIsImNsb25lIiwicmVtb3ZlQXR0ciIsImNoaWxkcmVuIiwiY2hpbGRFbGVtZW50Q291bnQiLCJwcmVwZW5kIiwibGltaXRGdW4iLCJzb3J0ZnVuIiwiYXJyYXlDb3B5IiwiaW5wdXQiLCJ0aW1lc3RhbXAiLCJfb2JzZXJ2ZVN0cmluZ0F0dHIiLCJiYXNlQ2xhc3MiLCJjbGFzc05hbWUiLCIkb2JzZXJ2ZSIsImN1cnJlbnRDbGFzc2VzIiwiX29ic2VydmVCb29sZWFuQXR0ciIsInRvZ2dsZUNsYXNzIiwic3RhY2siLCJoYXNDbGFzcyIsImxpc3QiLCJhbHRUZXh0IiwiYWx0IiwiYWx0RWxlbSIsIm5leHQiLCJhbHRFbGVtQ2xhc3MiLCJ0ZXh0IiwiJCIsIlBsdWdpbiIsImRlZmF1bHRzIiwiX2RlZmF1bHRzIiwiX25hbWUiLCJwbHVnaW5OYW1lIiwicHJvcGVydHlOYW1lIiwiY29uc3RydWN0b3IiLCJ0b2dnbGUiLCJlbCIsImhpZGVNZW51Iiwic2hvd01lbnUiLCJmaW5kIiwic2hvdyIsImhpZGUiLCJlYWNoIiwib24iLCJ0YXJnZXQiLCJvZmZzZXRQYXJlbnQiLCIkZHJvcGRvd24iLCJjdXJyZW50VGFyZ2V0IiwibWVudUJ1dHRvbiIsInByZXZlbnREZWZhdWx0IiwialF1ZXJ5IiwidGltZXJNb2R1bGUiLCJpbnRlcnZhbCIsInN0YXJ0VGltZUF0dHIiLCJlbmRUaW1lQXR0ciIsImNvdW50ZG93bmF0dHIiLCJmaW5pc2hDYWxsYmFjayIsImF1dG9TdGFydCIsImxhbmd1YWdlIiwiZmFsbGJhY2siLCJtYXhUaW1lVW5pdCIsInNlY29uZHMiLCJtaW51dGVzIiwiaG91cnMiLCJkYXlzIiwibW9udGhzIiwieWVhcnMiLCJzZWNvbmRzUyIsIm1pbnV0ZXNTIiwiaG91cnNTIiwiZGF5c1MiLCJtb250aHNTIiwieWVhcnNTIiwiSTE4blNlcnZpY2UiLCJwcm9ncmVzc0JhclNlcnZpY2UiLCJyZXNldFRpbWVvdXQiLCJ0aW1lb3V0SWQiLCJjbGVhclRpbWVvdXQiLCJjYWxjdWxhdGVUaW1lVW5pdHMiLCJ0aW1lVW5pdHMiLCJzdGFydFRpbWUiLCJtaWxsaXMiLCJtb21lbnQiLCJkaWZmIiwiaTE4blNlcnZpY2UiLCJnZXRUaW1lVW5pdHMiLCJmbG9vciIsInNlY29uZFVuaXQiLCJtaW51dGVVbml0IiwiaG91clVuaXQiLCJkYXlVbml0IiwibW9udGhVbml0IiwieWVhclVuaXQiLCJzc2Vjb25kcyIsIm1taW51dGVzIiwiaGhvdXJzIiwiZGRheXMiLCJtbW9udGhzIiwieXllYXJzIiwiYXV0b3N0YXJ0IiwiJHdhdGNoIiwibmV3VmFsIiwib2xkVmFsIiwiZGlzcGxheVByb2dyZXNzQmFyIiwiZGlzcGxheVByb2dyZXNzQWN0aXZlIiwiaHRtbCIsImNvbnRlbnRzIiwiZW5kVGltZSIsImNvdW50ZG93biIsImlzTnVtYmVyIiwiaXNSdW5uaW5nIiwicmVzdW1lIiwic3RvcCIsImNsZWFyIiwicmVzZXQiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwidGljayIsInN0b3BwZWRUaW1lIiwicGF1c2UiLCJhZGRDRFNlY29uZHMiLCJleHRyYVNlY29uZHMiLCJjb3VudGRvd25TZWNvbmRzIiwidHlwZVRpbWVyIiwiYWRqdXN0bWVudCIsInByb2dyZXNzQmFyIiwiY2FsY3VsYXRlUHJvZ3Jlc3NCYXIiLCJ0aW1lclN0YXR1cyIsInRpbWVyU3RhcnQiLCJ0aW1lclN0b3AiLCJ0aW1lclJlc3VtZSIsInRpbWVyVG9nZ2xlIiwidGltZXJBZGRDRFNlY29uZHMiLCJhcHAiLCJ0aW1lSHVtYW5pemVyIiwibGFuZyIsInN1cHBvcnRlZF9sYW5ndWFnZXMiLCJodW1hbml6ZUR1cmF0aW9uIiwiZ2V0U3VwcG9ydGVkTGFuZ3VhZ2VzIiwiaHVtYW5pemVyIiwiaGFsZlVuaXQiLCJkaWZmRnJvbUFsYXJtIiwidGltZSIsInVuaXRzIiwiUHJvZ3Jlc3NCYXJTZXJ2aWNlIiwic3RhcnRWYWx1ZSIsInJlbWFpbmluZ1RpbWUiLCJjb3V0ZG93biIsImVuZFRpbWVWYWx1ZSIsImluaXRpYWxDb3VudGRvd24iXSwibWFwcGluZ3MiOiJBQUFBLFlBR0FBLFNBQVFDLE9BQU8sVUFBVyxzQkFFckJDLFFBQVEsZUFJUkMsU0FBUyxVQUFXLFdBQ2pCQyxLQUFLQyxLQUFPLGVBSWZDLEtBQUssYUFBYyxTQUFTLGFBQWMsUUFBUyxTQUFVQyxXQUFZQyxPQUFRQyxXQUFZQyxPQUUxRkgsV0FBV0ksSUFBSSxnQkFBaUIsV0FDNUJILE9BQU9JLFVBR1BaLFFBQVFhLFNBQVNILE1BQU1JLElBQUksU0FDM0JOLE9BQU9PLFNBQVNMLE1BQU1JLElBQUksU0FHMUJOLE9BQU9RLFVBS2RDLFFBQVEsVUFBVyxhQUFjLFlBQWEsVUFBVyxhQUFjLFFBQVMsU0FBVVYsV0FBWVcsVUFBV0MsUUFBU1YsV0FBWUMsT0FFbklOLEtBQUtZLEtBQU8sV0FDUlosS0FBS2dCLE9BQ0RDLFNBQVcsS0FDWEMsUUFBVSxLQUNWQyxJQUFNLEtBQ05DLFdBSVJwQixLQUFLcUIsUUFBVSxTQUFVQyxHQUFJQyxJQUFLQyxLQUFNQyxNQUFPQyxTQUFVQyxLQUFNQyxNQUMzRCxHQUFJQyxRQUFTN0IsS0FBSzhCLFlBQVlSLEdBRTlCLElBQXNCLGdCQUFYTyxRQUVQQSxPQUFPRSxZQUFZTCxVQUFVLEdBQzdCdkIsV0FBVzZCLFdBQVcscUJBQXNCSCxZQUN6QyxDQUNILEdBQUlJLFNBQVUsR0FBSTVCLFlBQVdpQixHQUFJQyxJQUFLQyxLQUFNQyxNQUFPQyxTQUFVQyxLQUFNQyxLQUNuRTVCLE1BQUtnQixNQUFNSSxNQUFNYyxLQUFLRCxTQUN0QjlCLFdBQVc2QixXQUFXLG1CQUFvQkMsU0FHOUM5QixXQUFXNkIsV0FBVyxxQkFHMUJoQyxLQUFLbUMsV0FBYSxTQUFVYixHQUFJQyxJQUFLQyxLQUFNQyxNQUFPQyxTQUFVQyxNQUN4RCxHQUFJUyxNQUFPVCxLQUFLUyxJQUVoQixJQUFvQixJQUFoQkEsS0FBS0MsT0FBYSxDQUN0QixHQUFJUixRQUFTN0IsS0FBSzhCLFlBQVlSLEdBRTlCLElBQXNCLGdCQUFYTyxRQUVQQSxPQUFPRSxZQUFZTCxVQUFVLEdBQzdCdkIsV0FBVzZCLFdBQVcscUJBQXNCSCxZQUN6QyxDQUNILEdBQUlJLFNBQVUsR0FBSTVCLFlBQVdpQixHQUFJQyxJQUFLQyxLQUFNQyxNQUFPQyxTQUFVQyxLQUM3RDNCLE1BQUtnQixNQUFNSSxNQUFNYyxLQUFLRCxTQUN0QjlCLFdBQVc2QixXQUFXLG1CQUFvQkMsU0FHOUM5QixXQUFXNkIsV0FBVyx3QkFFbEJsQixXQUFVd0IsSUFBSSxVQUFXWCxLQUFLTCxLQUt0Q3RCLEtBQUt1QyxlQUFpQixTQUFVakIsR0FBSUksVUFDaEMsR0FBSUcsUUFBUzdCLEtBQUs4QixZQUFZUixHQUNSLGlCQUFYTyxTQUNYQSxPQUFPRSxZQUFZTCxVQUFVLEdBQzdCdkIsV0FBVzZCLFdBQVcscUJBQXNCSCxTQUV4Q1csUUFBUUMsSUFBSSxpQkFFaEJ0QyxXQUFXNkIsV0FBVyxxQkFJMUJoQyxLQUFLOEIsWUFBYyxTQUFVWSxRQUN6QixHQUFJdEIsT0FBUXBCLEtBQUsyQyxVQUFVdkIsTUFDdkJ3QixPQUFRLENBT1osT0FMQWhELFNBQVFpRCxRQUFRekIsTUFBTyxTQUFVMEIsTUFDeEJBLEtBQUtDLFVBQVlMLFNBQ2xCRSxNQUFRRSxRQUdURixPQUdYNUMsS0FBS2dELFlBQWMsU0FBUy9CLFVBR3hCLE1BRkFqQixNQUFLZ0IsTUFBTUMsU0FBV0EsU0FDdEJkLFdBQVc2QixXQUFXLG9CQUNmaEMsS0FBS2lELGVBR2hCakQsS0FBS2lELFlBQWMsV0FDZixNQUFtQyxJQUEvQmpELEtBQUsyQyxVQUFVdkIsTUFBTWlCLE9BQW9CLEVBQ3JDckMsS0FBSzJDLFVBQVUxQixVQUczQmpCLEtBQUtrRCxXQUFhLFNBQVNoQyxTQUd2QixNQUZBbEIsTUFBS2dCLE1BQU1FLFNBQVdpQyxXQUFXakMsU0FBU2tDLFFBQVEsR0FDbERqRCxXQUFXNkIsV0FBVyxvQkFDZmhDLEtBQUtxRCxjQUdoQnJELEtBQUtxRCxXQUFhLFdBQ2QsTUFBT3JELE1BQUtnQixNQUFNRSxTQUd0QmxCLEtBQUtzRCxPQUFTLFdBQ1YsTUFBT0MsTUFBS0MsTUFBUXhELEtBQUt5RCxjQUFjLElBQU96RCxLQUFLMkMsVUFBVXpCLFVBR2pFbEIsS0FBSzBELFFBQVUsU0FBVUMsTUFFckIsTUFEQTNELE1BQUtnQixNQUFRMkMsS0FDTjNELEtBQUsyQyxXQUdoQjNDLEtBQUsyQyxRQUFVLFdBQ1gsTUFBTzNDLE1BQUtnQixPQUdoQmhCLEtBQUs0RCxTQUFXLFdBQ1osTUFBTzVELE1BQUsyQyxVQUFVdkIsT0FHMUJwQixLQUFLNkQsY0FBZ0IsV0FDakIsR0FBSUMsT0FBUSxFQUNSMUMsTUFBUXBCLEtBQUs0RCxVQUlqQixPQUhBaEUsU0FBUWlELFFBQVF6QixNQUFPLFNBQVUwQixNQUM3QmdCLE9BQVNoQixLQUFLaUIsZ0JBRVhELE9BR1g5RCxLQUFLZ0Usb0JBQXNCLFdBQ3ZCLE1BQU9oRSxNQUFLMkMsVUFBVXZCLE1BQU1pQixRQUdoQ3JDLEtBQUt5RCxZQUFjLFdBQ2YsR0FBSVEsT0FBUSxDQUlaLE9BSEFyRSxTQUFRaUQsUUFBUTdDLEtBQUsyQyxVQUFVdkIsTUFBTyxTQUFVMEIsTUFDNUNtQixPQUFTbkIsS0FBS29CLGNBRVZmLFdBQVdjLE9BQU9iLFFBQVEsSUFHdENwRCxLQUFLbUUsVUFBWSxXQUNiLE9BQVFoQixXQUFXbkQsS0FBS3lELGNBQWdCekQsS0FBS2lELGNBQWdCakQsS0FBS3NELFVBQVVGLFFBQVEsSUFHeEZwRCxLQUFLb0UsV0FBYSxTQUFVQyxPQUN4QixHQUFJdkIsTUFBTzlDLEtBQUtnQixNQUFNSSxNQUFNa0QsT0FBT0QsTUFBTyxHQUFHLE1BQzdDbEUsWUFBVzZCLFdBQVcscUJBQXNCYyxNQUM1QzNDLFdBQVc2QixXQUFXLHFCQUkxQmhDLEtBQUt1RSxlQUFpQixTQUFVakQsSUFDNUIsR0FBSXdCLE1BQ0FhLEtBQU8zRCxLQUFLMkMsU0FDaEIvQyxTQUFRaUQsUUFBUWMsS0FBS3ZDLE1BQU8sU0FBVTBCLEtBQU11QixPQUNyQ3ZCLEtBQUtDLFVBQVl6QixLQUNoQndCLEtBQU9hLEtBQUt2QyxNQUFNa0QsT0FBT0QsTUFBTyxHQUFHLFVBRzNDckUsS0FBSzBELFFBQVFDLE1BQ2J4RCxXQUFXNkIsV0FBVyxxQkFBc0JjLE1BQzVDM0MsV0FBVzZCLFdBQVcscUJBRzFCaEMsS0FBS3dFLE1BQVEsV0FFVHJFLFdBQVc2QixXQUFXLG9CQUN0QmhDLEtBQUtnQixNQUFNSSxTQUNYTCxRQUFRMEQsYUFBYUwsV0FBVyxTQUdwQ3BFLEtBQUswRSxRQUFVLFdBRVgsUUFBUTFFLEtBQUtnQixNQUFNSSxNQUFNaUIsT0FBUyxJQUl0Q3JDLEtBQUsyRSxTQUFXLFdBRVosR0FBK0IsSUFBM0IzRSxLQUFLNEQsV0FBV3ZCLE9BQWMsT0FBTyxDQUV6QyxJQUFJakIsU0FLSixPQUpBeEIsU0FBUWlELFFBQVE3QyxLQUFLNEQsV0FBWSxTQUFTZCxNQUN0QzFCLE1BQU1jLEtBQU1ZLEtBQUs2QixlQUlqQjFELFNBQVVqQixLQUFLaUQsY0FDZjlCLElBQUtuQixLQUFLc0QsU0FDVnBDLFFBQVNsQixLQUFLcUQsYUFDZHVCLFNBQVU1RSxLQUFLeUQsY0FDZlUsVUFBV25FLEtBQUttRSxZQUNoQi9DLE1BQU1BLFFBS2RwQixLQUFLVyxTQUFXLFNBQVNrRSxZQUNyQixHQUFJQyxPQUFROUUsSUFDWjhFLE9BQU1sRSxPQUNOa0UsTUFBTTlELE1BQU1DLFNBQVc0RCxXQUFXNUQsU0FDbEM2RCxNQUFNOUQsTUFBTUUsUUFBVTJELFdBQVczRCxRQUNqQzRELE1BQU05RCxNQUFNRyxJQUFNMEQsV0FBVzFELElBRTdCdkIsUUFBUWlELFFBQVFnQyxXQUFXekQsTUFBTyxTQUFVMEIsTUFDeENnQyxNQUFNOUQsTUFBTUksTUFBTWMsS0FBSyxHQUFJN0IsWUFBV3lDLEtBQUtpQyxPQUFRakMsS0FBS3ZCLElBQUt1QixLQUFLa0MsWUFBYWxDLEtBQUttQyxPQUFRbkMsS0FBS3BCLFNBQVVvQixLQUFLb0MsTUFBT3BDLEtBQUtsQixTQUVoSTVCLEtBQUtRLFNBS1RSLEtBQUtRLE1BQVEsV0FDVCxNQUFPRixPQUFNNkUsSUFBSSxPQUFRQyxLQUFLQyxVQUFVckYsS0FBSzJDLGdCQUtwRDJDLFFBQVEsY0FBZSxhQUFjLE9BQVEsU0FBVW5GLFdBQVlvRixNQUVoRSxHQUFJekMsTUFBTyxTQUFVeEIsR0FBSUMsSUFBS0MsS0FBTUMsTUFBT0MsU0FBVUMsS0FBTUMsTUFDdkQ1QixLQUFLd0YsTUFBTWxFLElBQ1h0QixLQUFLeUYsT0FBT2xFLEtBQ1p2QixLQUFLMEYsUUFBUWxFLE1BQ2J4QixLQUFLMkYsU0FBU2xFLE9BQ2R6QixLQUFLK0IsWUFBWUwsVUFDakIxQixLQUFLNEYsUUFBUWpFLE1BQ2IzQixLQUFLNkYsUUFBUWpFLE1Bd0hqQixPQXBIQWtCLE1BQUtnRCxVQUFVTixNQUFRLFNBQVNsRSxJQUN4QkEsR0FBS3RCLEtBQUsrRSxPQUFTekQsR0FFbkJpRSxLQUFLUSxNQUFNLDJCQUluQmpELEtBQUtnRCxVQUFVTCxPQUFTLFNBQVNsRSxLQUN6QkEsSUFBTXZCLEtBQUt1QixJQUFNQSxJQUVqQmdFLEtBQUtRLE1BQU0sMkJBSW5CakQsS0FBS2dELFVBQVUvQyxNQUFRLFdBQ25CLE1BQU8vQyxNQUFLK0UsUUFHaEJqQyxLQUFLZ0QsVUFBVUUsT0FBUyxXQUNwQixNQUFPaEcsTUFBS3VCLEtBSWhCdUIsS0FBS2dELFVBQVVKLFFBQVUsU0FBU2xFLE1BQzFCQSxLQUFPeEIsS0FBS2dGLFlBQWN4RCxLQUUxQitELEtBQUtRLE1BQU0sNEJBR25CakQsS0FBS2dELFVBQVVHLFFBQVUsV0FDckIsTUFBT2pHLE1BQUtnRixhQUdoQmxDLEtBQUtnRCxVQUFVSCxTQUFXLFNBQVNsRSxPQUMvQixHQUFJeUUsWUFBYS9DLFdBQVcxQixNQUN4QnlFLFlBQ0lBLFlBQWMsRUFDZFgsS0FBS1EsTUFBTSwwQkFFWC9GLEtBQUtpRixPQUFBLFdBR1RNLEtBQUtRLE1BQU0sNkJBR25CakQsS0FBS2dELFVBQVVLLFNBQVcsV0FDdEIsTUFBT25HLE1BQUtpRixRQUloQm5DLEtBQUtnRCxVQUFVL0QsWUFBYyxTQUFTTCxTQUFVMEUsVUFHNUMsR0FBSUMsYUFBY0MsU0FBUzVFLFNBQ3ZCMkUsYUFBYyxJQUFNLEdBQ2hCRCxZQUFhLEVBQ2JwRyxLQUFLMEIsVUFBYTJFLFlBRWxCckcsS0FBSzBCLFNBQVcyRSxZQUVoQnJHLEtBQUswQixTQUFXLElBQUcxQixLQUFLMEIsU0FBVyxLQUd2QzFCLEtBQUswQixTQUFXLEVBQ2hCNkQsS0FBS2dCLEtBQUssd0RBTWxCekQsS0FBS2dELFVBQVUvQixZQUFjLFdBQ3pCLE1BQU8vRCxNQUFLMEIsVUFHaEJvQixLQUFLZ0QsVUFBVUYsUUFBVSxTQUFTakUsTUFDMUJBLE9BQU0zQixLQUFLa0YsTUFBUXZELE9BRzNCbUIsS0FBS2dELFVBQVVVLFFBQVUsV0FDckIsTUFBSXhHLE1BQUtrRixNQUFjbEYsS0FBS2tGLFVBQ3ZCSyxNQUFLZ0IsS0FBSywwQkFHbkJ6RCxLQUFLZ0QsVUFBVUQsUUFBVSxTQUFTWSxZQUMxQkEsYUFBWXpHLEtBQUs0QixLQUFPNkUsYUFHaEMzRCxLQUFLZ0QsVUFBVVksUUFBVSxXQUNyQixHQUFJMUcsS0FBSzRCLEtBQUssQ0FDVixHQUFJNUIsS0FBSzRCLEtBQUssS0FDVixNQUFPNUIsTUFBSzRCLEtBQUssSUFDZCxJQUFJNUIsS0FBSzRCLEtBQUssTUFDakIsTUFBTzVCLE1BQUs0QixLQUFLLE9BUzdCa0IsS0FBS2dELFVBQVU1QixTQUFXLFdBQ3RCLE9BQVFmLFdBQVduRCxLQUFLK0QsY0FBZ0IvRCxLQUFLbUcsWUFBWS9DLFFBQVEsSUFHckVOLEtBQUtnRCxVQUFVbkIsU0FBVyxXQUN0QixPQUNJckQsR0FBSXRCLEtBQUsrQyxRQUNUdkIsS0FBTXhCLEtBQUtpRyxVQUNYeEUsTUFBT3pCLEtBQUttRyxXQUNaekUsU0FBVTFCLEtBQUsrRCxjQUNmcEMsS0FBTTNCLEtBQUt3RyxVQUNYdkMsTUFBT2pFLEtBQUtrRSxhQUlicEIsUUFJVmpDLFFBQVEsU0FBVSxVQUFXLFNBQVVFLFNBRXBDLE9BRUlMLElBQUssU0FBVWlHLEtBQ1gsR0FBSzVGLFFBQVEwRCxhQUFhbUMsUUFBUUQsS0FBUSxDQUN0QyxHQUFJaEQsTUFBTy9ELFFBQVFpSCxTQUFVOUYsUUFBUTBELGFBQWFtQyxRQUFRRCxLQUMxRCxPQUFPdkIsTUFBSzBCLE1BQU1uRCxNQUV0QixPQUFPLEdBS1h3QixJQUFLLFNBQVV3QixJQUFLSSxLQU9oQixNQUxZQyxVQUFSRCxJQUNBaEcsUUFBUTBELGFBQWFMLFdBQVd1QyxLQUVoQzVGLFFBQVEwRCxhQUFhd0MsUUFBU04sSUFBSy9HLFFBQVFzSCxPQUFPSCxNQUUvQ2hHLFFBQVEwRCxhQUFhbUMsUUFBUUQsVUFLL0NRLFdBQVcsa0JBQWtCLFNBQVMsYUFBYyxTQUFTLFdBQVksU0FBU0MsT0FBUWpILFdBQVlDLE9BQVFpSCxVQUMzR0QsT0FBT0UsUUFBUyxFQUNoQkYsT0FBT0csWUFBYSxFQUNwQkgsT0FBT2hILE9BQVNBLE9BQ2hCaUgsU0FBUyxXQUNMRCxPQUFPRSxRQUFTLEdBR2xCLElBQUlsRyxPQUFRaEIsT0FBT3dELFdBR2I0RCxXQUNKNUgsU0FBUWlELFFBQVF6QixNQUFPLFNBQVMwQixNQUNJLGNBQTVCQSxLQUFLb0MsTUFBTXVDLGNBQ1hELFNBQVN0RixLQUFLWSxRQUdsQjBFLFNBQVNuRixPQUFTLEdBQ2xCK0UsT0FBT00sVUFBVyxFQUNsQk4sT0FBT08sTUFBTSxnQkFBZ0IsS0FFN0JQLE9BQU9NLFVBQVcsRUFDbEJOLE9BQU9PLE1BQU0sZ0JBQWdCLE9BT3hDUixXQUFXLHFCQUFxQixTQUFVLFNBQVMsV0FBWSxTQUFTQyxPQUFRaEgsT0FBUWlILFVBRXJGRCxPQUFPRSxRQUFTLEVBQ2hCRixPQUFPRyxZQUFhLEVBQ3BCSCxPQUFPaEgsT0FBU0EsT0FDaEJpSCxTQUFTLFdBQ0xELE9BQU9FLFFBQVMsT0FLdkJNLE1BQU0sVUFBVyxTQUl0QmhJLFFBQVFDLE9BQU8scUJBQXNCLHNCQUVoQ3NILFdBQVcsa0JBQWtCLFNBQVUsU0FBVSxTQUFTQyxPQUFRaEgsUUFFL0RnSCxPQUFPaEgsT0FBU0EsVUFNYnlILFVBQVUsZ0JBQWlCLFNBQVUsU0FBU3pILFFBQ2pELE9BQ0kwSCxTQUFXLElBQ1hYLFdBQWEsb0JBQ2JZLE9BQ0l6RyxHQUFHLElBQ0hDLElBQUssSUFDTEMsS0FBSyxJQUNMRSxTQUFTLElBQ1RzRyxZQUFZLElBQ1p2RyxNQUFNLElBQ05FLEtBQUssS0FFVHNHLFlBQVksRUFDWkMsWUFBYSxTQUFTQyxRQUFTQyxPQUMzQixNQUFpQyxtQkFBckJBLE9BQU1GLFlBQ1AsaUNBRUFFLE1BQU1GLGFBR3JCRyxLQUFLLFNBQVNOLE1BQU9JLFFBQVNDLE9BQzFCTCxNQUFNSyxNQUFRQSxNQUNkTCxNQUFNbEcsT0FBUyxXQUNYLE1BQVF6QixRQUFPMEIsWUFBWXNHLE1BQU05RyxLQUdqQ3lHLE1BQU1sRyxTQUNOa0csTUFBTU8sRUFBSWxJLE9BQU8wQixZQUFZc0csTUFBTTlHLElBQUl5QyxjQUV2Q2dFLE1BQU1PLEVBQUloQyxTQUFTeUIsTUFBTXJHLFVBRzdCcUcsTUFBTVEsU0FDTixLQUFLLEdBQUlDLEdBQUksRUFBR0EsR0FBS1QsTUFBTUMsWUFBYVEsSUFDcENULE1BQU1RLE9BQU9yRyxLQUFLc0csUUFRakNYLFVBQVUsbUJBQW9CLFNBQVUsU0FBU3pILFFBQzlDLE9BQ0kwSCxTQUFXLElBQ1hYLFdBQWEsaUJBQ2JZLE9BQ0l6RyxHQUFHLElBQ0hDLElBQUssSUFDTEMsS0FBSyxJQUNMRSxTQUFTLElBQ1RzRyxZQUFZLElBQ1p2RyxNQUFNLElBQ05FLEtBQUssS0FFVHNHLFlBQVksRUFDWkMsWUFBYSxTQUFTQyxRQUFTQyxPQUMzQixNQUFpQyxtQkFBckJBLE9BQU1GLFlBQ1AsOEJBRUFFLE1BQU1GLGFBR3JCRyxLQUFLLFNBQVNOLE1BQU9JLFFBQVNDLE9BQzFCTCxNQUFNSyxNQUFRQSxNQUNkTCxNQUFNbEcsT0FBUyxXQUNYLE1BQVF6QixRQUFPMEIsWUFBWXNHLE1BQU05RyxLQUdqQ3lHLE1BQU1sRyxTQUNOa0csTUFBTU8sRUFBSWxJLE9BQU8wQixZQUFZc0csTUFBTTlHLElBQUl5QyxjQUV2Q2dFLE1BQU1PLEVBQUloQyxTQUFTeUIsTUFBTXJHLFVBRzdCcUcsTUFBTVEsU0FDTixJQUFJRSxTQUNBQyxhQUFlQyxTQUFTQyxXQUFXQyxJQUFJLFdBQVlkLE1BQU16RyxHQUFLLGdCQUNsRW9ILGNBQWFJLEtBQUssU0FBU0MsS0FBSyxTQUFTQyxVQU9yQyxHQU5BakIsTUFBTWtCLFNBQVdELFNBQVNqQyxNQUUxQjBCLFFBRElWLE1BQU1DLFlBQWNELE1BQU1rQixTQUNwQmxCLE1BQU1DLFlBRU5ELE1BQU1rQixTQUVaUixRQUFVLEVBQ1YsSUFBSyxHQUFJRCxHQUFJLEVBQUdBLEdBQUtDLFFBQVNELElBQzlCVCxNQUFNUSxPQUFPckcsS0FBS3NHLFVBZXJDWCxVQUFVLGNBQWUsV0FDdEIsT0FDSUMsU0FBVyxJQUNYWCxXQUFhLGlCQUNiWSxTQUNBRyxZQUFhLFNBQVNDLFFBQVNDLE9BQzNCLE1BQWlDLG1CQUFyQkEsT0FBTUYsWUFDUCx5QkFFQUUsTUFBTUYsYUFHckJHLEtBQUssU0FBU04sTUFBT0ksUUFBU0MsYUFNckNQLFVBQVUsaUJBQWtCLFdBQ3pCLE9BQ0lDLFNBQVcsSUFDWFgsV0FBYSxpQkFDYlksU0FDQUUsWUFBWSxFQUNaQyxZQUFhLFNBQVNDLFFBQVNDLE9BQzNCLE1BQWlDLG1CQUFyQkEsT0FBTUYsWUFDUCw0QkFFQUUsTUFBTUYsaUJBTTNCTCxVQUFVLHFCQUFzQixXQUM5QixPQUNJQyxTQUFXLElBQ1hYLFdBQWEsaUJBQ2JZLFNBQ0FHLFlBQWEsU0FBU0MsUUFBU0MsT0FDM0IsTUFBaUMsbUJBQXJCQSxPQUFNRixZQUNQLGlDQUVBRSxNQUFNRixhQUdyQkcsS0FBSyxTQUFTTixNQUFPSSxRQUFTQyxhQU1yQ1AsVUFBVSxtQkFBb0IsV0FDM0IsT0FDSUMsU0FBVyxJQUNYWCxXQUFhLGlCQUNiWSxTQUNBRyxZQUFhLFNBQVNDLFFBQVNDLE9BQzNCLE1BQWlDLG1CQUFyQkEsT0FBTUYsWUFDUCwrQkFFQUUsTUFBTUYsYUFHckJHLEtBQUssU0FBU04sTUFBT0ksUUFBU0MsYUFNckNQLFVBQVUsMkJBQTRCLFdBQ25DLE9BQ0lDLFNBQVcsSUFDWFgsV0FBYSxpQkFDYlksU0FDQUcsWUFBYSxTQUFTQyxRQUFTQyxPQUMzQixNQUFpQyxtQkFBckJBLE9BQU1GLFlBQ1Asd0NBRUFFLE1BQU1GLGFBR3JCRyxLQUFLLFNBQVNOLE1BQU9JLFFBQVNDLGFBTXJDUCxVQUFVLGtCQUFtQixXQUMxQixPQUNJQyxTQUFXLElBQ1hYLFlBQWlDLGFBQWMsU0FBVSxTQUFVLHFCQUFzQixTQUFTaEgsV0FBWWlILE9BQVFoSCxPQUFROEksb0JBQzFIOUIsT0FBT2hILE9BQVNBLE9BRWhCZ0gsT0FBTytCLFNBQVcsV0FDZEQsbUJBQW1CRSxXQUFXaEMsT0FBT3ZHLFNBQ3JDcUksbUJBQW1CRyxZQUFZakMsT0FBT2tDLFVBQ3RDSixtQkFBbUJDLFdBQ2RJLFFBQVEsU0FBVTVILEtBQU02SCxPQUFRQyxRQUFTM0osUUFDdENLLFdBQVc2QixXQUFXLDRCQUE2QkwsUUFFdERvRSxNQUFNLFNBQVVwRSxLQUFNNkgsT0FBUUMsUUFBUzNKLFFBQ3BDSyxXQUFXNkIsV0FBVywwQkFDbEIwSCxXQUFZRixPQUNaekQsTUFBT3BFLFlBSzNCb0csT0FDSWxILFFBQVEsSUFDUnlJLFNBQVMsS0FFYnJCLFlBQVksRUFDWkMsWUFBYSxTQUFTQyxRQUFTQyxPQUMzQixNQUFpQyxtQkFBckJBLE9BQU1GLFlBQ1AsZ0NBRUFFLE1BQU1GLGlCQU1qQ3RJLFFBQVFDLE9BQU8sd0JBQ1ZnQixRQUFRLHNCQUF1QixZQUFhLFNBQVM4SSxXQUVsRDNKLEtBQUs0SixNQUNEL0ksUUFBVW1HLE9BQ1ZzQyxTQUFXdEMsUUFHZmhILEtBQUtvSixXQUFhLFNBQVN2SSxTQUN2QmIsS0FBSzRKLEtBQUsvSSxRQUFVQSxTQUd4QmIsS0FBS3FKLFlBQWMsU0FBU0MsVUFDeEJ0SixLQUFLNEosS0FBS04sU0FBV0EsVUFHekJ0SixLQUFLbUosU0FBVyxXQUNaLEdBQUlwSixVQUFXNEosVUFBVWpKLElBQUkscUJBQXVCVixLQUFLNEosS0FBSy9JLFFBQzVELE9BQU9kLFVBQVNvSixTQUFTbkosS0FBSzRKLEtBQUtOLGNBT2hEekksUUFBUSx5QkFBMEIsS0FBTSxPQUFRLFNBQVUsU0FBU2dKLEdBQUl0RSxLQUFNbkYsUUFFdEVKLEtBQUttSixTQUFXLFdBRVosR0FBSVcsVUFBV0QsR0FBR0UsT0FPbEIsT0FMQXhFLE1BQUtnQixLQUFLbkcsT0FBT3VFLFlBQ2pCbUYsU0FBU0UsU0FDTHJHLEtBQUt2RCxPQUFPdUUsYUFHVG1GLFNBQVNHLFlBTTNCcEosUUFBUSwwQkFBMkIsUUFBUyxTQUFVLFNBQVNxSixNQUFPOUosUUFFL0RKLEtBQUttSixTQUFXLFNBQVNHLFVBQ3JCLE1BQU9ZLE9BQU1DLEtBQUtiLFNBQVNoSCxLQUNyQlgsS0FBTXZCLE9BQU91RSxXQUFZeUYsUUFBU2QsU0FBU2MsY0FLNUR2SixRQUFRLDRCQUE2QixRQUFTLFNBQVUsU0FBU3FKLE1BQU85SjtBQzN0QnpFLFlBRUFSLFNBQVFDLE9BQU8sdUJBQ1pnSSxVQUFVLFlBQWEsVUFBVyxTQUFTOUcsU0FDNUMsT0FDRStHLFNBQVUsSUFDVkMsT0FDRXNDLGNBQWUsSUFDZkMsdUJBQXdCLElBQ3hCQyx5QkFBMEIsS0FFNUJsQyxLQUFNLFNBQVNqQixPQUFRb0QsS0FBTXBDLE9BQzNCLEdBQUlxQyxhQUFjLFdBQ1pyRCxPQUFPbUQsMkJBQTBCbkQsT0FBT21ELHlCQUEyQixJQUN2RSxJQUFJRyxVQUFXM0osUUFBUTRKLGFBQWV2RCxPQUFPaUQsY0FBZ0JqRCxPQUFPaUQsY0FBZ0IsSUFDcEYsSUFBSUssVUFBWTNKLFFBQVE2SixZQUFhLENBQ25DLEdBQUlDLFFBQVVILFNBQVd0RCxPQUFPa0QsdUJBQXlCbEQsT0FBT2tELHVCQUF5QkksU0FDckZJLE9BQVUxRCxPQUFPbUQseUJBQXlCUSxRQUFRLFFBQVMsRUFBSzNELE9BQU9tRCx5QkFBMkIsS0FBT25ELE9BQU9tRCx3QkFDcEhDLE1BQUtRLElBQUksWUFBYSxhQUFlRixPQUFTLEtBQU9ELE9BQVMsUUFJbEVKLGVBRUE3SyxRQUFRdUksUUFBUXBILFNBQVNrSyxLQUFLLFNBQVVSLGFBQ3hDN0ssUUFBUXVJLFFBQVFwSCxTQUFTa0ssS0FBSyxZQUFhUixrQkFHN0M1QyxVQUFVLHNCQUF1QixVQUFXLFNBQVM5RyxTQUN2RCxPQUNFK0csU0FBVSxJQUNWRyxZQUFZLEVBQ1ppRCxTQUFVLDRCQUNWbkQsT0FDRXNDLGNBQWUsSUFDZkMsdUJBQXdCLElBQ3hCYSxtQkFBb0IsS0FFdEI5QyxLQUFNLFNBQVNqQixPQUFRb0QsS0FBTXBDLE9BQzNCLEdBQUlxQyxhQUFjLFdBQ2hCLEdBQUlXLFFBQVVoRSxPQUFPa0QsdUJBQXVCLElBQU9FLEtBQUssR0FBR2EsYUFDdkRYLFVBQVlGLEtBQUtjLEtBQUssYUFBZXZLLFFBQVE0SixjQUFnQnZELE9BQU9pRCxjQUFnQmpELE9BQU9pRCxjQUFnQixNQUFRZSxRQUFVLEVBRTdIVixXQUFZdEQsT0FBTytELHFCQUNyQlQsU0FBV3RELE9BQU8rRCxvQkFFcEJYLEtBQUtRLElBQUksc0JBQXVCLE9BQVNOLFNBQVcsTUFJdEQ5SyxTQUFRdUksUUFBUXBILFNBQVNrSyxLQUFLLE9BQVEsU0FBU00sR0FDN0NkLGNBQ0FyRCxPQUFPb0UsV0FHVDVMLFFBQVF1SSxRQUFRcEgsU0FBU2tLLEtBQUssU0FBVVIsYUFDeEM3SyxRQUFRdUksUUFBUXBILFNBQVNrSyxLQUFLLFlBQWFSO0NDeERqRCxTQUEyQ2dCLEtBQU1uRyxTQUNoRCxHQUFzQixnQkFBWm9HLFVBQTBDLGdCQUFYN0wsUUFDeENBLE9BQU82TCxRQUFVcEcsY0FDYixJQUFxQixrQkFBWHFHLFNBQXlCQSxPQUFPQyxJQUM5Q0QsVUFBV3JHLGFBQ1AsQ0FDSixHQUFJdUcsR0FBSXZHLFNBQ1IsS0FBSSxHQUFJa0QsS0FBS3FELElBQXVCLGdCQUFaSCxTQUF1QkEsUUFBVUQsTUFBTWpELEdBQUtxRCxFQUFFckQsS0FFckV4SSxLQUFNLFdBQ1QsTUFBZ0IsVUFBVThMLFNBS2hCLFFBQVNDLHFCQUFvQkMsVUFHNUIsR0FBR0MsaUJBQWlCRCxVQUNuQixNQUFPQyxrQkFBaUJELFVBQVVOLE9BR25DLElBQUk3TCxRQUFTb00saUJBQWlCRCxXQUM3Qk4sV0FDQXBLLEdBQUkwSyxTQUNKMUUsUUFBUSxFQVVULE9BTkF3RSxTQUFRRSxVQUFVRSxLQUFLck0sT0FBTzZMLFFBQVM3TCxPQUFRQSxPQUFPNkwsUUFBU0sscUJBRy9EbE0sT0FBT3lILFFBQVMsRUFHVHpILE9BQU82TCxRQXZCZixHQUFJTyxvQkFxQ0osT0FUQUYscUJBQW9CSSxFQUFJTCxRQUd4QkMsb0JBQW9CSyxFQUFJSCxpQkFHeEJGLG9CQUFvQk0sRUFBSSxHQUdqQk4sb0JBQW9CLEtBSy9CLFNBQVNsTSxPQUFRNkwsUUFBU0sscUJBRS9CLFlBV0FsTSxRQUFPNkwsUUFBVSxjQUVqQjlMLFFBQVFDLE9BQU8sa0JBQ1p5RixRQUFRLGFBQWMsT0FBUSxTQUFVLGlCQUFrQnlHLG9CQUFvQixLQUM5RXpHLFFBQVEsa0JBQW1CeUcsb0JBQW9CLEtBQy9DekcsUUFBUSxRQUFTLFVBQVd5RyxvQkFBb0IsS0FDaER6RyxRQUFRLFVBQVd5RyxvQkFBb0IsTUFLckMsU0FBU2xNLE9BQVE2TCxTQUV0QixZQUVBN0wsUUFBTzZMLFFBQVUsU0FBbUJZLEtBQU1DLE9BQVFDLGdCQUVoRCxRQUFTQyxNQUFLQyxLQUFNQyxTQUFVQyxnQkFDNUIsSUFDRUwsT0FBT0csS0FBTUMsU0FBVUMsZ0JBQ3ZCLE1BQU1DLEtBQ05MLGVBQWVNLGFBQWFELElBQUlFLFVBSXBDLE9BZ0JFQyxPQUFRLFNBQVNyTCxLQUFNZ0wsU0FBVUMsZ0JBVS9CLE1BUktKLGdCQUFlUyxlQUFldEwsT0FDakM2SyxlQUFlTSxhQUFhLDJDQUd6Qk4sZUFBZVUsU0FBU1AsV0FDM0JILGVBQWVNLGFBQWEsd0NBR3ZCTCxLQUFLOUssS0FBTWdMLFNBQVVDLG9CQVE3QixTQUFTL00sT0FBUTZMLFNBRXRCLFlBRUE3TCxRQUFPNkwsUUFBVSxXQUNmLE9BQ0VvQixhQUFjLFNBQVNLLEtBQ3JCLEtBQU0sSUFBSUMsT0FBTUQsTUFFbEJELFNBQVUsU0FBU0csS0FDakIsTUFBc0IsZ0JBQVJBLE1BQW9CQSxjQUFlQyxTQUVuREMsWUFBYSxTQUFTRixLQUNwQixNQUFzQixtQkFBUkEsTUFFaEJKLGVBQWdCLFNBQVNJLEtBQ3ZCLE1BQU9BLGVBQWVmLFVBUXZCLFNBQVN6TSxPQUFRNkwsUUFBU0sscUJBRS9CLFlBRUFBLHFCQUFvQixHQUVwQmxNLE9BQU82TCxRQUFVLFNBQWMzSyxTQUM3QixNQUFPQSxTQUFRdUwsT0FNWixTQUFTek0sT0FBUTZMLFVBa0JyQixTQUFVOEIsTUFDVixZQUlBLElBRkFBLEtBQUtDLElBQU1ELEtBQUtDLEtBQU9ELEtBQUtFLFVBRXhCRixLQUFLbEIsTUFBUWtCLEtBQUtDLElBQ3JCLElBRUMsV0FEQSxJQUFJbkIsTUFFSCxNQUFPZixJQUtWLEdBQUlvQyxhQUFjSCxLQUFLRyxhQUFlSCxLQUFLSSxtQkFBcUJKLEtBQUtLLGdCQUFtQixTQUFTTCxNQUNoRyxHQUNHTSxXQUFZLFNBQVNDLFFBQ3RCLE1BQU9DLFFBQU9sSSxVQUFVbUksU0FBUy9CLEtBQUs2QixRQUFRRyxNQUFNLHNCQUFzQixJQUV6RUMsZ0JBQWtCLFdBQ25Cbk8sS0FBSzJCLFNBRUp5TSxTQUFXLFNBQWN6TSxLQUFNME0sS0FBTUMsVUFDdEN0TyxLQUFLMkIsS0FBT0EsS0FDWjNCLEtBQUt1TyxLQUFPNU0sS0FBS1UsT0FDakJyQyxLQUFLcU8sS0FBT0EsS0FDWnJPLEtBQUtzTyxTQUFXQSxVQUVmRSxVQUFZTCxnQkFBZ0JySSxVQUM1QjJJLFNBQVdMLFNBQVN0SSxVQUNwQjRJLGVBQWlCbEIsS0FBS2tCLGVBQ3RCQyxjQUFnQixTQUFTTixNQUMxQnJPLEtBQUs0TyxLQUFPNU8sS0FBS0EsS0FBS3dCLEtBQU82TSxPQUU1QlEsY0FBZ0IsOEhBR2hCQyxNQUFNLEtBQ05DLGFBQWVGLGNBQWN4TSxPQUM3QjJNLFNBQVd4QixLQUFLQyxLQUFPRCxLQUFLRSxXQUFhRixLQUN6Q3lCLHVCQUF5QkQsU0FBU0UsZ0JBQ2xDQyx1QkFBeUJILFNBQVNJLGdCQUNsQzNCLElBQU11QixTQUNOSyxLQUFPN0IsS0FBSzZCLEtBQ1pDLEtBQU85QixLQUFLOEIsS0FFWkMsWUFBYy9CLEtBQUsrQixZQUNuQkMsV0FBYWhDLEtBQUtnQyxXQUVsQkMsT0FBUyx3Q0FHWixLQURBckIsU0FBU3NCLEtBQU9qQixTQUFTaUIsTUFBTyxFQUN6QlgsZ0JBQ05KLGNBQWM3SSxVQUFVK0ksY0FBY0UsZUFBaUJBLGFBQWUsQ0FrSHZFLE9BL0dLQyxVQUFTRSxrQkFDYnpCLElBQU1ELEtBQUtDLElBQU0sU0FBU2tDLEtBQ3pCLEdBRUdDLFlBREFDLFNBQVdDLFNBQVNDLGdCQUFnQiwrQkFBZ0MsSUFZdkUsT0FUQUYsVUFBU0csS0FBT0wsSUFDVixVQUFZRSxZQUN1QixVQUFwQ0EsU0FBU0ksU0FBU0MsY0FDckJMLFNBQVNKLE9BQVMsTUFFbEJHLFdBQWFELElBQUl6QixNQUFNdUIsUUFDdkJJLFNBQVNKLE9BQVNHLFlBQWNBLFdBQVcsS0FHdENDLFdBR1RwQyxJQUFJeUIsZ0JBQWtCLFNBQVN4QyxNQUM5QixHQUVHeUQsaUJBREE5QixLQUFPM0IsS0FBSzJCLElBTWYsT0FIYSxRQUFUQSxPQUNIQSxLQUFPLDRCQUVKM0IsZUFBZ0IwQixXQUNuQitCLGdCQUFrQixRQUFVOUIsS0FDTixXQUFsQjNCLEtBQUs0QixTQUNENkIsZ0JBQWtCLFdBQWF6RCxLQUFLL0ssS0FDZixRQUFsQitLLEtBQUs0QixTQUNSNkIsZ0JBQWtCLElBQU1DLG1CQUFtQjFELEtBQUsvSyxNQUNsRDBOLEtBQ0VjLGdCQUFrQixXQUFhZCxLQUFLM0MsS0FBSy9LLE1BRXpDd08sZ0JBQWtCLElBQU1FLG1CQUFtQjNELEtBQUsvSyxPQUU5Q3NOLHVCQUNIQSx1QkFBdUIvQyxLQUFLOEMsU0FBVXRDLE1BRHZDLFFBSVJlLElBQUkyQixnQkFBa0IsU0FBU2tCLFlBQ0ssVUFBL0JBLFdBQVdDLFVBQVUsRUFBRyxJQUFrQnBCLHdCQUM3Q0EsdUJBQXVCakQsS0FBSzhDLFNBQVVzQixhQUd4QzlCLFVBQVVnQyxPQUFTLFNBQVM3TyxNQUMzQixHQUFJOE8sSUFBS3pRLEtBQUsyQixJQUVkLElBQUk2TixhQUFlN04sZUFBZ0I0TixjQUFlNU4sZUFBZ0I2TixhQUFhLENBTzlFLElBTkEsR0FDR2tCLEtBQU0sR0FDTkMsSUFBTSxHQUFJbkIsWUFBVzdOLE1BQ3JCNkcsRUFBSSxFQUNKb0ksUUFBVUQsSUFBSXRPLE9BRVZtRyxFQUFJb0ksUUFBU3BJLElBQ25Ca0ksS0FBT3BELE9BQU91RCxhQUFhRixJQUFJbkksR0FFaENpSSxJQUFHdk8sS0FBS3dPLFNBQ0YsSUFBd0IsU0FBcEI1QyxVQUFVbk0sT0FBd0MsU0FBcEJtTSxVQUFVbk0sTUFBa0IsQ0FDcEUsSUFBSStNLGVBS0gsS0FBTSxJQUFJQyxlQUFjLG1CQUp4QixJQUFJbUMsSUFBSyxHQUFJcEMsZUFDYitCLElBQUd2TyxLQUFLNE8sR0FBR0MsbUJBQW1CcFAsV0FLckJBLGdCQUFnQnlNLFVBQ0osV0FBbEJ6TSxLQUFLMk0sVUFBeUJnQixLQUNqQ21CLEdBQUd2TyxLQUFLb04sS0FBSzNOLEtBQUtBLE9BQ1UsUUFBbEJBLEtBQUsyTSxTQUNmbUMsR0FBR3ZPLEtBQUtrTyxtQkFBbUJ6TyxLQUFLQSxPQUNKLFFBQWxCQSxLQUFLMk0sVUFDZm1DLEdBQUd2TyxLQUFLUCxLQUFLQSxPQUdNLGdCQUFUQSxRQUNWQSxNQUFRLElBR1Q4TyxHQUFHdk8sS0FBSzhPLFNBQVNYLG1CQUFtQjFPLFVBR3RDNk0sVUFBVXlDLFFBQVUsU0FBUzVDLE1BSTVCLE1BSEs2QyxXQUFVN08sU0FDZGdNLEtBQU8sTUFFRCxHQUFJRCxVQUFTcE8sS0FBSzJCLEtBQUt3UCxLQUFLLElBQUs5QyxLQUFNLFFBRS9DRyxVQUFVUCxTQUFXLFdBQ3BCLE1BQU8sd0JBRVJRLFNBQVMyQyxNQUFRLFNBQVNDLE1BQU9DLElBQUtqRCxNQUNyQyxHQUFJa0QsTUFBT0wsVUFBVTdPLE1BSXJCLE9BSElrUCxNQUFPLElBQ1ZsRCxLQUFPLE1BRUQsR0FBSUQsVUFDUnBPLEtBQUsyQixLQUFLeVAsTUFBTUMsTUFBT0UsS0FBTyxFQUFJRCxJQUFNdFIsS0FBSzJCLEtBQUtVLFFBQ2xEZ00sS0FDQXJPLEtBQUtzTyxXQUdURyxTQUFTUixTQUFXLFdBQ25CLE1BQU8saUJBRVJRLFNBQVMrQyxNQUFRLFdBQ2hCeFIsS0FBS3VPLEtBQU8sUUFDTHZPLE1BQUsyQixNQUVOd00saUJBQ05YLEtBRUZBLE1BQUtsQixLQUFPLFNBQVNtRixVQUFXckgsU0FDL0IsR0FBSWlFLE1BQU9qRSxRQUFXQSxRQUFRaUUsTUFBUSxHQUFNLEdBQ3hDcUQsUUFBVSxHQUFJL0QsWUFDbEIsSUFBSThELFVBQ0gsSUFBSyxHQUFJakosR0FBSSxFQUFHbUosSUFBTUYsVUFBVXBQLE9BQVFtRyxFQUFJbUosSUFBS25KLElBQzVDZ0gsWUFBY2lDLFVBQVVqSixZQUFjZ0gsWUFDekNrQyxRQUFRbEIsT0FBT2lCLFVBQVVqSixHQUFHb0osUUFHNUJGLFFBQVFsQixPQUFPaUIsVUFBVWpKLEdBSTVCLElBQUlrRSxNQUFPZ0YsUUFBUVQsUUFBUTVDLEtBSTNCLFFBSEszQixLQUFLMEUsT0FBUzFFLEtBQUttRixjQUN2Qm5GLEtBQUswRSxNQUFRMUUsS0FBS21GLGFBRVpuRixLQUdSLElBQUlvRixnQkFBaUI5RCxPQUFPOEQsZ0JBQWtCLFNBQVMvRCxRQUN0RCxNQUFPQSxRQUFPZ0UsVUFFZnZFLE1BQUtsQixLQUFLeEcsVUFBWWdNLGVBQWUsR0FBSXRFLE1BQUtsQixPQUM3QixtQkFBVDBGLE9BQXdCQSxNQUEwQixtQkFBWEMsU0FBMEJBLFFBQVVqUyxLQUFLa1MsU0FBV2xTLE9BSy9GLFNBQVNILE9BQVE2TCxRQUFTSyxxQkFFL0IsWUFFQWxNLFFBQU82TCxRQUFVLFdBQ2YsTUFBT0sscUJBQW9CLEdBQUdpQixRQUFVLGVBTXJDLFNBQVNuTixPQUFRNkwsUUFBU0sscUJBRS9CLEdBQUlvRyw4QkFBOEJDLDhCQWU5QnBGLE9BQVNBLFFBQVcsU0FBU1EsTUFDaEMsWUFFQSxNQUFvQixtQkFBVEEsT0FBNkMsbUJBQWQ2RSxZQUE2QixlQUFlQyxLQUFLRCxVQUFVRSxZQUFyRyxDQUdBLEdBQ0dDLEtBQU1oRixLQUFLc0MsU0FFWDJDLFFBQVUsV0FDWCxNQUFPakYsTUFBS0MsS0FBT0QsS0FBS0UsV0FBYUYsTUFFcENrRixVQUFZRixJQUFJekMsZ0JBQWdCLCtCQUFnQyxLQUNoRTRDLGtCQUFvQixZQUFjRCxXQUNsQ0UsTUFBUSxTQUFTQyxNQUNsQixHQUFJQyxPQUFRLEdBQUlDLFlBQVcsUUFDM0JGLE1BQUtHLGNBQWNGLFFBRWxCRyxVQUFZLGVBQWVYLEtBQUs5RSxLQUFLMEYsYUFDckNDLGNBQWUsZUFBZWIsS0FBS0QsVUFBVUUsV0FDN0NhLGNBQWdCLFNBQVNDLEtBQ3pCN0YsS0FBSzhGLGNBQWdCOUYsS0FBSytGLFlBQVksV0FDdEMsS0FBTUYsS0FDSixJQUVGRyxvQkFBc0IsMkJBRXRCQyx5QkFBMkIsSUFDM0JDLE9BQVMsU0FBU0MsTUFDbkIsR0FBSUMsU0FBVSxXQUNPLGdCQUFURCxNQUNWbEIsVUFBVXJELGdCQUFnQnVFLE1BRTFCQSxLQUFLRSxTQUdQTixZQUFXSyxRQUFTSCwyQkFFbkJLLFNBQVcsU0FBU0MsVUFBV0MsWUFBYWxCLE9BQzdDa0IsZUFBaUJDLE9BQU9ELFlBRXhCLEtBREEsR0FBSXhMLEdBQUl3TCxZQUFZM1IsT0FDYm1HLEtBQUssQ0FDWCxHQUFJMEwsVUFBV0gsVUFBVSxLQUFPQyxZQUFZeEwsR0FDNUMsSUFBd0Isa0JBQWIwTCxVQUNWLElBQ0NBLFNBQVNoSSxLQUFLNkgsVUFBV2pCLE9BQVNpQixXQUNqQyxNQUFPVixJQUNSRCxjQUFjQyxPQUtoQmMsU0FBVyxTQUFTekgsTUFHckIsTUFBSSw2RUFBNkU0RixLQUFLNUYsS0FBSzJCLE1BQ25GLEdBQUkvQixPQUFNZ0IsT0FBT3VELGFBQWEsT0FBU25FLE9BQVEyQixLQUFNM0IsS0FBSzJCLE9BRTNEM0IsTUFFTjBILFVBQVksU0FBUzFILEtBQU1sTCxLQUFNNlMsYUFDN0JBLGNBQ0ozSCxLQUFPeUgsU0FBU3pILE1BR2pCLElBSUc0SCxZQUhBUCxVQUFZL1QsS0FDWnFPLEtBQU8zQixLQUFLMkIsS0FDWmtHLE1BQVFsRyxPQUFTbUYsb0JBRWpCZ0IsYUFBZSxXQUNoQlYsU0FBU0MsVUFBVyxxQ0FBcUNqRixNQUFNLE9BRzlEMkYsU0FBVyxXQUNaLElBQUt0QixlQUFrQm9CLE9BQVN0QixZQUFlekYsS0FBS2tILFdBQVksQ0FFL0QsR0FBSUMsUUFBUyxHQUFJRCxXQVdqQixPQVZBQyxRQUFPQyxVQUFZLFdBQ2xCLEdBQUl0UyxLQUFNNlEsY0FBZ0J3QixPQUFPRSxPQUFTRixPQUFPRSxPQUFPQyxRQUFRLGVBQWdCLHlCQUM1RUMsTUFBUXZILEtBQUt3SCxLQUFLMVMsSUFBSyxTQUN2QnlTLFNBQU92SCxLQUFLeUgsU0FBU2pGLEtBQU8xTixLQUNoQ0EsSUFBSTBFLE9BQ0orTSxVQUFVbUIsV0FBYW5CLFVBQVVvQixLQUNqQ1gsZ0JBRURHLE9BQU9TLGNBQWMxSSxXQUNyQnFILFVBQVVtQixXQUFhbkIsVUFBVXNCLE1BT2xDLEdBSEtmLGFBQ0pBLFdBQWE3QixVQUFVdkQsZ0JBQWdCeEMsT0FFcEM2SCxNQUNIL0csS0FBS3lILFNBQVNqRixLQUFPc0UsZUFDZixDQUNOLEdBQUlnQixRQUFTOUgsS0FBS3dILEtBQUtWLFdBQVksU0FDOUJnQixVQUVKOUgsS0FBS3lILFNBQVNqRixLQUFPc0UsWUFHdkJQLFVBQVVtQixXQUFhbkIsVUFBVW9CLEtBQ2pDWCxlQUNBZCxPQUFPWSxZQUtULE9BRkFQLFdBQVVtQixXQUFhbkIsVUFBVXNCLEtBRTdCMUMsbUJBQ0gyQixXQUFhN0IsVUFBVXZELGdCQUFnQnhDLFVBQ3ZDNkcsWUFBVyxXQUNWYixVQUFVMUMsS0FBT3NFLFdBQ2pCNUIsVUFBVTZDLFNBQVcvVCxLQUNyQm9SLE1BQU1GLFdBQ044QixlQUNBZCxPQUFPWSxZQUNQUCxVQUFVbUIsV0FBYW5CLFVBQVVvQixZQUtuQ1YsYUFFQ2UsU0FBV3BCLFVBQVV0TyxVQUNyQmtILE9BQVMsU0FBU04sS0FBTWxMLEtBQU02UyxhQUMvQixNQUFPLElBQUlELFdBQVUxSCxLQUFNbEwsTUFBUWtMLEtBQUtsTCxNQUFRLFdBQVk2UyxhQUk5RCxPQUF5QixtQkFBZGhDLFlBQTZCQSxVQUFVb0QsaUJBQzFDLFNBQVMvSSxLQUFNbEwsS0FBTTZTLGFBTTNCLE1BTEE3UyxNQUFPQSxNQUFRa0wsS0FBS2xMLE1BQVEsV0FFdkI2UyxjQUNKM0gsS0FBT3lILFNBQVN6SCxPQUVWMkYsVUFBVW9ELGlCQUFpQi9JLEtBQU1sTCxRQUkxQ2dVLFNBQVNFLE1BQVEsYUFDakJGLFNBQVNOLFdBQWFNLFNBQVNILEtBQU8sRUFDdENHLFNBQVNHLFFBQVUsRUFDbkJILFNBQVNMLEtBQU8sRUFFaEJLLFNBQVN6UCxNQUNUeVAsU0FBU0ksYUFDVEosU0FBU0ssV0FDVEwsU0FBU00sUUFDVE4sU0FBU08sUUFDVFAsU0FBU1EsUUFDVFIsU0FBU1MsV0FDUixLQUVNakosVUFFWSxtQkFBVGdGLE9BQXdCQSxNQUNiLG1CQUFYQyxTQUEwQkEsUUFDakNqUyxLQUFLa1MsUUFNYSxvQkFBWHJTLFNBQTBCQSxPQUFPNkwsUUFDMUM3TCxPQUFPNkwsUUFBUXNCLE9BQVNBLE9BQzJDLE9BQTNCakIsb0JBQW9CLElBQTRDLE9BQTNCQSxvQkFBb0IsS0FDL0ZvRyxnQ0FBbUNDLDhCQUFnQyxXQUNuRSxNQUFPcEYsU0FDUGtKLE1BQU14SyxRQUFTeUcsZ0NBQWlFbkwsU0FBbENvTCxnQ0FBZ0R2UyxPQUFPNkwsUUFBVTBHLGtDQU05RyxTQUFTdlMsT0FBUTZMLFNBRXRCN0wsT0FBTzZMLFFBQVUsV0FBYSxLQUFNLElBQUkwQixPQUFNLG9DQUt6QyxTQUFTdk4sT0FBUTZMLFVBRU0sU0FBU3lLLHlCQUEwQnRXLE9BQU82TCxRQUFVeUssMEJBRW5EakssS0FBS1I7QUNqbEJuQyxHQUFJMEssbUJBQ0osU0FBV0Esa0JBNklQLFFBQVNDLFVBQVM5USxLQUFNcEYsV0FBWW1XLFNBQVV2VixTQU0xQyxRQUFTd1Ysa0JBQWlCekQsTUFBTzBELFFBQVNDLFNBQVVDLEtBQU1DLFlBQ3RENVYsUUFBUTZWLGdCQUFpQixFQUU3QixRQUFTQyxvQkFBbUIvRCxNQUFPMEQsU0FDMUJBLFFBQVFNLFVBQ1R2UixLQUFLd1IsTUFBTSxzQkFBeUJQLFFBQVFoVixLQUFPLG1DQUV2RDhVLFNBQVNVLE9BQU9SLFFBQVFNLFVBRTVCLFFBQVNHLGtCQUFpQm5FLE1BQU8wRCxRQUFTQyxTQUFVUyxVQUFXUCxXQUFZNVEsT0FDdkV1USxTQUFTYSxVQUFVek4sV0FBYSxJQUNoQzNJLFFBQVE2VixnQkFBaUIsRUFFN0IsUUFBU1EsZUFBY3RFLE1BQU91RSxhQUFjSCxXQUN4Q1osU0FBU2EsVUFBVXpOLFdBQWEsSUFDaEMzSSxRQUFRNlYsZ0JBQWlCLEVBcEI3QnpXLFdBQVdtVyxTQUFXQSxTQUN0Qm5XLFdBQVdJLElBQUksb0JBQXFCZ1csa0JBQ3BDcFcsV0FBV0ksSUFBSSxzQkFBdUJzVyxvQkFDdEMxVyxXQUFXSSxJQUFJLG9CQUFxQjBXLGtCQUNwQzlXLFdBQVdJLElBQUksaUJBQWtCNlcsZUFqSnJDZixTQUFTaUIsU0FBVyxPQUFRLGFBQWMsV0FBWSxVQUN0RCxJQUFJQyxXQUFZM1gsUUFBUUMsT0FBTyxzQkFBdUIsY0FDbEQyWCxpQkFBbUIsV0FFbkIsUUFBU0Esb0JBQ0x4WCxLQUFLeVgsT0FBUyxHQUNkelgsS0FBSzBYLE9BQVMsR0FDZDFYLEtBQUsyWCxhQUFlLEdBQ3BCM1gsS0FBSzRYLG1CQUFxQixHQUMxQjVYLEtBQUs2WCxnQkFBa0IsR0FDdkI3WCxLQUFLOFgsY0FBZ0IsR0FDckI5WCxLQUFLK1gsb0JBQ0wvWCxLQUFLZ1ksYUFBYyxFQThDdkIsTUE1Q0FSLGtCQUFpQjFSLFVBQVVtUyxlQUFpQixTQUFVUixRQUVsRCxNQURBelgsTUFBS3lYLE9BQVNBLE9BQ1B6WCxNQUVYd1gsaUJBQWlCMVIsVUFBVW9TLGVBQWlCLFNBQVVSLFFBRWxELE1BREExWCxNQUFLMFgsT0FBU0EsT0FDUDFYLE1BRVh3WCxpQkFBaUIxUixVQUFVcVMsZ0JBQWtCLFNBQVVDLE9BRW5ELE1BREFwWSxNQUFLMlgsYUFBZVMsTUFDYnBZLE1BRVh3WCxpQkFBaUIxUixVQUFVdVMsc0JBQXdCLFNBQVVyVCxhQUV6RCxNQURBaEYsTUFBSzRYLG1CQUFxQjVTLFlBQ25CaEYsTUFFWHdYLGlCQUFpQjFSLFVBQVV3UyxtQkFBcUIsU0FBVUMsVUFFdEQsTUFEQXZZLE1BQUs2WCxnQkFBa0JVLFNBQ2hCdlksTUFFWHdYLGlCQUFpQjFSLFVBQVUwUyxpQkFBbUIsU0FBVUMsUUFFcEQsTUFEQXpZLE1BQUs4WCxjQUFnQlcsT0FDZHpZLE1BRVh3WCxpQkFBaUIxUixVQUFVNFMsb0JBQXNCLFNBQVVDLFlBRXZELE1BREEzWSxNQUFLK1gsaUJBQW1CWSxXQUNqQjNZLE1BRVh3WCxpQkFBaUIxUixVQUFVOFMsU0FBVyxTQUFVQyxTQUU1QyxNQURBN1ksTUFBS2dZLFlBQWNhLFFBQ1o3WSxNQUVYd1gsaUJBQWlCMVIsVUFBVTdGLEtBQU8sV0FDOUIsT0FDSXdYLE9BQVF6WCxLQUFLeVgsT0FDYkMsT0FBUTFYLEtBQUswWCxPQUNiQyxhQUFjM1gsS0FBSzJYLGFBQ25CQyxtQkFBb0I1WCxLQUFLNFgsbUJBQ3pCQyxnQkFBaUI3WCxLQUFLNlgsZ0JBQ3RCQyxjQUFlOVgsS0FBSzhYLGNBQ3BCQyxpQkFBa0IvWCxLQUFLK1gsaUJBQ3ZCQyxZQUFhaFksS0FBS2dZLGNBR25CUixtQkFFWEQsV0FBVXhYLFNBQVMsbUJBQW9CeVgsaUJBQ3ZDLElBQUlsQixVQUFXLFdBR1gsUUFBU0EsVUFBUy9RLEtBQU1pUyxpQkFBa0JzQixhQUFjblAsVUFBV29QLE9BQVFqWSxVQUFXQyxTQUNsRmYsS0FBS3VGLEtBQU9BLEtBQ1p2RixLQUFLd1gsaUJBQW1CQSxpQkFDeEJ4WCxLQUFLOFksYUFBZUEsYUFDcEI5WSxLQUFLMkosVUFBWUEsVUFDakIzSixLQUFLK1ksT0FBU0EsT0FDZC9ZLEtBQUtjLFVBQVlBLFVBQ2pCZCxLQUFLZSxRQUFVQSxRQUNmZixLQUFLbVgsYUFnRVQsTUF6RUFiLFVBQVNnQixTQUFXLE9BQVEsbUJBQW9CLGVBQWdCLFlBQWEsU0FBVSxZQUFhLFdBV3BHaEIsU0FBU3hRLFVBQVVrUixPQUFTLFNBQVVnQyxNQUNsQyxHQUFJQyxPQUFRalosSUFDWixLQUNJQSxLQUFLMlksV0FBYS9ZLFFBQVFzWixVQUFXbFosS0FBS3dYLGlCQUFpQk8sa0JBQ3ZEL1gsS0FBS3dYLGlCQUFpQlEsY0FDdEJoWSxLQUFLMlksV0FBVyxVQUFZM1ksS0FBS2MsVUFBVXFZLFVBRTNDSCxNQUNBaFosS0FBS29ZLE1BQVFZLEtBQUtaLE1BQVFwWSxLQUFLd1gsaUJBQWlCQyxRQUFVelgsS0FBS29aLFNBQVMsUUFBU0osS0FBS1osUUFBVSxJQUFNcFksS0FBS3dYLGlCQUFpQkUsT0FBUzFYLEtBQUt3WCxpQkFBaUJHLGFBQzNKM1gsS0FBS2dGLFlBQWNnVSxLQUFLaFUsWUFBY2hGLEtBQUtvWixTQUFTLGNBQWVKLEtBQUtoVSxhQUFlaEYsS0FBS3dYLGlCQUFpQkksbUJBQzdHNVgsS0FBS3VZLFNBQVdTLEtBQUtULFNBQVd2WSxLQUFLb1osU0FBUyxXQUFZSixLQUFLVCxVQUFZdlksS0FBS3dYLGlCQUFpQkssZ0JBQ2pHN1gsS0FBS3lZLE9BQVNPLEtBQUtQLE9BQVN6WSxLQUFLb1osU0FBUyxTQUFVSixLQUFLUCxRQUFVelksS0FBS3dYLGlCQUFpQk0sY0FDekZsWSxRQUFRaUQsUUFBUW1XLEtBQUtMLFdBQVksU0FBVS9RLE1BQU9qQixLQUM5QyxHQUFJMFMsR0FBSUosTUFBTUcsU0FBU3pTLElBQUtpQixNQUN4QnlSLEtBQ0FKLE1BQU1OLFdBQVdoUyxLQUFPMFMsT0FLaENyWixLQUFLb1ksTUFBUXBZLEtBQUt3WCxpQkFBaUJHLGFBQ25DM1gsS0FBS2dGLFlBQWNoRixLQUFLd1gsaUJBQWlCSSxtQkFDekM1WCxLQUFLdVksU0FBV3ZZLEtBQUt3WCxpQkFBaUJLLGdCQUN0QzdYLEtBQUt5WSxPQUFTelksS0FBS3dYLGlCQUFpQk0sZUFFcENrQixNQUFRQSxLQUFLN0IsV0FDYm5YLEtBQUttWCxVQUFVek4sV0FBYXNQLEtBQUs3QixVQUFVek4sV0FBYTFKLEtBQUtvWixTQUFTLHVCQUF3QkosS0FBSzdCLFVBQVV6TixZQUFjLElBQzNIMUosS0FBS21YLFVBQVVtQyxPQUFTTixLQUFLN0IsVUFBVW1DLE9BQVN0WixLQUFLb1osU0FBUyxrQkFBbUJKLEtBQUs3QixVQUFVbUMsUUFBVSxPQUcxR3RaLEtBQUttWCxVQUFVek4sV0FBYSxJQUM1QjFKLEtBQUttWCxVQUFVbUMsT0FBUyxNQUU1QnRaLEtBQUtlLFFBQVE2VixnQkFBaUIsRUFFbEMsTUFBTy9KLEtBQ0g3TSxLQUFLdUYsS0FBS1EsTUFBTSwwQ0FBMkM4RyxPQUduRXlKLFNBQVN4USxVQUFVc1QsU0FBVyxTQUFVRyxRQUFTQyxLQUM3QyxJQUNJLE1BQUtBLEtBR21CLGdCQUFSQSxLQUNMQSxJQUVhLGdCQUFSQSxNQUEwQyxJQUF0QkEsSUFBSUMsT0FBT3BYLE9BQ3BDLEtBRUZ6QyxRQUFROFosV0FBV0YsTUFBUUcsTUFBTUMsUUFBUUosS0FDdkN4WixLQUFLMkosVUFBVWtRLE9BQU9MLElBQUt4WixLQUFNQSxLQUFLK1ksT0FBT2UsU0FBU0MsT0FBT0MsU0FHN0RoYSxLQUFLOFksYUFBYVUsS0FBS3haLEtBQUsrWSxPQUFPZSxTQUFTQyxPQUFPQyxTQVpuRCxLQWVmLE1BQU9uTixLQUVILE1BREE3TSxNQUFLdUYsS0FBS1EsTUFBTSxxREFBc0R3VCxRQUFTMU0sS0FDeEUsT0FHUnlKLFdBRVhpQixXQUFVMVcsUUFBUSxXQUFZeVYsVUEwQjlCaUIsVUFBVXJYLElBQUltVyxXQUNmRCxtQkFBcUJBO0FDcEt4QixHQUFJNkQsaUJBQWtCcmEsUUFBUUMsT0FBUSxlQUV0Q29hLGlCQUFnQmxhLFNBQVUsa0JBQW1CLFdBQ3pDQyxLQUFLa2EsZUFBaUIsR0FDdEJsYSxLQUFLbWEsZUFBaUJuVCxPQUN0QmhILEtBQUtvYSxtQkFBcUIsR0FHMUJwYSxLQUFLcWEsZ0JBQWtCLEdBQUksR0FBSSxHQUFJLEtBQ25DcmEsS0FBS3NhLGVBQWlCdGEsS0FBS3FhLGVBQWUsR0FDMUNyYSxLQUFLdWEsaUJBQW1CLE9BQ3hCdmEsS0FBS3dhLGVBQWlCeGEsS0FBS3VhLGlCQUFtQixJQUM5Q3ZhLEtBQUt5YSxXQUFhLE1BQVF6YSxLQUFLd2EsZUFDL0J4YSxLQUFLMGEscUJBQXVCLEdBRXZCQyxNQUFNM2EsS0FBS3NhLGlCQUFtQnRhLEtBQUtxYSxlQUFldFAsUUFBUS9LLEtBQUtzYSxtQkFBb0IsR0FFcEZ0YSxLQUFLcWEsZUFBZW5ZLEtBQUtsQyxLQUFLc2EsZ0JBSWxDdGEsS0FBS3FhLGVBQWVPLEtBQUssU0FBVS9PLEVBQUVnUCxHQUFJLE1BQU9oUCxHQUFJZ1AsSUFFcEQ3YSxLQUFLQyxLQUFPLFdBQ1IsTUFBT0QsU0FLZmlhLGdCQUFnQnBTLFVBQVcsYUFBYyxTQUFVLFdBQVksU0FBVWlULE9BQVFDLFVBQzdFLFlBRUEsU0FBU0MsdUJBQXNCNVQsT0FBUTZULGdCQUVuQ3pZLFFBQVFDLElBQUksMkJBQTJCd1ksZUFFdkMsSUFBSUMsV0FBWUQsZUFDWG5HLFFBQVEsaUJBQWtCLDBCQUMxQkEsUUFBUSxzQkFBdUIsOENBQy9CQSxRQUFRLGVBQWdCMU4sT0FBTytULHFCQUF1QixXQUN0RHJHLFFBQVEsb0JBQXFCLDZCQUM3QkEsUUFBUSxrQkFBbUIsc0JBQzNCQSxRQUFRLHNCQUF1QixvQkFDL0JBLFFBQVEsb0JBQXFCLGtCQUM3QkEsUUFBUSxrQkFBbUIsMkJBQzNCQSxRQUFRLHVCQUF3Qix5QkFFakMsT0FEQXRTLFNBQVFDLElBQUksY0FBY3lZLFdBQ25CQSxVQUdmLFFBQVNFLHlCQUVMLFFBQVNDLGtCQUFpQnhQLEVBQUdnUCxHQUN6QixNQUFJaFAsR0FBSWdQLEVBQVUsRUFDZGhQLEVBQUlnUCxHQUFVLEVBQ1gsRUFHWCxHQUFJUyxnQkFBaUJELGlCQUNqQkUsZ0JBQWtCRixnQkFFSCxpQkFBVEcsTUFDTkYsZUFBaUIsR0FBSUUsTUFBS0MsVUFBU3pVLFNBQVkwVSxZQUFhLFNBQVNDLFFBRXZCLGtCQUFuQ3JPLFFBQU94SCxVQUFVOFYsZ0JBQzVCTixlQUFpQixTQUFTelAsRUFBR2dQLEdBQ3pCLE9BQVFoUCxFQUFJLElBQUkrUCxjQUFjZixFQUFHN1QsUUFBWTBVLFlBQWEsVUFJbEUsSUFBSUcsWUFBYSxTQUFVaFEsRUFBR2dQLEdBQzFCLE1BQWlCLGdCQUFOaFAsSUFBK0IsZ0JBQU5nUCxHQUN6QlUsZ0JBQWdCMVAsRUFBR2dQLEdBRTFCaFAsWUFBYWlRLE9BQVFqQixZQUFhaUIsTUFDM0JQLGdCQUFnQjFQLEVBQUVrUSxVQUFXbEIsRUFBRWtCLFdBRW5DVCxlQUFlelAsRUFBR2dQLEdBRzdCLE9BQU9nQixZQUdYLEdBQUlHLGlCQUFrQlosdUJBRXRCLFFBQ0lyVCxPQUFPLEVBQ1BaLFlBQWEsU0FBVSxrQkFBbUIsU0FBU0MsT0FBUTZVLGlCQUV2RDdVLE9BQU84VSxZQUNIaFIsU0FBVStRLGdCQUFnQjdCLG1CQUMxQkMsZUFBZ0I0QixnQkFBZ0I1QixlQUFlcEcsU0FDL0NrSSxRQUFTRixnQkFBZ0IzQixlQUN6QjhCLFlBQWEsRUFDYkMsbUJBQW9CLFNBQVNwWSxPQUV6QixHQUFJcVksV0FBWXJZLFFBQVVtRCxPQUFPbVYsVUFBVUMsY0FBZ0JwVixPQUFPbVYsVUFBVUMsY0FBZ0J2WSxNQUV4RndZLFVBQVlsWixLQUFLbVosS0FBS3RWLE9BQU84VSxXQUFXRSxZQUFjLEdBQUtoVixPQUFPOFUsV0FBV0MsUUFBVSxFQUFHLEdBQzFGUSxRQUFVcFosS0FBS3FaLElBQUl4VixPQUFPOFUsV0FBV0UsWUFBY2hWLE9BQU84VSxXQUFXQyxRQUFTRyxVQUVsRixPQUEwQyxLQUFuQ2xWLE9BQU9tVixVQUFVQyxjQUFzQixJQUFNRyxVQUFZTCxXQUEyQixJQUFkRyxVQUFrQixHQUFLQSxVQUFZLEtBQU9FLFVBRy9IbmEsUUFBUUMsSUFBSSx1QkFBdUIyRSxPQUFPOFUsWUFFMUM5VSxPQUFPbVYsV0FDSHJSLFNBQVUrUSxnQkFBZ0IvQixlQUMxQjJDLGFBQWMsR0FDZDFDLGVBQWdCOEIsZ0JBQWdCOUIsZUFDaENxQyxjQUFlLEVBQ2ZNLGlCQUdKdGEsUUFBUUMsSUFBSSxzQkFBc0IyRSxPQUFPbVYsV0FFekNuVixPQUFPK1QscUJBQXVCLEdBQzlCL1QsT0FBT21ULGlCQUFtQjBCLGdCQUFnQjFCLGlCQUMxQ25ULE9BQU9vVCxlQUFpQnlCLGdCQUFnQnpCLGVBQ3hDcFQsT0FBT3FULFdBQWF3QixnQkFBZ0J4QixXQUNwQ3JULE9BQU9zVCxxQkFBdUJ1QixnQkFBZ0J2QixxQkFDOUN0VCxPQUFPMlYsa0JBQ1AzVixPQUFPNFYsV0FFUCxJQUFJQyxnQkFBaUIsU0FBVUMsS0FBTTFiLE1BQ2pDLE9BQVFzWixPQUFRb0MsTUFBUSxNQUFNLEVBQU8xYixLQUFPQSxLQUFPMGIsTUFHdkRsZCxNQUFLbWQsYUFBZSxTQUFVQyxTQUFValYsUUFBUzNHLEtBQU02YixRQUNuRCxHQUFJN1UsR0FDQTBVLEtBQU9ELGVBQWdCRyxTQUFVNWIsS0FFckMsSUFEQTBiLEtBQUtoYixLQUFLbWIsUUFDMkIsSUFBakNqVyxPQUFPMlYsZUFBZTFhLFFBQWdCK0UsT0FBTzJWLGVBQWUsR0FBRyxLQUFPRyxLQUFLLEdBQ3ZFOVYsT0FBTzJWLGVBQWUsR0FBRyxJQUN6QjVVLFFBQVFtVixZQUFhLGtCQUNyQm5WLFFBQVFvVixTQUFVLGlCQUNsQm5XLE9BQU8yVixlQUFlLEdBQUcsSUFBSyxJQUU5QjVVLFFBQVFtVixZQUFhLGlCQUNyQm5WLFFBQVFvVixTQUFVLGtCQUNsQm5XLE9BQU8yVixlQUFlLEdBQUcsSUFBSyxHQUVsQzNWLE9BQU9PLE1BQU8sd0JBQ1puRyxLQUFNNEYsT0FBTzJWLGVBQWUsR0FBRyxHQUMvQlMsTUFBT3BXLE9BQU8yVixlQUFlLEdBQUcsVUFFL0IsQ0FDSCxJQUFLdlUsRUFBRSxFQUFHQSxFQUFFcEIsT0FBTzRWLFNBQVMzYSxPQUFRbUcsR0FBSSxFQUNwQ3BCLE9BQU80VixTQUFTeFUsR0FDWDhVLFlBQWEsa0JBQ2JBLFlBQWEsZ0JBRXRCblYsU0FBUW9WLFNBQVUsaUJBQ2xCblcsT0FBTzJWLGdCQUFrQkcsTUFDekI5VixPQUFPTyxNQUFPLHdCQUNabkcsS0FBTTBiLEtBQUssR0FDWE0sTUFBT04sS0FBSyxRQUt0QmxkLEtBQUt5ZCxhQUFlLFNBQVVMLFNBQVVqVixRQUFTM0csS0FBTTZiLFFBQ25ELEdBQUk3VSxHQUNBa1YsY0FBZSxFQUNmUixLQUFPRCxlQUFnQkcsU0FBVTViLEtBRXJDLEtBREEwYixLQUFLaGIsS0FBS21iLFFBQ0w3VSxFQUFFLEVBQUdBLEVBQUVwQixPQUFPMlYsZUFBZTFhLE9BQVFtRyxHQUFJLEVBQ3RDcEIsT0FBTzJWLGVBQWV2VSxHQUFHLEtBQU8wVSxLQUFLLEtBQ2pDOVYsT0FBTzJWLGVBQWV2VSxHQUFHLElBQ3pCTCxRQUFRbVYsWUFBYSxrQkFDckJuVixRQUFRb1YsU0FBVSxpQkFDbEJuVyxPQUFPMlYsZUFBZXZVLEdBQUcsSUFBSyxJQUU5QkwsUUFBUW1WLFlBQWEsaUJBQ3JCblYsUUFBUW9WLFNBQVUsa0JBQ2xCblcsT0FBTzJWLGVBQWV2VSxHQUFHLElBQUssR0FFbENrVixjQUFlLEVBR2xCQSxnQkFDRHZWLFFBQVFvVixTQUFVLGlCQUNsQm5XLE9BQU8yVixlQUFlN2EsS0FBTWdiLE9BR2hDOVYsT0FBT08sTUFBTyxzQkFBdUJQLE9BQU8yVixlQUFlWSxJQUFJLFNBQVU5UixHQUN2RSxPQUNFckssS0FBTXFLLEVBQUUsR0FDUjJSLE1BQU8zUixFQUFFLFFBTWpCN0wsS0FBSzRkLFdBQWEsU0FBVUMsU0FDeEJ6VyxPQUFPeVcsUUFBVUEsU0FHckI3ZCxLQUFLOGQsZ0JBQWtCLFNBQVVDLGdCQUM3QjNXLE9BQU80VixTQUFTOWEsS0FBTTZiLGlCQUcxQi9kLEtBQUtnZSxlQUFpQixTQUFVWixTQUFValYsU0FDdEMsR0FBSStVLE1BQU9ELGVBQWdCRyxTQUMzQmhXLFFBQU9tVixVQUFVTyxhQUFhNWEsS0FBTWdiLE9BR3hDbGQsS0FBS2llLGFBQWUsU0FBVUMsY0FDMUI5VyxPQUFPK1QscUJBQXVCK0MsZ0JBR3RDN1YsS0FBTSxTQUFTakIsT0FBUStXLFNBQVVDLE9BQVFDLGVBRXJDLEdBQUlELE9BQU9FLFdBQWEsQ0FDcEIsR0FBSUMsb0JBQXFCLE1BQVFuWCxPQUFPb1QsY0FHeENwVCxRQUFPbVQsaUJBQW1CNkQsT0FBT0UsV0FFN0JGLE9BQU9JLGlCQUVQcFgsT0FBT29ULGVBQWlCNEQsT0FBT0ksaUJBRy9CcFgsT0FBT29ULGVBQWlCNEQsT0FBT0UsV0FBYSxJQUczQ0YsT0FBT0ssY0FBZ0JyWCxPQUFPcVQsYUFBZThELHFCQUU5Q25YLE9BQU9xVCxXQUFhLE1BQVFyVCxPQUFPb1QsZ0JBbUIzQyxHQWZJNEQsT0FBT0ssZUFFUHJYLE9BQU9xVCxXQUFhMkQsT0FBT0ssY0FHM0JMLE9BQU9NLHlCQUVQdFgsT0FBT3NULHFCQUF1QjBELE9BQU9NLHdCQUlyQ04sT0FBT08sbUJBQ1B2WCxPQUFPOFUsV0FBVzdCLGVBQWlCalQsT0FBT3dYLE1BQU1SLE9BQU9PLG1CQUd2RFAsT0FBT1MsaUJBQW1CLENBQzFCLEdBQUlDLGdCQUFpQjFYLE9BQU93WCxNQUFNUixPQUFPUyxpQkFDcENsRSxPQUFNbUUsa0JBQ1AxWCxPQUFPOFUsV0FBV0MsUUFBVTJDLGVBQ3hCMVgsT0FBTzhVLFdBQVc3QixlQUFldFAsUUFBUTNELE9BQU84VSxXQUFXQyxZQUFhLElBRXhFL1UsT0FBTzhVLFdBQVc3QixlQUFlblksS0FBS2tGLE9BQU84VSxXQUFXQyxTQUN4RC9VLE9BQU84VSxXQUFXN0IsZUFBZU8sS0FBSyxTQUFVL08sRUFBRWdQLEdBQUksTUFBT2hQLEdBQUlnUCxNQUs3RSxHQUFJdUQsT0FBT1csZUFLUCxJQUFLLEdBSkRqQyxjQUFlc0IsT0FBT1csZUFBZWpRLE1BQU0sS0FDMUNrUSxPQUFPLFNBQVNsYyxNQUNiLE1BQU9BLE9BQXdCLEtBQWhCQSxLQUFLMlcsU0FFbkJqUixFQUFFLEVBQUdBLEVBQUVzVSxhQUFhemEsT0FBUW1HLEdBQUksRUFDckM2VixjQUFjTCxlQUFlbEIsYUFBYXRVLEdBSWxELElBQUl5VyxZQUNKLElBQWtDLFVBQTlCYixPQUFPYyxvQkFBZ0UsS0FBOUI5WCxPQUFPbVYsVUFBVXJSLFVBQW1COUQsT0FBT21WLFVBQVVPLGFBQWF6YSxPQUFPLEVBQUksQ0FDdEgsR0FBSXdhLGNBQWU3QixzQkFBc0I1VCxPQUFRQSxPQUFPbVYsVUFBVXJSLFNBQ2xFK1QsYUFBY2xFLFNBQVM4QixjQUFjelYsUUFFckMrVyxTQUFTcFosU0FBUyxHQUFHb2EsYUFBYUYsWUFBWSxHQUFJZCxTQUFTLElBRzNEQyxPQUFPZ0IsbUJBRVBoWSxPQUFPbVYsVUFBVXBDLGVBQWlCL1MsT0FBT3dYLE1BQU1SLE9BQU9nQixtQkFHckR4ZixRQUFROFosV0FBV3RTLE9BQU9tVixVQUFVcEMsa0JBRU0sSUFBdkMvUyxPQUFPbVYsVUFBVU8sYUFBYXphLE9BRTlCK0UsT0FBT21WLFVBQVVwQyxlQUFpQixTQUFTclgsTUFDdkMsT0FBTyxHQUlYc0UsT0FBT21WLFVBQVVwQyxlQUFpQixTQUFTclgsTUFFdkMsSUFBSyxHQUREdWMsZ0JBQWdCLEVBQ1g3VyxFQUFFLEVBQUdBLEVBQUVwQixPQUFPbVYsVUFBVU8sYUFBYXphLE9BQVFtRyxHQUFJLEVBQ3RELElBQUs2VyxjQUFnQixDQUNqQixHQUFJM08sTUFBT3RKLE9BQU9tVixVQUFVTyxhQUFhdFUsR0FBRyxHQUFHMUYsT0FBUyxJQUFJbUwsV0FBV2lDLGFBQ3ZFbVAsZUFBZ0IzTyxJQUFJM0YsUUFBUTNELE9BQU9tVixVQUFVTSxhQUFhM00sZ0JBQWlCLEVBR25GLE1BQU9tUCxpQkFLbkJqWSxPQUFPa1ksZUFBaUIsU0FBU0MsT0FDN0IsSUFBS25CLE9BQU9nQixrQkFBc0QsS0FBbENoWSxPQUFPbVYsVUFBVU0sYUFHN0MsTUFEQXpWLFFBQU9tVixVQUFVQyxjQUFnQitDLE1BQU1sZCxPQUNoQ2tkLEtBRVgsSUFBSUMsYUFBY0QsTUFBTVAsT0FBTzVYLE9BQU9tVixVQUFVcEMsZUFFaEQsT0FEQS9TLFFBQU9tVixVQUFVQyxjQUFnQmdELFlBQVluZCxPQUN0Q21kLGFBR1hwWSxPQUFPcVksUUFBVSxTQUFVNVQsRUFBR2dQLEdBQzFCLEdBQUlyUyxHQUFHa1gsS0FBTUMsS0FBTUMsV0FBWUMsVUFBV0MsVUFDMUMsS0FBS3RYLEVBQUUsRUFBR0EsRUFBRXBCLE9BQU8yVixlQUFlMWEsT0FBUW1HLEdBQUksRUFBSSxDQWdCOUMsR0FmQWtYLEtBQU90WSxPQUFPMlYsZUFBZXZVLEdBQUcsR0FBR3FELEdBQ25DOFQsS0FBT3ZZLE9BQU8yVixlQUFldlUsR0FBRyxHQUFHcVMsR0FDbkNnRixVQUFZaEYsRUFBRXpULE9BQU8yVixlQUFldlUsR0FBRyxJQUNuQ3FYLFlBQ0FILEtBQU9HLFVBQVdILE1BQ2xCQyxLQUFPRSxVQUFXRixPQUVUM1ksU0FBVDBZLE1BQStCLE9BQVRBLE9BQ3RCQSxLQUFPLElBRUUxWSxTQUFUMlksTUFBK0IsT0FBVEEsT0FDMUJBLEtBQU8sSUFFUEMsV0FBYXhZLE9BQU8yVixlQUFldlUsR0FBRyxHQUN0Q3NYLFlBQWMxWSxPQUFPMlYsZUFBZXZVLEdBQUcsSUFBTXdULGlCQUFpQjBELEtBQU1DLE1BQ2pELElBQWZHLFdBQ0EsTUFBT0YsYUFBYSxFQUFLLENBQ3RCLElBQUlFLGNBQWUsRUFDdEIsTUFBT0YsWUFBYSxHQUFJLEVBTWhDLEdBQUl4WSxPQUFPeVcsUUFBVSxDQVVqQixHQVRBNkIsS0FBTzdULEVBQUV6RSxPQUFPeVcsU0FDaEI4QixLQUFPOUUsRUFBRXpULE9BQU95VyxTQUNIN1csU0FBVDBZLE1BQStCLE9BQVRBLE9BQ3RCQSxLQUFPLElBRUUxWSxTQUFUMlksTUFBK0IsT0FBVEEsT0FDdEJBLEtBQU8sSUFFWEcsV0FBYTlELGdCQUFnQjBELEtBQU1DLE1BQ2hCLElBQWZHLFdBQ0EsTUFBT0YsYUFBYSxFQUFLLENBQ3RCLElBQUlFLGNBQWUsRUFDdEIsTUFBT0YsWUFBYSxHQUFJLEVBR2hDLE1BQU8sSUFHWHhZLE9BQU8yWSxhQUFlLFNBQVNSLE9BQzNCLEdBQW1DLFVBQS9CbkIsT0FBTzRCLHFCQUFrRSxLQUEvQjVZLE9BQU84VSxXQUFXaFIsU0FFNUQsTUFBT3FVLE1BTVgsS0FBSyxHQUhEVSxRQUFTN1ksT0FBTzhVLFdBQVdFLFlBQWMsR0FBS2hWLE9BQU84VSxXQUFXQyxRQUNoRTdLLElBQU1sSyxPQUFPOFUsV0FBV0UsWUFBY2hWLE9BQU84VSxXQUFXQyxRQUN4RCtELFNBQ0sxWCxFQUFFLEVBQUdBLEVBQUkrVyxNQUFNbGQsT0FBUW1HLElBQ3hCQSxHQUFLeVgsT0FBU3pYLEVBQUk4SSxLQUNsQjRPLE1BQU1oZSxLQUFLcWQsTUFBTS9XLEdBR3pCLE9BQU8wWCxPQUdYLElBQUlDLGdCQUNKLElBQW1DLFVBQS9CL0IsT0FBTzRCLHFCQUFrRSxLQUEvQjVZLE9BQU84VSxXQUFXaFIsU0FBa0IsQ0FDOUUsR0FBSWtWLGFBQWNwRixzQkFBc0I1VCxPQUFRQSxPQUFPOFUsV0FBV2hSLFNBQ2xFaVYsaUJBQWtCcEYsU0FBU3FGLGFBQWFoWixRQUV4QytXLFNBQVNrQyxNQUFNRixpQkFHbEIsR0FBSUcsaUJBTUwsSUFMSWxaLE9BQU9zVCxzQkFBd0QsS0FBaEN0VCxPQUFPc1QsdUJBRXRDNEYsaUJBQW1CbkMsU0FBU29DLEtBQUssZUFBZ0JuWixPQUFPc1QscUJBQXNCLFNBRzlFMEQsT0FBT29DLHVCQUF5QixDQUNoQyxHQUFJQyxRQUFTM0YsT0FBT3NELE9BQU9vQyx3QkFDdkJFLE9BQVNELE9BQU9FLE9BSWhCQyxHQUFNLFNBQVVDLG1CQUFvQkMscUJBQXNCQyx3QkFDMUQsR0FBSUMsS0FBTWxHLE9BQU8xVCxPQUFPK1Qsc0JBQXNCL1QsT0FjOUMsT0FaSXlaLHNCQUNBRyxJQUFNQSxJQUFJcEcsS0FBS3hULE9BQU9xWSxVQUd0QnFCLHVCQUNBRSxJQUFNNVosT0FBT2tZLGVBQWUwQixNQUc1QkQseUJBQ0FDLElBQU01WixPQUFPMlksYUFBYWlCLE1BR3ZCQSxJQUdYTixRQUFPdFosT0FBTzZaLFFBQVNMLElBRzNCeFosT0FBTzdHLElBQUssV0FBWSxXQUVoQjBlLGFBQ0FBLFlBQVlwTCxTQUVac00saUJBQ0FBLGdCQUFnQnRNLFNBRWhCeU0sa0JBRUFBLGlCQUFpQlksWUFBWS9DLGlCQU9qRGxFLGdCQUFnQnBTLFVBQVcsYUFBYyxXQUNyQyxPQUNJc1osUUFBUyxhQUNUcFosT0FDRXFaLFVBQVcsS0FFYi9ZLEtBQU0sU0FBU04sTUFBT0ksUUFBU0MsTUFBT2lXLGVBQ2xDLEdBQUlnRCxrQkFBbUIsU0FBU3ZPLE9BQzVCL0ssTUFBTXlELE9BQVEsV0FDTnNILE1BQU13TyxTQUNOakQsY0FBY1osYUFBYXJWLE1BQU1tWixXQUFZcFosUUFBU0MsTUFBTW9aLE9BQVF6WixNQUFNcVosV0FFMUUvQyxjQUFjbEIsYUFBYS9VLE1BQU1tWixXQUFZcFosUUFBU0MsTUFBTW9aLE9BQVF6WixNQUFNcVosYUFJdEZqWixTQUFROEMsS0FBTSxRQUFTb1csa0JBQ3ZCbFosUUFBUW9WLFNBQVUsc0JBQ2QsYUFBZW5WLFFBQTZCLE1BQXBCQSxNQUFNcVosWUFDOUJwRCxjQUFjWixhQUFjclYsTUFBTW1aLFdBQVlwWixRQUFTQyxNQUFNb1osT0FBUXpaLE1BQU1xWixXQUNuRCxlQUFwQmhaLE1BQU1xWixXQUNOcEQsY0FBY1osYUFBY3JWLE1BQU1tWixXQUFZcFosUUFBU0MsTUFBTW9aLE9BQVF6WixNQUFNcVosWUFHL0UsWUFBY2haLFFBQ2RpVyxjQUFjTCxlQUFnQjVWLE1BQU1tWixXQUFZcFosU0FFcERrVyxjQUFjUCxnQkFBaUIzVixhQUszQzhSLGdCQUFnQnBTLFVBQVcsWUFBYSxXQUFZLGVBQWdCLFNBQVNrVCxTQUFVakMsY0FDbkYsT0FDSTRJLFVBQVUsRUFDVkMsY0FBYyxFQUNkUixRQUFTLGFBQ1RTLFNBQVUsSUFDVnZaLEtBQU0sU0FBU04sTUFBT0ksUUFBU0MsTUFBT2lXLGVBSWxDLElBQUssR0FIRHdELGNBQWUsWUFBYSxpQkFBa0Isa0JBQW1CLHdCQUNqRUMsa0JBQW9CRCxZQUFZLEdBQ2hDRSxrQkFBb0IsWUFDZnZaLEVBQUksRUFBR0EsRUFBSXFaLFlBQVl4ZixPQUFRbUcsSUFDcEMsR0FBSTVJLFFBQVFvaUIsVUFBVTdaLFFBQVF2RyxLQUFLaWdCLFlBQVlyWixLQUFNLENBQ2pEc1osa0JBQW9CRCxZQUFZclosR0FDaEN1WixrQkFBb0JELGtCQUFrQmhOLFFBQVEsY0FBZSxPQUM3RCxPQUlSLEdBQUltTixRQUFTLHlGQUNUQyxXQUFhL1osUUFBUXZHLEtBQUtrZ0IsbUJBQzFCSyxnQkFBa0Isa0VBQ2xCQyxhQUFlRixXQUFXaFUsTUFBTSwrQkFDaENtVSxjQUFnQkgsV0FBV2hVLE1BQU1pVSxnQkFnQnJDLElBZklDLGNBQ0EvRCxjQUFjVCxXQUFXd0UsYUFBYSxJQUl0Q0YsV0FBV0ksT0FBTyxnQkFBaUIsR0FDbkNKLFdBQWFBLFdBQVdwTixRQUFRLFlBQWFtTixRQUN6Q0csZUFFQUYsV0FBYUEsV0FBV3BOLFFBQVFzTixhQUFhLEdBQUksSUFBTUEsYUFBYSxLQUd4RUYsV0FBYUEsV0FBV3BOLFFBQVFxTixnQkFBaUIsY0FBZ0JGLE9BQVMsTUFHMUVyaUIsUUFBUTJOLFlBQVluRixNQUFNbWEsY0FBZSxDQUN6QyxHQUFJQyxVQUFXMUosYUFBYTJKLGNBQ3hCQyxPQUFTNUosYUFBYTZKLFlBRXRCQyxVQUFZaGpCLFFBQVF1SSxRQUFRQSxRQUFRLElBQUkwYSxPQUM1Q0QsV0FBVUUsV0FBV2hCLG1CQUNyQmMsVUFBVUUsV0FBV2YsbUJBQ3JCYSxVQUFVckYsU0FBVSxjQUNwQnFGLFVBQVVHLFdBQVdsUCxTQUNyQitPLFVBQVVwUyxPQUFRLGdCQUFrQnJJLFFBQVEsR0FBRzZhLGtCQUFvQixLQUFPUixTQUFXLGFBQWVFLE9BQVMsU0FDN0dFLFVBQVk3SCxTQUFTNkgsV0FBVzdhLE9BQ2hDSSxRQUFRcEQsU0FBU2tlLFFBQVFMLFdBSTdCdkUsY0FBY0osYUFBYW9FLGNBQWMsSUFFekN6aUIsUUFBUXVJLFFBQVFBLFFBQVEsSUFBSXZHLEtBQUtrZ0Isa0JBQW1CSSxZQUNwRG5ILFNBQVM1UyxRQUFTLEtBQU0sS0FBU0osWUFLN0NrUyxnQkFBZ0IrRSxPQUFRLGlCQUFrQixXQUN0QyxNQUFPLFVBQVNPLE1BQU8yRCxVQUN2QixHQUFJM0QsTUFDSixNQUFPMkQsVUFBUzNELFVBSXBCdEYsZ0JBQWdCK0UsT0FBUSxtQkFBb0IsV0FDeEMsTUFBTyxVQUFTTyxNQUFPNEQsU0FDbkIsR0FBSTVELE1BQUosQ0FDQSxHQUFJNkQsV0FBWTdELE1BQU10TCxRQUN0QixPQUFPbVAsV0FBVXhJLEtBQU11SSxhQUkvQmxKLGdCQUFnQitFLE9BQVEsV0FBWSxXQUNoQyxNQUFPLFVBQVNxRSxPQUNaLE1BQU8vYyxVQUFVK2MsUUFBVyxRQUlwQ3BKLGdCQUFnQitFLE9BQVEsYUFBYyxXQUNsQyxNQUFPLFVBQVNxRSxPQUNaLE1BQU9sZ0IsWUFBWWtnQixRQUFXLFFBSXRDcEosZ0JBQWdCK0UsT0FBUSxZQUFhLFdBQ2pDLE1BQU8sVUFBVXFFLE9BQ2IsR0FBSUMsV0FBWXhILEtBQUtoVixNQUFNdWMsTUFDM0IsT0FBTzFJLE9BQU0ySSxXQUFhLEtBQU9BO0FDdGpCekMxakIsUUFBUUMsT0FBTywwQkFDWmdJLFVBQVUsS0FBTSxXQUNmLE9BQ0VDLFNBQVUsSUFDVm9ELFNBQVUsOENBQ1Y0SixTQUFTLEVBQ1R6TSxLQUFNLFNBQVVOLE1BQU9JLFFBQVNDLE9BUTlCLFFBQVNtYixvQkFBb0IzaEIsS0FBTTRoQixXQUNqQyxHQUFJQyxVQUVKcmIsT0FBTXNiLFNBQVM5aEIsS0FBTSxXQUNuQjRoQixVQUFZQSxXQUFhLE1BQVE1aEIsS0FDakN1RyxRQUFRbVYsWUFBWXFHLGVBQWUvaEIsT0FDL0J3RyxNQUFNeEcsUUFDUjZoQixXQUFhRCxVQUFXcGIsTUFBTXhHLE9BQU91UCxLQUFLLEtBQzFDaEosUUFBUW9WLFNBQVNrRyxXQUNqQkUsZUFBZS9oQixNQUFRNmhCLGFBOEM3QixRQUFTRyxxQkFBcUJoaUIsS0FBTTZoQixXQUNsQyxHQUFJN2IsTUFFSlEsT0FBTXNiLFNBQVM5aEIsS0FBTSxXQUNuQjZoQixVQUFZQSxXQUFhLE1BQVE3aEIsS0FDakNnRyxNQUFRaEcsT0FBUXdHLFFBQXlCLFVBQWhCQSxNQUFNeEcsT0FBcUJ3RyxNQUFNeEcsU0FBVSxFQUNwRXVHLFFBQVEwYixZQUFZSixVQUFXN2IsU0FoRW5DLEdBQUkrYixrQkFpQkpKLG9CQUFtQixPQUFRLE1BQzNCQSxtQkFBbUIsVUFDbkJBLG1CQUFtQixRQUNuQkEsbUJBQW1CLFNBS25CbmIsTUFBTXNiLFNBQVMsT0FBUSxXQUNyQixHQUFJRCxVQUNKdGIsU0FBUW1WLFlBQVlxRyxlQUFlcFYsTUFFaEIsVUFBZm5HLE1BQU1tRyxLQUNSa1YsVUFBWSxRQUNGOUksTUFBTXJVLFNBQVM4QixNQUFNbUcsS0FBTSxPQUNyQ2tWLFVBQVksTUFBUXJiLE1BQU1tRyxLQUFPLEtBR25DcEcsUUFBUW9WLFNBQVNrRyxXQUNqQkUsZUFBZXBWLEtBQU9rVixZQU14QnJiLE1BQU1zYixTQUFTLFFBQVMsV0FDdEIsR0FBSUQsVUFDSnRiLFNBQVFtVixZQUFZcUcsZUFBZUcsT0FFZixVQUFoQjFiLE1BQU0wYixNQUNSTCxVQUFZLGNBQ0Y5SSxNQUFNclUsU0FBUzhCLE1BQU0wYixNQUFPLE9BQ3RDTCxVQUFZLFlBQWNyYixNQUFNMGIsTUFBUSxLQUcxQzNiLFFBQVFvVixTQUFTa0csV0FDakJFLGVBQWVHLE1BQVFMLFlBZXpCRyxvQkFBb0IsVUFDcEJBLG9CQUFvQixNQUNwQkEsb0JBQW9CLFdBQ3BCQSxvQkFBb0IsUUFJcEJ6YixRQUFRMGIsWUFBWSxRQUNsQjFiLFFBQVFwRCxVQUM2QixPQUFyQ29ELFFBQVFwRCxTQUFTdUcsS0FBSyxZQUN0Qm5ELFFBQVFwRCxTQUFTQSxVQUNqQm9ELFFBQVFwRCxTQUFTQSxTQUFTZ2YsU0FBUyxVQUNuQzViLFFBQVFwRCxTQUFTZ2UsV0FBVyxLQUFPNWEsUUFBUSxJQUM1QixVQUFmQyxNQUFNNGIsTUFDTjViLE1BQU00YixRQUFTLEdBR2pCNWIsTUFBTXNiLFNBQVMsTUFBTyxXQUNwQixHQUFJTyxTQUFVN2IsTUFBTThiLElBQ2hCQyxRQUFVaGMsUUFBUWljLE9BQ2xCQyxhQUFlLGFBRWZKLFVBQ0Y5YixRQUFRMmEsV0FBVyxPQUdkcUIsU0FBWUEsUUFBUUosU0FBU00sZ0JBQ2hDbGMsUUFBUWtZLE1BQU0sNkNBQ2Q4RCxRQUFVaGMsUUFBUWljLFFBR3BCRCxRQUFRRyxLQUFLTCxVQUNKRSxTQUFXQSxRQUFRSixTQUFTTSxlQUVyQ0YsUUFBUXRRLGVBTWpCaE0sVUFBVSxVQUFXLFdBQ3BCLE9BQ0VDLFNBQVUsSUFDVkcsWUFBWSxFQUNaaUQsU0FBVSxxREFDVjRKLFNBQVMsRUFDVHpNLEtBQU0sU0FBVU4sTUFBT0ksUUFBU0MsT0FROUIsUUFBU21iLG9CQUFvQjNoQixLQUFNNGhCLFdBQ2pDLEdBQUlDLFVBRUpyYixPQUFNc2IsU0FBUzloQixLQUFNLFdBQ25CNGhCLFVBQVlBLFdBQWEsTUFBUTVoQixLQUNqQ3VHLFFBQVFtVixZQUFZcUcsZUFBZS9oQixPQUMvQndHLE1BQU14RyxRQUNSNmhCLFdBQWFELFVBQVdwYixNQUFNeEcsT0FBT3VQLEtBQUssS0FDMUNoSixRQUFRb1YsU0FBU2tHLFdBQ2pCRSxlQUFlL2hCLE1BQVE2aEIsYUFaN0IsR0FBSUUsa0JBaUJKSixvQkFBbUIsUUFLbkJuYixNQUFNc2IsU0FBUyxPQUFRLFdBQ3JCLEdBQUlELFVBRUp0YixTQUFRbVYsWUFBWXFHLGVBQWVwVixNQUVoQixVQUFmbkcsTUFBTW1HLEtBQ1JrVixVQUFZLFFBQ0Y5SSxNQUFNclUsU0FBUzhCLE1BQU1tRyxLQUFNLE9BQ3JDa1YsVUFBWSxNQUFRcmIsTUFBTW1HLEtBQU8sS0FHbkNwRyxRQUFRb1YsU0FBU2tHLFdBQ2pCRSxlQUFlcFYsS0FBT2tWO0NDM0ovQixTQUFZYyxFQUFHdFMsT0FBUW5DLFNBQVU5SSxXQUM5QixZQW1CQSxTQUFTd2QsUUFBUXJjLFFBQVNpQyxTQUd0QnBLLEtBQUtvSyxRQUFVbWEsRUFBRXJMLFVBQVl1TCxTQUFVcmEsU0FDdkNwSyxLQUFLMGtCLFVBQVlELFNBQ2pCemtCLEtBQUsya0IsTUFBUUMsV0FHYjVrQixLQUFLbWUsU0FBV29HLEVBQUVwYyxTQUdsQm5JLEtBQUtZLE9BbEJULEdBQUlna0IsWUFBYSxhQUViSCxVQUNBSSxhQUFjLFFBa0JsQkwsUUFBTzFlLFdBQ0hnZixZQUFhTixPQUViNWpCLEtBQU0sV0FHRlosS0FBSytrQixVQUdUQSxPQUFRLFNBQVNDLEdBQUk1YSxTQUNxQixTQUFuQ3BLLEtBQUttZSxTQUFTeGMsS0FBSyxZQUNsQjNCLEtBQUtpbEIsV0FHTGpsQixLQUFLa2xCLFlBSWJBLFNBQVUsV0FDTmxsQixLQUFLbWUsU0FBU3hjLEtBQUssV0FBWSxRQUMvQjNCLEtBQUttZSxTQUFTZ0gsS0FBSyxNQUFNQyxRQUc3QkgsU0FBVSxXQUNOamxCLEtBQUttZSxTQUFTeGMsS0FBSyxXQUFZLFFBQy9CM0IsS0FBS21lLFNBQVNnSCxLQUFLLE1BQU1FLFNBTWpDZCxFQUFFM0QsR0FBR2dFLFlBQWMsU0FBV3hhLFNBQzFCLE1BQU9wSyxNQUFLc2xCLEtBQUssV0FHVGYsRUFBRTVpQixLQUFLM0IsS0FBTSxVQUFZNGtCLFlBQ3pCTCxFQUFFNWlCLEtBQUszQixLQUFNLFVBQVk0a0IsWUFBWUcsU0FJckNSLEVBQUU1aUIsS0FBSzNCLEtBQU0sVUFBWTRrQixXQUFZLEdBQUlKLFFBQVF4a0IsS0FBTW9LLGFBTW5FbWEsRUFBRXpVLFVBQVV5VixHQUFHLFFBQVMsU0FBU2hhLEdBQzdCZ1osRUFBRWUsS0FBS2YsRUFBRSwyQkFBNEIsU0FBUy9iLEVBQUdaLE9BQ3pDMmMsRUFBRWhaLEVBQUVpYSxPQUFPQyxjQUFjLElBQU1sQixFQUFFdmtCLE1BQU0sSUFDbkN1a0IsRUFBRTVpQixLQUFLM0IsS0FBTSxVQUFZNGtCLGNBQ3pCTCxFQUFFNWlCLEtBQUszQixLQUFNLFVBQVk0a0IsWUFBWUssV0FDckNWLEVBQUV2a0IsTUFBTW1sQixLQUFLLE1BQU1FLFlBT25DZCxFQUFFelUsVUFBVXlWLEdBQUcsUUFBUywwQkFBMkIsU0FBU2hhLEdBQ3hELEdBQUltYSxXQUFZbkIsRUFBRWhaLEVBQUVvYSxjQUNwQkQsV0FBVUUsZUFJZHJCLEVBQUV6VSxVQUFVeVYsR0FBRyxRQUFTLDhCQUErQixTQUFTaGEsR0FDNURBLEVBQUVzYSxvQkFHTkMsT0FBUTdULE9BQVFuQztBQ3hHcEIsR0FBSWlXLGFBQWNubUIsUUFBUUMsT0FBTyxZQUM5QmdJLFVBQVUsU0FBVSxXQUFZLFNBQVVrVCxVQUN6QyxPQUNFalQsU0FBVSxLQUNWZ04sU0FBUyxFQUNUL00sT0FDRWllLFNBQVUsWUFDVkMsY0FBZSxhQUNmQyxZQUFhLFdBQ2JDLGNBQWUsYUFDZkMsZUFBZ0Isa0JBQ2hCQyxVQUFXLGFBQ1hDLFNBQVUsS0FDVkMsU0FBVSxLQUNWQyxZQUFhLElBQ2JDLFFBQVMsS0FDVEMsUUFBUyxLQUNUQyxNQUFPLEtBQ1BDLEtBQU0sS0FDTkMsT0FBUSxLQUNSQyxNQUFPLEtBQ1BDLFNBQVUsS0FDVkMsU0FBVSxLQUNWQyxPQUFRLEtBQ1JDLE1BQU8sS0FDUEMsUUFBUyxLQUNUQyxPQUFRLE1BRVZqZ0IsWUFBYSxTQUFVLFdBQVksU0FBVSxXQUFZLGNBQWUsZUFBZ0IscUJBQXNCLFNBQVVDLE9BQVErVyxTQUFVQyxPQUFRL1csU0FBVWdnQixZQUFhdk8sYUFBY3dPLG9CQXNFckwsUUFBU0MsZ0JBQ0huZ0IsT0FBT29nQixXQUNUQyxhQUFhcmdCLE9BQU9vZ0IsV0FrR3hCLFFBQVNFLHNCQUNQLEdBQUlDLGFBRXFCM2dCLFVBQXJCb1gsT0FBT3dKLFlBQ1R4Z0IsT0FBT3lnQixPQUFTQyxTQUFTQyxLQUFLRCxPQUFPMWdCLE9BQU82ZSxpQkFHOUMwQixVQUFZSyxZQUFZQyxhQUFhN2dCLE9BQU95Z0IsUUFHdkN6Z0IsT0FBT29mLGFBQXNDLFFBQXZCcGYsT0FBT29mLFlBT0EsV0FBdkJwZixPQUFPb2YsYUFDaEJwZixPQUFPcWYsUUFBVWxqQixLQUFLMmtCLE1BQU05Z0IsT0FBT3lnQixPQUFTLEtBQzVDemdCLE9BQU9zZixRQUFVLEVBQ2pCdGYsT0FBT3VmLE1BQVEsRUFDZnZmLE9BQU93ZixLQUFPLEVBQ2R4ZixPQUFPeWYsT0FBUyxFQUNoQnpmLE9BQU8wZixNQUFRLEdBQ2lCLFdBQXZCMWYsT0FBT29mLGFBQ2hCcGYsT0FBT3FmLFFBQVVsakIsS0FBSzJrQixNQUFPOWdCLE9BQU95Z0IsT0FBUyxJQUFRLElBQ3JEemdCLE9BQU9zZixRQUFVbmpCLEtBQUsya0IsTUFBTTlnQixPQUFPeWdCLE9BQVMsS0FDNUN6Z0IsT0FBT3VmLE1BQVEsRUFDZnZmLE9BQU93ZixLQUFPLEVBQ2R4ZixPQUFPeWYsT0FBUyxFQUNoQnpmLE9BQU8wZixNQUFRLEdBQ2lCLFNBQXZCMWYsT0FBT29mLGFBQ2hCcGYsT0FBT3FmLFFBQVVsakIsS0FBSzJrQixNQUFPOWdCLE9BQU95Z0IsT0FBUyxJQUFRLElBQ3JEemdCLE9BQU9zZixRQUFVbmpCLEtBQUsya0IsTUFBUTlnQixPQUFPeWdCLE9BQUEsSUFBb0IsSUFDekR6Z0IsT0FBT3VmLE1BQVFwakIsS0FBSzJrQixNQUFNOWdCLE9BQU95Z0IsT0FBUyxNQUMxQ3pnQixPQUFPd2YsS0FBTyxFQUNkeGYsT0FBT3lmLE9BQVMsRUFDaEJ6ZixPQUFPMGYsTUFBUSxHQUNpQixVQUF2QjFmLE9BQU9vZixhQUNoQnBmLE9BQU9xZixRQUFVbGpCLEtBQUsya0IsTUFBTzlnQixPQUFPeWdCLE9BQVMsSUFBUSxJQUNyRHpnQixPQUFPc2YsUUFBVW5qQixLQUFLMmtCLE1BQVE5Z0IsT0FBT3lnQixPQUFBLElBQW9CLElBQ3pEemdCLE9BQU91ZixNQUFRcGpCLEtBQUsya0IsTUFBUTlnQixPQUFPeWdCLE9BQUEsS0FBc0IsSUFDekR6Z0IsT0FBT3dmLEtBQU9yakIsS0FBSzJrQixNQUFROWdCLE9BQU95Z0IsT0FBQSxLQUFzQixHQUFNLElBQzlEemdCLE9BQU95ZixPQUFTdGpCLEtBQUsya0IsTUFBUTlnQixPQUFPeWdCLE9BQUEsS0FBc0IsR0FBTSxJQUNoRXpnQixPQUFPMGYsTUFBUSxHQUNpQixTQUF2QjFmLE9BQU9vZixjQUNoQnBmLE9BQU9xZixRQUFVbGpCLEtBQUsya0IsTUFBTzlnQixPQUFPeWdCLE9BQVMsSUFBUSxJQUNyRHpnQixPQUFPc2YsUUFBVW5qQixLQUFLMmtCLE1BQVE5Z0IsT0FBT3lnQixPQUFBLElBQW9CLElBQ3pEemdCLE9BQU91ZixNQUFRcGpCLEtBQUsya0IsTUFBUTlnQixPQUFPeWdCLE9BQUEsS0FBc0IsSUFDekR6Z0IsT0FBT3dmLEtBQU9yakIsS0FBSzJrQixNQUFROWdCLE9BQU95Z0IsT0FBQSxLQUFzQixHQUFNLElBQzlEemdCLE9BQU95ZixPQUFTdGpCLEtBQUsya0IsTUFBUTlnQixPQUFPeWdCLE9BQUEsS0FBc0IsR0FBSyxHQUFNLElBQ3JFemdCLE9BQU8wZixNQUFRdmpCLEtBQUsya0IsTUFBTzlnQixPQUFPeWdCLE9BQUEsS0FBc0IsR0FBSyxPQXhDN0R6Z0IsT0FBT3FmLFFBQVVsakIsS0FBSzJrQixNQUFPOWdCLE9BQU95Z0IsT0FBUyxJQUFRLElBQ3JEemdCLE9BQU9zZixRQUFVbmpCLEtBQUsya0IsTUFBUTlnQixPQUFPeWdCLE9BQUEsSUFBb0IsSUFDekR6Z0IsT0FBT3VmLE1BQVFwakIsS0FBSzJrQixNQUFROWdCLE9BQU95Z0IsT0FBQSxLQUFzQixJQUN6RHpnQixPQUFPd2YsS0FBT3JqQixLQUFLMmtCLE1BQVE5Z0IsT0FBT3lnQixPQUFBLEtBQXNCLElBQ3hEemdCLE9BQU95ZixPQUFTLEVBQ2hCemYsT0FBTzBmLE1BQVEsR0FzQ2pCMWYsT0FBTzJmLFNBQStCLElBQW5CM2YsT0FBT3FmLFFBQWlCLEdBQUssSUFDaERyZixPQUFPNGYsU0FBK0IsSUFBbkI1ZixPQUFPc2YsUUFBaUIsR0FBSyxJQUNoRHRmLE9BQU82ZixPQUEyQixJQUFqQjdmLE9BQU91ZixNQUFlLEdBQUssSUFDNUN2ZixPQUFPOGYsTUFBeUIsSUFBaEI5ZixPQUFPd2YsS0FBYSxHQUFLLElBQ3pDeGYsT0FBTytmLFFBQTZCLElBQWxCL2YsT0FBT3lmLE9BQWUsR0FBSyxJQUM3Q3pmLE9BQU9nZ0IsT0FBMkIsSUFBakJoZ0IsT0FBTzBmLE1BQWMsR0FBSyxJQUkzQzFmLE9BQU8rZ0IsV0FBYVIsVUFBVWxCLFFBQzlCcmYsT0FBT2doQixXQUFhVCxVQUFVakIsUUFDOUJ0ZixPQUFPaWhCLFNBQVdWLFVBQVVoQixNQUM1QnZmLE9BQU9raEIsUUFBVVgsVUFBVWYsS0FDM0J4ZixPQUFPbWhCLFVBQVlaLFVBQVVkLE9BQzdCemYsT0FBT29oQixTQUFXYixVQUFVYixNQUc1QjFmLE9BQU9xaEIsU0FBV3JoQixPQUFPcWYsUUFBVSxHQUFLLElBQU1yZixPQUFPcWYsUUFBVXJmLE9BQU9xZixRQUN0RXJmLE9BQU9zaEIsU0FBV3RoQixPQUFPc2YsUUFBVSxHQUFLLElBQU10ZixPQUFPc2YsUUFBVXRmLE9BQU9zZixRQUN0RXRmLE9BQU91aEIsT0FBU3ZoQixPQUFPdWYsTUFBUSxHQUFLLElBQU12ZixPQUFPdWYsTUFBUXZmLE9BQU91ZixNQUNoRXZmLE9BQU93aEIsTUFBUXhoQixPQUFPd2YsS0FBTyxHQUFLLElBQU14ZixPQUFPd2YsS0FBT3hmLE9BQU93ZixLQUM3RHhmLE9BQU95aEIsUUFBVXpoQixPQUFPeWYsT0FBUyxHQUFLLElBQU16ZixPQUFPeWYsT0FBU3pmLE9BQU95ZixPQUNuRXpmLE9BQU8waEIsT0FBUzFoQixPQUFPMGYsTUFBUSxHQUFLLElBQU0xZixPQUFPMGYsTUFBUTFmLE9BQU8wZixNQWxQN0Isa0JBQTFCeFosUUFBT3hILFVBQVUyVCxPQUMxQm5NLE9BQU94SCxVQUFVMlQsS0FBTyxXQUN0QixNQUFPelosTUFBSzhVLFFBQVEsYUFBYyxNQU90QzFOLE9BQU9pZixVQUFZakksT0FBT2lJLFdBQWFqSSxPQUFPMkssVUFHOUMzaEIsT0FBT2tmLFNBQVdsZixPQUFPa2YsVUFBWSxLQUNyQ2xmLE9BQU9tZixTQUFXbmYsT0FBT21mLFVBQVksS0FHckNuZixPQUFPNGhCLE9BQU8sV0FBWSxTQUFTQyxPQUFRQyxRQUMzQmxpQixTQUFYaWlCLFFBQ0RqQixZQUFZcG5CLEtBQUtxb0IsT0FBUTdoQixPQUFPbWYsV0FLcEMsSUFBSXlCLGFBQWMsR0FBSVgsWUFDdEJXLGFBQVlwbkIsS0FBS3dHLE9BQU9rZixTQUFVbGYsT0FBT21mLFVBR3pDbmYsT0FBTytoQixtQkFBcUIsRUFDNUIvaEIsT0FBT2dpQixzQkFBd0IsU0FFTyxJQUFsQ2pMLFNBQVNrTCxPQUFPNVAsT0FBT3BYLE9BQ3pCOGIsU0FBUzNOLE9BQU91SyxTQUFTLFNBQVdqQyxhQUFhMkosY0FBZ0IsU0FBVzNKLGFBQWE2SixZQUFjLFdBQVd2YixTQUVsSCtXLFNBQVMzTixPQUFPdUssU0FBU29ELFNBQVNtTCxZQUFZbGlCLFNBR2hEQSxPQUFPd2dCLFVBQVksS0FDbkJ4Z0IsT0FBT21pQixRQUFVLEtBQ2pCbmlCLE9BQU9vZ0IsVUFBWSxLQUNuQnBnQixPQUFPb2lCLFVBQVk1cEIsUUFBUTZwQixTQUFTcmlCLE9BQU8rZSxnQkFBa0I3ZixTQUFTYyxPQUFPK2UsY0FBZSxLQUFPLEVBQUk3ZixTQUFTYyxPQUFPK2UsY0FBZSxJQUFNbmYsT0FDNUlJLE9BQU9zaUIsV0FBWSxFQUVuQnRpQixPQUFPN0csSUFBSSxjQUFlLFdBQ3hCNkcsT0FBT2lLLFVBR1RqSyxPQUFPN0csSUFBSSxlQUFnQixXQUN6QjZHLE9BQU91aUIsV0FHVHZpQixPQUFPN0csSUFBSSxhQUFjLFdBQ3ZCNkcsT0FBT3dpQixTQUdUeGlCLE9BQU83RyxJQUFJLGNBQWUsV0FDeEI2RyxPQUFPeWlCLFVBR1R6aUIsT0FBTzdHLElBQUksY0FBZSxXQUN4QjZHLE9BQU8waUIsVUFHVDFpQixPQUFPN0csSUFBSSxzQkFBdUIsU0FBVWdMLEVBQUdpZSxXQUM3Q3BpQixPQUFPb2lCLFVBQVlBLFlBU3JCcGlCLE9BQU80aEIsT0FBTyxnQkFBaUIsU0FBU2UsU0FBVUMsVUFDNUNELFdBQWFDLFVBQVk1aUIsT0FBT3NpQixXQUNsQ3RpQixPQUFPaUssVUFJWGpLLE9BQU80aEIsT0FBTyxjQUFlLFNBQVNlLFNBQVVDLFVBQzFDRCxXQUFhQyxVQUFZNWlCLE9BQU9zaUIsV0FDbEN0aUIsT0FBT2lLLFVBSVhqSyxPQUFPaUssTUFBUSxXQUNiakssT0FBT3dnQixVQUFZeGdCLE9BQU82ZSxjQUFnQjZCLE9BQU8xZ0IsT0FBTzZlLGVBQWlCNkIsU0FDekUxZ0IsT0FBT21pQixRQUFVbmlCLE9BQU84ZSxZQUFjNEIsT0FBTzFnQixPQUFPOGUsYUFBZSxLQUM5RHRtQixRQUFRNnBCLFNBQVNyaUIsT0FBT29pQixhQUMzQnBpQixPQUFPb2lCLFVBQVk1cEIsUUFBUTZwQixTQUFTcmlCLE9BQU8rZSxnQkFBa0I3ZixTQUFTYyxPQUFPK2UsY0FBZSxJQUFNLEVBQUk3ZixTQUFTYyxPQUFPK2UsY0FBZSxJQUFNbmYsUUFFN0l1Z0IsZUFDQTBDLE9BQ0E3aUIsT0FBT3NpQixXQUFZLEVBQ25CdGlCLE9BQU9PLE1BQU0saUJBQ1g2ZixVQUFXcGdCLE9BQU9vZ0IsVUFDbEJLLE9BQVF6Z0IsT0FBT3lnQixPQUNmcEIsUUFBU3JmLE9BQU9xZixRQUNoQkMsUUFBU3RmLE9BQU9zZixRQUNoQkMsTUFBT3ZmLE9BQU91ZixNQUNkQyxLQUFNeGYsT0FBT3dmLFFBSWpCeGYsT0FBT3VpQixPQUFTLFdBQ2RwQyxlQUNJbmdCLE9BQU8rZSxnQkFDVC9lLE9BQU9vaUIsV0FBYSxHQUV0QnBpQixPQUFPd2dCLFVBQVlFLFNBQVNDLEtBQU1ELE9BQU8xZ0IsT0FBTzhpQixhQUFhbkMsS0FBS0QsT0FBTzFnQixPQUFPd2dCLGFBQ2hGcUMsT0FDQTdpQixPQUFPc2lCLFdBQVksRUFDbkJ0aUIsT0FBT08sTUFBTSxpQkFDWDZmLFVBQVdwZ0IsT0FBT29nQixVQUNsQkssT0FBUXpnQixPQUFPeWdCLE9BQ2ZwQixRQUFTcmYsT0FBT3FmLFFBQ2hCQyxRQUFTdGYsT0FBT3NmLFFBQ2hCQyxNQUFPdmYsT0FBT3VmLE1BQ2RDLEtBQU14ZixPQUFPd2YsUUFJakJ4ZixPQUFPd2lCLEtBQU94aUIsT0FBTytpQixNQUFRLFdBQzNCLEdBQUkzQyxXQUFZcGdCLE9BQU9vZ0IsU0FDdkJwZ0IsUUFBT3lpQixRQUNQemlCLE9BQU9PLE1BQU0saUJBQ1g2ZixVQUFXQSxVQUNYSyxPQUFRemdCLE9BQU95Z0IsT0FDZnBCLFFBQVNyZixPQUFPcWYsUUFDaEJDLFFBQVN0ZixPQUFPc2YsUUFDaEJDLE1BQU92ZixPQUFPdWYsTUFDZEMsS0FBTXhmLE9BQU93ZixRQUlqQnhmLE9BQU95aUIsTUFBUSxXQUViemlCLE9BQU84aUIsWUFBY3BDLFNBQ3JCUCxlQUNBbmdCLE9BQU9vZ0IsVUFBWSxLQUNuQnBnQixPQUFPc2lCLFdBQVksR0FHckJ0aUIsT0FBTzBpQixNQUFRLFdBQ2IxaUIsT0FBT3dnQixVQUFZeGdCLE9BQU82ZSxjQUFnQjZCLE9BQU8xZ0IsT0FBTzZlLGVBQWlCNkIsU0FDekUxZ0IsT0FBT21pQixRQUFVbmlCLE9BQU84ZSxZQUFjNEIsT0FBTzFnQixPQUFPOGUsYUFBZSxLQUNuRTllLE9BQU9vaUIsVUFBWTVwQixRQUFRNnBCLFNBQVNyaUIsT0FBTytlLGdCQUFrQjdmLFNBQVNjLE9BQU8rZSxjQUFlLElBQU0sRUFBSTdmLFNBQVNjLE9BQU8rZSxjQUFlLElBQU1uZixPQUMzSXVnQixlQUNBMEMsT0FDQTdpQixPQUFPc2lCLFdBQVksRUFDbkJ0aUIsT0FBT3lpQixRQUNQemlCLE9BQU9PLE1BQU0sZUFDWDZmLFVBQVdBLFVBQ1hLLE9BQVF6Z0IsT0FBT3lnQixPQUNmcEIsUUFBU3JmLE9BQU9xZixRQUNoQkMsUUFBU3RmLE9BQU9zZixRQUNoQkMsTUFBT3ZmLE9BQU91ZixNQUNkQyxLQUFNeGYsT0FBT3dmLFFBSWpCekksU0FBU2xULEtBQUssV0FBWSxXQUN4QnNjLGVBQ0FuZ0IsT0FBT3NpQixXQUFZLElBcUZqQnRpQixPQUFPK2UsZUFDVC9lLE9BQU95Z0IsT0FBZ0MsSUFBdkJ6Z0IsT0FBTytlLGNBRXZCL2UsT0FBT2dqQixhQUFlLFNBQVVDLGNBQzlCampCLE9BQU9vaUIsV0FBYWEsYUFDZmpqQixPQUFPc2lCLFdBQ1Z0aUIsT0FBT2lLLFNBSVhqSyxPQUFPN0csSUFBSSx1QkFBd0IsU0FBVWdMLEVBQUc4ZSxjQUM3Q2pqQixPQUFPZ2pCLGFBQWFDLGdCQUd2QmpqQixPQUFPN0csSUFBSSw4QkFBK0IsU0FBVWdMLEVBQUcrZSxrQkFDaERsakIsT0FBT3NpQixXQUNWdGlCLE9BQU95aUIsUUFHVHppQixPQUFPb2lCLFVBQVljLGlCQUNuQmxqQixPQUFPeWdCLE9BQTRCLElBQW5CeUMsaUJBQ2hCNUMsd0JBR0Z0Z0IsT0FBT3lnQixPQUFTLEVBRWxCSCxvQkFFQSxJQUFJdUMsTUFBTyxRQUFTQSxRQUNsQixHQUFJTSxXQUFZLElBQ2hCbmpCLFFBQU95Z0IsT0FBU0MsU0FBU0MsS0FBSzNnQixPQUFPd2dCLFVBQ3JDLElBQUk0QyxZQUFhcGpCLE9BQU95Z0IsT0FBUyxHQWFqQyxPQVhJemdCLFFBQU84ZSxjQUNUcUUsVUFBWW5qQixPQUFPOGUsWUFDbkI5ZSxPQUFPeWdCLE9BQVNDLE9BQU8xZ0IsT0FBT21pQixTQUFTeEIsS0FBS0QsVUFDNUMwQyxXQUFhcGpCLE9BQU80ZSxTQUFXNWUsT0FBT3lnQixPQUFTLEtBRzdDemdCLE9BQU8rZSxnQkFDVG9FLFVBQVluakIsT0FBTytlLGNBQ25CL2UsT0FBT3lnQixPQUE0QixJQUFuQnpnQixPQUFPb2lCLFdBR3JCcGlCLE9BQU95Z0IsT0FBUyxHQUNsQnpnQixPQUFPd2lCLE9BQ1B4aUIsT0FBT3lnQixPQUFTLEVBQ2hCSCwwQkFDR3RnQixPQUFPZ2YsZ0JBQ1JoZixPQUFPd1gsTUFBTXhYLE9BQU9nZixtQkFJeEJzQixxQkFHQXRnQixPQUFPb2dCLFVBQVlqVSxXQUFXLFdBQzFCMFcsT0FHQTdpQixPQUFPb0UsVUFDUnBFLE9BQU80ZSxTQUFXd0UsWUFFckJwakIsT0FBT08sTUFBTSxjQUNYNmYsVUFBV3BnQixPQUFPb2dCLFVBQ2xCSyxPQUFRemdCLE9BQU95Z0IsT0FDZnBCLFFBQVNyZixPQUFPcWYsUUFDaEJDLFFBQVN0ZixPQUFPc2YsUUFDaEJDLE1BQU92ZixPQUFPdWYsTUFDZEMsS0FBTXhmLE9BQU93ZixPQUdYeGYsT0FBT29pQixVQUFZLEVBQ3JCcGlCLE9BQU9vaUIsWUFFQXBpQixPQUFPb2lCLFdBQWEsSUFDM0JwaUIsT0FBT3dpQixPQUNKeGlCLE9BQU9nZixnQkFDUmhmLE9BQU93WCxNQUFNeFgsT0FBT2dmLHNCQUlQLE9BQWRtRSxZQUVEbmpCLE9BQU9xakIsWUFBY25ELG1CQUFtQm9ELHFCQUFxQnRqQixPQUFPd2dCLFVBQVd4Z0IsT0FBT3lnQixPQUFRemdCLE9BQU9taUIsUUFBU25pQixPQUFPK2UsZUFFM0YsTUFBdkIvZSxPQUFPcWpCLGNBQ1JyakIsT0FBT2dpQixzQkFBd0IsT0FLWnBpQixVQUFyQkksT0FBT2lmLFdBQTJCamYsT0FBT2lmLGFBQWMsR0FDekRqZixPQUFPaUssY0FLZHhKLFVBQVUsZ0JBQWlCLFdBQzFCLE9BQ0VDLFNBQVUsS0FDVkMsT0FBTyxFQUNQWixZQUFhLFNBQVUsU0FBU0MsUUFDOUJBLE9BQU91akIsWUFBYyxRQUNyQnZqQixPQUFPN0csSUFBSSxnQkFBaUIsV0FDMUI2RyxPQUFPdWpCLFlBQWMsWUFFdkJ2akIsT0FBTzdHLElBQUksZ0JBQWlCLFdBQzFCNkcsT0FBT3VqQixZQUFjLFlBRXZCdmpCLE9BQU83RyxJQUFJLGNBQWUsV0FDeEI2RyxPQUFPdWpCLFlBQWMsVUFFdkJ2akIsT0FBT3dqQixXQUFhLFdBQ2xCeGpCLE9BQU9wRixXQUFXLGdCQUVwQm9GLE9BQU95akIsVUFBWSxXQUNqQnpqQixPQUFPcEYsV0FBVyxlQUVwQm9GLE9BQU8wakIsWUFBYyxXQUNuQjFqQixPQUFPcEYsV0FBVyxpQkFFcEJvRixPQUFPMmpCLFlBQWMsV0FDbkIsT0FBUTNqQixPQUFPdWpCLGFBQ2IsSUFBSyxVQUNIdmpCLE9BQU95akIsV0FDUCxNQUNGLEtBQUssVUFDSHpqQixPQUFPMGpCLGFBQ1AsTUFDRixLQUFLLFFBQ0gxakIsT0FBT3dqQixlQUlieGpCLE9BQU80akIsa0JBQW9CLFNBQVNYLGNBQ2xDampCLE9BQU9wRixXQUFXLHVCQUF3QnFvQixtQkFPOUIsb0JBQVh4cUIsU0FBNkMsbUJBQVo2TCxVQUEyQjdMLE9BQU82TCxVQUFZQSxVQUN4RjdMLE9BQU82TCxRQUFVcWEsWUFHbkIsSUFBSWtGLEtBQU1yckIsUUFBUUMsT0FBTyxRQUV6Qm9yQixLQUFJM2xCLFFBQVEsY0FBZSxXQUV2QixHQUFJK2hCLGFBQWMsWUEyRGxCLE9BekRBQSxhQUFZdmhCLFVBQVV3Z0IsU0FBVyxLQUNqQ2UsWUFBWXZoQixVQUFVeWdCLFNBQVcsS0FDakNjLFlBQVl2aEIsVUFBVW9sQixpQkFFdEI3RCxZQUFZdmhCLFVBQVVsRixLQUFPLFNBQWN1cUIsS0FBTTVFLFVBQzdDLEdBQUk2RSxxQkFBc0JDLGlCQUFpQkMsdUJBRTNDdHJCLE1BQUt1bUIsU0FBeUJ2ZixTQUFidWYsU0FBMEJBLFNBQVcsS0FDbEQ2RSxvQkFBb0JyZ0IsUUFBUXdiLGFBQWMsSUFDMUN2bUIsS0FBS3VtQixTQUFXLE1BR3BCdm1CLEtBQUtzbUIsU0FBVzZFLEtBQ1pDLG9CQUFvQnJnQixRQUFRb2dCLFNBQVUsSUFDdENuckIsS0FBS3NtQixTQUFXdG1CLEtBQUt1bUIsVUFTekJ2bUIsS0FBS2tyQixjQUFnQkcsaUJBQWlCRSxXQUNsQ2pGLFNBQVV0bUIsS0FBS3NtQixTQUNma0YsVUFBUyxLQVNqQm5FLFlBQVl2aEIsVUFBVW1pQixhQUFlLFNBQXNCSixRQUN2RCxHQUFJNEQsZUFBMEMsSUFBMUJsb0IsS0FBS0MsTUFBTXFrQixPQUFPLEtBRWxDNkQsT0FpQkosT0FmaUMsbUJBQXRCMXJCLE1BQUtrckIsY0FDWlEsTUFDSTdELE9BQVc3bkIsS0FBS2tyQixjQUFjTyxlQUFpQkUsT0FBUSxRQUN2RGxGLFFBQVl6bUIsS0FBS2tyQixjQUFjTyxlQUFpQkUsT0FBUSxPQUN4RGpGLFFBQVkxbUIsS0FBS2tyQixjQUFjTyxlQUFpQkUsT0FBUSxJQUFLLE9BQzdEaEYsTUFBVTNtQixLQUFLa3JCLGNBQWNPLGVBQWlCRSxPQUFRLElBQUssSUFBSyxPQUNoRS9FLEtBQVM1bUIsS0FBS2tyQixjQUFjTyxlQUFpQkUsT0FBUSxJQUFLLElBQUssSUFBSyxPQUNwRTlFLE9BQVc3bUIsS0FBS2tyQixjQUFjTyxlQUFpQkUsT0FBUSxLQUFNLElBQUssSUFBSyxJQUFLLE9BQzVFN0UsTUFBVTltQixLQUFLa3JCLGNBQWNPLGVBQWlCRSxPQUFRLElBQUssS0FBTSxJQUFLLElBQUssSUFBSyxRQUlwRm5wQixRQUFRdUQsTUFBTSwwRkFHWDJsQixNQUdKckUsYUFHWCxJQUFJNEQsS0FBTXJyQixRQUFRQyxPQUFPLFFBRXpCb3JCLEtBQUkzbEIsUUFBUSxxQkFBc0IsV0FFaEMsR0FBSXNtQixvQkFBcUIsWUF3Q3pCLE9BM0JBQSxvQkFBbUI5bEIsVUFBVTRrQixxQkFBdUIsU0FBOEJtQixXQUFZQyxjQUFlNUYsWUFBYTZGLFVBQ3hILEdBQ0VDLGNBQ0FDLGlCQUZFOUMsbUJBQXFCLENBdUJ6QixPQW5CQTJDLGdCQUFnQyxJQUdiLE9BQWhCNUYsYUFDRDhGLGFBQWVsRSxPQUFPNUIsYUFDdEIrRixpQkFBbUJELGFBQWFqRSxLQUFLOEQsV0FBWSxXQUNqRDFDLG1CQUFxQyxJQUFoQjJDLGNBQXNCRyxrQkFHM0M5QyxtQkFBcUMsSUFBaEIyQyxjQUFzQkMsU0FHN0M1QyxtQkFBcUIsSUFBTUEsbUJBQzNCQSxtQkFBcUI1bEIsS0FBS0MsTUFBMkIsR0FBckIybEIsb0JBQTJCLEdBRXhEQSxtQkFBcUIsTUFDdEJBLG1CQUFxQixLQUdoQkEsb0JBR0YsR0FBSXlDIiwiZmlsZSI6ImxpYnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ25nQ2FydCcsIFsnbmdDYXJ0LmRpcmVjdGl2ZXMnXSlcclxuXHJcbiAgICAuY29uZmlnKFtmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLnByb3ZpZGVyKCckbmdDYXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuXHJcbiAgICAucnVuKFsnJHJvb3RTY29wZScsICduZ0NhcnQnLCduZ0NhcnRJdGVtJywgJ3N0b3JlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsIG5nQ2FydCwgbmdDYXJ0SXRlbSwgc3RvcmUpIHtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ25nQ2FydDpjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBuZ0NhcnQuJHNhdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3Qoc3RvcmUuZ2V0KCdjYXJ0JykpKSB7XHJcbiAgICAgICAgICAgIG5nQ2FydC4kcmVzdG9yZShzdG9yZS5nZXQoJ2NhcnQnKSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5nQ2FydC5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1dKVxyXG5cclxuICAgIC5zZXJ2aWNlKCduZ0NhcnQnLCBbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJyR3aW5kb3cnLCAnbmdDYXJ0SXRlbScsICdzdG9yZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkbG9jYXRpb24sICR3aW5kb3csIG5nQ2FydEl0ZW0sIHN0b3JlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQgPSB7XHJcbiAgICAgICAgICAgICAgICBzaGlwcGluZyA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0YXhSYXRlIDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRheCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtID0gZnVuY3Rpb24gKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSwgYXR0cikge1xyXG4gICAgICAgICAgICB2YXIgaW5DYXJ0ID0gdGhpcy5nZXRJdGVtQnlJZChpZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGluQ2FydCA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICAgICAgLy9VcGRhdGUgcXVhbnRpdHkgb2YgYW4gaXRlbSBpZiBpdCdzIGFscmVhZHkgaW4gdGhlIGNhcnRcclxuICAgICAgICAgICAgICAgIGluQ2FydC5zZXRRdWFudGl0eShxdWFudGl0eSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6aXRlbVVwZGF0ZWQnLCBpbkNhcnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSBuZXcgbmdDYXJ0SXRlbShpZCwgc2t1LCBuYW1lLCBwcmljZSwgcXVhbnRpdHksIGRhdGEsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kY2FydC5pdGVtcy5wdXNoKG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6aXRlbUFkZGVkJywgbmV3SXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmFkZEl0ZW1CdG4gPSBmdW5jdGlvbiAoaWQsIHNrdSwgbmFtZSwgcHJpY2UsIHF1YW50aXR5LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBza3VzID0gZGF0YS5za3VzO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChza3VzLmxlbmd0aCA9PT0gMSl7XHJcbiAgICAgICAgICAgIHZhciBpbkNhcnQgPSB0aGlzLmdldEl0ZW1CeUlkKGlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5DYXJ0ID09PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgICAgICAvL1VwZGF0ZSBxdWFudGl0eSBvZiBhbiBpdGVtIGlmIGl0J3MgYWxyZWFkeSBpbiB0aGUgY2FydFxyXG4gICAgICAgICAgICAgICAgaW5DYXJ0LnNldFF1YW50aXR5KHF1YW50aXR5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtVXBkYXRlZCcsIGluQ2FydCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbSA9IG5ldyBuZ0NhcnRJdGVtKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRjYXJ0Lml0ZW1zLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtQWRkZWQnLCBuZXdJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnVybCgnL3N0b3JlLycrIGRhdGEuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlUXVhbnRpdHkgPSBmdW5jdGlvbiAoaWQsIHF1YW50aXR5KXtcclxuICAgICAgICAgICAgdmFyIGluQ2FydCA9IHRoaXMuZ2V0SXRlbUJ5SWQoaWQpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGluQ2FydCA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICBpbkNhcnQuc2V0UXVhbnRpdHkocXVhbnRpdHksIHRydWUpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtVXBkYXRlZCcsIGluQ2FydCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdGhpbmcgdGhlcmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuZ2V0SXRlbUJ5SWQgPSBmdW5jdGlvbiAoaXRlbUlkKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0Q2FydCgpLml0ZW1zO1xyXG4gICAgICAgICAgICB2YXIgYnVpbGQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmICAoaXRlbS5nZXRJZCgpID09PSBpdGVtSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWlsZCA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVpbGQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTaGlwcGluZyA9IGZ1bmN0aW9uKHNoaXBwaW5nKXtcclxuICAgICAgICAgICAgdGhpcy4kY2FydC5zaGlwcGluZyA9IHNoaXBwaW5nO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGFuZ2UnLCB7fSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNoaXBwaW5nKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRTaGlwcGluZyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldENhcnQoKS5pdGVtcy5sZW5ndGggPT0gMCkgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIHJldHVybiAgdGhpcy5nZXRDYXJ0KCkuc2hpcHBpbmc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRUYXhSYXRlID0gZnVuY3Rpb24odGF4UmF0ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQudGF4UmF0ZSA9ICtwYXJzZUZsb2F0KHRheFJhdGUpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGF4UmF0ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VGF4UmF0ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRjYXJ0LnRheFJhdGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFRheCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCgodGhpcy5nZXRTdWJUb3RhbCgpLzEwMCkgKiB0aGlzLmdldENhcnQoKS50YXhSYXRlICkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q2FydCA9IGZ1bmN0aW9uIChjYXJ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQgPSBjYXJ0O1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDYXJ0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDYXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNhcnQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENhcnQoKS5pdGVtcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFRvdGFsSXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQgKz0gaXRlbS5nZXRRdWFudGl0eSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VG90YWxVbmlxdWVJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FydCgpLml0ZW1zLmxlbmd0aDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFN1YlRvdGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ2V0Q2FydCgpLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdG90YWwgKz0gaXRlbS5nZXRUb3RhbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuICtwYXJzZUZsb2F0KHRvdGFsKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudG90YWxDb3N0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gK3BhcnNlRmxvYXQodGhpcy5nZXRTdWJUb3RhbCgpICsgdGhpcy5nZXRTaGlwcGluZygpICsgdGhpcy5nZXRUYXgoKSkudG9GaXhlZCgyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLiRjYXJ0Lml0ZW1zLnNwbGljZShpbmRleCwgMSlbMF0gfHwge307XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0Oml0ZW1SZW1vdmVkJywgaXRlbSk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbTtcclxuICAgICAgICAgICAgdmFyIGNhcnQgPSB0aGlzLmdldENhcnQoKTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNhcnQuaXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5nZXRJZCgpID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBjYXJ0Lml0ZW1zLnNwbGljZShpbmRleCwgMSlbMF0gfHwge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldENhcnQoY2FydCk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0Oml0ZW1SZW1vdmVkJywgaXRlbSk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgICAgICB0aGlzLiRjYXJ0Lml0ZW1zID0gW107XHJcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhcnQnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4kY2FydC5pdGVtcy5sZW5ndGggPiAwID8gZmFsc2UgOiB0cnVlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50b09iamVjdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0SXRlbXMoKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5nZXRJdGVtcygpLCBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2ggKGl0ZW0udG9PYmplY3QoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNoaXBwaW5nOiB0aGlzLmdldFNoaXBwaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YXg6IHRoaXMuZ2V0VGF4KCksXHJcbiAgICAgICAgICAgICAgICB0YXhSYXRlOiB0aGlzLmdldFRheFJhdGUoKSxcclxuICAgICAgICAgICAgICAgIHN1YlRvdGFsOiB0aGlzLmdldFN1YlRvdGFsKCksXHJcbiAgICAgICAgICAgICAgICB0b3RhbENvc3Q6IHRoaXMudG90YWxDb3N0KCksXHJcbiAgICAgICAgICAgICAgICBpdGVtczppdGVtc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuJHJlc3RvcmUgPSBmdW5jdGlvbihzdG9yZWRDYXJ0KXtcclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICAgICAgX3NlbGYuaW5pdCgpO1xyXG4gICAgICAgICAgICBfc2VsZi4kY2FydC5zaGlwcGluZyA9IHN0b3JlZENhcnQuc2hpcHBpbmc7XHJcbiAgICAgICAgICAgIF9zZWxmLiRjYXJ0LnRheFJhdGUgPSBzdG9yZWRDYXJ0LnRheFJhdGU7XHJcbiAgICAgICAgICAgIF9zZWxmLiRjYXJ0LnRheCA9IHN0b3JlZENhcnQudGF4O1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHN0b3JlZENhcnQuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi4kY2FydC5pdGVtcy5wdXNoKG5ldyBuZ0NhcnRJdGVtKGl0ZW0ucGFyZW50LCBpdGVtLnNrdSwgaXRlbS5kZXNjcmlwdGlvbiwgaXRlbS5hbW91bnQsIGl0ZW0ucXVhbnRpdHksIGl0ZW0uX2RhdGEsIGl0ZW0uYXR0cikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy4kc2F2ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy4kc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlLnNldCgnY2FydCcsIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0Q2FydCgpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1dKVxyXG5cclxuICAgIC5mYWN0b3J5KCduZ0NhcnRJdGVtJywgWyckcm9vdFNjb3BlJywgJyRsb2cnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGxvZykge1xyXG5cclxuICAgICAgICB2YXIgaXRlbSA9IGZ1bmN0aW9uIChpZCwgc2t1LCBuYW1lLCBwcmljZSwgcXVhbnRpdHksIGRhdGEsIGF0dHIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJZChpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2t1KHNrdSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TmFtZShuYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcmljZShwcmljZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UXVhbnRpdHkocXVhbnRpdHkpO1xyXG4gICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cihhdHRyKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0SWQgPSBmdW5jdGlvbihpZCl7XHJcbiAgICAgICAgICAgIGlmIChpZCkgIHRoaXMucGFyZW50ID0gaWQ7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvZy5lcnJvcignQW4gSUQgbXVzdCBiZSBwcm92aWRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0U2t1ID0gZnVuY3Rpb24oc2t1KXtcclxuICAgICAgICAgICAgaWYgKHNrdSkgIHRoaXMuc2t1ID0gc2t1O1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ0Egc2t1IG11c3QgYmUgcHJvdmlkZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldFNrdSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNrdTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0TmFtZSA9IGZ1bmN0aW9uKG5hbWUpe1xyXG4gICAgICAgICAgICBpZiAobmFtZSkgIHRoaXMuZGVzY3JpcHRpb24gPSBuYW1lO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ0EgbmFtZSBtdXN0IGJlIHByb3ZpZGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5zZXRQcmljZSA9IGZ1bmN0aW9uKHByaWNlKXtcclxuICAgICAgICAgICAgdmFyIHByaWNlRmxvYXQgPSBwYXJzZUZsb2F0KHByaWNlKTtcclxuICAgICAgICAgICAgaWYgKHByaWNlRmxvYXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcmljZUZsb2F0IDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdBIHByaWNlIG11c3QgYmUgb3ZlciAwJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKHByaWNlRmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvZy5lcnJvcignQSBwcmljZSBtdXN0IGJlIHByb3ZpZGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldFByaWNlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW1vdW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0UXVhbnRpdHkgPSBmdW5jdGlvbihxdWFudGl0eSwgcmVsYXRpdmUpe1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWFudGl0eUludCA9IHBhcnNlSW50KHF1YW50aXR5KTtcclxuICAgICAgICAgICAgaWYgKHF1YW50aXR5SW50ICUgMSA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmUgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgICs9IHF1YW50aXR5SW50O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gcXVhbnRpdHlJbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWFudGl0eSA8IDEpIHRoaXMucXVhbnRpdHkgPSAxO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSAxO1xyXG4gICAgICAgICAgICAgICAgJGxvZy5pbmZvKCdRdWFudGl0eSBtdXN0IGJlIGFuIGludGVnZXIgYW5kIHdhcyBkZWZhdWx0ZWQgdG8gMScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXRRdWFudGl0eSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1YW50aXR5O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YSkgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgICAgICAgICAgIGVsc2UgJGxvZy5pbmZvKCdUaGlzIGl0ZW0gaGFzIG5vIGRhdGEnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5zZXRBdHRyID0gZnVuY3Rpb24oYXR0cmlidXRlcyl7XHJcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzKSB0aGlzLmF0dHIgPSBhdHRyaWJ1dGVzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldEF0dHIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRyKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dHJbXCJzaXplXCJdKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyW1wic2l6ZVwiXVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF0dHJbXCJjb2xvclwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJbXCJzaXplXCJdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNlIHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuZ2V0VG90YWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gK3BhcnNlRmxvYXQodGhpcy5nZXRRdWFudGl0eSgpICogdGhpcy5nZXRQcmljZSgpKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5nZXRJZCgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5nZXROYW1lKCksXHJcbiAgICAgICAgICAgICAgICBwcmljZTogdGhpcy5nZXRQcmljZSgpLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6IHRoaXMuZ2V0UXVhbnRpdHkoKSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0RGF0YSgpLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IHRoaXMuZ2V0VG90YWwoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLnNlcnZpY2UoJ3N0b3JlJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgKSAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ID0gYW5ndWxhci5mcm9tSnNvbiggJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpICkgO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgga2V5LCBhbmd1bGFyLnRvSnNvbih2YWwpICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhcnRDb250cm9sbGVyJyxbJyRzY29wZScsJyRyb290U2NvcGUnLCAnbmdDYXJ0JywnJHRpbWVvdXQnLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsIG5nQ2FydCwgJHRpbWVvdXQpIHtcclxuICAgICAgICAkc2NvcGUubG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLnRvZ2dsZUNhcnQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubmdDYXJ0ID0gbmdDYXJ0O1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgdmFyIGl0ZW1zID0gbmdDYXJ0LmdldEl0ZW1zKCk7XHJcbiAgICAgICAgICAgIC8vIGxvb3AgdG8gZGV0ZXJtaW5lIGlmIGFueSBpdGVtcyBhcmUgc2hpcHBhYmxlXHJcbiAgXHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLl9kYXRhLnByb2R1Y3RfdHlwZSA9PT0gXCJzaGlwcGFibGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hpcEJvb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRTaGlwcGFibGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaGlwQm9vbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRTaGlwcGFibGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhcnRCdG5Db250cm9sbGVyJyxbJyRzY29wZScsICduZ0NhcnQnLCckdGltZW91dCcsIGZ1bmN0aW9uKCRzY29wZSwgbmdDYXJ0LCAkdGltZW91dCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5sb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUudG9nZ2xlQ2FydCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5uZ0NhcnQgPSBuZ0NhcnQ7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XSlcclxuXHJcbiAgICAudmFsdWUoJ3ZlcnNpb24nLCAnMS4wLjAnKTtcclxuOyd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnbmdDYXJ0LmRpcmVjdGl2ZXMnLCBbJ25nQ2FydC5mdWxmaWxtZW50J10pXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhcnRDb250cm9sbGVyJyxbJyRzY29wZScsICduZ0NhcnQnLCBmdW5jdGlvbigkc2NvcGUsIG5nQ2FydCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5uZ0NhcnQgPSBuZ0NhcnQ7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgfV0pXHJcblxyXG4gICAgICAgICAgLmRpcmVjdGl2ZSgnbmdjYXJ0QWRkQnRuJywgWyduZ0NhcnQnLCBmdW5jdGlvbihuZ0NhcnQpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0IDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyIDogJ0NhcnRCdG5Db250cm9sbGVyJyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIGlkOidAJyxcclxuICAgICAgICAgICAgICAgIHNrdTogJ0AnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTonQCcsXHJcbiAgICAgICAgICAgICAgICBxdWFudGl0eTonQCcsXHJcbiAgICAgICAgICAgICAgICBxdWFudGl0eU1heDonQCcsXHJcbiAgICAgICAgICAgICAgICBwcmljZTonQCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOic9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGF0dHJzLnRlbXBsYXRlVXJsID09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlld3MvbmdDYXJ0L2FkZHRvY2FydEJ0bi5odG1sJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5hdHRycyA9IGF0dHJzO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuaW5DYXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIG5nQ2FydC5nZXRJdGVtQnlJZChhdHRycy5pZCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbkNhcnQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IG5nQ2FydC5nZXRJdGVtQnlJZChhdHRycy5pZCkuZ2V0UXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzY29wZS5xdHlPcHQgPSAgW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBzY29wZS5xdWFudGl0eU1heDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucXR5T3B0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAuZGlyZWN0aXZlKCduZ2NhcnRBZGR0b2NhcnQnLCBbJ25nQ2FydCcsIGZ1bmN0aW9uKG5nQ2FydCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgaWQ6J0AnLFxyXG4gICAgICAgICAgICAgICAgc2t1OiAnQCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5OidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5TWF4OidAJyxcclxuICAgICAgICAgICAgICAgIHByaWNlOidAJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6Jz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvYWRkdG9jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pbkNhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAgbmdDYXJ0LmdldEl0ZW1CeUlkKGF0dHJzLmlkKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmluQ2FydCgpKXtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5xID0gbmdDYXJ0LmdldEl0ZW1CeUlkKGF0dHJzLmlkKS5nZXRRdWFudGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5xID0gcGFyc2VJbnQoc2NvcGUucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLnF0eU9wdCA9ICBbXTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzTWF4O1xyXG4gICAgICAgICAgICAgICAgdmFyIHNob3dDb3VudFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0aWNrZXRzLycrIHNjb3BlLmlkICsgJy90b3RhbFRpY2tldHMnKTtcclxuICAgICAgICAgICAgICAgIHNob3dDb3VudFJlZi5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24oc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS50b3RhbFRpeCA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5xdWFudGl0eU1heCA8IHNjb3BlLnRvdGFsVGl4KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzTWF4ID0gc2NvcGUucXVhbnRpdHlNYXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzTWF4ID0gc2NvcGUudG90YWxUaXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzTWF4ID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHRoaXNNYXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5xdHlPcHQucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcblxyXG5cclxuICAgIC5kaXJlY3RpdmUoJ25nY2FydENhcnQnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0U3VtbWFyeScsIFtmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0IDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyIDogJ0NhcnRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgc2NvcGU6IHt9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGF0dHJzLnRlbXBsYXRlVXJsID09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlld3MvbmdDYXJ0L3N1bW1hcnkuaHRtbCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAgLmRpcmVjdGl2ZSgnbmdjYXJ0Q2FydENvbmZpcm0nLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9jYXJ0LWNvbmZpcm0uaHRtbCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAuZGlyZWN0aXZlKCduZ2NhcnRTbWFsbENhcnQnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9zbWFsbC1jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0U21hbGxDYXJ0Q29sbGFwc2UnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9zbWFsbC1jYXJ0LWNvbGxhcHNlLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0Q2hlY2tvdXQnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICgnQ2FydENvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ25nQ2FydCcsICdmdWxmaWxtZW50UHJvdmlkZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsIG5nQ2FydCwgZnVsZmlsbWVudFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmdDYXJ0ID0gbmdDYXJ0O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdWxmaWxtZW50UHJvdmlkZXIuc2V0U2VydmljZSgkc2NvcGUuc2VydmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVsZmlsbWVudFByb3ZpZGVyLnNldFNldHRpbmdzKCRzY29wZS5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVsZmlsbWVudFByb3ZpZGVyLmNoZWNrb3V0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGVja291dF9zdWNjZWVkZWQnLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hlY2tvdXRfZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XSksXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOidAJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOic9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGF0dHJzLnRlbXBsYXRlVXJsID09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndGVtcGxhdGUvbmdDYXJ0L2NoZWNrb3V0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG47XHJcbmFuZ3VsYXIubW9kdWxlKCduZ0NhcnQuZnVsZmlsbWVudCcsIFtdKVxyXG4gICAgLnNlcnZpY2UoJ2Z1bGZpbG1lbnRQcm92aWRlcicsIFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKXtcclxuXHJcbiAgICAgICAgdGhpcy5fb2JqID0ge1xyXG4gICAgICAgICAgICBzZXJ2aWNlIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2VydmljZSA9IGZ1bmN0aW9uKHNlcnZpY2Upe1xyXG4gICAgICAgICAgICB0aGlzLl9vYmouc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTZXR0aW5ncyA9IGZ1bmN0aW9uKHNldHRpbmdzKXtcclxuICAgICAgICAgICAgdGhpcy5fb2JqLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9ICRpbmplY3Rvci5nZXQoJ25nQ2FydC5mdWxmaWxtZW50LicgKyB0aGlzLl9vYmouc2VydmljZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyLmNoZWNrb3V0KHRoaXMuX29iai5zZXR0aW5ncyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XSlcclxuXHJcblxyXG4uc2VydmljZSgnbmdDYXJ0LmZ1bGZpbG1lbnQubG9nJywgWyckcScsICckbG9nJywgJ25nQ2FydCcsIGZ1bmN0aW9uKCRxLCAkbG9nLCBuZ0NhcnQpe1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrb3V0ID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgICAgICAkbG9nLmluZm8obmdDYXJ0LnRvT2JqZWN0KCkpO1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6bmdDYXJ0LnRvT2JqZWN0KClcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuIH1dKVxyXG5cclxuLnNlcnZpY2UoJ25nQ2FydC5mdWxmaWxtZW50Lmh0dHAnLCBbJyRodHRwJywgJ25nQ2FydCcsIGZ1bmN0aW9uKCRodHRwLCBuZ0NhcnQpe1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrb3V0ID0gZnVuY3Rpb24oc2V0dGluZ3Mpe1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChzZXR0aW5ncy51cmwsXHJcbiAgICAgICAgICAgICAgICB7IGRhdGE6IG5nQ2FydC50b09iamVjdCgpLCBvcHRpb25zOiBzZXR0aW5ncy5vcHRpb25zfSk7XHJcbiAgICAgICAgfVxyXG4gfV0pXHJcblxyXG5cclxuLnNlcnZpY2UoJ25nQ2FydC5mdWxmaWxtZW50LnBheXBhbCcsIFsnJGh0dHAnLCAnbmdDYXJ0JywgZnVuY3Rpb24oJGh0dHAsIG5nQ2FydCl7XHJcblxyXG5cclxufV0pO1xyXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLXBhcmFsbGF4JywgW1xuXSkuZGlyZWN0aXZlKCdwYXJhbGxheCcsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICBwYXJhbGxheFJhdGlvOiAnQCcsXG4gICAgICBwYXJhbGxheFZlcnRpY2FsT2Zmc2V0OiAnQCcsXG4gICAgICBwYXJhbGxheEhvcml6b250YWxPZmZzZXQ6ICdAJyxcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBzZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoISRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQpICRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQgPSAnMCc7XG4gICAgICAgIHZhciBjYWxjVmFsWSA9ICR3aW5kb3cucGFnZVlPZmZzZXQgKiAoJHNjb3BlLnBhcmFsbGF4UmF0aW8gPyAkc2NvcGUucGFyYWxsYXhSYXRpbyA6IDEuMSApO1xuICAgICAgICBpZiAoY2FsY1ZhbFkgPD0gJHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgIHZhciB0b3BWYWwgPSAoY2FsY1ZhbFkgPCAkc2NvcGUucGFyYWxsYXhWZXJ0aWNhbE9mZnNldCA/ICRzY29wZS5wYXJhbGxheFZlcnRpY2FsT2Zmc2V0IDogY2FsY1ZhbFkpO1xuICAgICAgICAgIHZhciBob3pWYWwgPSAoJHNjb3BlLnBhcmFsbGF4SG9yaXpvbnRhbE9mZnNldC5pbmRleE9mKFwiJVwiKSA9PT0gLTEgPyAkc2NvcGUucGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0ICsgJ3B4JyA6ICRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICAgIGVsZW0uY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBob3pWYWwgKyAnLCAnICsgdG9wVmFsICsgJ3B4KScpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZXRQb3NpdGlvbigpO1xuXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZChcInNjcm9sbFwiLCBzZXRQb3NpdGlvbik7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZChcInRvdWNobW92ZVwiLCBzZXRQb3NpdGlvbik7XG4gICAgfSAgLy8gbGluayBmdW5jdGlvblxuICB9O1xufV0pLmRpcmVjdGl2ZSgncGFyYWxsYXhCYWNrZ3JvdW5kJywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj4nLFxuICAgIHNjb3BlOiB7XG4gICAgICBwYXJhbGxheFJhdGlvOiAnQCcsXG4gICAgICBwYXJhbGxheFZlcnRpY2FsT2Zmc2V0OiAnQCcsXG4gICAgICBwYXJhbGxheFN0YXJ0UG9pbnQ6ICdAJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgdmFyIHNldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gKCRzY29wZS5wYXJhbGxheFZlcnRpY2FsT2Zmc2V0LzEwMCkgKiBlbGVtWzBdLm9mZnNldEhlaWdodDsgXG4gICAgICAgIHZhciBjYWxjVmFsWSA9IChlbGVtLnByb3AoJ29mZnNldFRvcCcpIC0gJHdpbmRvdy5wYWdlWU9mZnNldCkgKiAoJHNjb3BlLnBhcmFsbGF4UmF0aW8gPyAkc2NvcGUucGFyYWxsYXhSYXRpbyA6IDEuMSkgLSAob2Zmc2V0IHx8IDApO1xuICAgICAgICAvLyBob3Jpem9udGFsIHBvc2l0aW9uaW5nXG4gICAgICAgIGlmIChjYWxjVmFsWSA+PSAkc2NvcGUucGFyYWxsYXhTdGFydFBvaW50KXtcbiAgICAgICAgICBjYWxjVmFsWSA9ICRzY29wZS5wYXJhbGxheFN0YXJ0UG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCBcIjUwJSBcIiArIGNhbGNWYWxZICsgXCJweFwiKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHNldCBvdXIgaW5pdGlhbCBwb3NpdGlvbiAtIGZpeGVzIHdlYmtpdCBiYWNrZ3JvdW5kIHJlbmRlciBidWdcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdsb2FkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBzZXRQb3NpdGlvbigpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIiwgc2V0UG9zaXRpb24pO1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJ0b3VjaG1vdmVcIiwgc2V0UG9zaXRpb24pO1xuICAgIH0gIC8vIGxpbmsgZnVuY3Rpb25cbiAgfTtcbn1dKTtcbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQvKlxuXHQqXG5cdCogQSBBbmd1bGFySlMgbW9kdWxlIHRoYXQgaW1wbGVtZW50cyB0aGUgSFRNTDUgVzNDIHNhdmVBcygpIGluIGJyb3dzZXJzIHRoYXRcblx0KiBkbyBub3QgbmF0aXZlbHkgc3VwcG9ydCBpdFxuXHQqXG5cdCogKGMpIDIwMTUgUGhpbGlwcCBBbGZlcm92XG5cdCogTGljZW5zZTogTUlUXG5cdCpcblx0Ki9cblxuXHRtb2R1bGUuZXhwb3J0cyA9ICduZ0ZpbGVTYXZlcic7XG5cblx0YW5ndWxhci5tb2R1bGUoJ25nRmlsZVNhdmVyJywgW10pXG5cdCAgLmZhY3RvcnkoJ0ZpbGVTYXZlcicsIFsnQmxvYicsICdTYXZlQXMnLCAnRmlsZVNhdmVyVXRpbHMnLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXSlcblx0ICAuZmFjdG9yeSgnRmlsZVNhdmVyVXRpbHMnLCBbX193ZWJwYWNrX3JlcXVpcmVfXygyKV0pXG5cdCAgLmZhY3RvcnkoJ0Jsb2InLCBbJyR3aW5kb3cnLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXSlcblx0ICAuZmFjdG9yeSgnU2F2ZUFzJywgW19fd2VicGFja19yZXF1aXJlX18oNSldKTtcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gRmlsZVNhdmVyKEJsb2IsIFNhdmVBcywgRmlsZVNhdmVyVXRpbHMpIHtcblxuXHQgIGZ1bmN0aW9uIHNhdmUoYmxvYiwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBTYXZlQXMoYmxvYiwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKTtcblx0ICAgIH0gY2F0Y2goZXJyKSB7XG5cdCAgICAgIEZpbGVTYXZlclV0aWxzLmhhbmRsZUVycm9ycyhlcnIubWVzc2FnZSk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHtcblxuXHQgICAgLyoqXG5cdCAgICAqIHNhdmVBc1xuXHQgICAgKiBJbW1lZGlhdGVseSBzdGFydHMgc2F2aW5nIGEgZmlsZSwgcmV0dXJucyB1bmRlZmluZWQuXG5cdCAgICAqXG5cdCAgICAqIEBuYW1lIHNhdmVBc1xuXHQgICAgKiBAZnVuY3Rpb25cblx0ICAgICogQHBhcmFtIHtCbG9ifSBkYXRhIEEgQmxvYiBpbnN0YW5jZVxuXHQgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZW5hbWUgQ3VzdG9tIGZpbGVuYW1lIChleHRlbnNpb24gaXMgb3B0aW9uYWwpXG5cdCAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZUF1dG9CT00gRGlzYWJsZSBhdXRvbWF0aWNhbGx5IHByb3ZpZGVkIFVuaWNvZGVcblx0ICAgICogdGV4dCBlbmNvZGluZyBoaW50c1xuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtVbmRlZmluZWR9XG5cdCAgICAqL1xuXG5cdCAgICBzYXZlQXM6IGZ1bmN0aW9uKGRhdGEsIGZpbGVuYW1lLCBkaXNhYmxlQXV0b0JPTSkge1xuXG5cdCAgICAgIGlmICghRmlsZVNhdmVyVXRpbHMuaXNCbG9iSW5zdGFuY2UoZGF0YSkpIHtcblx0ICAgICAgICBGaWxlU2F2ZXJVdGlscy5oYW5kbGVFcnJvcnMoJ0RhdGEgYXJndW1lbnQgc2hvdWxkIGJlIGEgYmxvYiBpbnN0YW5jZScpO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKCFGaWxlU2F2ZXJVdGlscy5pc1N0cmluZyhmaWxlbmFtZSkpIHtcblx0ICAgICAgICBGaWxlU2F2ZXJVdGlscy5oYW5kbGVFcnJvcnMoJ0ZpbGVuYW1lIGFyZ3VtZW50IHNob3VsZCBiZSBhIHN0cmluZycpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIHNhdmUoZGF0YSwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBGaWxlU2F2ZXJVdGlscygpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgaGFuZGxlRXJyb3JzOiBmdW5jdGlvbihtc2cpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG5cdCAgICB9LFxuXHQgICAgaXNTdHJpbmc6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHwgb2JqIGluc3RhbmNlb2YgU3RyaW5nO1xuXHQgICAgfSxcblx0ICAgIGlzVW5kZWZpbmVkOiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnO1xuXHQgICAgfSxcblx0ICAgIGlzQmxvYkluc3RhbmNlOiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEJsb2I7XG5cdCAgICB9XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBCbG9iKCR3aW5kb3cpIHtcblx0ICByZXR1cm4gJHdpbmRvdy5CbG9iO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBCbG9iLmpzXG5cdCAqIEEgQmxvYiBpbXBsZW1lbnRhdGlvbi5cblx0ICogMjAxNC0wNy0yNFxuXHQgKlxuXHQgKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG5cdCAqIEJ5IERldmluIFNhbWFyaW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9kc2FtYXJpblxuXHQgKiBMaWNlbnNlOiBYMTEvTUlUXG5cdCAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0Jsb2IuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuXHQgKi9cblxuXHQvKmdsb2JhbCBzZWxmLCB1bmVzY2FwZSAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCByZWdleHA6IHRydWUsIGNvbmZ1c2lvbjogdHJ1ZSwgZXM1OiB0cnVlLCB2YXJzOiB0cnVlLCB3aGl0ZTogdHJ1ZSxcblx0ICBwbHVzcGx1czogdHJ1ZSAqL1xuXG5cdC8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9CbG9iLmpzL2Jsb2IvbWFzdGVyL0Jsb2IuanMgKi9cblxuXHQoZnVuY3Rpb24gKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblxuXHRcdHZpZXcuVVJMID0gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkw7XG5cblx0XHRpZiAodmlldy5CbG9iICYmIHZpZXcuVVJMKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRuZXcgQmxvYjtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHR9XG5cblx0XHQvLyBJbnRlcm5hbGx5IHdlIHVzZSBhIEJsb2JCdWlsZGVyIGltcGxlbWVudGF0aW9uIHRvIGJhc2UgQmxvYiBvZmYgb2Zcblx0XHQvLyBpbiBvcmRlciB0byBzdXBwb3J0IG9sZGVyIGJyb3dzZXJzIHRoYXQgb25seSBoYXZlIEJsb2JCdWlsZGVyXG5cdFx0dmFyIEJsb2JCdWlsZGVyID0gdmlldy5CbG9iQnVpbGRlciB8fCB2aWV3LldlYktpdEJsb2JCdWlsZGVyIHx8IHZpZXcuTW96QmxvYkJ1aWxkZXIgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcblx0XHRcdHZhclxuXHRcdFx0XHQgIGdldF9jbGFzcyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdFx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KS5tYXRjaCgvXlxcW29iamVjdFxccyguKilcXF0kLylbMV07XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBGYWtlQmxvYkJ1aWxkZXIgPSBmdW5jdGlvbiBCbG9iQnVpbGRlcigpIHtcblx0XHRcdFx0XHR0aGlzLmRhdGEgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIEZha2VCbG9iID0gZnVuY3Rpb24gQmxvYihkYXRhLCB0eXBlLCBlbmNvZGluZykge1xuXHRcdFx0XHRcdHRoaXMuZGF0YSA9IGRhdGE7XG5cdFx0XHRcdFx0dGhpcy5zaXplID0gZGF0YS5sZW5ndGg7XG5cdFx0XHRcdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XHRcdFx0XHR0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBGQkJfcHJvdG8gPSBGYWtlQmxvYkJ1aWxkZXIucHJvdG90eXBlXG5cdFx0XHRcdCwgRkJfcHJvdG8gPSBGYWtlQmxvYi5wcm90b3R5cGVcblx0XHRcdFx0LCBGaWxlUmVhZGVyU3luYyA9IHZpZXcuRmlsZVJlYWRlclN5bmNcblx0XHRcdFx0LCBGaWxlRXhjZXB0aW9uID0gZnVuY3Rpb24odHlwZSkge1xuXHRcdFx0XHRcdHRoaXMuY29kZSA9IHRoaXNbdGhpcy5uYW1lID0gdHlwZV07XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBmaWxlX2V4X2NvZGVzID0gKFxuXHRcdFx0XHRcdCAgXCJOT1RfRk9VTkRfRVJSIFNFQ1VSSVRZX0VSUiBBQk9SVF9FUlIgTk9UX1JFQURBQkxFX0VSUiBFTkNPRElOR19FUlIgXCJcblx0XHRcdFx0XHQrIFwiTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSIElOVkFMSURfU1RBVEVfRVJSIFNZTlRBWF9FUlJcIlxuXHRcdFx0XHQpLnNwbGl0KFwiIFwiKVxuXHRcdFx0XHQsIGZpbGVfZXhfY29kZSA9IGZpbGVfZXhfY29kZXMubGVuZ3RoXG5cdFx0XHRcdCwgcmVhbF9VUkwgPSB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3XG5cdFx0XHRcdCwgcmVhbF9jcmVhdGVfb2JqZWN0X1VSTCA9IHJlYWxfVVJMLmNyZWF0ZU9iamVjdFVSTFxuXHRcdFx0XHQsIHJlYWxfcmV2b2tlX29iamVjdF9VUkwgPSByZWFsX1VSTC5yZXZva2VPYmplY3RVUkxcblx0XHRcdFx0LCBVUkwgPSByZWFsX1VSTFxuXHRcdFx0XHQsIGJ0b2EgPSB2aWV3LmJ0b2Fcblx0XHRcdFx0LCBhdG9iID0gdmlldy5hdG9iXG5cblx0XHRcdFx0LCBBcnJheUJ1ZmZlciA9IHZpZXcuQXJyYXlCdWZmZXJcblx0XHRcdFx0LCBVaW50OEFycmF5ID0gdmlldy5VaW50OEFycmF5XG5cblx0XHRcdFx0LCBvcmlnaW4gPSAvXltcXHctXSs6XFwvKlxcWz9bXFx3XFwuOi1dK1xcXT8oPzo6WzAtOV0rKT8vXG5cdFx0XHQ7XG5cdFx0XHRGYWtlQmxvYi5mYWtlID0gRkJfcHJvdG8uZmFrZSA9IHRydWU7XG5cdFx0XHR3aGlsZSAoZmlsZV9leF9jb2RlLS0pIHtcblx0XHRcdFx0RmlsZUV4Y2VwdGlvbi5wcm90b3R5cGVbZmlsZV9leF9jb2Rlc1tmaWxlX2V4X2NvZGVdXSA9IGZpbGVfZXhfY29kZSArIDE7XG5cdFx0XHR9XG5cdFx0XHQvLyBQb2x5ZmlsbCBVUkxcblx0XHRcdGlmICghcmVhbF9VUkwuY3JlYXRlT2JqZWN0VVJMKSB7XG5cdFx0XHRcdFVSTCA9IHZpZXcuVVJMID0gZnVuY3Rpb24odXJpKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHQgIHVyaV9pbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcblx0XHRcdFx0XHRcdCwgdXJpX29yaWdpblxuXHRcdFx0XHRcdDtcblx0XHRcdFx0XHR1cmlfaW5mby5ocmVmID0gdXJpO1xuXHRcdFx0XHRcdGlmICghKFwib3JpZ2luXCIgaW4gdXJpX2luZm8pKSB7XG5cdFx0XHRcdFx0XHRpZiAodXJpX2luZm8ucHJvdG9jb2wudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRhOlwiKSB7XG5cdFx0XHRcdFx0XHRcdHVyaV9pbmZvLm9yaWdpbiA9IG51bGw7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR1cmlfb3JpZ2luID0gdXJpLm1hdGNoKG9yaWdpbik7XG5cdFx0XHRcdFx0XHRcdHVyaV9pbmZvLm9yaWdpbiA9IHVyaV9vcmlnaW4gJiYgdXJpX29yaWdpblsxXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHVyaV9pbmZvO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0VVJMLmNyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0ICB0eXBlID0gYmxvYi50eXBlXG5cdFx0XHRcdFx0LCBkYXRhX1VSSV9oZWFkZXJcblx0XHRcdFx0O1xuXHRcdFx0XHRpZiAodHlwZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHR5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChibG9iIGluc3RhbmNlb2YgRmFrZUJsb2IpIHtcblx0XHRcdFx0XHRkYXRhX1VSSV9oZWFkZXIgPSBcImRhdGE6XCIgKyB0eXBlO1xuXHRcdFx0XHRcdGlmIChibG9iLmVuY29kaW5nID09PSBcImJhc2U2NFwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCI7YmFzZTY0LFwiICsgYmxvYi5kYXRhO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYmxvYi5lbmNvZGluZyA9PT0gXCJVUklcIikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiLFwiICsgZGVjb2RlVVJJQ29tcG9uZW50KGJsb2IuZGF0YSk7XG5cdFx0XHRcdFx0fSBpZiAoYnRvYSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiO2Jhc2U2NCxcIiArIGJ0b2EoYmxvYi5kYXRhKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJsb2IuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHJlYWxfY3JlYXRlX29iamVjdF9VUkwpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVhbF9jcmVhdGVfb2JqZWN0X1VSTC5jYWxsKHJlYWxfVVJMLCBibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwgPSBmdW5jdGlvbihvYmplY3RfVVJMKSB7XG5cdFx0XHRcdGlmIChvYmplY3RfVVJMLnN1YnN0cmluZygwLCA1KSAhPT0gXCJkYXRhOlwiICYmIHJlYWxfcmV2b2tlX29iamVjdF9VUkwpIHtcblx0XHRcdFx0XHRyZWFsX3Jldm9rZV9vYmplY3RfVVJMLmNhbGwocmVhbF9VUkwsIG9iamVjdF9VUkwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0RkJCX3Byb3RvLmFwcGVuZCA9IGZ1bmN0aW9uKGRhdGEvKiwgZW5kaW5ncyovKSB7XG5cdFx0XHRcdHZhciBiYiA9IHRoaXMuZGF0YTtcblx0XHRcdFx0Ly8gZGVjb2RlIGRhdGEgdG8gYSBiaW5hcnkgc3RyaW5nXG5cdFx0XHRcdGlmIChVaW50OEFycmF5ICYmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHQgIHN0ciA9IFwiXCJcblx0XHRcdFx0XHRcdCwgYnVmID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSlcblx0XHRcdFx0XHRcdCwgaSA9IDBcblx0XHRcdFx0XHRcdCwgYnVmX2xlbiA9IGJ1Zi5sZW5ndGhcblx0XHRcdFx0XHQ7XG5cdFx0XHRcdFx0Zm9yICg7IGkgPCBidWZfbGVuOyBpKyspIHtcblx0XHRcdFx0XHRcdHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJiLnB1c2goc3RyKTtcblx0XHRcdFx0fSBlbHNlIGlmIChnZXRfY2xhc3MoZGF0YSkgPT09IFwiQmxvYlwiIHx8IGdldF9jbGFzcyhkYXRhKSA9PT0gXCJGaWxlXCIpIHtcblx0XHRcdFx0XHRpZiAoRmlsZVJlYWRlclN5bmMpIHtcblx0XHRcdFx0XHRcdHZhciBmciA9IG5ldyBGaWxlUmVhZGVyU3luYztcblx0XHRcdFx0XHRcdGJiLnB1c2goZnIucmVhZEFzQmluYXJ5U3RyaW5nKGRhdGEpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gYXN5bmMgRmlsZVJlYWRlciB3b24ndCB3b3JrIGFzIEJsb2JCdWlsZGVyIGlzIHN5bmNcblx0XHRcdFx0XHRcdHRocm93IG5ldyBGaWxlRXhjZXB0aW9uKFwiTk9UX1JFQURBQkxFX0VSUlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEZha2VCbG9iKSB7XG5cdFx0XHRcdFx0aWYgKGRhdGEuZW5jb2RpbmcgPT09IFwiYmFzZTY0XCIgJiYgYXRvYikge1xuXHRcdFx0XHRcdFx0YmIucHVzaChhdG9iKGRhdGEuZGF0YSkpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZGF0YS5lbmNvZGluZyA9PT0gXCJVUklcIikge1xuXHRcdFx0XHRcdFx0YmIucHVzaChkZWNvZGVVUklDb21wb25lbnQoZGF0YS5kYXRhKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhLmVuY29kaW5nID09PSBcInJhd1wiKSB7XG5cdFx0XHRcdFx0XHRiYi5wdXNoKGRhdGEuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0ZGF0YSArPSBcIlwiOyAvLyBjb252ZXJ0IHVuc3VwcG9ydGVkIHR5cGVzIHRvIHN0cmluZ3Ncblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gZGVjb2RlIFVURi0xNiB0byBiaW5hcnkgc3RyaW5nXG5cdFx0XHRcdFx0YmIucHVzaCh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZGF0YSkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdEZCQl9wcm90by5nZXRCbG9iID0gZnVuY3Rpb24odHlwZSkge1xuXHRcdFx0XHRpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0XHR0eXBlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmV3IEZha2VCbG9iKHRoaXMuZGF0YS5qb2luKFwiXCIpLCB0eXBlLCBcInJhd1wiKTtcblx0XHRcdH07XG5cdFx0XHRGQkJfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwiW29iamVjdCBCbG9iQnVpbGRlcl1cIjtcblx0XHRcdH07XG5cdFx0XHRGQl9wcm90by5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHR5cGUpIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoO1xuXHRcdFx0XHRpZiAoYXJncyA8IDMpIHtcblx0XHRcdFx0XHR0eXBlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmV3IEZha2VCbG9iKFxuXHRcdFx0XHRcdCAgdGhpcy5kYXRhLnNsaWNlKHN0YXJ0LCBhcmdzID4gMSA/IGVuZCA6IHRoaXMuZGF0YS5sZW5ndGgpXG5cdFx0XHRcdFx0LCB0eXBlXG5cdFx0XHRcdFx0LCB0aGlzLmVuY29kaW5nXG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXHRcdFx0RkJfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwiW29iamVjdCBCbG9iXVwiO1xuXHRcdFx0fTtcblx0XHRcdEZCX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2l6ZSA9IDA7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmRhdGE7XG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIEZha2VCbG9iQnVpbGRlcjtcblx0XHR9KHZpZXcpKTtcblxuXHRcdHZpZXcuQmxvYiA9IGZ1bmN0aW9uKGJsb2JQYXJ0cywgb3B0aW9ucykge1xuXHRcdFx0dmFyIHR5cGUgPSBvcHRpb25zID8gKG9wdGlvbnMudHlwZSB8fCBcIlwiKSA6IFwiXCI7XG5cdFx0XHR2YXIgYnVpbGRlciA9IG5ldyBCbG9iQnVpbGRlcigpO1xuXHRcdFx0aWYgKGJsb2JQYXJ0cykge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gYmxvYlBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKFVpbnQ4QXJyYXkgJiYgYmxvYlBhcnRzW2ldIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuXHRcdFx0XHRcdFx0YnVpbGRlci5hcHBlbmQoYmxvYlBhcnRzW2ldLmJ1ZmZlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0YnVpbGRlci5hcHBlbmQoYmxvYlBhcnRzW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHZhciBibG9iID0gYnVpbGRlci5nZXRCbG9iKHR5cGUpO1xuXHRcdFx0aWYgKCFibG9iLnNsaWNlICYmIGJsb2Iud2Via2l0U2xpY2UpIHtcblx0XHRcdFx0YmxvYi5zbGljZSA9IGJsb2Iud2Via2l0U2xpY2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYmxvYjtcblx0XHR9O1xuXG5cdFx0dmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdFx0cmV0dXJuIG9iamVjdC5fX3Byb3RvX187XG5cdFx0fTtcblx0XHR2aWV3LkJsb2IucHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YobmV3IHZpZXcuQmxvYigpKTtcblx0fSh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93IHx8IHRoaXMuY29udGVudCB8fCB0aGlzKSk7XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIFNhdmVBcygpIHtcblx0ICByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyg2KS5zYXZlQXMgfHwgZnVuY3Rpb24oKSB7fTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIEZpbGVTYXZlci5qc1xuXHQgKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cblx0ICogMS4zLjJcblx0ICogMjAxNi0wNi0xNiAxODoyNToxOVxuXHQgKlxuXHQgKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG5cdCAqIExpY2Vuc2U6IE1JVFxuXHQgKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuXHQgKi9cblxuXHQvKmdsb2JhbCBzZWxmICovXG5cdC8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXG5cblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblxuXHR2YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFx0Ly8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcblx0XHRpZiAodHlwZW9mIHZpZXcgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXJcblx0XHRcdCAgZG9jID0gdmlldy5kb2N1bWVudFxuXHRcdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxuXHRcdFx0LCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0LCBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcblx0XHRcdCwgY2FuX3VzZV9zYXZlX2xpbmsgPSBcImRvd25sb2FkXCIgaW4gc2F2ZV9saW5rXG5cdFx0XHQsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdFx0XHR2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xuXHRcdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdFx0LCBpc19zYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KHZpZXcuSFRNTEVsZW1lbnQpXG5cdFx0XHQsIGlzX2Nocm9tZV9pb3MgPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXHRcdFx0LCB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24oZXgpIHtcblx0XHRcdFx0KHZpZXcuc2V0SW1tZWRpYXRlIHx8IHZpZXcuc2V0VGltZW91dCkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGhyb3cgZXg7XG5cdFx0XHRcdH0sIDApO1xuXHRcdFx0fVxuXHRcdFx0LCBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIlxuXHRcdFx0Ly8gdGhlIEJsb2IgQVBJIGlzIGZ1bmRhbWVudGFsbHkgYnJva2VuIGFzIHRoZXJlIGlzIG5vIFwiZG93bmxvYWRmaW5pc2hlZFwiIGV2ZW50IHRvIHN1YnNjcmliZSB0b1xuXHRcdFx0LCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSAxMDAwICogNDAgLy8gaW4gbXNcblx0XHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikgeyAvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcblx0XHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRzZXRUaW1lb3V0KHJldm9rZXIsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCk7XG5cdFx0XHR9XG5cdFx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcblx0XHRcdFx0Ly8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcblx0XHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhGRUZGKSwgYmxvYl0sIHt0eXBlOiBibG9iLnR5cGV9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYmxvYjtcblx0XHRcdH1cblx0XHRcdCwgRmlsZVNhdmVyID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBGaXJzdCB0cnkgYS5kb3dubG9hZCwgdGhlbiB3ZWIgZmlsZXN5c3RlbSwgdGhlbiBvYmplY3QgVVJMc1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHQgIGZpbGVzYXZlciA9IHRoaXNcblx0XHRcdFx0XHQsIHR5cGUgPSBibG9iLnR5cGVcblx0XHRcdFx0XHQsIGZvcmNlID0gdHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZVxuXHRcdFx0XHRcdCwgb2JqZWN0X3VybFxuXHRcdFx0XHRcdCwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSB3cml0ZWVuZFwiLnNwbGl0KFwiIFwiKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcblx0XHRcdFx0XHQsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoKGlzX2Nocm9tZV9pb3MgfHwgKGZvcmNlICYmIGlzX3NhZmFyaSkpICYmIHZpZXcuRmlsZVJlYWRlcikge1xuXHRcdFx0XHRcdFx0XHQvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIHVybHNcblx0XHRcdFx0XHRcdFx0dmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0XHRcdFx0XHRcdHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdXJsID0gaXNfY2hyb21lX2lvcyA/IHJlYWRlci5yZXN1bHQgOiByZWFkZXIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcG9wdXAgPSB2aWV3Lm9wZW4odXJsLCAnX2JsYW5rJyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIXBvcHVwKSB2aWV3LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG5cdFx0XHRcdFx0XHRcdFx0dXJsPXVuZGVmaW5lZDsgLy8gcmVsZWFzZSByZWZlcmVuY2UgYmVmb3JlIGRpc3BhdGNoaW5nXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG5cdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXG5cdFx0XHRcdFx0XHRpZiAoIW9iamVjdF91cmwpIHtcblx0XHRcdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoZm9yY2UpIHtcblx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHZhciBvcGVuZWQgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRcdGlmICghb3BlbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQXBwbGUgZG9lcyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9zYWZhcmkvZG9jdW1lbnRhdGlvbi9Ub29scy9Db25jZXB0dWFsL1NhZmFyaUV4dGVuc2lvbkd1aWRlL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMvV29ya2luZ3dpdGhXaW5kb3dzYW5kVGFicy5odG1sXG5cdFx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0O1xuXHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXG5cdFx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRcdFx0Y2xpY2soc2F2ZV9saW5rKTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0fVxuXHRcdFx0LCBGU19wcm90byA9IEZpbGVTYXZlci5wcm90b3R5cGVcblx0XHRcdCwgc2F2ZUFzID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiLCBub19hdXRvX2JvbSk7XG5cdFx0XHR9XG5cdFx0O1xuXHRcdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0XHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdG5hbWUgPSBuYW1lIHx8IGJsb2IubmFtZSB8fCBcImRvd25sb2FkXCI7XG5cblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSk7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24oKXt9O1xuXHRcdEZTX3Byb3RvLnJlYWR5U3RhdGUgPSBGU19wcm90by5JTklUID0gMDtcblx0XHRGU19wcm90by5XUklUSU5HID0gMTtcblx0XHRGU19wcm90by5ET05FID0gMjtcblxuXHRcdEZTX3Byb3RvLmVycm9yID1cblx0XHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRcdEZTX3Byb3RvLm9ucHJvZ3Jlc3MgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGUgPVxuXHRcdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRcdEZTX3Byb3RvLm9uZXJyb3IgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGVlbmQgPVxuXHRcdFx0bnVsbDtcblxuXHRcdHJldHVybiBzYXZlQXM7XG5cdH0oXG5cdFx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHRcdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG5cdFx0fHwgdGhpcy5jb250ZW50XG5cdCkpO1xuXHQvLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxuXHQvLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcblx0Ly8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xuXHR9IGVsc2UgaWYgKChcImZ1bmN0aW9uXCIgIT09IFwidW5kZWZpbmVkXCIgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg3KSAhPT0gbnVsbCkgJiYgKF9fd2VicGFja19yZXF1aXJlX18oOCkgIT09IG51bGwpKSB7XG5cdCAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gc2F2ZUFzO1xuXHQgIH0uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XHJcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiLCIvKipcbiAqIE1ldGF0YWdzIGZvciBhbmd1bGFyLXVpLXJvdXRlclxuICovXG52YXIgdWlyb3V0ZXJtZXRhdGFncztcbihmdW5jdGlvbiAodWlyb3V0ZXJtZXRhdGFncykge1xuICAgIHJ1bkJsb2NrLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHJvb3RTY29wZVwiLCBcIk1ldGFUYWdzXCIsIFwiJHdpbmRvd1wiXTtcbiAgICB2YXIgYXBwTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5tZXRhdGFncycsIFsndWkucm91dGVyJ10pO1xuICAgIHZhciBVSVJvdXRlck1ldGF0YWdzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogQG5nSW5qZWN0ICovXG4gICAgICAgIGZ1bmN0aW9uIFVJUm91dGVyTWV0YXRhZ3MoKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zdWZmaXggPSAnJztcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFRpdGxlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHREZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0S2V5d29yZHMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFJvYm90cyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICB0aGlzLmVuYWJsZU9HVVJMID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0VGl0bGVQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXRUaXRsZVN1ZmZpeCA9IGZ1bmN0aW9uIChzdWZmaXgpIHtcbiAgICAgICAgICAgIHRoaXMuc3VmZml4ID0gc3VmZml4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldERlZmF1bHRUaXRsZSA9IGZ1bmN0aW9uICh0aXRsZSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0VGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXREZWZhdWx0RGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0RGVmYXVsdEtleXdvcmRzID0gZnVuY3Rpb24gKGtleXdvcmRzKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRLZXl3b3JkcyA9IGtleXdvcmRzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldERlZmF1bHRSb2JvdHMgPSBmdW5jdGlvbiAocm9ib3RzKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRSb2JvdHMgPSByb2JvdHM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0U3RhdGljUHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldE9HVVJMID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlT0dVUkwgPSBlbmFibGVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICAgICAgICAgICAgc3VmZml4OiB0aGlzLnN1ZmZpeCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VGl0bGU6IHRoaXMuZGVmYXVsdFRpdGxlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHREZXNjcmlwdGlvbjogdGhpcy5kZWZhdWx0RGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgZGVmYXVsdEtleXdvcmRzOiB0aGlzLmRlZmF1bHRLZXl3b3JkcyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Um9ib3RzOiB0aGlzLmRlZmF1bHRSb2JvdHMsXG4gICAgICAgICAgICAgICAgc3RhdGljUHJvcGVydGllczogdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGVuYWJsZU9HVVJMOiB0aGlzLmVuYWJsZU9HVVJMXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVUlSb3V0ZXJNZXRhdGFncztcbiAgICB9KSgpO1xuICAgIGFwcE1vZHVsZS5wcm92aWRlcignVUlSb3V0ZXJNZXRhdGFncycsIFVJUm91dGVyTWV0YXRhZ3MpO1xuICAgIHZhciBNZXRhVGFncyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qIEBuZ0luamVjdCAqL1xuICAgICAgICBNZXRhVGFncy4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIlVJUm91dGVyTWV0YXRhZ3NcIiwgXCIkaW50ZXJwb2xhdGVcIiwgXCIkaW5qZWN0b3JcIiwgXCIkc3RhdGVcIiwgXCIkbG9jYXRpb25cIiwgXCIkd2luZG93XCJdO1xuICAgICAgICBmdW5jdGlvbiBNZXRhVGFncygkbG9nLCBVSVJvdXRlck1ldGF0YWdzLCAkaW50ZXJwb2xhdGUsICRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICR3aW5kb3cpIHtcbiAgICAgICAgICAgIHRoaXMuJGxvZyA9ICRsb2c7XG4gICAgICAgICAgICB0aGlzLlVJUm91dGVyTWV0YXRhZ3MgPSBVSVJvdXRlck1ldGF0YWdzO1xuICAgICAgICAgICAgdGhpcy4kaW50ZXJwb2xhdGUgPSAkaW50ZXJwb2xhdGU7XG4gICAgICAgICAgICB0aGlzLiRpbmplY3RvciA9ICRpbmplY3RvcjtcbiAgICAgICAgICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuICAgICAgICAgICAgdGhpcy5wcmVyZW5kZXIgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBNZXRhVGFncy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRhZ3MpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCB0aGlzLlVJUm91dGVyTWV0YXRhZ3Muc3RhdGljUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5lbmFibGVPR1VSTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnRpZXNbJ29nOnVybCddID0gdGhpcy4kbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0YWdzLnRpdGxlID8gdGhpcy5VSVJvdXRlck1ldGF0YWdzLnByZWZpeCArICh0aGlzLmdldFZhbHVlKCd0aXRsZScsIHRhZ3MudGl0bGUpIHx8ICcnKSArIHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5zdWZmaXggOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdFRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gdGFncy5kZXNjcmlwdGlvbiA/IHRoaXMuZ2V0VmFsdWUoJ2Rlc2NyaXB0aW9uJywgdGFncy5kZXNjcmlwdGlvbikgOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdERlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXdvcmRzID0gdGFncy5rZXl3b3JkcyA/IHRoaXMuZ2V0VmFsdWUoJ2tleXdvcmRzJywgdGFncy5rZXl3b3JkcykgOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdEtleXdvcmRzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvYm90cyA9IHRhZ3Mucm9ib3RzID8gdGhpcy5nZXRWYWx1ZSgncm9ib3RzJywgdGFncy5yb2JvdHMpIDogdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHRSb2JvdHM7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWdzLnByb3BlcnRpZXMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IF90aGlzLmdldFZhbHVlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzW2tleV0gPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdFRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHREZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXl3b3JkcyA9IHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5kZWZhdWx0S2V5d29yZHM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9ib3RzID0gdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHRSb2JvdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YWdzICYmIHRhZ3MucHJlcmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSB0YWdzLnByZXJlbmRlci5zdGF0dXNDb2RlID8gdGhpcy5nZXRWYWx1ZSgncHJlcmVuZGVyLnN0YXR1c0NvZGUnLCB0YWdzLnByZXJlbmRlci5zdGF0dXNDb2RlKSA6IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVyZW5kZXIuaGVhZGVyID0gdGFncy5wcmVyZW5kZXIuaGVhZGVyID8gdGhpcy5nZXRWYWx1ZSgncmVyZW5kZXIuaGVhZGVyJywgdGFncy5wcmVyZW5kZXIuaGVhZGVyKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXJlbmRlci5zdGF0dXNDb2RlID0gMjAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXJlbmRlci5oZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiR3aW5kb3cucHJlcmVuZGVyUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuJGxvZy5lcnJvcignZXJyb3Igb2NjdXJlZCB3aGVuIGV4dHJhY3RpbmcgbWV0YXRhZ3M6JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgTWV0YVRhZ3MucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKHRhZ1R5cGUsIHRhZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhZyA9PT0gJ3N0cmluZycgJiYgdGFnLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0YWcpIHx8IEFycmF5LmlzQXJyYXkodGFnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kaW5qZWN0b3IuaW52b2tlKHRhZywgdGhpcywgdGhpcy4kc3RhdGUuJGN1cnJlbnQubG9jYWxzLmdsb2JhbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGludGVycG9sYXRlKHRhZykodGhpcy4kc3RhdGUuJGN1cnJlbnQubG9jYWxzLmdsb2JhbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2cuZXJyb3IoJ2Vycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZ2V0IHRoZSB2YWx1ZSBvZiB0YWc6JywgdGFnVHlwZSwgZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE1ldGFUYWdzO1xuICAgIH0pKCk7XG4gICAgYXBwTW9kdWxlLnNlcnZpY2UoJ01ldGFUYWdzJywgTWV0YVRhZ3MpO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJ1bkJsb2NrKCRsb2csICRyb290U2NvcGUsIE1ldGFUYWdzLCAkd2luZG93KSB7XG4gICAgICAgICRyb290U2NvcGUuTWV0YVRhZ3MgPSBNZXRhVGFncztcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0Jywgc3RhdGVDaGFuZ2VTdGFydCk7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgc3RhdGVDaGFuZ2VTdWNjZXNzKTtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgc3RhdGVDaGFuZ2VFcnJvcik7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVOb3RGb3VuZCcsIHN0YXRlTm90Rm91bmQpO1xuICAgICAgICBmdW5jdGlvbiBzdGF0ZUNoYW5nZVN0YXJ0KGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbSwgZnJvbVBhcmFtcykge1xuICAgICAgICAgICAgJHdpbmRvdy5wcmVyZW5kZXJSZWFkeSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlU3VjY2VzcyhldmVudCwgdG9TdGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0b1N0YXRlLm1ldGFUYWdzKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIk1ldGFUYWdzIC0gcm91dGU6IFxcXCJcIiArIHRvU3RhdGUubmFtZSArIFwiXFxcIiBkb2VzIG5vdCBjb250YWluIGFueSBtZXRhdGFnc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE1ldGFUYWdzLnVwZGF0ZSh0b1N0YXRlLm1ldGFUYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGF0ZUNoYW5nZUVycm9yKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuICAgICAgICAgICAgTWV0YVRhZ3MucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSA1MDA7XG4gICAgICAgICAgICAkd2luZG93LnByZXJlbmRlclJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGF0ZU5vdEZvdW5kKGV2ZW50LCB1bmZvdW5kU3RhdGUsIGZyb21TdGF0ZSkge1xuICAgICAgICAgICAgTWV0YVRhZ3MucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAkd2luZG93LnByZXJlbmRlclJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBNb2R1bGUucnVuKHJ1bkJsb2NrKTtcbn0pKHVpcm91dGVybWV0YXRhZ3MgfHwgKHVpcm91dGVybWV0YXRhZ3MgPSB7fSkpO1xuXG5cbiIsIi8qXG5hbmd1bGFyLXRhYmxlc29ydCB2MS40LjBcbihjKSAyMDEzLTIwMTYgTWF0dGlhcyBIb2xtbHVuZCwgaHR0cDovL21hdHRpYXNoLmdpdGh1Yi5pby9hbmd1bGFyLXRhYmxlc29ydFxuTGljZW5zZTogTUlUXG4qL1xuXG52YXIgdGFibGVTb3J0TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoICd0YWJsZVNvcnQnLCBbXSApO1xuXG50YWJsZVNvcnRNb2R1bGUucHJvdmlkZXIoICd0YWJsZVNvcnRDb25maWcnLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maWx0ZXJUZW1wbGF0ZSA9ICcnOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ObyBmaWx0ZXJpbmcgYnkgZGVmYXVsdCB1bmxlc3MgYSB0ZW1wbGF0ZSBpcyBwcm92aWRlZFxuICAgIHRoaXMuZmlsdGVyRnVuY3Rpb24gPSB1bmRlZmluZWQ7ICAgICAgICAgICAgICAgICAgIC8vRW1wdHkgYnkgZGVmYXVsdCAtIHVzZSB0aGUgYnVpbHQgaW4gZmlsdGVyIGZ1bmN0aW9uIHdoZW4gbGVmdCBibGFua1xuICAgIHRoaXMucGFnaW5hdGlvblRlbXBsYXRlID0gJyc7ICAgICAgICAgICAgICAgICAgICAgIC8vTm8gcGFnaW5hdGlvbiBieSBkZWZhdWx0IHVubGVzcyBhIHRlbXBsYXRlIGlzIHByb3ZpZGVkXG5cbiAgICAvL1RoZSBiZWxvdyBvcHRpb25zIGNhbiBhbGwgYmUgb3ZlcnJpZGRlbiBvbiBhIHBlci10YWJsZSBiYXNpc1xuICAgIHRoaXMucGVyUGFnZU9wdGlvbnMgPSBbMTAsIDI1LCA1MCwgMTAwXTsgICAgICAgICAgIC8vRGVmYXVsdCBwYWdpbmF0aW9uIG9wdGlvbnNcbiAgICB0aGlzLnBlclBhZ2VEZWZhdWx0ID0gdGhpcy5wZXJQYWdlT3B0aW9uc1swXTsgICAgICAvL1NlbGVjdCB0aGUgZmlyc3Qgb3B0aW9uIGJ5IGRlZmF1bHRcbiAgICB0aGlzLml0ZW1OYW1lU2luZ3VsYXIgPSAnaXRlbSc7ICAgICAgICAgICAgICAgICAgICAvL0RlZmF1bHQgbmFtZVxuICAgIHRoaXMuaXRlbU5hbWVQbHVyYWwgPSB0aGlzLml0ZW1OYW1lU2luZ3VsYXIgKyAncyc7IC8vRGVmYXVsdCB3YXkgdG8gbWFrZSBhbiBpdGVtIHBsdXJhbCBmb3IgRW5nbGlzaFxuICAgIHRoaXMubm9EYXRhVGV4dCA9ICdObyAnICsgdGhpcy5pdGVtTmFtZVBsdXJhbDsgICAgIC8vRGVmYXVsdCB0ZXh0IHRvIHNob3cgdGhhdCB0aGVyZSBhcmUgbm8gaXRlbXNcbiAgICB0aGlzLndyYXBwaW5nRWxlbWVudENsYXNzID0gXCJcIjsgICAgICAgICAgICAgICAgICAgIC8vRW1wdHkgYnkgZGVmYXVsdFxuXG4gICAgaWYoICFpc05hTih0aGlzLnBlclBhZ2VEZWZhdWx0KSAmJiB0aGlzLnBlclBhZ2VPcHRpb25zLmluZGV4T2YodGhpcy5wZXJQYWdlRGVmYXVsdCkgPT09IC0xICkge1xuICAgICAgICAvL0lmIGEgZGVmYXVsdCBwZXItcGFnZSBvcHRpb24gd2FzIGFkZGVkIHRoYXQgaXNuJ3QgaW4gdGhlIGFycmF5LCBhZGQgaXQgYXQgdGhlIGVuZFxuICAgICAgICB0aGlzLnBlclBhZ2VPcHRpb25zLnB1c2godGhpcy5wZXJQYWdlRGVmYXVsdCk7XG4gICAgfVxuXG4gICAgLy9Tb3J0IHRoZSBwZXItcGFnZSBvcHRpb25zIGFycmF5XG4gICAgdGhpcy5wZXJQYWdlT3B0aW9ucy5zb3J0KGZ1bmN0aW9uIChhLGIpIHtyZXR1cm4gYSAtIGI7fSk7XG5cbiAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbn0pO1xuXG50YWJsZVNvcnRNb2R1bGUuZGlyZWN0aXZlKCAndHNXcmFwcGVyJywgWyckcGFyc2UnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiggJHBhcnNlLCAkY29tcGlsZSApIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlVGVtcGxhdGVUb2tlbnMoJHNjb3BlLCB0ZW1wbGF0ZVN0cmluZykge1xuICAgICAgICAvL1JlcGxhY2Ugc29tZSBzdHJpbmdzIHdpdGggdGhlIHByb3BlciBleHByZXNzaW9ucyB0byBiZSBjb21waWxlZFxuICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgdGVtcGxhdGVTdHJpbmc/IFwiLHRlbXBsYXRlU3RyaW5nKTtcblxuICAgICAgICB2YXIgbmV3U3RyaW5nID0gdGVtcGxhdGVTdHJpbmdcbiAgICAgICAgICAgIC5yZXBsYWNlKC9GSUxURVJfU1RSSU5HL2csICdmaWx0ZXJpbmcuZmlsdGVyU3RyaW5nJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9DVVJSRU5UX1BBR0VfUkFOR0UvZywgJ3BhZ2luYXRpb24uZ2V0UGFnZVJhbmdlU3RyaW5nKFRPVEFMX0NPVU5UKScpXG4gICAgICAgICAgICAucmVwbGFjZSgvVE9UQUxfQ09VTlQvZywgJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uICsgJy5sZW5ndGgnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1BFUl9QQUdFX09QVElPTlMvZywgJ3BhZ2luYXRpb24ucGVyUGFnZU9wdGlvbnMnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0lURU1TX1BFUl9QQUdFL2csICdwYWdpbmF0aW9uLnBlclBhZ2UnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0lURU1fTkFNRV9TSU5HVUxBUi9nLCAnaXRlbU5hbWVTaW5ndWxhcicpXG4gICAgICAgICAgICAucmVwbGFjZSgvSVRFTV9OQU1FX1BMVVJBTC9nLCAnaXRlbU5hbWVQbHVyYWwnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0ZJTFRFUkVEX0NPVU5UL2csICdmaWx0ZXJpbmcuZmlsdGVyZWRDb3VudCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvQ1VSUkVOVF9QQUdFX05VTUJFUi9nLCAncGFnaW5hdGlvbi5jdXJyZW50UGFnZScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJuZXdTdHJpbmc6IFwiLG5ld1N0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RyaW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRDb21wYXJlcigpIHtcblxuICAgICAgICBmdW5jdGlvbiBfZGVmYXVsdENvbXBhcmVyKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYSA8IGIpIHJldHVybiAtMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzdHJpbmdDb21wYXJlciA9IF9kZWZhdWx0Q29tcGFyZXI7XG4gICAgICAgIHZhciBudW1lcmljQ29tcGFyZXIgPSBfZGVmYXVsdENvbXBhcmVyO1xuXG4gICAgICAgIGlmKHR5cGVvZiBJbnRsID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc3RyaW5nQ29tcGFyZXIgPSBuZXcgSW50bC5Db2xsYXRvcih1bmRlZmluZWQsIHtzZW5zaXRpdml0eTogJ2Nhc2UnfSkuY29tcGFyZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLmxvY2FsZUNvbXBhcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0cmluZ0NvbXBhcmVyID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYSArICcnKS5sb2NhbGVDb21wYXJlKGIsIHVuZGVmaW5lZCwge3NlbnNpdGl2aXR5OiAnY2FzZSd9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29tcGFyZXJGbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtZXJpY0NvbXBhcmVyKGEsIGIpO1xuXG4gICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIERhdGUgJiYgYiBpbnN0YW5jZW9mIERhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWVyaWNDb21wYXJlcihhLmdldFRpbWUoKSwgYi5nZXRUaW1lKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nQ29tcGFyZXIoYSwgYik7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGNvbXBhcmVyRm47XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRDb21wYXJlciA9IGNyZWF0ZURlZmF1bHRDb21wYXJlcigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ3RhYmxlU29ydENvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgdGFibGVTb3J0Q29uZmlnICkge1xuICAgICAgICAgICAgLy9sb2NhbCBzY29wZSB2YXJzIGZvciB0aGlzIGRpcmVjdGl2ZVxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRhYmxlU29ydENvbmZpZy5wYWdpbmF0aW9uVGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgcGVyUGFnZU9wdGlvbnM6IHRhYmxlU29ydENvbmZpZy5wZXJQYWdlT3B0aW9ucy5jb25jYXQoKSwgLy9jb3B5IHRoZSBhcnJheSwgbm90IGEgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgcGVyUGFnZTogdGFibGVTb3J0Q29uZmlnLnBlclBhZ2VEZWZhdWx0LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgICAgICAgIGdldFBhZ2VSYW5nZVN0cmluZzogZnVuY3Rpb24odG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBGb3JtYXQgdGhlc2UgbnVtYmVycywgcGVyaGFwcyBvcHRpb25hbGx5XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhPblBhZ2UgPSB0b3RhbCAhPT0gJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50ID8gJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50IDogdG90YWw7XG4gICAgICAgICAgICAgICAgICAgIC8vVGhpcyBrZWVwcyB0aGUgZmlyc3QgcGFnZSBsYWJlbGVkIGFzIDEsIG5vdCAwXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFBhZ2UgPSBNYXRoLm1heCgoJHNjb3BlLnBhZ2luYXRpb24uY3VycmVudFBhZ2UgLSAxKSAqICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UgKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFBhZ2UgPSBNYXRoLm1pbigkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAqICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UsIG1heE9uUGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vVGhpcyBwcmV2ZW50cyB0aGUgcmFuZ2UgZnJvbSBzaG93aW5nIHdoZW4gdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyBjYW4gYmUgc2hvd24gb24gYSBzaW5nbGUgcGFnZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50ID09PSAwID8gJycgOiAoZW5kUGFnZSA9PT0gbWF4T25QYWdlICYmIHN0YXJ0UGFnZSA9PT0gMSA/ICcnIDogc3RhcnRQYWdlICsgJy0nKSArIGVuZFBhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid2hhdCBpcyBwYWdpbmF0aW9uOiBcIiwkc2NvcGUucGFnaW5hdGlvbik7XG5cbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcgPSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRhYmxlU29ydENvbmZpZy5maWx0ZXJUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJTdHJpbmc6ICcnLFxuICAgICAgICAgICAgICAgIGZpbHRlckZ1bmN0aW9uOiB0YWJsZVNvcnRDb25maWcuZmlsdGVyRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRDb3VudDogMCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGaWVsZHM6IFtdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgZmlsdGVyaW5nOiBcIiwkc2NvcGUuZmlsdGVyaW5nKTtcblxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uID0gJyc7IC8vdGhpcyB3aWxsIGNvbnRhaW4gdGhlIHN0cmluZyBleHByZXNzaW9uIGZvciB0aGUgYXJyYXkgb2YgaXRlbXMgaW4gdGhlIHRhYmxlXG4gICAgICAgICAgICAkc2NvcGUuaXRlbU5hbWVTaW5ndWxhciA9IHRhYmxlU29ydENvbmZpZy5pdGVtTmFtZVNpbmd1bGFyO1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1OYW1lUGx1cmFsID0gdGFibGVTb3J0Q29uZmlnLml0ZW1OYW1lUGx1cmFsO1xuICAgICAgICAgICAgJHNjb3BlLm5vRGF0YVRleHQgPSB0YWJsZVNvcnRDb25maWcubm9EYXRhVGV4dDtcbiAgICAgICAgICAgICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyA9IHRhYmxlU29ydENvbmZpZy53cmFwcGluZ0VsZW1lbnRDbGFzcztcbiAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvbiA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmhlYWRpbmdzID0gW107XG5cbiAgICAgICAgICAgIHZhciBwYXJzZV9zb3J0ZXhwciA9IGZ1bmN0aW9uKCBleHByLCBuYW1lICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbJHBhcnNlKCBleHByICksIG51bGwsIGZhbHNlLCBuYW1lID8gbmFtZSA6IGV4cHJdO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZXRTb3J0RmllbGQgPSBmdW5jdGlvbiggc29ydGV4cHIsIGVsZW1lbnQsIG5hbWUsIHNvcnRCeSApIHtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHBhcnNlX3NvcnRleHByKCBzb3J0ZXhwciwgbmFtZSApO1xuICAgICAgICAgICAgICAgIGV4cHIucHVzaChzb3J0QnkpO1xuICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUuc29ydEV4cHJlc3Npb24ubGVuZ3RoID09PSAxICYmICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVswXSA9PT0gZXhwclswXSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVsyXSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRFeHByZXNzaW9uWzBdWzJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVsyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCAndGFibGVzb3J0OnNvcnRPcmRlcicsIFt7XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLnNvcnRFeHByZXNzaW9uWzBdWzNdLFxuICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiAkc2NvcGUuc29ydEV4cHJlc3Npb25bMF1bMl1cbiAgICAgICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciggaT0wOyBpPCRzY29wZS5oZWFkaW5ncy5sZW5ndGg7IGk9aSsxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhlYWRpbmdzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWRlc2MnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb24gPSBbZXhwcl07XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCggJ3RhYmxlc29ydDpzb3J0T3JkZXInLCBbe1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGV4cHJbM10sXG4gICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGV4cHJbMl1cbiAgICAgICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkU29ydEZpZWxkID0gZnVuY3Rpb24oIHNvcnRleHByLCBlbGVtZW50LCBuYW1lLCBzb3J0QnkgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHRvZ2dsZV9vcmRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBleHByID0gcGFyc2Vfc29ydGV4cHIoIHNvcnRleHByLCBuYW1lICk7XG4gICAgICAgICAgICAgICAgZXhwci5wdXNoKHNvcnRCeSk7XG4gICAgICAgICAgICAgICAgZm9yKCBpPTA7IGk8JHNjb3BlLnNvcnRFeHByZXNzaW9uLmxlbmd0aDsgaT1pKzEgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMF0gPT09IGV4cHJbMF0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzJdICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyggJ3RhYmxlc29ydC1hc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyggJ3RhYmxlc29ydC1kZXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVsyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVfb3JkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAhdG9nZ2xlX29yZGVyICkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRFeHByZXNzaW9uLnB1c2goIGV4cHIgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoICd0YWJsZXNvcnQ6c29ydE9yZGVyJywgJHNjb3BlLnNvcnRFeHByZXNzaW9uLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYVszXSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGFbMl1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnNldFRyYWNrQnkgPSBmdW5jdGlvbiggdHJhY2tCeSApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhY2tCeSA9IHRyYWNrQnk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVySGVhZGluZyA9IGZ1bmN0aW9uKCBoZWFkaW5nZWxlbWVudCApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGVhZGluZ3MucHVzaCggaGVhZGluZ2VsZW1lbnQgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkRmlsdGVyRmllbGQgPSBmdW5jdGlvbiggc29ydGV4cHIsIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cHIgPSBwYXJzZV9zb3J0ZXhwciggc29ydGV4cHIgKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZpZWxkcy5wdXNoKCBleHByICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnNldEFycmF5RXhwciA9IGZ1bmN0aW9uKCBkYXRhQXJyYXlFeHAgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uID0gZGF0YUFycmF5RXhwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgdHNXcmFwcGVyQ3RybCkge1xuXG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzSXRlbU5hbWUgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsTm9EYXRhVGV4dCA9ICdObyAnICsgJHNjb3BlLml0ZW1OYW1lUGx1cmFsO1xuXG4gICAgICAgICAgICAgICAgLy9pZiB0aGUgdGFibGUgYXR0cmlidXRlcyBoYXMgYW4gaXRlbSBuYW1lIG9uIGl0LCB0aGlzIHRha2VzIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1OYW1lU2luZ3VsYXIgPSAkYXR0cnMudHNJdGVtTmFtZTtcblxuICAgICAgICAgICAgICAgIGlmKCAkYXR0cnMudHNJdGVtTmFtZVBsdXJhbCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBhIHBsdXJhbCBuYW1lIHdhcyBzcGVjaWZpZWQsIHVzZSB0aGF0XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pdGVtTmFtZVBsdXJhbCA9ICRhdHRycy50c0l0ZW1OYW1lUGx1cmFsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vb3RoZXJ3aXNlIGp1c3QgYWRkICdzJyB0byB0aGUgc2luZ3VsYXIgbmFtZVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXRlbU5hbWVQbHVyYWwgPSAkYXR0cnMudHNJdGVtTmFtZSArICdzJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggISRhdHRycy50c05vRGF0YVRleHQgJiYgJHNjb3BlLm5vRGF0YVRleHQgPT09IG9yaWdpbmFsTm9EYXRhVGV4dCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgbm9EYXRhVGV4dCB3YXMgTk9UIHNwZWNpZmllZCBBTkQgaXQncyBpbiB0aGUgc2FtZSAnTm8gSVRFTVMnIGZvcm1hdCBhcyB0aGUgZGVmYXVsdCAsIHVwZGF0ZSBpdCB0byBjb250YWluIHRoZSBuZXcgaXRlbSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ub0RhdGFUZXh0ID0gJ05vICcgKyAkc2NvcGUuaXRlbU5hbWVQbHVyYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzTm9EYXRhVGV4dCApIHtcbiAgICAgICAgICAgICAgICAvL0lmIHRoZSBub0RhdGFUZXh0IHdhcyBzcGVjaWZpZWQsIHVwZGF0ZSBpdFxuICAgICAgICAgICAgICAgICRzY29wZS5ub0RhdGFUZXh0ID0gJGF0dHJzLnRzTm9EYXRhVGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c1dyYXBwaW5nRWxlbWVudENsYXNzICkge1xuICAgICAgICAgICAgICAgIC8vSWYgdGhlIHdyYXBwaW5nRWxlbWVudENsYXNzIHdhcyBzcGVjaWZpZWQsIHVwZGF0ZSBpdFxuICAgICAgICAgICAgICAgICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyA9ICRhdHRycy50c1dyYXBwaW5nRWxlbWVudENsYXNzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2xvY2FsIGF0dHJpYnV0ZSB1c2FnZXMgb2YgdGhlIHBhZ2luYXRpb24vZmlsdGVyaW5nIG9wdGlvbnMgd2lsbCBvdmVycmlkZSB0aGUgZ2xvYmFsIGNvbmZpZ1xuICAgICAgICAgICAgaWYoICRhdHRycy50c1BlclBhZ2VPcHRpb25zICkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zID0gJHNjb3BlLiRldmFsKCRhdHRycy50c1BlclBhZ2VPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c1BlclBhZ2VEZWZhdWx0ICkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0UGVyUGFnZSA9ICRzY29wZS4kZXZhbCgkYXR0cnMudHNQZXJQYWdlRGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgaWYoICFpc05hTihkZWZhdWx0UGVyUGFnZSkgKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UgPSBkZWZhdWx0UGVyUGFnZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zLmluZGV4T2YoJHNjb3BlLnBhZ2luYXRpb24ucGVyUGFnZSkgPT09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBhIGRlZmF1bHQgcGVyLXBhZ2Ugb3B0aW9uIHdhcyBhZGRlZCB0aGF0IGlzbid0IGluIHRoZSBhcnJheSwgYWRkIGl0IGFuZCBzb3J0IHRoZSBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24ucGVyUGFnZU9wdGlvbnMucHVzaCgkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zLnNvcnQoZnVuY3Rpb24gKGEsYikge3JldHVybiBhIC0gYjt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c0ZpbHRlckZpZWxkcyApIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyRmllbGRzID0gJGF0dHJzLnRzRmlsdGVyRmllbGRzLnNwbGl0KCcsJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAmJiBpdGVtLnRyaW0oKSAhPT0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvciggdmFyIGk9MDsgaTxmaWx0ZXJGaWVsZHMubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5hZGRGaWx0ZXJGaWVsZChmaWx0ZXJGaWVsZHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRmaWx0ZXJIdG1sO1xuICAgICAgICAgICAgaWYoICRhdHRycy50c0Rpc3BsYXlGaWx0ZXJpbmcgIT09ICdmYWxzZScgJiYgJHNjb3BlLmZpbHRlcmluZy50ZW1wbGF0ZSAhPT0gJycgJiYgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHMubGVuZ3RoPjAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlclN0cmluZyA9IHJlcGxhY2VUZW1wbGF0ZVRva2Vucygkc2NvcGUsICRzY29wZS5maWx0ZXJpbmcudGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICRmaWx0ZXJIdG1sID0gJGNvbXBpbGUoZmlsdGVyU3RyaW5nKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgIC8vQWRkIGZpbHRlcmluZyBIVE1MIEJFRk9SRSB0aGUgdGFibGVcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5wYXJlbnQoKVswXS5pbnNlcnRCZWZvcmUoJGZpbHRlckh0bWxbMF0sICRlbGVtZW50WzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c0ZpbHRlckZ1bmN0aW9uICkge1xuICAgICAgICAgICAgICAgIC8vaWYgdGhlIHRhYmxlIGF0dHJpYnV0ZXMgaGFzIGEgZmlsdGVyIGZ1bmN0aW9uIG9uIGl0LCB0aGlzIHRha2VzIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGdW5jdGlvbiA9ICRzY29wZS4kZXZhbCgkYXR0cnMudHNGaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCAhYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRnVuY3Rpb24pICkge1xuICAgICAgICAgICAgICAgIC8vTm8gY3VzdG9tIGZpbHRlciB3YXMgcHJvdmlkZWQuLi5cbiAgICAgICAgICAgICAgICBpZiggJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHMubGVuZ3RoPT09MCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UaGVyZSBhcmUgbm8gZmlsdGVyIGZpZWxkcywgc28gYWx3YXlzIHJldHVybiBldmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRnVuY3Rpb24gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL1RoaXMgaXMgdGhlIGRlZmF1bHQgZmlsdGVyIGZ1bmN0aW9uLiBJdCBkb2VzIGEgbG93ZXJjYXNlIHN0cmluZyBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZ1bmN0aW9uID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3VsZEluY2x1ZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGk9MDsgaTwkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZpZWxkcy5sZW5ndGg7IGk9aSsxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhc2hvdWxkSW5jbHVkZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9ICgkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZpZWxkc1tpXVswXShpdGVtKSB8fCAnJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOyAvL3BhcnNlIHRoZSBpdGVtJ3MgcHJvcGVydHkgdXNpbmcgdGhlIGB0cy1jcml0ZXJpYWAgdmFsdWUgJiBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSW5jbHVkZSA9IHN0ci5pbmRleE9mKCRzY29wZS5maWx0ZXJpbmcuZmlsdGVyU3RyaW5nLnRvTG93ZXJDYXNlKCkpID4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZEluY2x1ZGU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyTGltaXRGdW4gPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAgICAgIGlmKCAhJGF0dHJzLnRzRmlsdGVyRnVuY3Rpb24gJiYgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJTdHJpbmcgPT09ICcnICkge1xuICAgICAgICAgICAgICAgICAgICAvL1JldHVybiB1bmZpbHRlcmVkIHdoZW4gTk9UIHVzaW5nIGEgY3VzdG9tIGZpbHRlciBmdW5jdGlvbiBhbmQgd2hlbiBub3RoaW5nIGlzIGJlaW5nIHNlYXJjaGVkXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyZWRDb3VudCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRBcnIgPSBhcnJheS5maWx0ZXIoJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50ID0gZmlsdGVyZWRBcnIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEFycjtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zb3J0RnVuID0gZnVuY3Rpb24oIGEsIGIgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGF2YWwsIGJ2YWwsIGRlc2NlbmRpbmcsIGZpbHRlckZ1biwgY29tcFJlc3VsdDtcbiAgICAgICAgICAgICAgICBmb3IoIGk9MDsgaTwkc2NvcGUuc29ydEV4cHJlc3Npb24ubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhbCA9ICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVswXShhKTtcbiAgICAgICAgICAgICAgICAgICAgYnZhbCA9ICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVswXShiKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnVuID0gYlskc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMV1dO1xuICAgICAgICAgICAgICAgICAgICBpZiggZmlsdGVyRnVuICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXZhbCA9IGZpbHRlckZ1biggYXZhbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnZhbCA9IGZpbHRlckZ1biggYnZhbCApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFsID09PSB1bmRlZmluZWQgfHwgYXZhbCA9PT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggYnZhbCA9PT0gdW5kZWZpbmVkIHx8IGJ2YWwgPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kaW5nID0gJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzJdO1xuICAgICAgICAgICAgICAgICAgICBjb21wUmVzdWx0ID0gKCRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVs0XSB8fCBkZWZhdWx0Q29tcGFyZXIpKGF2YWwsIGJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiggY29tcFJlc3VsdCA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjZW5kaW5nID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGNvbXBSZXN1bHQgPT09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NlbmRpbmcgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGhlIHNvcnQgZmllbGRzIHdlcmUgZXF1YWwuIElmIHRoZXJlIGlzIGEgJ3RyYWNrIGJ5JycgZXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhhdCBhcyBhIHRpZWJyZWFrZXIgdG8gbWFrZSB0aGUgc29ydCByZXN1bHQgc3RhYmxlLlxuICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUudHJhY2tCeSApIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhbCA9IGFbJHNjb3BlLnRyYWNrQnldO1xuICAgICAgICAgICAgICAgICAgICBidmFsID0gYlskc2NvcGUudHJhY2tCeV07XG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFsID09PSB1bmRlZmluZWQgfHwgYXZhbCA9PT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggYnZhbCA9PT0gdW5kZWZpbmVkIHx8IGJ2YWwgPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidmFsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29tcFJlc3VsdCA9IGRlZmF1bHRDb21wYXJlcihhdmFsLCBidmFsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbXBSZXN1bHQgPT09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY2VuZGluZyA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjb21wUmVzdWx0ID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjZW5kaW5nID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnBhZ2VMaW1pdEZ1biA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYoICRhdHRycy50c0Rpc3BsYXlQYWdpbmF0aW9uID09PSAnZmFsc2UnIHx8ICRzY29wZS5wYWdpbmF0aW9uLnRlbXBsYXRlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvL3BhZ2luYXRpb24gaXMgZGlzYWJsZWQgb24gdGhpcyB0YWJsZSBvciB0aGVyZSBpcyBubyB0ZW1wbGF0ZSwgc28gcmV0dXJuIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL09ubHkgcmV0dXJuIHRoZSBpdGVtcyB0aGF0IGFyZSBpbiB0aGUgY29ycmVjdCBpbmRleCByYW5nZSBmb3IgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwYWdlXG4gICAgICAgICAgICAgICAgdmFyIGJlZ2luID0gKCRzY29wZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSAkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAqICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2U7XG4gICAgICAgICAgICAgICAgdmFyIGZpbmFsPVtdO1xuICAgICAgICAgICAgICAgIGZvciggdmFyIGk9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICBpZiggaSA+PSBiZWdpbiAmJiBpIDwgZW5kICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwucHVzaChhcnJheVtpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyICRwYWdpbmF0aW9uSHRtbDtcbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNEaXNwbGF5UGFnaW5hdGlvbiAhPT0gJ2ZhbHNlJyAmJiAkc2NvcGUucGFnaW5hdGlvbi50ZW1wbGF0ZSAhPT0gJycgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VyU3RyaW5nID0gcmVwbGFjZVRlbXBsYXRlVG9rZW5zKCRzY29wZSwgJHNjb3BlLnBhZ2luYXRpb24udGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uSHRtbCA9ICRjb21waWxlKHBhZ2VyU3RyaW5nKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgIC8vQWRkIHBhZ2luYXRpb24gSFRNTCBBRlRFUiB0aGUgdGFibGVcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5hZnRlcigkcGFnaW5hdGlvbkh0bWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgdmFyICR3cmFwcGluZ0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiggJHNjb3BlLndyYXBwaW5nRWxlbWVudENsYXNzICYmICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyAhPT0gXCJcIiApIHtcbiAgICAgICAgICAgICAgICAvL1RoaXMgc2hvdWxkIGhhcHBlbiBBRlRFUiB0aGUgZmlsdGVyaW5nIGFuZCBwYWdpbmF0aW9uIEhUTUwgYXJlIHNldFxuICAgICAgICAgICAgICAgICR3cmFwcGluZ0VsZW1lbnQgPSAkZWxlbWVudC53cmFwKFwiPGRpdiBjbGFzcz0nXCIrICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyArXCInIC8+XCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzR2V0VGFibGVEYXRhRnVuY3Rpb24gKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldHRlciA9ICRwYXJzZSgkYXR0cnMudHNHZXRUYWJsZURhdGFGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG5cbiAgICAgICAgICAgICAgICAvL0lmIHRoaXMgYXR0cmlidXRlIGhhcyBhIHZhbHVlLCB0aGVuIHdlIHdhbnQgdG8gdHVybiBpdCBpbnRvIGEgZnVuY3Rpb24gb24gdGhlIHBhcmVudCBzY29wZVxuICAgICAgICAgICAgICAgIC8vc28gdGhhdCBpdCBjYW4gYmUgcGFzc2VkIGludG8gb3RoZXIgZnVuY3Rpb25zIGFuZCBydW4gb24gdGhlIHBhcmVudCBjb250cm9sbGVycyBhcyBuZWVkZWRcbiAgICAgICAgICAgICAgICB2YXIgZm4gID0gZnVuY3Rpb24oIHNob3VsZEFwcGx5U29ydGluZywgc2hvdWxkQXBwbHlGaWx0ZXJpbmcsIGxpbWl0VG9DdXJyZW50UGFnZU9ubHkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSAkcGFyc2UoJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uKSgkc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzaG91bGRBcHBseVNvcnRpbmcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIgPSBhcnIuc29ydCgkc2NvcGUuc29ydEZ1bik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggc2hvdWxkQXBwbHlGaWx0ZXJpbmcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIgPSAkc2NvcGUuZmlsdGVyTGltaXRGdW4oYXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBsaW1pdFRvQ3VycmVudFBhZ2VPbmx5ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyID0gJHNjb3BlLnBhZ2VMaW1pdEZ1bihhcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgc2V0dGVyKCRzY29wZS4kcGFyZW50LCBmbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oICckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vV2hlbiB0aGUgZGlyZWN0aXZlIGlzIGRlc3Ryb3llZCwgYWxzbyByZW1vdmUgdGhlIGZpbHRlciAmIHBhZ2luYXRpb24gSFRNTFxuICAgICAgICAgICAgICAgIGlmKCAkZmlsdGVySHRtbCApIHtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckh0bWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAkcGFnaW5hdGlvbkh0bWwgKSB7XG4gICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uSHRtbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoICR3cmFwcGluZ0VsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdW4td3JhcCB0aGUgdGFibGUgZnJvbSB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgJHdyYXBwaW5nRWxlbWVudC5yZXBsYWNlV2l0aCgkZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuXG50YWJsZVNvcnRNb2R1bGUuZGlyZWN0aXZlKCAndHNDcml0ZXJpYScsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6IFwiXnRzV3JhcHBlclwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHRzT3JkZXJCeTogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdHNXcmFwcGVyQ3RybCkge1xuICAgICAgICAgICAgdmFyIGNsaWNraW5nQ2FsbGJhY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCBldmVudC5zaGlmdEtleSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuYWRkU29ydEZpZWxkKGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuc2V0U29ydEZpZWxkKGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoICdjbGljaycsIGNsaWNraW5nQ2FsbGJhY2sgKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtc29ydGFibGUnICk7XG4gICAgICAgICAgICBpZiggJ3RzRGVmYXVsdCcgaW4gYXR0cnMgJiYgYXR0cnMudHNEZWZhdWx0ICE9PSAnMCcgKSB7XG4gICAgICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5hZGRTb3J0RmllbGQoIGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5ICk7XG4gICAgICAgICAgICAgICAgaWYoIGF0dHJzLnRzRGVmYXVsdCA9PT0gJ2Rlc2NlbmRpbmcnICkge1xuICAgICAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLmFkZFNvcnRGaWVsZCggYXR0cnMudHNDcml0ZXJpYSwgZWxlbWVudCwgYXR0cnMudHNOYW1lLCBzY29wZS50c09yZGVyQnkgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiggJ3RzRmlsdGVyJyBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuYWRkRmlsdGVyRmllbGQoIGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRzV3JhcHBlckN0cmwucmVnaXN0ZXJIZWFkaW5nKCBlbGVtZW50ICk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5cbnRhYmxlU29ydE1vZHVsZS5kaXJlY3RpdmUoICd0c1JlcGVhdCcsIFsnJGNvbXBpbGUnLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24oJGNvbXBpbGUsICRpbnRlcnBvbGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmU6ICdedHNXcmFwcGVyJyxcbiAgICAgICAgcHJpb3JpdHk6IDEwMDAwMDAsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdHNXcmFwcGVyQ3RybCkge1xuICAgICAgICAgICAgdmFyIHJlcGVhdEF0dHJzID0gWyduZy1yZXBlYXQnLCAnZGF0YS1uZy1yZXBlYXQnLCAnbmctcmVwZWF0LXN0YXJ0JywgJ2RhdGEtbmctcmVwZWF0LXN0YXJ0J107XG4gICAgICAgICAgICB2YXIgbmdSZXBlYXREaXJlY3RpdmUgPSByZXBlYXRBdHRyc1swXTtcbiAgICAgICAgICAgIHZhciB0c1JlcGVhdERpcmVjdGl2ZSA9ICd0cy1yZXBlYXQnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXBlYXRBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChlbGVtZW50LmF0dHIocmVwZWF0QXR0cnNbaV0pKSkge1xuICAgICAgICAgICAgICAgICAgICBuZ1JlcGVhdERpcmVjdGl2ZSA9IHJlcGVhdEF0dHJzW2ldO1xuICAgICAgICAgICAgICAgICAgICB0c1JlcGVhdERpcmVjdGl2ZSA9IG5nUmVwZWF0RGlyZWN0aXZlLnJlcGxhY2UoL14oZGF0YS0pP25nLywgJyQxdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHNFeHByID0gJ3RhYmxlc29ydE9yZGVyQnk6c29ydEZ1biB8IHRhYmxlc29ydExpbWl0OmZpbHRlckxpbWl0RnVuIHwgdGFibGVzb3J0TGltaXQ6cGFnZUxpbWl0RnVuJztcbiAgICAgICAgICAgIHZhciByZXBlYXRFeHByID0gZWxlbWVudC5hdHRyKG5nUmVwZWF0RGlyZWN0aXZlKTtcbiAgICAgICAgICAgIHZhciByZXBlYXRFeHByUmVnZXggPSAvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKFxccyt0cmFja1xccytieVxccytbXFxzXFxTXSs/KT9cXHMqJC87XG4gICAgICAgICAgICB2YXIgdHJhY2tCeU1hdGNoID0gcmVwZWF0RXhwci5tYXRjaCgvXFxzK3RyYWNrXFxzK2J5XFxzK1xcUys/XFwuKFxcUyspLyk7XG4gICAgICAgICAgICB2YXIgcmVwZWF0SW5NYXRjaCA9IHJlcGVhdEV4cHIubWF0Y2gocmVwZWF0RXhwclJlZ2V4KTtcbiAgICAgICAgICAgIGlmICh0cmFja0J5TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLnNldFRyYWNrQnkodHJhY2tCeU1hdGNoWzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9MaW1pdCBTb3J0IHRoZSByZXN1bHRzLCB0aGVuIGxpbWl0IHRoZW0gdG8gb25seSBpbmNsdWRlIHdoYXQgbWF0Y2hlcyB0aGUgZmlsdGVyLCB0aGVuIG9ubHkgd2hhdCdzIG9uIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIGlmIChyZXBlYXRFeHByLnNlYXJjaCgvdGFibGVzb3J0LykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVwZWF0RXhwciA9IHJlcGVhdEV4cHIucmVwbGFjZSgvdGFibGVzb3J0LywgdHNFeHByKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tCeU1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vTW92ZSB0aGUgJ3RyYWNrIGJ5Jycgc3RhdGVtZW50IHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0RXhwciA9IHJlcGVhdEV4cHIucmVwbGFjZSh0cmFja0J5TWF0Y2hbMF0sICcnKSArIHRyYWNrQnlNYXRjaFswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcGVhdEV4cHIgPSByZXBlYXRFeHByLnJlcGxhY2UocmVwZWF0RXhwclJlZ2V4LCAnJDEgaW4gJDIgfCAnICsgdHNFeHByICsgJyQzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGF0dHJzLnRzSGlkZU5vRGF0YSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5vRGF0YVJvdyA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdKS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG5vRGF0YVJvdy5yZW1vdmVBdHRyKG5nUmVwZWF0RGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cucmVtb3ZlQXR0cih0c1JlcGVhdERpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93LmFkZENsYXNzKCAnc2hvd0lmTGFzdCcgKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cuYXBwZW5kKCAnPHRkIGNvbHNwYW49XCInICsgZWxlbWVudFswXS5jaGlsZEVsZW1lbnRDb3VudCArICdcIj4nICsgc3RhcnRTeW0gKyAnbm9EYXRhVGV4dCcgKyBlbmRTeW0gKyAnPC90ZD4nICk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93ID0gJGNvbXBpbGUobm9EYXRhUm93KShzY29wZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5wcmVwZW5kKG5vRGF0YVJvdyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vcGFzcyB0aGUgYGl0ZW1zTGlzdGAgZnJvbSBgaXRlbSBpbiBpdGVtc0xpc3RgIHRvIHRoZSBtYXN0ZXIgZGlyZWN0aXZlIGFzIGEgc3RyaW5nIHNvIGl0IGNhbiBiZSB1c2VkIGluIGV4cHJlc3Npb25zXG4gICAgICAgICAgICB0c1dyYXBwZXJDdHJsLnNldEFycmF5RXhwcihyZXBlYXRJbk1hdGNoWzJdKTtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0pLmF0dHIobmdSZXBlYXREaXJlY3RpdmUsIHJlcGVhdEV4cHIpO1xuICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudCwgbnVsbCwgMTAwMDAwMCkoc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcblxudGFibGVTb3J0TW9kdWxlLmZpbHRlciggJ3RhYmxlc29ydExpbWl0JywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBsaW1pdEZ1bikge1xuICAgIGlmKCFhcnJheSkgcmV0dXJuO1xuICAgIHJldHVybiBsaW1pdEZ1bihhcnJheSk7XG4gICAgfTtcbn0gKTtcblxudGFibGVTb3J0TW9kdWxlLmZpbHRlciggJ3RhYmxlc29ydE9yZGVyQnknLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHNvcnRmdW4gKSB7XG4gICAgICAgIGlmKCFhcnJheSkgcmV0dXJuO1xuICAgICAgICB2YXIgYXJyYXlDb3B5ID0gYXJyYXkuY29uY2F0KCk7XG4gICAgICAgIHJldHVybiBhcnJheUNvcHkuc29ydCggc29ydGZ1biApO1xuICAgIH07XG59ICk7XG5cbnRhYmxlU29ydE1vZHVsZS5maWx0ZXIoICdwYXJzZUludCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoIGlucHV0ICkgfHwgbnVsbDtcbiAgICB9O1xufSApO1xuXG50YWJsZVNvcnRNb2R1bGUuZmlsdGVyKCAncGFyc2VGbG9hdCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCggaW5wdXQgKSB8fCBudWxsO1xuICAgIH07XG59ICk7XG5cbnRhYmxlU29ydE1vZHVsZS5maWx0ZXIoICdwYXJzZURhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBpc05hTih0aW1lc3RhbXApID8gbnVsbCA6IHRpbWVzdGFtcDtcbiAgICB9O1xufSApO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3BpY2FyZHkuZm9udGF3ZXNvbWUnLCBbXSlcbiAgLmRpcmVjdGl2ZSgnZmEnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZmFcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+JyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgLyoqKiBTVFJJTkcgQVRUUlMgKioqL1xuICAgICAgICAvLyBrZWVwIGEgc3RhdGUgb2YgdGhlIGN1cnJlbnQgYXR0cnMgc28gdGhhdCB3aGVuIHRoZXkgY2hhbmdlLFxuICAgICAgICAvLyB3ZSBjYW4gcmVtb3ZlIHRoZSBvbGQgYXR0cnMgYmVmb3JlIGFkZGluZyB0aGUgbmV3IG9uZXMuXG4gICAgICAgIHZhciBjdXJyZW50Q2xhc3NlcyA9IHt9O1xuXG4gICAgICAgIC8vIGdlbmVyaWMgZnVuY3Rpb24gdG8gYmluZCBzdHJpbmcgYXR0cnNcbiAgICAgICAgZnVuY3Rpb24gX29ic2VydmVTdHJpbmdBdHRyIChhdHRyLCBiYXNlQ2xhc3MpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmFzZUNsYXNzID0gYmFzZUNsYXNzIHx8ICdmYS0nICsgYXR0cjtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXNbYXR0cl0pO1xuICAgICAgICAgICAgaWYgKGF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IFtiYXNlQ2xhc3MsIGF0dHJzW2F0dHJdXS5qb2luKCctJyk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgY3VycmVudENsYXNzZXNbYXR0cl0gPSBjbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfb2JzZXJ2ZVN0cmluZ0F0dHIoJ25hbWUnLCAnZmEnKTtcbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdyb3RhdGUnKTtcbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdmbGlwJyk7XG4gICAgICAgIF9vYnNlcnZlU3RyaW5nQXR0cignc3RhY2snKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2l6ZSBjYW4gYmUgcGFzc2VkIFwibGFyZ2VcIiBvciBhbiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXMuc2l6ZSk7XG5cbiAgICAgICAgICBpZiAoYXR0cnMuc2l6ZSA9PT0gJ2xhcmdlJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLWxnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUludChhdHRycy5zaXplLCAxMCkpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtJyArIGF0dHJzLnNpemUgKyAneCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgIGN1cnJlbnRDbGFzc2VzLnNpemUgPSBjbGFzc05hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdGFjayBjYW4gYmUgcGFzc2VkIFwibGFyZ2VcIiBvciBhbiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnc3RhY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc2VzLnN0YWNrKTtcblxuICAgICAgICAgIGlmIChhdHRycy5zdGFjayA9PT0gJ2xhcmdlJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLXN0YWNrLWxnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUludChhdHRycy5zdGFjaywgMTApKSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLXN0YWNrLScgKyBhdHRycy5zdGFjayArICd4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgY3VycmVudENsYXNzZXMuc3RhY2sgPSBjbGFzc05hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKiogQk9PTEVBTiBBVFRSUyAqKiovXG4gICAgICAgIC8vIGdlbmVyaWMgZnVuY3Rpb24gdG8gYmluZCBib29sZWFuIGF0dHJzXG4gICAgICAgIGZ1bmN0aW9uIF9vYnNlcnZlQm9vbGVhbkF0dHIgKGF0dHIsIGNsYXNzTmFtZSkge1xuICAgICAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnZmEtJyArIGF0dHI7XG4gICAgICAgICAgICB2YWx1ZSA9IGF0dHIgaW4gYXR0cnMgJiYgYXR0cnNbYXR0cl0gIT09ICdmYWxzZScgJiYgYXR0cnNbYXR0cl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhjbGFzc05hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vYnNlcnZlQm9vbGVhbkF0dHIoJ2JvcmRlcicpO1xuICAgICAgICBfb2JzZXJ2ZUJvb2xlYW5BdHRyKCdmdycpO1xuICAgICAgICBfb2JzZXJ2ZUJvb2xlYW5BdHRyKCdpbnZlcnNlJyk7XG4gICAgICAgIF9vYnNlcnZlQm9vbGVhbkF0dHIoJ3NwaW4nKTtcblxuICAgICAgICAvKioqIENPTkRJVElPTkFMIEFUVFJTICoqKi9cbiAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHBvcHVsYXRlIGZhLWxpIGlmIERPTSBzdHJ1Y3R1cmUgaW5kaWNhdGVzXG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2ZhLWxpJyxcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCgpICYmXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5wcm9wKCd0YWdOYW1lJykgPT09ICdMSScgJiZcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCgpLnBhcmVudCgpICYmXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5wYXJlbnQoKS5oYXNDbGFzcygnZmEtdWwnKSAmJlxuICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKVswXSA9PT0gZWxlbWVudFswXSAmJlxuICAgICAgICAgIGF0dHJzLmxpc3QgIT09ICdmYWxzZScgJiZcbiAgICAgICAgICBhdHRycy5saXN0ICE9PSBmYWxzZVxuICAgICAgICApO1xuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdhbHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGFsdFRleHQgPSBhdHRycy5hbHQsXG4gICAgICAgICAgICAgIGFsdEVsZW0gPSBlbGVtZW50Lm5leHQoKSxcbiAgICAgICAgICAgICAgYWx0RWxlbUNsYXNzID0gJ2ZhLWFsdC10ZXh0JztcblxuICAgICAgICAgIGlmIChhbHRUZXh0KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FsdCcpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIGFsdCBlbGVtIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgaWYgKCFhbHRFbGVtIHx8ICFhbHRFbGVtLmhhc0NsYXNzKGFsdEVsZW1DbGFzcykpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcignPHNwYW4gY2xhc3M9XCJzci1vbmx5IGZhLWFsdC10ZXh0XCI+PC9zcGFuPicpO1xuICAgICAgICAgICAgICBhbHRFbGVtID0gZWxlbWVudC5uZXh0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFsdEVsZW0udGV4dChhbHRUZXh0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFsdEVsZW0gJiYgYWx0RWxlbS5oYXNDbGFzcyhhbHRFbGVtQ2xhc3MpKSB7XG4gICAgICAgICAgICAvLyBraWxsIHRoZSBhbHQgZWxlbSBpZiB3ZSB1c2VkIHRvIGhhdmUgYWx0IHRleHQsIGJ1dCBub3cgd2UgZG9uJ3RcbiAgICAgICAgICAgIGFsdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuICAuZGlyZWN0aXZlKCdmYVN0YWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlOiAnPHNwYW4gbmctdHJhbnNjbHVkZSBjbGFzcz1cImZhLXN0YWNrIGZhLWxnXCI+PC9zcGFuPicsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICAgIC8qKiogU1RSSU5HIEFUVFJTICoqKi9cbiAgICAgICAgLy8ga2VlcCBhIHN0YXRlIG9mIHRoZSBjdXJyZW50IGF0dHJzIHNvIHRoYXQgd2hlbiB0aGV5IGNoYW5nZSxcbiAgICAgICAgLy8gd2UgY2FuIHJlbW92ZSB0aGUgb2xkIGF0dHJzIGJlZm9yZSBhZGRpbmcgdGhlIG5ldyBvbmVzLlxuICAgICAgICB2YXIgY3VycmVudENsYXNzZXMgPSB7fTtcblxuICAgICAgICAvLyBnZW5lcmljIGZ1bmN0aW9uIHRvIGJpbmQgc3RyaW5nIGF0dHJzXG4gICAgICAgIGZ1bmN0aW9uIF9vYnNlcnZlU3RyaW5nQXR0ciAoYXR0ciwgYmFzZUNsYXNzKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZTtcblxuICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJhc2VDbGFzcyA9IGJhc2VDbGFzcyB8fCAnZmEtJyArIGF0dHI7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc2VzW2F0dHJdKTtcbiAgICAgICAgICAgIGlmIChhdHRyc1thdHRyXSkge1xuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBbYmFzZUNsYXNzLCBhdHRyc1thdHRyXV0uam9pbignLScpO1xuICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIGN1cnJlbnRDbGFzc2VzW2F0dHJdID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdzaXplJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNpemUgY2FuIGJlIHBhc3NlZCBcImxhcmdlXCIgb3IgYW4gaW50ZWdlclxuICAgICAgICAgKi9cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ3NpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZTtcblxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXMuc2l6ZSk7XG5cbiAgICAgICAgICBpZiAoYXR0cnMuc2l6ZSA9PT0gJ2xhcmdlJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLWxnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUludChhdHRycy5zaXplLCAxMCkpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtJyArIGF0dHJzLnNpemUgKyAneCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgIGN1cnJlbnRDbGFzc2VzLnNpemUgPSBjbGFzc05hbWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pOyIsIi8qISBAbGljZW5zZVxuICogIFByb2plY3Q6IEJ1dHRvbnNcbiAqICBEZXNjcmlwdGlvbjogQSBoaWdobHkgY3VzdG9taXphYmxlIENTUyBidXR0b24gbGlicmFyeSBidWlsdCB3aXRoIFNhc3MgYW5kIENvbXBhc3NcbiAqICBBdXRob3I6IEFsZXggV29sZmVcbiAqICBMaWNlbnNlOiBBcGFjaGUgTGljZW5zZSB2Mi4wXG4gKi9cblxuLy8gdGhlIHNlbWktY29sb24gYmVmb3JlIGZ1bmN0aW9uIGludm9jYXRpb24gaXMgYSBzYWZldHkgbmV0IGFnYWluc3QgY29uY2F0ZW5hdGVkXG4vLyBzY3JpcHRzIGFuZC9vciBvdGhlciBwbHVnaW5zIHdoaWNoIG1heSBub3QgYmUgY2xvc2VkIHByb3Blcmx5LlxuOyhmdW5jdGlvbiAoICQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyB1bmRlZmluZWQgaXMgdXNlZCBoZXJlIGFzIHRoZSB1bmRlZmluZWQgZ2xvYmFsIHZhcmlhYmxlIGluIEVDTUFTY3JpcHQgMyBpc1xuICAgIC8vIG11dGFibGUgKGllLiBpdCBjYW4gYmUgY2hhbmdlZCBieSBzb21lb25lIGVsc2UpLiB1bmRlZmluZWQgaXNuJ3QgcmVhbGx5IGJlaW5nXG4gICAgLy8gcGFzc2VkIGluIHNvIHdlIGNhbiBlbnN1cmUgdGhlIHZhbHVlIG9mIGl0IGlzIHRydWx5IHVuZGVmaW5lZC4gSW4gRVM1LCB1bmRlZmluZWRcbiAgICAvLyBjYW4gbm8gbG9uZ2VyIGJlIG1vZGlmaWVkLlxuXG4gICAgLy8gd2luZG93IGFuZCBkb2N1bWVudCBhcmUgcGFzc2VkIHRocm91Z2ggYXMgbG9jYWwgdmFyaWFibGUgcmF0aGVyIHRoYW4gZ2xvYmFsXG4gICAgLy8gYXMgdGhpcyAoc2xpZ2h0bHkpIHF1aWNrZW5zIHRoZSByZXNvbHV0aW9uIHByb2Nlc3MgYW5kIGNhbiBiZSBtb3JlIGVmZmljaWVudGx5XG4gICAgLy8gbWluaWZpZWQgKGVzcGVjaWFsbHkgd2hlbiBib3RoIGFyZSByZWd1bGFybHkgcmVmZXJlbmNlZCBpbiB5b3VyIHBsdWdpbikuXG5cbiAgICAvLyBDcmVhdGUgdGhlIGRlZmF1bHRzIG9uY2VcbiAgICB2YXIgcGx1Z2luTmFtZSA9IFwibWVudUJ1dHRvblwiO1xuICAgIHZhciBtZW51Q2xhc3MgPSBcIi5idXR0b24tZHJvcGRvd25cIjtcbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHByb3BlcnR5TmFtZTogXCJ2YWx1ZVwiXG4gICAgfTtcblxuICAgIC8vIFRoZSBhY3R1YWwgcGx1Z2luIGNvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gUGx1Z2luKCBlbGVtZW50LCBvcHRpb25zICkge1xuXG4gICAgICAgIC8vU0VUIE9QVElPTlNcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoIHt9LCBkZWZhdWx0cywgb3B0aW9ucyApO1xuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICB0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcblxuICAgICAgICAvL1JFR0lTVEVSIEVMRU1FTlRcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XG5cbiAgICAgICAgLy9JTklUSUFMSVpFXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIFBsdWdpbi5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiBQbHVnaW4sXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBXRSBET04nVCBTVE9QIFBST1BHQVRJT04gU08gQ0xJQ0tTIFdJTEwgQVVUT01BVElDQUxMWVxuICAgICAgICAgICAgLy8gVE9HR0xFIEFORCBSRU1PVkUgVEhFIERST1BET1dOXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJvcGRvd24nKSA9PT0gJ3Nob3cnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlTWVudSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVudSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dNZW51OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJvcGRvd24nLCAnc2hvdycpO1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCd1bCcpLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlTWVudTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmRhdGEoJ2Ryb3Bkb3duJywgJ2hpZGUnKTtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgndWwnKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQSByZWFsbHkgbGlnaHR3ZWlnaHQgcGx1Z2luIHdyYXBwZXIgYXJvdW5kIHRoZSBjb25zdHJ1Y3RvcixcbiAgICAvLyBwcmV2ZW50aW5nIGFnYWluc3QgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnNcbiAgICAkLmZuW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy8gVE9HR0xFIEJVVFRPTiBJRiBJVCBFWElTVFNcbiAgICAgICAgICAgIGlmICgkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT1RIRVJXSVNFIENSRUFURSBBIE5FVyBJTlNUQU5DRVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSwgbmV3IFBsdWdpbiggdGhpcywgb3B0aW9ucyApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vQ0xPU0UgT1BFTiBEUk9QRE9XTiBNRU5VUyBJRiBDTElDS0VEIFNPTUVXSEVSRSBFTFNFXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAkLmVhY2goJCgnW2RhdGEtYnV0dG9ucz1kcm9wZG93bl0nKSwgZnVuY3Rpb24oaSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0Lm9mZnNldFBhcmVudClbMF0gIT0gJCh0aGlzKVswXSkge1xuICAgICAgICAgICAgICAgIGlmICgkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKS5oaWRlTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ3VsJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvL0RFTEVHQVRFIENMSUNLIEVWRU5UIEZPUiBEUk9QRE9XTiBNRU5VU1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1idXR0b25zPWRyb3Bkb3duXScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyICRkcm9wZG93biA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgJGRyb3Bkb3duLm1lbnVCdXR0b24oKTtcbiAgICB9KTtcblxuICAgIC8vSUdOT1JFIENMSUNLIEVWRU5UUyBGUk9NIERJU1BMQVkgQlVUVE9OIElOIERST1BET1dOXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWJ1dHRvbnM9ZHJvcGRvd25dID4gYScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG59KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTsiLCIvKipcbiAqIGFuZ3VsYXItdGltZXIgLSB2MS4zLjUgLSAyMDE3LTAzLTA5IDI6MTggUE1cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zaWRkaWkvYW5ndWxhci10aW1lclxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNyBBZHJpYW4gV2FyZGVsbFxuICogTGljZW5zZWQgTUlUIDxodHRwczovL2dpdGh1Yi5jb20vc2lkZGlpL2FuZ3VsYXItdGltZXIvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQ+XG4gKi9cbnZhciB0aW1lck1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCd0aW1lcicsIFtdKVxuICAuZGlyZWN0aXZlKCd0aW1lcicsIFsnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJGNvbXBpbGUpIHtcbiAgICByZXR1cm4gIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogZmFsc2UsXG4gICAgICBzY29wZToge1xuICAgICAgICBpbnRlcnZhbDogJz1pbnRlcnZhbCcsXG4gICAgICAgIHN0YXJ0VGltZUF0dHI6ICc9c3RhcnRUaW1lJyxcbiAgICAgICAgZW5kVGltZUF0dHI6ICc9ZW5kVGltZScsXG4gICAgICAgIGNvdW50ZG93bmF0dHI6ICc9Y291bnRkb3duJyxcbiAgICAgICAgZmluaXNoQ2FsbGJhY2s6ICcmZmluaXNoQ2FsbGJhY2snLFxuICAgICAgICBhdXRvU3RhcnQ6ICcmYXV0b1N0YXJ0JyxcbiAgICAgICAgbGFuZ3VhZ2U6ICdAPycsXG4gICAgICAgIGZhbGxiYWNrOiAnQD8nLFxuICAgICAgICBtYXhUaW1lVW5pdDogJz0nLFxuICAgICAgICBzZWNvbmRzOiAnPT8nLFxuICAgICAgICBtaW51dGVzOiAnPT8nLFxuICAgICAgICBob3VyczogJz0/JyxcbiAgICAgICAgZGF5czogJz0/JyxcbiAgICAgICAgbW9udGhzOiAnPT8nLFxuICAgICAgICB5ZWFyczogJz0/JyxcbiAgICAgICAgc2Vjb25kc1M6ICc9PycsXG4gICAgICAgIG1pbnV0ZXNTOiAnPT8nLFxuICAgICAgICBob3Vyc1M6ICc9PycsXG4gICAgICAgIGRheXNTOiAnPT8nLFxuICAgICAgICBtb250aHNTOiAnPT8nLFxuICAgICAgICB5ZWFyc1M6ICc9PydcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckZWxlbWVudCcsICckYXR0cnMnLCAnJHRpbWVvdXQnLCAnSTE4blNlcnZpY2UnLCAnJGludGVycG9sYXRlJywgJ3Byb2dyZXNzQmFyU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0LCBJMThuU2VydmljZSwgJGludGVycG9sYXRlLCBwcm9ncmVzc0JhclNlcnZpY2UpIHtcblxuICAgICAgICAvLyBDaGVja2luZyBmb3IgdHJpbSBmdW5jdGlvbiBzaW5jZSBJRTggZG9lc24ndCBoYXZlIGl0XG4gICAgICAgIC8vIElmIG5vdCBhIGZ1bmN0aW9uLCBjcmVhdGUgdGlybSB3aXRoIFJlZ0V4IHRvIG1pbWljIG5hdGl2ZSB0cmltXG4gICAgICAgIGlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50cmltICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvL2FuZ3VsYXIgMS4yIGRvZXNuJ3Qgc3VwcG9ydCBhdHRyaWJ1dGVzIGVuZGluZyBpbiBcIi1zdGFydFwiLCBzbyB3ZSdyZVxuICAgICAgICAvL3N1cHBvcnRpbmcgYm90aCBcImF1dG9zdGFydFwiIGFuZCBcImF1dG8tc3RhcnRcIiBhcyBhIHNvbHV0aW9uIGZvclxuICAgICAgICAvL2JhY2t3YXJkIGFuZCBmb3J3YXJkIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICRzY29wZS5hdXRvU3RhcnQgPSAkYXR0cnMuYXV0b1N0YXJ0IHx8ICRhdHRycy5hdXRvc3RhcnQ7XG5cblxuICAgICAgICAkc2NvcGUubGFuZ3VhZ2UgPSAkc2NvcGUubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgICAgICAgJHNjb3BlLmZhbGxiYWNrID0gJHNjb3BlLmZhbGxiYWNrIHx8ICdlbic7XG5cbiAgICAgICAgLy9hbGxvdyB0byBjaGFuZ2UgdGhlIGxhbmd1YWdlIG9mIHRoZSBkaXJlY3RpdmUgd2hpbGUgYWxyZWFkeSBsYXVuY2hlZFxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdsYW5ndWFnZScsIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgaWYobmV3VmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGkxOG5TZXJ2aWNlLmluaXQobmV3VmFsLCAkc2NvcGUuZmFsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9pbml0IG1vbWVudEpTIGkxOG4sIGRlZmF1bHQgZW5nbGlzaFxuICAgICAgICB2YXIgaTE4blNlcnZpY2UgPSBuZXcgSTE4blNlcnZpY2UoKTtcbiAgICAgICAgaTE4blNlcnZpY2UuaW5pdCgkc2NvcGUubGFuZ3VhZ2UsICRzY29wZS5mYWxsYmFjayk7XG5cbiAgICAgICAgLy9wcm9ncmVzcyBiYXJcbiAgICAgICAgJHNjb3BlLmRpc3BsYXlQcm9ncmVzc0JhciA9IDA7XG4gICAgICAgICRzY29wZS5kaXNwbGF5UHJvZ3Jlc3NBY3RpdmUgPSAnYWN0aXZlJzsgLy9Cb290c3RyYXAgYWN0aXZlIGVmZmVjdCBmb3IgcHJvZ3Jlc3MgYmFyXG5cbiAgICAgICAgaWYgKCRlbGVtZW50Lmh0bWwoKS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKCRjb21waWxlKCc8c3Bhbj4nICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyAnbWlsbGlzJyArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArICc8L3NwYW4+JykoJHNjb3BlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKCRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5lbmRUaW1lID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICRzY29wZS5jb3VudGRvd24gPSBhbmd1bGFyLmlzTnVtYmVyKCRzY29wZS5jb3VudGRvd25hdHRyKSAmJiBwYXJzZUludCgkc2NvcGUuY291bnRkb3duYXR0ciwgMTApID49IDAgPyBwYXJzZUludCgkc2NvcGUuY291bnRkb3duYXR0ciwgMTApIDogdW5kZWZpbmVkO1xuICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAgICAgJHNjb3BlLiRvbigndGltZXItc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXJlc3VtZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUucmVzdW1lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXN0b3AnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLnN0b3AoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiRvbigndGltZXItY2xlYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXJlc2V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRzY29wZS5yZXNldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCd0aW1lci1zZXQtY291bnRkb3duJywgZnVuY3Rpb24gKGUsIGNvdW50ZG93bikge1xuICAgICAgICAgICRzY29wZS5jb3VudGRvd24gPSBjb3VudGRvd247XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0VGltZW91dCgpIHtcbiAgICAgICAgICBpZiAoJHNjb3BlLnRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCRzY29wZS50aW1lb3V0SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3N0YXJ0VGltZUF0dHInLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmICRzY29wZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICRzY29wZS5zdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnZW5kVGltZUF0dHInLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmICRzY29wZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICRzY29wZS5zdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRzY29wZS5zdGFydFRpbWUgPSAkc2NvcGUuc3RhcnRUaW1lQXR0ciA/IG1vbWVudCgkc2NvcGUuc3RhcnRUaW1lQXR0cikgOiBtb21lbnQoKTtcbiAgICAgICAgICAkc2NvcGUuZW5kVGltZSA9ICRzY29wZS5lbmRUaW1lQXR0ciA/IG1vbWVudCgkc2NvcGUuZW5kVGltZUF0dHIpIDogbnVsbDtcbiAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLmNvdW50ZG93bikpIHtcbiAgICAgICAgICAgICRzY29wZS5jb3VudGRvd24gPSBhbmd1bGFyLmlzTnVtYmVyKCRzY29wZS5jb3VudGRvd25hdHRyKSAmJiBwYXJzZUludCgkc2NvcGUuY291bnRkb3duYXR0ciwgMTApID4gMCA/IHBhcnNlSW50KCRzY29wZS5jb3VudGRvd25hdHRyLCAxMCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc2V0VGltZW91dCgpO1xuICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3RpbWVyLXN0YXJ0ZWQnLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6ICRzY29wZS50aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50ZG93bmF0dHIpIHtcbiAgICAgICAgICAgICRzY29wZS5jb3VudGRvd24gKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLnN0YXJ0VGltZSA9IG1vbWVudCgpLmRpZmYoKG1vbWVudCgkc2NvcGUuc3RvcHBlZFRpbWUpLmRpZmYobW9tZW50KCRzY29wZS5zdGFydFRpbWUpKSkpO1xuICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3RpbWVyLXN0YXJ0ZWQnLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6ICRzY29wZS50aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0b3AgPSAkc2NvcGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHRpbWVvdXRJZCA9ICRzY29wZS50aW1lb3V0SWQ7XG4gICAgICAgICAgJHNjb3BlLmNsZWFyKCk7XG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCd0aW1lci1zdG9wcGVkJywge1xuICAgICAgICAgICAgdGltZW91dElkOiB0aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIHNhbWUgYXMgc3RvcCBidXQgd2l0aG91dCB0aGUgZXZlbnQgYmVpbmcgdHJpZ2dlcmVkXG4gICAgICAgICAgJHNjb3BlLnN0b3BwZWRUaW1lID0gbW9tZW50KCk7XG4gICAgICAgICAgcmVzZXRUaW1lb3V0KCk7XG4gICAgICAgICAgJHNjb3BlLnRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUuc3RhcnRUaW1lID0gJHNjb3BlLnN0YXJ0VGltZUF0dHIgPyBtb21lbnQoJHNjb3BlLnN0YXJ0VGltZUF0dHIpIDogbW9tZW50KCk7XG4gICAgICAgICAgJHNjb3BlLmVuZFRpbWUgPSAkc2NvcGUuZW5kVGltZUF0dHIgPyBtb21lbnQoJHNjb3BlLmVuZFRpbWVBdHRyKSA6IG51bGw7XG4gICAgICAgICAgJHNjb3BlLmNvdW50ZG93biA9IGFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLmNvdW50ZG93bmF0dHIpICYmIHBhcnNlSW50KCRzY29wZS5jb3VudGRvd25hdHRyLCAxMCkgPiAwID8gcGFyc2VJbnQoJHNjb3BlLmNvdW50ZG93bmF0dHIsIDEwKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgJHNjb3BlLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICRzY29wZS5jbGVhcigpO1xuICAgICAgICAgICRzY29wZS4kZW1pdCgndGltZXItcmVzZXQnLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6IHRpbWVvdXRJZCxcbiAgICAgICAgICAgIG1pbGxpczogJHNjb3BlLm1pbGxpcyxcbiAgICAgICAgICAgIHNlY29uZHM6ICRzY29wZS5zZWNvbmRzLFxuICAgICAgICAgICAgbWludXRlczogJHNjb3BlLm1pbnV0ZXMsXG4gICAgICAgICAgICBob3VyczogJHNjb3BlLmhvdXJzLFxuICAgICAgICAgICAgZGF5czogJHNjb3BlLmRheXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkZWxlbWVudC5iaW5kKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlVGltZVVuaXRzKCkge1xuICAgICAgICAgIHZhciB0aW1lVW5pdHMgPSB7fTsgLy93aWxsIGNvbnRhaW5zIHRpbWUgd2l0aCB1bml0c1xuXG4gICAgICAgICAgaWYgKCRhdHRycy5zdGFydFRpbWUgIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAkc2NvcGUubWlsbGlzID0gbW9tZW50KCkuZGlmZihtb21lbnQoJHNjb3BlLnN0YXJ0VGltZUF0dHIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lVW5pdHMgPSBpMThuU2VydmljZS5nZXRUaW1lVW5pdHMoJHNjb3BlLm1pbGxpcyk7XG5cbiAgICAgICAgICAvLyBjb21wdXRlIHRpbWUgdmFsdWVzIGJhc2VkIG9uIG1heFRpbWVVbml0IHNwZWNpZmljYXRpb25cbiAgICAgICAgICBpZiAoISRzY29wZS5tYXhUaW1lVW5pdCB8fCAkc2NvcGUubWF4VGltZVVuaXQgPT09ICdkYXknKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IE1hdGguZmxvb3IoKCRzY29wZS5taWxsaXMgLyAxMDAwKSAlIDYwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoNjAwMDApKSAlIDYwKSk7XG4gICAgICAgICAgICAkc2NvcGUuaG91cnMgPSBNYXRoLmZsb29yKCgoJHNjb3BlLm1pbGxpcyAvICgzNjAwMDAwKSkgJSAyNCkpO1xuICAgICAgICAgICAgJHNjb3BlLmRheXMgPSBNYXRoLmZsb29yKCgoJHNjb3BlLm1pbGxpcyAvICgzNjAwMDAwKSkgLyAyNCkpO1xuICAgICAgICAgICAgJHNjb3BlLm1vbnRocyA9IDA7XG4gICAgICAgICAgICAkc2NvcGUueWVhcnMgPSAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm1heFRpbWVVbml0ID09PSAnc2Vjb25kJykge1xuICAgICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBNYXRoLmZsb29yKCRzY29wZS5taWxsaXMgLyAxMDAwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5ob3VycyA9IDA7XG4gICAgICAgICAgICAkc2NvcGUuZGF5cyA9IDA7XG4gICAgICAgICAgICAkc2NvcGUubW9udGhzID0gMDtcbiAgICAgICAgICAgICRzY29wZS55ZWFycyA9IDA7XG4gICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUubWF4VGltZVVuaXQgPT09ICdtaW51dGUnKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IE1hdGguZmxvb3IoKCRzY29wZS5taWxsaXMgLyAxMDAwKSAlIDYwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gTWF0aC5mbG9vcigkc2NvcGUubWlsbGlzIC8gNjAwMDApO1xuICAgICAgICAgICAgJHNjb3BlLmhvdXJzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5tb250aHMgPSAwO1xuICAgICAgICAgICAgJHNjb3BlLnllYXJzID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5tYXhUaW1lVW5pdCA9PT0gJ2hvdXInKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IE1hdGguZmxvb3IoKCRzY29wZS5taWxsaXMgLyAxMDAwKSAlIDYwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoNjAwMDApKSAlIDYwKSk7XG4gICAgICAgICAgICAkc2NvcGUuaG91cnMgPSBNYXRoLmZsb29yKCRzY29wZS5taWxsaXMgLyAzNjAwMDAwKTtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5tb250aHMgPSAwO1xuICAgICAgICAgICAgJHNjb3BlLnllYXJzID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5tYXhUaW1lVW5pdCA9PT0gJ21vbnRoJykge1xuICAgICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBNYXRoLmZsb29yKCgkc2NvcGUubWlsbGlzIC8gMTAwMCkgJSA2MCk7XG4gICAgICAgICAgICAkc2NvcGUubWludXRlcyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDYwMDAwKSkgJSA2MCkpO1xuICAgICAgICAgICAgJHNjb3BlLmhvdXJzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpICUgMjQpKTtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpIC8gMjQpICUgMzApO1xuICAgICAgICAgICAgJHNjb3BlLm1vbnRocyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDM2MDAwMDApKSAvIDI0KSAvIDMwKTtcbiAgICAgICAgICAgICRzY29wZS55ZWFycyA9IDA7XG4gICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUubWF4VGltZVVuaXQgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBNYXRoLmZsb29yKCgkc2NvcGUubWlsbGlzIC8gMTAwMCkgJSA2MCk7XG4gICAgICAgICAgICAkc2NvcGUubWludXRlcyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDYwMDAwKSkgJSA2MCkpO1xuICAgICAgICAgICAgJHNjb3BlLmhvdXJzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpICUgMjQpKTtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpIC8gMjQpICUgMzApO1xuICAgICAgICAgICAgJHNjb3BlLm1vbnRocyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDM2MDAwMDApKSAvIDI0IC8gMzApICUgMTIpO1xuICAgICAgICAgICAgJHNjb3BlLnllYXJzID0gTWF0aC5mbG9vcigoJHNjb3BlLm1pbGxpcyAvICgzNjAwMDAwKSkgLyAyNCAvIDM2NSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHBsdXJhbCAtIHNpbmd1bGFyIHVuaXQgZGVjaXNpb24gKG9sZCBzeW50YXgsIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhbmQgRW5nbGlzaCBvbmx5LCBjb3VsZCBiZSBkZXByZWNhdGVkISlcbiAgICAgICAgICAkc2NvcGUuc2Vjb25kc1MgPSAoJHNjb3BlLnNlY29uZHMgPT09IDEpID8gJycgOiAncyc7XG4gICAgICAgICAgJHNjb3BlLm1pbnV0ZXNTID0gKCRzY29wZS5taW51dGVzID09PSAxKSA/ICcnIDogJ3MnO1xuICAgICAgICAgICRzY29wZS5ob3Vyc1MgPSAoJHNjb3BlLmhvdXJzID09PSAxKSA/ICcnIDogJ3MnO1xuICAgICAgICAgICRzY29wZS5kYXlzUyA9ICgkc2NvcGUuZGF5cyA9PT0gMSk/ICcnIDogJ3MnO1xuICAgICAgICAgICRzY29wZS5tb250aHNTID0gKCRzY29wZS5tb250aHMgPT09IDEpPyAnJyA6ICdzJztcbiAgICAgICAgICAkc2NvcGUueWVhcnNTID0gKCRzY29wZS55ZWFycyA9PT0gMSk/ICcnIDogJ3MnO1xuXG5cbiAgICAgICAgICAvLyBuZXcgcGx1cmFsLXNpbmd1bGFyIHVuaXQgZGVjaXNpb24gZnVuY3Rpb25zIChmb3IgY3VzdG9tIHVuaXRzIGFuZCBtdWx0aWxpbmd1YWwgc3VwcG9ydClcbiAgICAgICAgICAkc2NvcGUuc2Vjb25kVW5pdCA9IHRpbWVVbml0cy5zZWNvbmRzO1xuICAgICAgICAgICRzY29wZS5taW51dGVVbml0ID0gdGltZVVuaXRzLm1pbnV0ZXM7XG4gICAgICAgICAgJHNjb3BlLmhvdXJVbml0ID0gdGltZVVuaXRzLmhvdXJzO1xuICAgICAgICAgICRzY29wZS5kYXlVbml0ID0gdGltZVVuaXRzLmRheXM7XG4gICAgICAgICAgJHNjb3BlLm1vbnRoVW5pdCA9IHRpbWVVbml0cy5tb250aHM7XG4gICAgICAgICAgJHNjb3BlLnllYXJVbml0ID0gdGltZVVuaXRzLnllYXJzO1xuXG4gICAgICAgICAgLy9hZGQgbGVhZGluZyB6ZXJvIGlmIG51bWJlciBpcyBzbWFsbGVyIHRoYW4gMTBcbiAgICAgICAgICAkc2NvcGUuc3NlY29uZHMgPSAkc2NvcGUuc2Vjb25kcyA8IDEwID8gJzAnICsgJHNjb3BlLnNlY29uZHMgOiAkc2NvcGUuc2Vjb25kcztcbiAgICAgICAgICAkc2NvcGUubW1pbnV0ZXMgPSAkc2NvcGUubWludXRlcyA8IDEwID8gJzAnICsgJHNjb3BlLm1pbnV0ZXMgOiAkc2NvcGUubWludXRlcztcbiAgICAgICAgICAkc2NvcGUuaGhvdXJzID0gJHNjb3BlLmhvdXJzIDwgMTAgPyAnMCcgKyAkc2NvcGUuaG91cnMgOiAkc2NvcGUuaG91cnM7XG4gICAgICAgICAgJHNjb3BlLmRkYXlzID0gJHNjb3BlLmRheXMgPCAxMCA/ICcwJyArICRzY29wZS5kYXlzIDogJHNjb3BlLmRheXM7XG4gICAgICAgICAgJHNjb3BlLm1tb250aHMgPSAkc2NvcGUubW9udGhzIDwgMTAgPyAnMCcgKyAkc2NvcGUubW9udGhzIDogJHNjb3BlLm1vbnRocztcbiAgICAgICAgICAkc2NvcGUueXllYXJzID0gJHNjb3BlLnllYXJzIDwgMTAgPyAnMCcgKyAkc2NvcGUueWVhcnMgOiAkc2NvcGUueWVhcnM7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZGV0ZXJtaW5lIGluaXRpYWwgdmFsdWVzIG9mIHRpbWUgdW5pdHMgYW5kIGFkZCBBZGRTZWNvbmRzIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgaWYgKCRzY29wZS5jb3VudGRvd25hdHRyKSB7XG4gICAgICAgICAgJHNjb3BlLm1pbGxpcyA9ICRzY29wZS5jb3VudGRvd25hdHRyICogMTAwMDtcblxuICAgICAgICAgICRzY29wZS5hZGRDRFNlY29uZHMgPSBmdW5jdGlvbiAoZXh0cmFTZWNvbmRzKSB7XG4gICAgICAgICAgICAkc2NvcGUuY291bnRkb3duICs9IGV4dHJhU2Vjb25kcztcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmlzUnVubmluZykge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLiRvbigndGltZXItYWRkLWNkLXNlY29uZHMnLCBmdW5jdGlvbiAoZSwgZXh0cmFTZWNvbmRzKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFkZENEU2Vjb25kcyhleHRyYVNlY29uZHMpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHNjb3BlLiRvbigndGltZXItc2V0LWNvdW50ZG93bi1zZWNvbmRzJywgZnVuY3Rpb24gKGUsIGNvdW50ZG93blNlY29uZHMpIHtcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmlzUnVubmluZykge1xuICAgICAgICAgICAgICAkc2NvcGUuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmNvdW50ZG93biA9IGNvdW50ZG93blNlY29uZHM7XG4gICAgICAgICAgICAkc2NvcGUubWlsbGlzID0gY291bnRkb3duU2Vjb25kcyAqIDEwMDA7XG4gICAgICAgICAgICBjYWxjdWxhdGVUaW1lVW5pdHMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUubWlsbGlzID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYWxjdWxhdGVUaW1lVW5pdHMoKTtcblxuICAgICAgICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgICAgdmFyIHR5cGVUaW1lciA9IG51bGw7IC8vIGNvdW50ZG93biBvciBlbmRUaW1lQXR0clxuICAgICAgICAgICRzY29wZS5taWxsaXMgPSBtb21lbnQoKS5kaWZmKCRzY29wZS5zdGFydFRpbWUpO1xuICAgICAgICAgIHZhciBhZGp1c3RtZW50ID0gJHNjb3BlLm1pbGxpcyAlIDEwMDA7XG5cbiAgICAgICAgICBpZiAoJHNjb3BlLmVuZFRpbWVBdHRyKSB7XG4gICAgICAgICAgICB0eXBlVGltZXIgPSAkc2NvcGUuZW5kVGltZUF0dHI7XG4gICAgICAgICAgICAkc2NvcGUubWlsbGlzID0gbW9tZW50KCRzY29wZS5lbmRUaW1lKS5kaWZmKG1vbWVudCgpKTtcbiAgICAgICAgICAgIGFkanVzdG1lbnQgPSAkc2NvcGUuaW50ZXJ2YWwgLSAkc2NvcGUubWlsbGlzICUgMTAwMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50ZG93bmF0dHIpIHtcbiAgICAgICAgICAgIHR5cGVUaW1lciA9ICRzY29wZS5jb3VudGRvd25hdHRyO1xuICAgICAgICAgICAgJHNjb3BlLm1pbGxpcyA9ICRzY29wZS5jb3VudGRvd24gKiAxMDAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkc2NvcGUubWlsbGlzIDwgMCkge1xuICAgICAgICAgICAgJHNjb3BlLnN0b3AoKTtcbiAgICAgICAgICAgICRzY29wZS5taWxsaXMgPSAwO1xuICAgICAgICAgICAgY2FsY3VsYXRlVGltZVVuaXRzKCk7XG4gICAgICAgICAgICBpZigkc2NvcGUuZmluaXNoQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgJHNjb3BlLiRldmFsKCRzY29wZS5maW5pc2hDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGN1bGF0ZVRpbWVVbml0cygpO1xuXG4gICAgICAgICAgLy9XZSBhcmUgbm90IHVzaW5nICR0aW1lb3V0IGZvciBhIHJlYXNvbi4gUGxlYXNlIHJlYWQgaGVyZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zaWRkaWkvYW5ndWxhci10aW1lci9wdWxsLzVcbiAgICAgICAgICAkc2NvcGUudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgLy8gc2luY2UgeW91IGNob29zZSBub3QgdG8gdXNlICR0aW1lb3V0LCBhdCBsZWFzdCBwcmVzZXJ2ZSBhbmd1bGFyIGN5Y2xlIHR3byB3YXkgZGF0YSBiaW5kaW5nXG4gICAgICAgICAgICAgIC8vIGJ5IGNhbGxpbmcgJHNjb3BlLiRhcHBseSgpIGluc3RlYWQgb2YgJHNjb3BlLiRkaWdlc3QoKVxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgfSwgJHNjb3BlLmludGVydmFsIC0gYWRqdXN0bWVudCk7XG5cbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3RpbWVyLXRpY2snLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6ICRzY29wZS50aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50ZG93biA+IDApIHtcbiAgICAgICAgICAgICRzY29wZS5jb3VudGRvd24tLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoJHNjb3BlLmNvdW50ZG93biA8PSAwKSB7XG4gICAgICAgICAgICAkc2NvcGUuc3RvcCgpO1xuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICRzY29wZS4kZXZhbCgkc2NvcGUuZmluaXNoQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKHR5cGVUaW1lciAhPT0gbnVsbCl7XG4gICAgICAgICAgICAvL2NhbGN1bGF0ZSBwcm9ncmVzcyBiYXJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzc0JhciA9IHByb2dyZXNzQmFyU2VydmljZS5jYWxjdWxhdGVQcm9ncmVzc0Jhcigkc2NvcGUuc3RhcnRUaW1lLCAkc2NvcGUubWlsbGlzLCAkc2NvcGUuZW5kVGltZSwgJHNjb3BlLmNvdW50ZG93bmF0dHIpO1xuXG4gICAgICAgICAgICBpZigkc2NvcGUucHJvZ3Jlc3NCYXIgPT09IDEwMCl7XG4gICAgICAgICAgICAgICRzY29wZS5kaXNwbGF5UHJvZ3Jlc3NBY3RpdmUgPSAnJzsgLy9ObyBtb3JlIEJvb3RzdHJhcCBhY3RpdmUgZWZmZWN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkc2NvcGUuYXV0b1N0YXJ0ID09PSB1bmRlZmluZWQgfHwgJHNjb3BlLmF1dG9TdGFydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICRzY29wZS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9XVxuICAgIH07XG4gIH1dKVxuICAuZGlyZWN0aXZlKCd0aW1lckNvbnRyb2xzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHRydWUsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudGltZXJTdGF0dXMgPSBcInJlc2V0XCI7XG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXN0YXJ0ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUudGltZXJTdGF0dXMgPSBcInN0YXJ0ZWRcIjtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXN0b3BwZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUudGltZXJTdGF0dXMgPSBcInN0b3BwZWRcIjtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXJlc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLnRpbWVyU3RhdHVzID0gXCJyZXNldFwiO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnRpbWVyU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndGltZXItc3RhcnQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnRpbWVyU3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1zdG9wJyk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS50aW1lclJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1yZXN1bWUnKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnRpbWVyVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoICgkc2NvcGUudGltZXJTdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydGVkXCI6XG4gICAgICAgICAgICAgICRzY29wZS50aW1lclN0b3AoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICAgICAgICAkc2NvcGUudGltZXJSZXN1bWUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgICAgICAgJHNjb3BlLnRpbWVyU3RhcnQoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudGltZXJBZGRDRFNlY29uZHMgPSBmdW5jdGlvbihleHRyYVNlY29uZHMpIHtcbiAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndGltZXItYWRkLWNkLXNlY29uZHMnLCBleHRyYVNlY29uZHMpO1xuICAgICAgICB9O1xuICAgICAgfV1cbiAgICB9O1xuICB9KTtcblxuLyogY29tbW9uanMgcGFja2FnZSBtYW5hZ2VyIHN1cHBvcnQgKGVnIGNvbXBvbmVudGpzKSAqL1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpe1xuICBtb2R1bGUuZXhwb3J0cyA9IHRpbWVyTW9kdWxlO1xufVxuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3RpbWVyJyk7XG5cbmFwcC5mYWN0b3J5KCdJMThuU2VydmljZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIEkxOG5TZXJ2aWNlID0gZnVuY3Rpb24oKSB7fTtcblxuICAgIEkxOG5TZXJ2aWNlLnByb3RvdHlwZS5sYW5ndWFnZSA9ICdlbic7XG4gICAgSTE4blNlcnZpY2UucHJvdG90eXBlLmZhbGxiYWNrID0gJ2VuJztcbiAgICBJMThuU2VydmljZS5wcm90b3R5cGUudGltZUh1bWFuaXplciA9IHt9O1xuXG4gICAgSTE4blNlcnZpY2UucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiBpbml0KGxhbmcsIGZhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdXBwb3J0ZWRfbGFuZ3VhZ2VzID0gaHVtYW5pemVEdXJhdGlvbi5nZXRTdXBwb3J0ZWRMYW5ndWFnZXMoKTtcblxuICAgICAgICB0aGlzLmZhbGxiYWNrID0gKGZhbGxiYWNrICE9PSB1bmRlZmluZWQpID8gZmFsbGJhY2sgOiAnZW4nO1xuICAgICAgICBpZiAoc3VwcG9ydGVkX2xhbmd1YWdlcy5pbmRleE9mKGZhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZmFsbGJhY2sgPSAnZW4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmc7XG4gICAgICAgIGlmIChzdXBwb3J0ZWRfbGFuZ3VhZ2VzLmluZGV4T2YobGFuZykgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5mYWxsYmFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSBoYW5kbGUgYnkgdGhlIHVzZXIncyBhcHBsaWNhdGlvbiBpdHNlbGYsIGFuZCBub3QgaW5zaWRlIHRoZSBkaXJlY3RpdmVcbiAgICAgICAgLy8gbW9tZW50IGluaXRcbiAgICAgICAgLy8gbW9tZW50LmxvY2FsZSh0aGlzLmxhbmd1YWdlKTtcblxuICAgICAgICAvL2h1bWFuIGR1cmF0aW9uIGluaXQsIHVzaW5nIGl0IGJlY2F1c2UgbW9tZW50anMgZG9lcyBub3QgYWxsb3cgYWNjdXJhdGUgdGltZSAoXG4gICAgICAgIC8vIG1vbWVudEpTOiBhIGZldyBtb21lbnQgYWdvLCBodW1hbiBkdXJhdGlvbiA6IDQgc2Vjb25kcyBhZ29cbiAgICAgICAgdGhpcy50aW1lSHVtYW5pemVyID0gaHVtYW5pemVEdXJhdGlvbi5odW1hbml6ZXIoe1xuICAgICAgICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2UsXG4gICAgICAgICAgICBoYWxmVW5pdDpmYWxzZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZ2V0IHRpbWUgd2l0aCB1bml0cyBmcm9tIG1vbWVudEpTIGkxOG5cbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzXG4gICAgICogQHJldHVybnMge3ttaWxsaXM6IHN0cmluZywgc2Vjb25kczogc3RyaW5nLCBtaW51dGVzOiBzdHJpbmcsIGhvdXJzOiBzdHJpbmcsIGRheXM6IHN0cmluZywgbW9udGhzOiBzdHJpbmcsIHllYXJzOiBzdHJpbmd9fVxuICAgICAqL1xuICAgIEkxOG5TZXJ2aWNlLnByb3RvdHlwZS5nZXRUaW1lVW5pdHMgPSBmdW5jdGlvbiBnZXRUaW1lVW5pdHMobWlsbGlzKSB7XG4gICAgICAgIHZhciBkaWZmRnJvbUFsYXJtID0gTWF0aC5yb3VuZChtaWxsaXMvMTAwMCkgKiAxMDAwOyAvL3RpbWUgaW4gbWlsbGlzZWNvbmRzLCBnZXQgcmlkIG9mIHRoZSBsYXN0IDMgbXMgdmFsdWUgdG8gYXZvaWQgMi4xMiBzZWNvbmRzIGRpc3BsYXlcblxuICAgICAgICB2YXIgdGltZSA9IHt9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aW1lSHVtYW5pemVyICE9ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgIHRpbWUgPSB7XG4gICAgICAgICAgICAgICAgJ21pbGxpcycgOiB0aGlzLnRpbWVIdW1hbml6ZXIoZGlmZkZyb21BbGFybSwgeyB1bml0czogW1wibXNcIl0gfSksXG4gICAgICAgICAgICAgICAgJ3NlY29uZHMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcInNcIl0gfSksXG4gICAgICAgICAgICAgICAgJ21pbnV0ZXMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcIm1cIiwgXCJzXCJdIH0pICxcbiAgICAgICAgICAgICAgICAnaG91cnMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcImhcIiwgXCJtXCIsIFwic1wiXSB9KSAsXG4gICAgICAgICAgICAgICAgJ2RheXMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcImRcIiwgXCJoXCIsIFwibVwiLCBcInNcIl0gfSkgLFxuICAgICAgICAgICAgICAgICdtb250aHMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcIm1vXCIsIFwiZFwiLCBcImhcIiwgXCJtXCIsIFwic1wiXSB9KSAsXG4gICAgICAgICAgICAgICAgJ3llYXJzJyA6IHRoaXMudGltZUh1bWFuaXplcihkaWZmRnJvbUFsYXJtLCB7IHVuaXRzOiBbXCJ5XCIsIFwibW9cIiwgXCJkXCIsIFwiaFwiLCBcIm1cIiwgXCJzXCJdIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignaTE4blNlcnZpY2UgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLiBZb3UgbXVzdCBjYWxsIGkxOG5TZXJ2aWNlLmluaXQoXCJlblwiKSBmb3IgZXhhbXBsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfTtcblxuICAgIHJldHVybiBJMThuU2VydmljZTtcbn0pO1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3RpbWVyJyk7XG5cbmFwcC5mYWN0b3J5KCdwcm9ncmVzc0JhclNlcnZpY2UnLCBmdW5jdGlvbigpIHtcblxuICB2YXIgUHJvZ3Jlc3NCYXJTZXJ2aWNlID0gZnVuY3Rpb24oKSB7fTtcblxuICAvKipcbiAgICogY2FsY3VsYXRlIHRoZSByZW1haW5pbmcgdGltZSBpbiBhIHByb2dyZXNzIGJhciBpbiBwZXJjZW50YWdlXG4gICAqIEBwYXJhbSB7bW9tZW50anN9IHN0YXJ0VmFsdWUgaW4gc2Vjb25kc1xuICAgKiBAcGFyYW0ge2ludGVnZXJ9IGN1cnJlbnRDb3VudGRvd24sIHdoZXJlIGFyZSB3ZSBpbiB0aGUgY291bnRkb3duXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gcmVtYWluaW5nVGltZSwgcmVtYWluaW5nIG1pbGxpc2Vjb25kc1xuICAgKiBAcGFyYW0ge2ludGVnZXJ9IGVuZFRpbWUsIGVuZCB0aW1lLCBjYW4gYmUgdW5kZWZpbmVkXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gY291dGRvd24sIG9yaWdpbmFsIGNvdXRkb3duIHZhbHVlLCBjYW4gYmUgdW5kZWZpbmVkXG4gICAqXG4gICAqIGpva2UgOiBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWdFTlZCNnRqcV9NXG4gICAqIEByZXR1cm4ge2Zsb2F0fSAwIC0tPiAxMDBcbiAgICovXG4gIFByb2dyZXNzQmFyU2VydmljZS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiBjYWxjdWxhdGVQcm9ncmVzc0JhcihzdGFydFZhbHVlLCByZW1haW5pbmdUaW1lLCBlbmRUaW1lQXR0ciwgY291dGRvd24pIHtcbiAgICB2YXIgZGlzcGxheVByb2dyZXNzQmFyID0gMCxcbiAgICAgIGVuZFRpbWVWYWx1ZSxcbiAgICAgIGluaXRpYWxDb3VudGRvd247XG5cbiAgICByZW1haW5pbmdUaW1lID0gcmVtYWluaW5nVGltZSAvIDEwMDA7IC8vc2Vjb25kc1xuXG5cbiAgICBpZihlbmRUaW1lQXR0ciAhPT0gbnVsbCl7XG4gICAgICBlbmRUaW1lVmFsdWUgPSBtb21lbnQoZW5kVGltZUF0dHIpO1xuICAgICAgaW5pdGlhbENvdW50ZG93biA9IGVuZFRpbWVWYWx1ZS5kaWZmKHN0YXJ0VmFsdWUsICdzZWNvbmRzJyk7XG4gICAgICBkaXNwbGF5UHJvZ3Jlc3NCYXIgPSByZW1haW5pbmdUaW1lICogMTAwIC8gaW5pdGlhbENvdW50ZG93bjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkaXNwbGF5UHJvZ3Jlc3NCYXIgPSByZW1haW5pbmdUaW1lICogMTAwIC8gY291dGRvd247XG4gICAgfVxuXG4gICAgZGlzcGxheVByb2dyZXNzQmFyID0gMTAwIC0gZGlzcGxheVByb2dyZXNzQmFyOyAvL1RvIGhhdmUgMCB0byAxMDAgYW5kIG5vdCAxMDAgdG8gMFxuICAgIGRpc3BsYXlQcm9ncmVzc0JhciA9IE1hdGgucm91bmQoZGlzcGxheVByb2dyZXNzQmFyICogMTApIC8gMTA7IC8vbGVhcm4gbW9yZSB3aHkgOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU4ODAwNC9pcy1mbG9hdGluZy1wb2ludC1tYXRoLWJyb2tlblxuXG4gICAgaWYoZGlzcGxheVByb2dyZXNzQmFyID4gMTAwKXsgLy9zZWN1cml0eVxuICAgICAgZGlzcGxheVByb2dyZXNzQmFyID0gMTAwO1xuICAgIH1cblxuICAgIHJldHVybiBkaXNwbGF5UHJvZ3Jlc3NCYXI7XG4gIH07XG5cbiAgcmV0dXJuIG5ldyBQcm9ncmVzc0JhclNlcnZpY2UoKTtcbn0pO1xuIl19
