var authWait=["Auth",function(e){return e.$waitForSignIn()}],authRequire=["Auth",function(e){return e.$requireSignIn()}];angular.module("SistersApp",["SistersCtrls","SistersDirectives","ui.router","ui.bootstrap","firebase","angularMoment","ngCart","ngStorage","angularPayments","ngAnimate","picardy.fontawesome","textAngular","ui.router.metatags","angular-parallax"]).run(["$rootScope","$state","$location","$window","MetaTags",function(e,t,o,a,r){e.MetaTags=r,e.$on("$stateChangeError",function(e,o,a,r,n,s){"AUTH_REQUIRED"===s&&t.go("login")}),e.$on("$stateChangeSuccess",function(e){document.body.scrollTop=document.documentElement.scrollTop=0,a.ga&&a.ga("send","pageview",{page:o.path()})})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","UIRouterMetatagsProvider","$provide",function(e,t,o,a,r){a.setDefaultTitle("SISTERS").setDefaultDescription('Seattle duo. "Drink Champagne", the debut album, coming soon!').setStaticProperties({"og:site_name":"SISTERS"}).setOGURL(!0),t.otherwise("/"),e.state("home",{url:"/",metaTags:{title:"SISTERS",description:'Seattle duo. "Drink Champagne", the debut album, coming soon!'},templateUrl:"/views/home.html",controller:"HomeCtrl"}).state("about",{url:"/about",templateUrl:"/views/about.html",controller:"AboutCtrl"}).state("download",{url:"/download/:id",resolve:{downloadKey:["DownloadKeyService","$stateParams",function(e,t){return e(t.id).$loaded()}]},onEnter:["$state","$stateParams","$timeout","downloadKey",function(e,t,o,a){a===!0?o(function(){console.log("success!")},0):o(function(){console.log("failed!")},0)}]}).state("blog",{templateUrl:"/views/blog/blog.html",controller:"BlogMasterCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}]}}).state("blog-new",{url:"/blog/new",templateUrl:"/views/blog/newBlogPost.html",controller:"NewBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}]}}).state("blog-edit",{url:"/blog/edit/:slug",templateUrl:"/views/blog/editBlogPost.html",controller:"EditBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}],thisPost:["$stateParams","ThisPostService",function(e,t){return t(e.slug).$loaded()}]}}).state("blog-tags-edit",{url:"/blog/editTags/",templateUrl:"/views/blog/editTags.html",controller:"EditBlogTagsCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}]}}).state("blog.main",{url:"/blog",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.page",{url:"/blog/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.archive",{url:"/blog/archives/:year/:month",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(e,t){return t(e.year,e.month).$loaded()}]}}).state("blog.archivePage",{url:"/blog/archives/:year/:month/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(e,t){return t(e.year,e.month).$loaded()}]}}).state("blog.tags",{url:"/blog/tags/:tagName",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogTagsCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],TagsShow:["$stateParams","TagsShowService",function(e,t){return t(e.tagName).$loaded()}]}}).state("blog.show",{url:"/blog/show/:slug",templateUrl:"/views/blog/blog-content.html",controller:"BlogShowCtrl",resolve:{currentAuth:authWait,thisPost:["$stateParams","ThisPostService",function(e,t){return t(e.slug).$loaded()}],Blog:["BlogPosts",function(e){return e().$loaded()}]},metaTags:{title:function(e){console.log("what is Blog? ",e);var t="SISTERS - "+e[0].postTitle;return t},description:function(e){return e[0].postBody}}}).state("shows",{url:"/shows",metaTags:{title:"SISTERS - Shows",description:"Upcoming shows for Seattle duo SISTERS."},templateUrl:"/views/shows/shows.html",controller:"ShowsCtrl",resolve:{currentAuth:authWait,getShows:["GetShows",function(e){return console.log("app resolve entered"),e().$loaded()}]}}).state("store",{url:"/store",metaTags:{title:"SISTERS - Store",description:"The official store for Seattle duo SISTERS."},templateUrl:"/views/store/store.html",controller:"StoreCtrl",resolve:{currentAuth:authWait,allProducts:["ProductsService",function(e){return e.allProducts()}]}}).state("storeCart",{url:"/store/cart",templateUrl:"/views/store/cart.html",controller:"StoreCartCtrl",resolve:{currentAuth:authWait}}).state("storeShow",{url:"/store/:id",templateUrl:"/views/store/storeShow.html",controller:"StoreShowCtrl",resolve:{currentAuth:authWait,oneProduct:["ProductsService","$stateParams",function(e,t){return e.oneProduct(t.id)}]}}).state("checkout",{templateUrl:"/views/store/checkoutTemplate.html",controller:"CheckoutTemplateCtrl",resolve:{currentAuth:authWait}}).state("checkout.address",{url:"/store/checkout/address",templateUrl:"/views/store/checkoutAddress.html",controller:"StoreAddressCtrl",resolve:{currentAuth:authWait}}).state("checkout.payment",{url:"/store/checkout/payment",templateUrl:"/views/store/checkoutPayment.html",controller:"StorePaymentCtrl",resolve:{currentAuth:authWait,currentOrder:["CurrentOrderService",function(e){return e.get()}]}}).state("checkout.confirm",{url:"/store/checkout/confirm",templateUrl:"/views/store/checkoutConfirm.html",controller:"StoreConfirmCtrl",resolve:{currentAuth:authWait}}).state("login",{url:"/login",templateUrl:"/views/login.html",controller:"LoginCtrl"}),o.html5Mode(!0)}]).filter("cut",function(){return function(e,t,o,a,r){var n=angular.element("<div/>").html(e);console.log("source: ",n);var s=n.text().length;console.log("length: ",s)}}).filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl("http://www.youtube.com/embed/"+t)}}]).filter("MomentFilter",["moment",function(e){return function(t){return e(t).format("dddd, MMMM Do, YYYY")}}]).filter("tooOld",function(){return function(e){var t=moment().unix(),o=[];return angular.forEach(e,function(e){var a=e.unixDate/1e3;t-a<=86400&&o.push(e)}),o}}).filter("DeliveryEstDate",["moment",function(e){return function(t){return e(t).format("dddd, MMMM Do")}}]).filter("timeAgo",["moment",function(){return function(e){return moment(e).fromNow()}}]).filter("centsToDollars",function(){return function(e){return e/100}}),angular.module("SistersCtrls",["SistersServices"]).controller("MainCtrl",["$scope","$state","$timeout","$http",function(e,t,o,a){e.$on("loadMainContainer",function(t,o){"loaded"===o?e.mainLoaded=!0:e.mainLoaded=!1})}]).controller("HomeCtrl",["$scope","$state","$timeout","$http","LoadedService",function(e,t,o,a,r){var n=document.getElementById("main");n.style.backgroundColor="rgba(247, 237, 245, 0)",n.style.width="",n.style.padding="",e.loaded=r.get();var s=window.innerWidth;!e.loaded&&s>806?o(function(){e.$emit("loadMainContainer","loaded"),e.fadeHome=!0,r.set(!0)},2500):o(function(){e.$emit("loadMainContainer","loaded"),e.fadeHome=!0,r.set(!0)},2500),e.mailchimpSubmit=function(t,r,n){if(t.$valid){e.isPopup=!1;var s="//sisterstheband.us14.list-manage.com/subscribe/post-json?u=bc38720b0bcc7a32641bb572c&amp;id=242f4adc89&EMAIL="+r+"&c=JSON_CALLBACK";a.jsonp(s).then(function(t){e.user={},n&&(e.mailConfirm=!0,o(function(){e.mailConfirm=!1,console.log("mail confirm reset")},7e3))},function(e){console.log(e)})}}}]).controller("AboutCtrl",["$scope","$state","$timeout",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(255, 255, 255, 1)",a.style.padding="0",a.style.width="100%",e.$emit("loadMainContainer","loaded")}]),angular.module("SistersCtrls").controller("LoginCtrl",["$scope","$state","Auth",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.submitted=!1,e.logged=!1,o.$onAuthStateChanged(function(o){o?(e.logged=!0,t.go("home")):console.log("Not logged in.")}),e.user={},e.login=function(){e.submitted=!0,e.firebaseUser=null,o.$signInWithEmailAndPassword(e.user.email,e.user.password).then(function(t){e.firebaseUser=t}).catch(function(e){console.error("Authentication failed:",e)})}}]),angular.module("SistersCtrls").controller("NewBlogCtrl",["$scope","$state","$http","Auth","BlogPosts","AllTags","HelperService","SubmitImage","moment",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.BlogPosts=r(),e.tags=n,e.checkedTags={},e.data={},e.resetMedia=function(){e.data.youtube="",e.data.image=""},e.submit=function(){console.log("submit clicked"),console.log("what is post? ",e.post),"image"===e.data.mediaSelect?l(e.post,e.BlogPosts,e.data.image,u):"youtube"===e.data.mediaSelect&&(e.data.youtube=s.parseYouTube(e.data.youtube),u(e.post,e.BlogPosts,null,e.data.youtube))},e.addTag=function(){e.tags.$add({name:e.data.newTag}).then(function(t){e.postId=t.key,console.log("what is post id? ",t.key),e.data.newTag=""})},e.resizeImg=function(e){s.imgResize(e)},e.deleteTag=function(t){e.tags.$remove(t).then(function(e){e.key===t.$id})};var u=function(o,a,r,n){var l=s.slugify(o.title),c=(new Date).getTime(),u=i(c).format("YYYY"),d=i(c).format("MMMM"),g={};for(var m in e.checkedTags)g[m]=e.checkedTags[m];var h={postTitle:o.title,slug:l,postBody:o.postBody,youtube:n?n:null,img:r?r:null,tags:g,timestamp:c};console.log("thisPost: ",h),a.$add(h).then(function(e){var o=e.key,a={key:o};firebase.database().ref("archives/"+u+"/"+d+"/"+o).set(a),t.go("blog.main")})}}]).controller("EditBlogCtrl",["$scope","$state","$timeout","$stateParams","SendDataService","AllTags","thisPost","HelperService","SubmitImage","$uibModal","$log","BlogPosts",function(e,t,o,a,r,n,s,l,i,c,u,d){var g=document.getElementById("main");if(g.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.data={},e.postArray=s,e.post=s[0],e.originalTags=angular.copy(e.post.tags),e.tags=n,e.post.youtube){console.log(e.post.youtube);var m=e.post.youtube;e.data.youtube="https://www.youtube.com/watch?v="+m}e.confirmBlogDelete=function(e){var t=c.open({animation:!0,backdrop:!0,templateUrl:"/views/blog/deleteBlogConfirmModal.html",controller:"DeleteBlogConfirmCtrl",size:"sm",resolve:{Post:e}});t.result.then(function(){console.log("submitted modal")},function(){u.info("Modal dismissed at: "+new Date)})},e.addTag=function(){e.tags.$add({name:e.data.newTag}).then(function(t){e.postId=t.key,console.log("what is post id? ",t.key),e.data.newTag=""})},e.deleteTag=function(t){e.tags.$remove(t).then(function(e){e.key===t.$id})},e.resetMedia=function(){e.data.youtube="",e.data.image=""},e.submit=function(){"image"===e.data.mediaSelect&&e.data.image?i(e.post,e.postArray,e.data.image,h):"image"!==e.data.mediaSelect||e.data.image?"youtube"===e.data.mediaSelect&&(e.data.youtube=l.parseYouTube(e.data.youtube),h(e.post,e.BlogPosts,null,e.data.youtube)):h(e.post,e.BlogPosts,e.post.img,null)};var h=function(a,r,n,s){var i=l.slugify(a.postTitle);console.log(i);var c=moment(a.timestamp).format("YYYY"),u=moment(a.timestamp).format("MMMM"),d={};for(var g in a.tags)d[g]=a.tags[g];a.slug=i,a.tags=d,a.youtube=s?s:null,a.img=n?n:null;var m={postTitle:a.postTitle,slug:i,postBody:a.postBody,youtube:a.youtube,img:a.img,tags:d,timestamp:a.timestamp};e.postArray.$save(a).then(function(a){var r=a.key;firebase.database().ref("archives/"+c+"/"+u+"/"+r).remove(),firebase.database().ref("archives/"+c+"/"+u+"/"+r).set(m);for(g in e.originalTags)if(e.originalTags[g]===!0){var n="tags/"+g+"/posts/"+r;firebase.database().ref(n).remove().then(function(e){}).catch(function(e){console.log("Remove failed: "+e.message)})}else console.log(g+" not a tag for old edit!");o(function(){for(g in m.tags)m.tags[g]===!0?firebase.database().ref("tags/"+g+"/posts/"+r).set(m):console.log(g+" not a tag for new edit!")},100),t.go("blog.main")})}}]).controller("EditBlogTagsCtrl",["$scope","$uibModalInstance","tag","Blog",function(e,t,o,a){e.prompted=!1,e.tag=angular.copy(o),console.log(o),e.ok=function(o){var a={name:e.tag.name};firebase.database().ref("/tags/"+e.tag.$id).update(a),t.close()},e.cancel=function(){t.dismiss("cancel")},e.deletePrompt=function(){e.prompted=!0},e.delete=function(o){if("no"===o)e.prompted=!1;else if("yes"===o){firebase.database().ref("/tags/"+e.tag.$id).remove();for(var r=0;r<a.length;r++){var n=a[r].tags;n[e.tag.$id]===!0&&(n[e.tag.$id]=null,firebase.database().ref("/blog_posts/"+a[r].$id+"/tags").update(n))}t.close()}}}]).controller("DeleteBlogConfirmCtrl",["$scope","$uibModalInstance","Post","moment","$location",function(e,t,o,a,r){console.log(o),e.yes=function(){var e=a(o.timestamp).format("YYYY"),n=a(o.timestamp).format("MMMM");console.log(n+" of "+e),firebase.database().ref("blog_posts/"+o.$id).remove(),firebase.database().ref("archives/"+e+"/"+n+"/"+o.$id).remove(),t.close(),r.url("/blog")},e.no=function(){t.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("BlogMasterCtrl",["$scope","$state","$http","$timeout","$location","$stateParams","Auth","Blog","HelperService","InstagramFactory","AllTagsService","TwitterFactory",function(e,t,o,a,r,n,s,l,i,c,u,d){e.loadedInsta=!1,e.loadedTwitter=!1,e.$emit("loadMainContainer","loaded"),c.then(function(t){e.photos=t.data,e.loadedInsta=!0,e.loadedTwitter&&(e.loaded=!0)}),d.then(function(t){console.log(t),e.tweetDate=t.allTweetData.created_at,e.twitterUser=t.allTweetData.user.name,e.twitterHandle=t.allTweetData.user.screen_name,e.tweetId=t.allTweetData.id_str,e.tweet=t.tweetBody,e.favorites=t.favorites,e.retweets=t.retweets,e.loadedTwitter=!0,e.loadedInsta&&(e.loaded=!0)}),e.enable=!0,e.auth=s,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t})}]).controller("BlogCtrl",["$scope","$state","$http","$timeout","$location","$stateParams","Auth","Blog","HelperService","InstagramFactory","AllTagsService",function(e,t,o,a,r,n,s,l,i,c,u){var d=document.getElementById("main");d.style.backgroundColor="",d.style.width="",d.style.padding="",e.$emit("loadMainContainer","loaded"),e.allTags=u(),e.location=r.$$path,c.then(function(t){e.photos=t.data,e.loaded=!0}),e.enable=!0,e.parseTitle=i.titleToURL,e.allPosts=l,e.page=n.page||0,e.pageUp="/blog/"+(parseInt(e.page)+1),e.pageDown="/blog/"+i.pageDown(e.page),e.length=l.length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,e.posts=l.slice(e.first,e.last),e.editPost=function(e){r.url("/blog/edit/"+e)}}]).controller("BlogArchiveCtrl",["$scope","$state","$timeout","$stateParams","$location","Blog","Archive","Auth","HelperService","AllTagsService",function(e,t,o,a,r,n,s,l,i,c){e.$emit("loadMainContainer","notLoaded"),e.location=r.$$path,e.allTags=c(),e.enable=!0,e.fullBlog=n;for(var u=[],d=0;d<s.length;d++)for(var g=s[d].$id,m=0;m<n.length;m++){var h=n[m].$id;g===h&&u.push(n[m])}e.allPosts=u,e.params=a,e.parseTitle=i.titleToURL,e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.page=a.page||0,e.pageUp="/blog/archives/"+a.year+"/"+a.month+"/"+(parseInt(e.page)+1),e.pageDown="/blog/archives/"+a.year+"/"+a.month+"/"+i.pageDown(e.page),e.length=e.allPosts.length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,e.posts=e.allPosts.slice(e.first,e.last),o(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0}),e.editPost=function(e){var t=i.titleToURL(e.postTitle);r.url("/blog/edit/"+t)}}]).controller("BlogTagsCtrl",["$scope","$state","$stateParams","$location","$timeout","Blog","TagsShow","Auth","HelperService","AllTagsService",function(e,t,o,a,r,n,s,l,i,c){e.$emit("loadMainContainer","notLoaded"),e.location=a.$$path,e.allTags=c(),e.enable=!0,e.tagName=s[0].name;for(var u=s[0].$id,d=[],g=0;g<n.length;g++){var m=n[g].tags;m[u]&&d.push(n[g])}e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.page=o.page||0,e.pageUp="/blog/tags/"+o.tagName+"/"+(parseInt(e.page)+1),e.pageDown="/blog/tags/"+o.tagName+"/"+i.pageDown(e.page),e.length=length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,console.log("Last: ",e.last),e.posts=d.slice(e.first,e.last),console.log(e.posts),r(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0}),e.editPost=function(e){var t=i.titleToURL(e.postTitle);a.url("/blog/edit/"+t)}}]).controller("BlogShowCtrl",["$scope","$state","$stateParams","$location","$timeout","thisPost","Blog","AllTagsService",function(e,t,o,a,r,n,s,l){e.$emit("loadMainContainer","notLoaded"),e.location=a.$$path,e.allTags=l(),e.enable=!1,e.recentPosts=s,console.log(e.recentPosts),e.posts=n,e.allPosts=n,r(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0})}]).controller("BlogSidebarCtrl",["$scope","$state","$stateParams","$timeout","ArchiveService","AllTagsService","BlogPosts","HelperService","$uibModal","$log",function(e,t,o,a,r,n,s,l,i,c){e.recentPosts=s(),e.parseTitle=l.titleToURL,e.years=r.years(),e.years.$loaded().then(function(){}),e.allTags=n(),e.newBlogPost=function(){t.go("blog-new")},e.editTag=function(e){var t=i.open({animation:!0,backdrop:!0,templateUrl:"/views/blog/editTagsModal.html",controller:"EditBlogTagsCtrl",size:"lg",resolve:{Blog:["BlogPosts",function(e){return e().$loaded()}],tag:e}});t.result.then(function(){console.log("submitted modal")},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("SistersCtrls").controller("editModalCtrl",["$scope","$uibModalInstance","editShow","index","$firebaseArray",function(e,t,o,a,r){e.shows=o,e.show=o[a],console.log("index is ",a),e.dateObj=new Date(1e3*e.show.unix),console.log(e.dateObj),e.ok=function(){e.show.date=moment(e.dateObj).format("ddd, MMMM Do"),e.show.unix=e.dateObj.getTime()/1e3,e.shows.$save(e.show).then(function(e){console.log("success")},function(e){console.log("Error:",e)}),t.close()},e.cancel=function(){t.dismiss("cancel")},e.delete=function(){e.shows.$remove(e.show).then(function(e){console.log("successful delete: ",e)},function(e){console.log("error: ",e)}),t.close()}}]).controller("newModalCtrl",["$scope","$uibModalInstance","$firebaseArray",function(e,t,o){e.show={};var a=firebase.database().ref("shows");e.showsArray=o(a),e.ok=function(){var o=moment(e.show.showDate).format("dd, MMMM Do"),a=e.show.showDate.getTime()/1e3;console.log(o);var r={date:o,unix:a,location:e.show.showLocation,venue:e.show.venue,venueLink:e.show.venueLink||"",ticketLink:e.show.ticketLink||""};console.log(r),e.showsArray.$add(r),t.close()},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("NavCtrl",["$scope","$timeout","$log","$uibModal","$http","Auth","$state","$sessionStorage","$location","$window",function(e,t,o,a,r,n,s,l,i,c){e.auth=n,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.user={},e.mailConfirm=!1;var u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e.height=d;var g=document.getElementById("mobile-background-div");u<900?g.style.height=d+"px":g.style.height="0px",!e.loaded&&u>806?e.mobileWidth=!1:e.mobileWidth=!0,t(function(){if(u>=678&&null===e.firebaseUser&&"/login"!==i.$$path){if(console.log("entering popup"),!document.getElementById("overlayMail")){var t=document.createElement("div");t.id="overlayMail",t.className="overlay-start";var o=document.body,a=document.querySelector("#pop-up");console.log(o.scrollHeight),t.style.height=o.scrollHeight+"px",a.appendChild(t);var r=document.querySelector("#overlayMail");r.classList.add("active")}e.isPopup=!0}},6e3),e.closePopup=function(){e.isPopup=!1},e.toStore=function(){e.isPopup=!1,s.go("store")},e.toggle=!0;var m=window.innerWidth;m>806?t(function(){e.fade=!0},100):e.fade=!0}]).controller("FooterCtrl",["$scope","$timeout","$log","$uibModal","$http","Auth","$state","$sessionStorage",function(e,t,o,a,r,n,s,l){e.auth=n,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.logout=function(){n.$signOut()},e.login=function(){s.go("login")};var i=window.innerWidth;i>806?t(function(){e.fade=!0},100):e.fade=!0}]).controller("MailModalCtrl",["$scope","$timeout","$uibModal","$uibModalInstance","$http","Auth","$state","$sessionStorage",function(e,t,o,a,r,n,s,l){e.close=function(){a.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("ShowsCtrl",["$scope","$state","currentAuth","$uibModal","$log","$firebaseArray","moment","Auth","getShows",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="",c.style.width="",c.style.padding="",e.$emit("loadMainContainer","loaded"),e.shows=i,e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.open=function(t,o){var n=a.open({animation:!0,backdrop:!0,templateUrl:"/views/shows/"+t+"ShowModal.html",controller:t+"ModalCtrl",size:"lg",resolve:{editShow:function(){return e.shows},index:o}});n.result.then(function(t){e.selected=t},function(){r.info("Modal dismissed at: "+new Date)})}}]),angular.module("SistersCtrls").controller("StoreCtrl",["$scope","$state","$http","$timeout","$location","$sessionStorage","allProducts","ProductsService",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="",i.style.width="",i.style.padding="",e.loaded=!1,e.products=s,e.showProduct=function(e){t.go("storeShow",{id:e})},a(function(){e.loaded=!0,e.$emit("loadMainContainer","loaded")})}]).controller("StoreCartCtrl",["$scope","$state","$http","$timeout","$location","$sessionStorage",function(e,t,o,a,r,n){var s=document.getElementById("main");s.style.backgroundColor="",e.$emit("loadMainContainer","loaded"),e.toCheckout=function(){r.url("/store/checkout/address")},e.continue=function(){r.url("/store")}}]).controller("StoreShowCtrl",["$scope","$stateParams","$state","$http","$timeout","$location","$sessionStorage","oneProduct",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="",e.$emit("loadMainContainer","loaded"),e.product=l,e.images=l.images;var c=e.images[0];e.skus=e.product.skus.data,e.data={},e.data.selected=e.product.skus.data[0];var u=document.querySelector(".main-product-photo img");u.src=e.images[0],e.isActiveImg=function(){return this.img===c},e.changeActive=function(){c=this.img,u.src=this.img}}]).controller("CheckoutTemplateCtrl",["$scope","$state","$http","$timeout","$location","$localStorage",function(e,t,o,a,r,n){e.$emit("loadMainContainer","loaded"),e.$storage=n,e.$on("cartChange",function(t,o){e.showPath=o}),e.showPath||(e.showPath=e.$storage.pathCount)}]).controller("StoreAddressCtrl",["$scope","$state","$window","$timeout","$http","$location","$localStorage","ngCart","$rootScope","CurrentOrderService",function(e,t,o,a,r,n,s,l,i,c){var u=document.getElementById("main");u.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),e.$storage=s,e.cartItems=l.getItems(),i.path=n.$$path,(!e.$storage.pathCount||e.$storage.pathCount<1)&&(e.$storage.pathCount=0,e.$emit("cartChange",e.$storage.pathCount)),e.loaded=[],e.data={shipping:{country:{}},billing:{country:{}}},e.mailingListAdd=!0,e.shippingSameBool=!1,r.get("/js/JSON/countries.json").success(function(t){e.countries=t,e.data.shipping.country=e.countries[0],e.data.billing.country=e.countries[0],e.loaded.push("go")}),r.get("/js/JSON/states.json").success(function(t){e.states=t,e.loaded.push("go")}),r.get("/js/JSON/provinces.json").success(function(t){e.provinces=t,e.loaded.push("go")}),e.isShippingSame=function(){e.data.shippingSame?(e.data.billing=e.data.shipping,e.shippingSameBool=!0):(e.data.billing={},e.shippingSameBool=!1)},e.countryChange=function(t){"US"===t.code?e.shippingType=e.shipRates.domestic:e.shippingType=e.shipRates.international},e.submitForm=function(t){if(t.$valid){e.loaded=[];var o=e.data.shipping;e.data.billing;e.copyItems=angular.copy(e.cartItems);for(var a=0;a<e.copyItems.length;a++)delete e.copyItems[a]._data,delete e.copyItems[a].attr;e.$storage.billingAddress=e.data.billing;var s={url:"/stripe/createOrder",method:"POST",params:{order:{currency:"usd",items:e.copyItems,shipping:{name:o.name,address:{line1:o.address1,line2:o.address2||null,city:o.city,state:o.stateProvince.short||null,country:o.country.code,postal_code:o.postalCode}},email:o.email,metadata:{taxRate:l.getTaxRate()}}}};r(s).then(function(t){"created"===t.data.status?(e.$storage.mailingList=e.mailingListAdd,e.$storage.addressSubmit||(e.$storage.pathCount++,e.$emit("cartChange",e.$storage.pathCount)),e.$storage.addressSubmit=!0,e.$storage.orderData=t,e.$evalAsync(function(){n.url("/store/checkout/payment")})):(e.loaded=[1,2,3],console.log(t.data),e.errorMessage=t.data.message)},function(e){console.log("error ",e)})}else console.log("form invalid!!")},e.getTaxRate=function(e,t,a){if("US"===e.code&&"WA"===t.short&&a)if(o.localStorage.currentWaRate){var n=parseFloat(o.localStorage.currentWaRate);l.setTaxRate(n)}else{var s={url:"/taxRate",method:"GET",params:{country:"usa",postal:a}};r(s).then(function(e){l.setTaxRate(e.data.totalRate),o.localStorage.currentWaRate=e.data.totalRate},function(e){console.log("error ",e)})}else"US"===e.code&&"WA"!==t.short?l.setTaxRate(0):"US"!==e.code&&l.setTaxRate(0)}}]).controller("StorePaymentCtrl",["$scope","$state","$http","$timeout","$location","$localStorage","ngCart","$rootScope","currentOrder",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),l.path=r.$$path,e.$storage=n,e.pathCount=parseInt(e.$storage.pathCount),e.shipOptions=e.$storage.orderData.data.shipping_methods,e.savedSelectedShip=e.$storage.orderData.data.selected_shipping_method;for(var u=0;u<e.shipOptions.length;u++)if(e.shipOptions[u].id===e.savedSelectedShip){e.selectedShip=e.shipOptions[u];break}e.$watch("selectedShip",function(t,o,a){s.setShipping(e.selectedShip.amount)},!1),a(function(){e.loaded=!0}),e.submitForm=function(t){e.loaded=!1,Stripe.card.createToken({number:e.number,cvc:e.cvc,exp:e.expiry,name:e.$storage.billingAddress.name,address_line1:e.$storage.billingAddress.address1,address_line2:e.$storage.billingAddress.address2||null,address_city:e.$storage.billingAddress.city,address_state:e.$storage.billingAddress.stateProvince.short||null,address_zip:e.$storage.billingAddress.postalCode,address_country:e.$storage.billingAddress.country.code},d)};var d=function(t,a){if(a.error);else{token=a;var n={url:"/stripe/updateShipping",method:"POST",params:{token:token,orderId:e.$storage.orderData.data.id,selectedShip:e.selectedShip.id}};o(n).then(function(t){e.$storage.paymentSubmit||(e.$storage.pathCount++,e.$emit("cartChange",e.$storage.pathCount)),e.$storage.paymentSubmit=!0,e.$storage.orderData=t,e.$storage.tokenData=token,r.url("/store/checkout/confirm")},function(t){e.loaded=!0,console.log("error ",t)})}}}]).controller("StoreConfirmCtrl",["$scope","$state","$http","$timeout","$location","$localStorage","ngCart","$rootScope",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),e.$storage=n,e.pathCount=parseInt(e.$storage.pathCount),e.orderComplete=!1,l.path=r.$$path,e.ngCart=s,e.token=e.$storage.tokenData,e.order=e.$storage.orderData.data;for(var c=e.order.items,u=0;u<c.length;u++)"shipping"===c[u].type&&(e.shipService=c[u].description);a(function(){e.loaded=!0}),e.createCharge=function(){e.loaded=!1;var t={url:"/stripe/orderComplete",method:"POST",params:{orderId:e.order.id,token:e.token.id}};o(t).then(function(t){e.orderComplete=!0,e.$storage.mailingList&&d(),s.setTaxRate(),s.setShipping(),s.empty(),n.$reset()},function(t){e.loaded=!0,console.log("error ",t)})};var d=function(){var t="//sisterstheband.us14.list-manage.com/subscribe/post-json?u=bc38720b0bcc7a32641bb572c&amp;id=242f4adc89&EMAIL="+e.$storage.orderData.data.email+"&c=JSON_CALLBACK";o.jsonp(t).then(function(e){},function(e){console.log(e)})}}]),angular.module("SistersDirectives",[]).directive("fileread",[function(){return{scope:{fileread:"="},link:function(e,t,o){t.bind("change",function(t){var o=new FileReader;o.onload=function(t){e.$apply(function(){e.fileread=t.target.result})},o.readAsDataURL(t.target.files[0])})}}}]).directive("countryName",["$http",function(e){return{template:"<span>{{name}}</span>",scope:{countryCode:"="},link:function(t){e.get("/js/JSON/countries.json").then(function(e){for(var o=e.data,a=0;a<o.length;a++)if(o[a].code===t.countryCode){t.name=o[a].name;break}},function(e){t.name="unknown"})}}}]),angular.module("SistersServices",["ngResource"]).factory("LoadedService",function(){function e(e){o=e}function t(){return o}var o=!1;return{set:e,get:t}}).factory("Auth",["$firebaseAuth",function(e){return e()}]).factory("ProductsService",["$http","$q",function(e,t){return{allProducts:function(){var o=t.defer();return e.get("/stripe/allProducts").success(function(e){o.resolve(e.data)}),o.promise},oneProduct:function(o){var a=t.defer(),r={method:"GET",url:"/stripe/oneProduct",params:{productId:o}};return e(r).success(function(e){a.resolve(e)}),a.promise}}}]).service("InstagramFactory",["$http","$q",function(e,t){var o=t.defer();return e({method:"GET",url:"/instagram",cache:!0}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}]).service("TwitterFactory",["$http","$q",function(e,t){var o=t.defer();return e({method:"GET",url:"/twitter",cache:!0}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}]).factory("DownloadKeyService",function(){return function(e){console.log("hash is "+e),firebase.database().ref("downloadKeys/"+e).once("value").then(function(e){var t=e.val();console.log(t)})}}).factory("GetShows",["$firebaseArray","moment",function(e,t){var o=t().unix();return function(){var t=firebase.database().ref("shows").orderByChild("unix").startAt(o);return e(t)}}]).factory("BlogPosts",["$firebaseArray",function(e){return function(){var t=firebase.database().ref("blog_posts").orderByChild("timestamp");return e(t)}}]).factory("ThisPostService",["$firebaseArray",function(e){return function(t){var o=firebase.database().ref("blog_posts"),a=o.orderByChild("slug").equalTo(t);return e(a)}}]).factory("AllTagsService",["$firebaseArray",function(e){return function(){var t=firebase.database().ref("tags");return e(t)}}]).factory("TagsShowService",["$firebaseArray",function(e){return function(t){var o=firebase.database().ref("tags"),a=o.orderByChild("name").equalTo(t);return e(a)}}]).factory("ArchiveService",["$firebaseArray",function(e){return{years:function(){var t=firebase.database().ref("archives");return e(t)},months:function(t){var o=firebase.database().ref("archives/"+t);return e(o)}}}]).factory("ArchiveShowService",["$firebaseArray",function(e){return function(t,o){var a=firebase.database().ref("archives/"+t+"/"+o);return e(a)}}]).factory("SendDataService",function(){function e(e){o=e}function t(){return o}var o={};return{set:e,get:t}}).factory("CurrentOrderService",["$window",function(e){function t(t){e.localStorage.setItem("orderData",angular.toJson(t))}function o(){var t=angular.fromJson(e.localStorage.getItem("orderData"));return JSON.parse(t)}return{set:t,get:o}}]).factory("HelperService",["moment","$q",function(e,t){
return{parseYouTube:function(e){var t=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=t?t[1]:void console.log("The youtube url is not valid.")},base64MimeType:function(e){var t=null;if("string"!=typeof e)return t;var o=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return o&&o.length&&(t=o[1]),console.log("image type is ",t),t},getBase64Image:function(e){var t=e.replace(/^data:image\/(png|jpeg);base64,/,"");return t},b64toBlob:function(e,t,o){t=t||"",o=o||512;for(var a=atob(e),r=[],n=0;n<a.length;n+=o){for(var s=a.slice(n,n+o),l=new Array(s.length),i=0;i<s.length;i++)l[i]=s.charCodeAt(i);var c=new Uint8Array(l);r.push(c)}var u=new Blob(r,{type:t});return u},pageDown:function(e){return e<2?"":e-1},findFirst:function(e,t){var o=e-4*(1+t);return o>=0?o:0},titleToURL:function(e){return e.split(" ").join("-")},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},imgResize:function(e){console.log("inside resize!!");var o=t.defer(),a=new Image;return a.src=e,a.onload=function(){console.log(this.width+" "+this.height);var e=a.width/a.height;console.log("WHAT IS RATIO??? ",e);var t=document.createElement("canvas");if(e>=1.776&&a.height>=500){console.log("loadIMG: ",a);var r=(a.height-500)/a.height;t.height=500,t.width=a.width-a.width*r}else if(e<1.776&&a.width>=889){console.log("loadIMG: ",a);var r=(a.width-889)/a.width;t.width=889,t.height=a.height-a.height*r}else console.log("loadIMG: ",a),console.log("image is not big enough!");var n=t.getContext("2d");n.drawImage(a,0,0,t.width,t.height);var s=t.toDataURL("image/jpeg");o.resolve(s)},o.promise}}}]).factory("SubmitImage",["HelperService",function(e){return function(t,o,a,r){e.imgResize(a).then(function(a){var n=e.base64MimeType(a);console.log("TYPE IS ",n);var s=e.getBase64Image(a),l=e.b64toBlob(s,n),i={contentType:n},c=(1e32*Math.random()).toString(36),u=firebase.storage().ref(),d=u.child("blog-images/"+c).put(l,i);d.on(firebase.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){switch(e.code){case"storage/unauthorized":break;case"storage/canceled":break;case"storage/unknown":}},function(){console.log("upload finished");var e=d.snapshot.downloadURL;r(t,o,e,null)})})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIjAwIGhvbWVfY29udHJvbGxlci5qcyIsIjAxIGF1dGhfY29udHJvbGxlci5qcyIsIjAyIGJsb2dfYWRtaW5fY29udHJvbGxlci5qcyIsIjAzIGJsb2dfY29udHJvbGxlci5qcyIsIjA0IG1vZGFsX2NvbnRyb2xsZXIuanMiLCIwNSBuYXZfY29udHJvbGxlci5qcyIsIjA2IHNob3dfY29udHJvbGxlci5qcyIsIjA3IHN0b3JlX2NvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmVzLmpzIiwic2VydmljZXMuanMiXSwibmFtZXMiOlsiYXV0aFdhaXQiLCJBdXRoIiwiJHdhaXRGb3JTaWduSW4iLCJhdXRoUmVxdWlyZSIsIiRyZXF1aXJlU2lnbkluIiwiYW5ndWxhciIsIm1vZHVsZSIsInJ1biIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCIkbG9jYXRpb24iLCIkd2luZG93IiwiTWV0YVRhZ3MiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJlcnJvciIsImdvIiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2EiLCJwYWdlIiwicGF0aCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJVSVJvdXRlck1ldGF0YWdzUHJvdmlkZXIiLCIkcHJvdmlkZSIsInNldERlZmF1bHRUaXRsZSIsInNldERlZmF1bHREZXNjcmlwdGlvbiIsInNldFN0YXRpY1Byb3BlcnRpZXMiLCJvZzpzaXRlX25hbWUiLCJzZXRPR1VSTCIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwibWV0YVRhZ3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsImRvd25sb2FkS2V5IiwiRG93bmxvYWRLZXlTZXJ2aWNlIiwiJHN0YXRlUGFyYW1zIiwiaWQiLCIkbG9hZGVkIiwib25FbnRlciIsIiR0aW1lb3V0IiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRBdXRoIiwiQmxvZyIsIkJsb2dQb3N0cyIsIkFsbFRhZ3MiLCJBbGxUYWdzU2VydmljZSIsInRoaXNQb3N0IiwiVGhpc1Bvc3RTZXJ2aWNlIiwic2x1ZyIsIkFyY2hpdmUiLCJBcmNoaXZlU2hvd1NlcnZpY2UiLCJ5ZWFyIiwibW9udGgiLCJUYWdzU2hvdyIsIlRhZ3NTaG93U2VydmljZSIsInRhZ05hbWUiLCJwb3N0VGl0bGUiLCJwb3N0Qm9keSIsImdldFNob3dzIiwiR2V0U2hvd3MiLCJhbGxQcm9kdWN0cyIsIlByb2R1Y3RzU2VydmljZSIsIm9uZVByb2R1Y3QiLCJjdXJyZW50T3JkZXIiLCJDdXJyZW50T3JkZXJTZXJ2aWNlIiwiZ2V0IiwiaHRtbDVNb2RlIiwiZmlsdGVyIiwidmFsdWUiLCJlbmFibGUiLCJ3b3Jkd2lzZSIsIm1heCIsInRhaWwiLCJzb3VyY2UiLCJlbGVtZW50IiwiaHRtbCIsImxlbmd0aCIsInRleHQiLCIkc2NlIiwidmFsIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwibW9tZW50IiwiZm9ybWF0IiwiZXZlbnRzIiwiY3VycmVudERheSIsInVuaXgiLCJmaWx0ZXJlZCIsImZvckVhY2giLCJ0aGlzRXZlbnQiLCJ1bml4RGF0ZSIsInB1c2giLCJmcm9tTm93IiwiJHNjb3BlIiwiJGh0dHAiLCJkYXRhIiwibWFpbkxvYWRlZCIsIkxvYWRlZFNlcnZpY2UiLCJtYWluIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIndpZHRoIiwicGFkZGluZyIsImxvYWRlZCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCIkZW1pdCIsImZhZGVIb21lIiwic2V0IiwibWFpbGNoaW1wU3VibWl0IiwiZm9ybSIsImVtYWlsIiwiaXNOYXYiLCIkdmFsaWQiLCJpc1BvcHVwIiwianNvbnAiLCJ0aGVuIiwicmVzIiwidXNlciIsIm1haWxDb25maXJtIiwic3VibWl0dGVkIiwibG9nZ2VkIiwiJG9uQXV0aFN0YXRlQ2hhbmdlZCIsImZpcmViYXNlVXNlciIsImxvZ2luIiwiJHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwicGFzc3dvcmQiLCJjYXRjaCIsIkhlbHBlclNlcnZpY2UiLCJTdWJtaXRJbWFnZSIsInRhZ3MiLCJjaGVja2VkVGFncyIsInJlc2V0TWVkaWEiLCJ5b3V0dWJlIiwiaW1hZ2UiLCJzdWJtaXQiLCJwb3N0IiwibWVkaWFTZWxlY3QiLCJhZGRQb3N0IiwicGFyc2VZb3VUdWJlIiwiYWRkVGFnIiwiJGFkZCIsIm5hbWUiLCJuZXdUYWciLCJyZWYiLCJwb3N0SWQiLCJrZXkiLCJyZXNpemVJbWciLCJpbWciLCJpbWdSZXNpemUiLCJkZWxldGVUYWciLCJpdGVtIiwiJHJlbW92ZSIsIiRpZCIsInBvc3RBcnJheSIsInNsdWdpZnkiLCJwb3N0RGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwibmV3VGFncyIsInByb3AiLCJ0aW1lc3RhbXAiLCJhcmNoaXZlUG9zdCIsImZpcmViYXNlIiwiZGF0YWJhc2UiLCJTZW5kRGF0YVNlcnZpY2UiLCIkdWliTW9kYWwiLCIkbG9nIiwib3JpZ2luYWxUYWdzIiwiY29weSIsInlvdXR1YmVJZCIsImNvbmZpcm1CbG9nRGVsZXRlIiwibW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJhbmltYXRpb24iLCJiYWNrZHJvcCIsInNpemUiLCJQb3N0IiwicmVzdWx0IiwiaW5mbyIsInVwZGF0ZVBvc3QiLCIkc2F2ZSIsInJlbW92ZSIsIm1lc3NhZ2UiLCIkdWliTW9kYWxJbnN0YW5jZSIsInRhZyIsInByb21wdGVkIiwib2siLCJuZXdOYW1lIiwidXBkYXRlIiwiY2xvc2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwiZGVsZXRlUHJvbXB0IiwiZGVsZXRlIiwicmVzcG9uc2UiLCJpIiwidGhpc1Bvc3RUYWdzIiwieWVzIiwibm8iLCJJbnN0YWdyYW1GYWN0b3J5IiwiVHdpdHRlckZhY3RvcnkiLCJsb2FkZWRJbnN0YSIsImxvYWRlZFR3aXR0ZXIiLCJwaG90b3MiLCJ0d2VldERhdGUiLCJhbGxUd2VldERhdGEiLCJjcmVhdGVkX2F0IiwidHdpdHRlclVzZXIiLCJ0d2l0dGVySGFuZGxlIiwic2NyZWVuX25hbWUiLCJ0d2VldElkIiwiaWRfc3RyIiwidHdlZXQiLCJ0d2VldEJvZHkiLCJmYXZvcml0ZXMiLCJyZXR3ZWV0cyIsImF1dGgiLCJhbGxUYWdzIiwibG9jYXRpb24iLCIkJHBhdGgiLCJwYXJzZVRpdGxlIiwidGl0bGVUb1VSTCIsImFsbFBvc3RzIiwicGFnZVVwIiwicGFyc2VJbnQiLCJwYWdlRG93biIsImZpcnN0IiwiZmluZEZpcnN0IiwibGFzdCIsInBvc3RzIiwic2xpY2UiLCJlZGl0UG9zdCIsImZ1bGxCbG9nIiwiaiIsImJsb2dLZXkiLCJwYXJhbXMiLCJ0aXRsZVBhcnNlZCIsInRoaXNUYWciLCJzZWxlY3RQb3N0cyIsInJlY2VudFBvc3RzIiwiQXJjaGl2ZVNlcnZpY2UiLCJ5ZWFycyIsIm5ld0Jsb2dQb3N0IiwiZWRpdFRhZyIsImVkaXRTaG93IiwiaW5kZXgiLCIkZmlyZWJhc2VBcnJheSIsInNob3dzIiwic2hvdyIsImRhdGVPYmoiLCJkYXRlIiwic2hvd3NSZWYiLCJzaG93c0FycmF5IiwidGhpc0RhdGUiLCJzaG93RGF0ZSIsInRoaXNVbml4Iiwib2JqZWN0Iiwic2hvd0xvY2F0aW9uIiwidmVudWUiLCJ2ZW51ZUxpbmsiLCJ0aWNrZXRMaW5rIiwiJHNlc3Npb25TdG9yYWdlIiwidyIsImNsaWVudFdpZHRoIiwiaCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaGVpZ2h0IiwibW9iaWxlQkciLCJtb2JpbGVXaWR0aCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJwb3BVcCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxIZWlnaHQiLCJhcHBlbmRDaGlsZCIsIm92ZXJsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbG9zZVBvcHVwIiwidG9TdG9yZSIsInRvZ2dsZSIsImZhZGUiLCJsb2dvdXQiLCIkc2lnbk91dCIsIndoaWNoUGFnZSIsInNlbGVjdGVkSXRlbSIsInNlbGVjdGVkIiwicHJvZHVjdHMiLCJzaG93UHJvZHVjdCIsInRvQ2hlY2tvdXQiLCJjb250aW51ZSIsInByb2R1Y3QiLCJpbWFnZXMiLCJjdXJyZW50QWN0aXZlU3JjIiwic2t1cyIsIm1haW5JbWciLCJzcmMiLCJpc0FjdGl2ZUltZyIsInRoaXMiLCJjaGFuZ2VBY3RpdmUiLCIkbG9jYWxTdG9yYWdlIiwiJHN0b3JhZ2UiLCJzaG93UGF0aCIsInBhdGhDb3VudCIsIm5nQ2FydCIsImNhcnRJdGVtcyIsImdldEl0ZW1zIiwic2hpcHBpbmciLCJjb3VudHJ5IiwiYmlsbGluZyIsIm1haWxpbmdMaXN0QWRkIiwic2hpcHBpbmdTYW1lQm9vbCIsInN1Y2Nlc3MiLCJjb3VudHJpZXMiLCJzdGF0ZXMiLCJwcm92aW5jZXMiLCJpc1NoaXBwaW5nU2FtZSIsInNoaXBwaW5nU2FtZSIsImNvdW50cnlDaGFuZ2UiLCJjb2RlIiwic2hpcHBpbmdUeXBlIiwic2hpcFJhdGVzIiwiZG9tZXN0aWMiLCJpbnRlcm5hdGlvbmFsIiwic3VibWl0Rm9ybSIsInNoaXAiLCJjb3B5SXRlbXMiLCJfZGF0YSIsImF0dHIiLCJiaWxsaW5nQWRkcmVzcyIsInJlcSIsIm1ldGhvZCIsIm9yZGVyIiwiY3VycmVuY3kiLCJpdGVtcyIsImFkZHJlc3MiLCJsaW5lMSIsImFkZHJlc3MxIiwibGluZTIiLCJhZGRyZXNzMiIsImNpdHkiLCJzdGF0ZVByb3ZpbmNlIiwic2hvcnQiLCJwb3N0YWxfY29kZSIsInBvc3RhbENvZGUiLCJtZXRhZGF0YSIsInRheFJhdGUiLCJnZXRUYXhSYXRlIiwic3RhdHVzIiwibWFpbGluZ0xpc3QiLCJhZGRyZXNzU3VibWl0Iiwib3JkZXJEYXRhIiwiJGV2YWxBc3luYyIsImVycm9yTWVzc2FnZSIsImxvY2FsU3RvcmFnZSIsImN1cnJlbnRXYVJhdGUiLCJwYXJzZWRUYXgiLCJwYXJzZUZsb2F0Iiwic2V0VGF4UmF0ZSIsInBvc3RhbCIsInRvdGFsUmF0ZSIsInNoaXBPcHRpb25zIiwic2hpcHBpbmdfbWV0aG9kcyIsInNhdmVkU2VsZWN0ZWRTaGlwIiwic2VsZWN0ZWRfc2hpcHBpbmdfbWV0aG9kIiwic2VsZWN0ZWRTaGlwIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsInNjb3BlIiwic2V0U2hpcHBpbmciLCJhbW91bnQiLCJTdHJpcGUiLCJjYXJkIiwiY3JlYXRlVG9rZW4iLCJudW1iZXIiLCJjdmMiLCJleHAiLCJleHBpcnkiLCJhZGRyZXNzX2xpbmUxIiwiYWRkcmVzc19saW5lMiIsImFkZHJlc3NfY2l0eSIsImFkZHJlc3Nfc3RhdGUiLCJhZGRyZXNzX3ppcCIsImFkZHJlc3NfY291bnRyeSIsImhhbmRsZVN0cmlwZSIsInRva2VuIiwib3JkZXJJZCIsInBheW1lbnRTdWJtaXQiLCJ0b2tlbkRhdGEiLCJvcmRlckNvbXBsZXRlIiwidHlwZSIsInNoaXBTZXJ2aWNlIiwiY3JlYXRlQ2hhcmdlIiwiZW1wdHkiLCIkcmVzZXQiLCJkaXJlY3RpdmUiLCJmaWxlcmVhZCIsImxpbmsiLCJhdHRyaWJ1dGVzIiwiYmluZCIsImNoYW5nZUV2ZW50IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImxvYWRFdmVudCIsIiRhcHBseSIsInRhcmdldCIsInJlYWRBc0RhdGFVUkwiLCJmaWxlcyIsInRlbXBsYXRlIiwiY291bnRyeUNvZGUiLCJlcnIiLCJmYWN0b3J5IiwiJGZpcmViYXNlQXV0aCIsIiRxIiwiZGVmZXJyZWQiLCJkZWZlciIsInByb21pc2UiLCJwcm9kdWN0SWQiLCJzZXJ2aWNlIiwiY2FjaGUiLCJtc2ciLCJyZWplY3QiLCJoYXNoIiwib25jZSIsInNuYXBzaG90Iiwic25hcCIsIm9yZGVyQnlDaGlsZCIsInN0YXJ0QXQiLCJibG9nUmVmIiwicG9zdFJlZiIsInRoaXNQb3N0UmVmIiwiZXF1YWxUbyIsInRhZ1JlZiIsIiRmaXJlYmFzZU9iamVjdCIsInRhZ1Nob3dSZWYiLCJ5ZWFyUmVmIiwibW9udGhzIiwibW9udGhSZWYiLCJhcmNoaXZlUmVmIiwic2F2ZWREYXRhIiwic2V0SXRlbSIsInRvSnNvbiIsImZyb21Kc29uIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInZpZGVvaWQiLCJtYXRjaCIsImJhc2U2NE1pbWVUeXBlIiwiZW5jb2RlZCIsIm1pbWUiLCJnZXRCYXNlNjRJbWFnZSIsImRhdGFVUkwiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYjY0dG9CbG9iIiwiYjY0RGF0YSIsImNvbnRlbnRUeXBlIiwic2xpY2VTaXplIiwiYnl0ZUNoYXJhY3RlcnMiLCJhdG9iIiwiYnl0ZUFycmF5cyIsIm9mZnNldCIsImJ5dGVOdW1iZXJzIiwiQXJyYXkiLCJjaGFyQ29kZUF0IiwiYnl0ZUFycmF5IiwiVWludDhBcnJheSIsImJsb2IiLCJCbG9iIiwiY3VycmVudFBhZ2UiLCJjYWxjRmlyc3QiLCJzcGxpdCIsImpvaW4iLCJ0b1N0cmluZyIsInRvTG93ZXJDYXNlIiwibG9hZElNRyIsIkltYWdlIiwiYXNwZWN0UmF0aW8iLCJjYW52YXMiLCJwZXJjZW50Q2hhbmdlIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInJlc2l6ZWRSZXN1bHQiLCJ0b0RhdGFVUkwiLCJjYWxsYmFjayIsIm5ld0ltYWdlIiwiYmFzZTY0cmVzdWx0IiwiZmlsZSIsInBob3RvSWQiLCJNYXRoIiwicmFuZG9tIiwic3RvcmFnZVJlZiIsInN0b3JhZ2UiLCJ1cGxvYWRUYXNrIiwiY2hpbGQiLCJwdXQiLCJvbiIsIlRhc2tFdmVudCIsIlNUQVRFX0NIQU5HRUQiLCJwcm9ncmVzcyIsImJ5dGVzVHJhbnNmZXJyZWQiLCJ0b3RhbEJ5dGVzIiwiVGFza1N0YXRlIiwiUEFVU0VEIiwiUlVOTklORyIsImRvd25sb2FkVVJMIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxXQUFBLE9BQUEsU0FBQUMsR0FBQSxNQUFBQSxHQUFBQyxtQkFDQUMsYUFBQSxPQUFBLFNBQUFGLEdBQUEsTUFBQUEsR0FBQUcsa0JBRUFDLFNBQUFDLE9BQUEsY0FBQSxlQUFB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R0FFQSxHQUFBNkUsR0FBQTdFLEVBQUE4RSxpQkFBQTlFLEVBQUErRSxXQUFBLEdBRUEsUUFEQXJkLFFBQUFDLElBQUEsYUFBQWtkLEVBQUEsVUFDQTdFLEVBQUFyWixPQUNBLElBQUEySSxVQUFBZ1YsUUFBQVUsVUFBQUMsT0FDQXZkLFFBQUFDLElBQUEsbUJBQ0EsTUFDQSxLQUFBMkgsVUFBQWdWLFFBQUFVLFVBQUFFLFFBQ0F4ZCxRQUFBQyxJQUFBLHVCQUdBLFNBQUFyQyxHQUNBLE9BQUFBLEVBQUErVCxNQUNBLElBQUEsdUJBQ0EsS0FDQSxLQUFBLG1CQUVBLEtBQ0EsS0FBQSxxQkFJQSxXQUNBM1IsUUFBQUMsSUFBQSxrQkFDQSxJQUFBd2QsR0FBQVosRUFBQXZFLFNBQUFtRixXQUNBckIsR0FBQW5XLEVBQUFrQixFQUFBc1csRUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXV0aFdhaXQgPSBbXCJBdXRoXCIsIGZ1bmN0aW9uKEF1dGgpIHsgcmV0dXJuIEF1dGguJHdhaXRGb3JTaWduSW4oKTsgfV1cbnZhciBhdXRoUmVxdWlyZSA9IFtcIkF1dGhcIiwgZnVuY3Rpb24oQXV0aCkgeyByZXR1cm4gQXV0aC4kcmVxdWlyZVNpZ25JbigpOyB9XVxuXG5hbmd1bGFyLm1vZHVsZShcIlNpc3RlcnNBcHBcIiwgWydTaXN0ZXJzQ3RybHMnLCdTaXN0ZXJzRGlyZWN0aXZlcycsJ3VpLnJvdXRlcicsJ3VpLmJvb3RzdHJhcCcsJ2ZpcmViYXNlJywnYW5ndWxhck1vbWVudCcsJ25nQ2FydCcsJ25nU3RvcmFnZScsJ2FuZ3VsYXJQYXltZW50cycsJ25nQW5pbWF0ZScsJ3BpY2FyZHkuZm9udGF3ZXNvbWUnLCd0ZXh0QW5ndWxhcicsJ3VpLnJvdXRlci5tZXRhdGFncycsJ2FuZ3VsYXItcGFyYWxsYXgnXSlcblxuXG5cbi5ydW4oW1wiJHJvb3RTY29wZVwiLCBcIiRzdGF0ZVwiLFwiJGxvY2F0aW9uXCIsXCIkd2luZG93XCIsJ01ldGFUYWdzJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHN0YXRlLCAkbG9jYXRpb24sICR3aW5kb3csTWV0YVRhZ3MpIHtcbiAgJHJvb3RTY29wZS5NZXRhVGFncyA9IE1ldGFUYWdzO1xuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZUVycm9yXCIsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuICAgIC8vIFdlIGNhbiBjYXRjaCB0aGUgZXJyb3IgdGhyb3duIHdoZW4gdGhlICRyZXF1aXJlU2lnbkluIHByb21pc2UgaXMgcmVqZWN0ZWRcbiAgICAvLyBhbmQgcmVkaXJlY3QgdGhlIHVzZXIgYmFjayB0byB0aGUgaG9tZSBwYWdlXG4gICAgaWYgKGVycm9yID09PSBcIkFVVEhfUkVRVUlSRURcIikge1xuICAgICAgJHN0YXRlLmdvKFwibG9naW5cIik7XG4gICAgfVxuICB9KTtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCkge1xuICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICghJHdpbmRvdy5nYSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuIFxuICAgICAgICAgICAgICAgICR3aW5kb3cuZ2EoJ3NlbmQnLCAncGFnZXZpZXcnLCB7IHBhZ2U6ICRsb2NhdGlvbi5wYXRoKCkgfSk7XG5cblxuICB9KTtcblxufV0pXG5cblxuXG5cbi5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlcicsJ1VJUm91dGVyTWV0YXRhZ3NQcm92aWRlcicsJyRwcm92aWRlJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlciwgVUlSb3V0ZXJNZXRhdGFnc1Byb3ZpZGVyLCAkcHJvdmlkZSl7XG4gIFVJUm91dGVyTWV0YXRhZ3NQcm92aWRlclxuICAgICAgICAuc2V0RGVmYXVsdFRpdGxlKCdTSVNURVJTJylcbiAgICAgICAgLnNldERlZmF1bHREZXNjcmlwdGlvbignU2VhdHRsZSBkdW8uIFwiRHJpbmsgQ2hhbXBhZ25lXCIsIHRoZSBkZWJ1dCBhbGJ1bSwgY29taW5nIHNvb24hJylcbiAgICAgICAgLnNldFN0YXRpY1Byb3BlcnRpZXMoe1xuICAgICAgICAgICAgICAgICdvZzpzaXRlX25hbWUnOiAnU0lTVEVSUydcbiAgICAgICAgICAgIH0pXG4gICAgICAgIC5zZXRPR1VSTCh0cnVlKTtcblxuXG5cbiAgXG4gIFxuICBcbiAgXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuICAkc3RhdGVQcm92aWRlclxuICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgdXJsOiAnLycsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2VhdHRsZSBkdW8uIFwiRHJpbmsgQ2hhbXBhZ25lXCIsIHRoZSBkZWJ1dCBhbGJ1bSwgY29taW5nIHNvb24hJ1xuICAgICAgICAgICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ob21lLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdIb21lQ3RybCdcbiAgfSlcbiAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICB1cmw6ICcvYWJvdXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Fib3V0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdBYm91dEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdkb3dubG9hZCcsIHtcbiAgICB1cmw6ICcvZG93bmxvYWQvOmlkJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImRvd25sb2FkS2V5XCI6IGZ1bmN0aW9uKERvd25sb2FkS2V5U2VydmljZSwgJHN0YXRlUGFyYW1zKXtcbiAgICAgICAgcmV0dXJuIERvd25sb2FkS2V5U2VydmljZSgkc3RhdGVQYXJhbXMuaWQpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRW50ZXI6IGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkdGltZW91dCwgZG93bmxvYWRLZXkpIHtcbiAgICAgIGlmIChkb3dubG9hZEtleSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzIVwiKTtcbiAgICAgICAgICAgICAgICAgIC8vICRzdGF0ZS5nbygnZG93bmxvYWRDb25maXJtJyk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkIVwiKTtcbiAgICAgICAgICAgICAgICAgIC8vICRzdGF0ZS5nbygnZG93bmxvYWRGYWlsZWQnKTtcbiAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG5cbiAgLnN0YXRlKCdibG9nJywge1xuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ01hc3RlckN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBcIkJsb2dcIjogZnVuY3Rpb24oQmxvZ1Bvc3RzKXtcbiAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgIH0gICAgICBcbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdibG9nLW5ldycsIHtcbiAgICB1cmw6ICcvYmxvZy9uZXcnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvbmV3QmxvZ1Bvc3QuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ05ld0Jsb2dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhSZXF1aXJlLFxuICAgICAgXCJBbGxUYWdzXCI6IGZ1bmN0aW9uKEFsbFRhZ3NTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIEFsbFRhZ3NTZXJ2aWNlKCkuJGxvYWRlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdibG9nLWVkaXQnLCB7XG4gICAgdXJsOiAnL2Jsb2cvZWRpdC86c2x1ZycsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9lZGl0QmxvZ1Bvc3QuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0VkaXRCbG9nQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoUmVxdWlyZSxcbiAgICAgIFwiQWxsVGFnc1wiOiBmdW5jdGlvbihBbGxUYWdzU2VydmljZSl7XG4gICAgICAgIHJldHVybiBBbGxUYWdzU2VydmljZSgpLiRsb2FkZWQoKTtcbiAgICAgIH0sXG4gICAgICBcInRoaXNQb3N0XCI6IGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVGhpc1Bvc3RTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIFRoaXNQb3N0U2VydmljZSgkc3RhdGVQYXJhbXMuc2x1ZykuJGxvYWRlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdibG9nLXRhZ3MtZWRpdCcsIHtcbiAgICB1cmw6ICcvYmxvZy9lZGl0VGFncy8nLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvZWRpdFRhZ3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0VkaXRCbG9nVGFnc0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFJlcXVpcmUsXG4gICAgICBcIkFsbFRhZ3NcIjogZnVuY3Rpb24oQWxsVGFnc1NlcnZpY2Upe1xuICAgICAgICByZXR1cm4gQWxsVGFnc1NlcnZpY2UoKS4kbG9hZGVkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIC5zdGF0ZSgnYmxvZy5tYWluJywge1xuICAgIHVybDogJy9ibG9nJyxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gQmxvZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZXMsIG5ld3MsIGFuZCBjb21tZW50YXJ5IGZyb20gU2VhdHRsZSBiYW5kIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy1jb250ZW50Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdCbG9nQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdFxuICAgIH1cbiAgfSlcbiAgICAuc3RhdGUoJ2Jsb2cucGFnZScsIHtcbiAgICB1cmw6ICcvYmxvZy86cGFnZScsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUyAtIEJsb2cnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVcGRhdGVzLCBuZXdzLCBhbmQgY29tbWVudGFyeSBmcm9tIFNlYXR0bGUgYmFuZCBTSVNURVJTLidcbiAgICAgICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2Jsb2ctY29udGVudC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQgICAgIFxuICAgIH1cbiAgfSlcblxuICAgICAuc3RhdGUoJ2Jsb2cuYXJjaGl2ZScsIHtcbiAgICB1cmw6ICcvYmxvZy9hcmNoaXZlcy86eWVhci86bW9udGgnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBCbG9nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlcywgbmV3cywgYW5kIGNvbW1lbnRhcnkgZnJvbSBTZWF0dGxlIGJhbmQgU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dBcmNoaXZlQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgfSxcbiAgICAgIFwiQXJjaGl2ZVwiOiBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEFyY2hpdmVTaG93U2VydmljZSl7XG4gICAgICAgIHJldHVybiBBcmNoaXZlU2hvd1NlcnZpY2UoJHN0YXRlUGFyYW1zLnllYXIsICRzdGF0ZVBhcmFtcy5tb250aCkuJGxvYWRlZCgpO1xuICAgICAgfSAgICAgIFxuICAgIH1cbiAgfSlcblxuICAgIC5zdGF0ZSgnYmxvZy5hcmNoaXZlUGFnZScsIHtcbiAgICAgIHVybDogJy9ibG9nL2FyY2hpdmVzLzp5ZWFyLzptb250aC86cGFnZScsXG4gICAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gQmxvZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZXMsIG5ld3MsIGFuZCBjb21tZW50YXJ5IGZyb20gU2VhdHRsZSBiYW5kIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnQmxvZ0FyY2hpdmVDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgICAgXCJCbG9nXCI6IGZ1bmN0aW9uKEJsb2dQb3N0cyl7XG4gICAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJBcmNoaXZlXCI6IGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQXJjaGl2ZVNob3dTZXJ2aWNlKXtcbiAgICAgICAgICByZXR1cm4gQXJjaGl2ZVNob3dTZXJ2aWNlKCRzdGF0ZVBhcmFtcy55ZWFyLCAkc3RhdGVQYXJhbXMubW9udGgpLiRsb2FkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfSlcblxuICAgIC5zdGF0ZSgnYmxvZy50YWdzJywge1xuICAgIHVybDogJy9ibG9nL3RhZ3MvOnRhZ05hbWUnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBCbG9nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlcywgbmV3cywgYW5kIGNvbW1lbnRhcnkgZnJvbSBTZWF0dGxlIGJhbmQgU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dUYWdzQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgfSxcbiAgICAgIFwiVGFnc1Nob3dcIjogZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUYWdzU2hvd1NlcnZpY2Upe1xuICAgICAgICByZXR1cm4gVGFnc1Nob3dTZXJ2aWNlKCRzdGF0ZVBhcmFtcy50YWdOYW1lKS4kbG9hZGVkKCk7XG4gICAgICB9ICAgICAgXG4gICAgfVxuICB9KVxuXG5cblxuICAuc3RhdGUoJ2Jsb2cuc2hvdycsIHtcbiAgICB1cmw6ICcvYmxvZy9zaG93LzpzbHVnJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2Jsb2ctY29udGVudC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ1Nob3dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgXCJ0aGlzUG9zdFwiOiBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFRoaXNQb3N0U2VydmljZSl7ICAgICAgICBcbiAgICAgICAgcmV0dXJuIFRoaXNQb3N0U2VydmljZSgkc3RhdGVQYXJhbXMuc2x1ZykuJGxvYWRlZCgpO1xuICAgICAgfSxcbiAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgfSAgICAgICBcbiAgICB9LFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogZnVuY3Rpb24odGhpc1Bvc3Qpe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgQmxvZz8gXCIsdGhpc1Bvc3QpO1xuICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBcIlNJU1RFUlMgLSBcIiArIHRoaXNQb3N0WzBdLnBvc3RUaXRsZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmdW5jdGlvbih0aGlzUG9zdCl7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzUG9zdFswXS5wb3N0Qm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgfSlcbiAgXG5cblxuICAuc3RhdGUoJ3Nob3dzJywge1xuICAgIHVybDogJy9zaG93cycsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUyAtIFNob3dzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBjb21pbmcgc2hvd3MgZm9yIFNlYXR0bGUgZHVvIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3Nob3dzL3Nob3dzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTaG93c0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBnZXRTaG93czogZnVuY3Rpb24oR2V0U2hvd3Mpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImFwcCByZXNvbHZlIGVudGVyZWRcIik7XG4gICAgICAgIHJldHVybiBHZXRTaG93cygpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdzdG9yZScsIHtcbiAgICB1cmw6ICcvc3RvcmUnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBTdG9yZScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBvZmZpY2lhbCBzdG9yZSBmb3IgU2VhdHRsZSBkdW8gU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvc3RvcmUuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwiYWxsUHJvZHVjdHNcIjogZnVuY3Rpb24oUHJvZHVjdHNTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIFByb2R1Y3RzU2VydmljZS5hbGxQcm9kdWN0cygpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICAuc3RhdGUoJ3N0b3JlQ2FydCcsIHtcbiAgICB1cmw6ICcvc3RvcmUvY2FydCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvY2FydC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnU3RvcmVDYXJ0Q3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdFxuICAgIH1cbiAgfSlcblxuICAuc3RhdGUoJ3N0b3JlU2hvdycsIHtcbiAgICB1cmw6ICcvc3RvcmUvOmlkJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9zdG9yZS9zdG9yZVNob3cuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlU2hvd0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBcIm9uZVByb2R1Y3RcIjogZnVuY3Rpb24oUHJvZHVjdHNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpe1xuICAgICAgICByZXR1cm4gUHJvZHVjdHNTZXJ2aWNlLm9uZVByb2R1Y3QoJHN0YXRlUGFyYW1zLmlkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIC5zdGF0ZSgnY2hlY2tvdXQnLCB7XG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvY2hlY2tvdXRUZW1wbGF0ZS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQ2hlY2tvdXRUZW1wbGF0ZUN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgfVxuICB9KVxuICAuc3RhdGUoJ2NoZWNrb3V0LmFkZHJlc3MnLCB7XG4gICAgdXJsOiAnL3N0b3JlL2NoZWNrb3V0L2FkZHJlc3MnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NoZWNrb3V0QWRkcmVzcy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnU3RvcmVBZGRyZXNzQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdFxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdjaGVja291dC5wYXltZW50Jywge1xuICAgIHVybDogJy9zdG9yZS9jaGVja291dC9wYXltZW50JyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9zdG9yZS9jaGVja291dFBheW1lbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlUGF5bWVudEN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBjdXJyZW50T3JkZXI6IGZ1bmN0aW9uKEN1cnJlbnRPcmRlclNlcnZpY2Upe1xuICAgICAgICByZXR1cm4gQ3VycmVudE9yZGVyU2VydmljZS5nZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgIC5zdGF0ZSgnY2hlY2tvdXQuY29uZmlybScsIHtcbiAgICB1cmw6ICcvc3RvcmUvY2hlY2tvdXQvY29uZmlybScsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvY2hlY2tvdXRDb25maXJtLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTdG9yZUNvbmZpcm1DdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0XG4gICAgfVxuICB9KVxuICBcbiAgXG4gIC5zdGF0ZSgnbG9naW4nLCB7XG4gICAgdXJsOiAnL2xvZ2luJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9sb2dpbi5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTG9naW5DdHJsJ1xuICB9KVxuXG4gIFxuICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG5cbn1dKVxuXG4uZmlsdGVyKCdjdXQnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUsIGVuYWJsZSwgd29yZHdpc2UsIG1heCwgdGFpbCkge1xuICAgIHZhciBzb3VyY2UgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYvPicpLmh0bWwodmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKFwic291cmNlOiBcIixzb3VyY2UpO1xuICAgIHZhciBsZW5ndGggPSBzb3VyY2UudGV4dCgpLmxlbmd0aDtcbiAgICBjb25zb2xlLmxvZyhcImxlbmd0aDogXCIsbGVuZ3RoKTtcbiAgICAvLyBpZiAoIXBsYWluVGV4dCkgcmV0dXJuICcnO1xuICAgIC8vIGlmIChwbGFpblRleHQgJiYgIWVuYWJsZSkge1xuICAgIC8vICAgcmV0dXJuIHZhbHVlO1xuICAgIC8vIH0gZWxzZSBpZiAocGxhaW5UZXh0ICYmIGVuYWJsZSl7XG4gICAgLy8gICBtYXggPSBwYXJzZUludChtYXgsIDEwKTtcbiAgICAvLyAgIGlmICghbWF4KSB7XG4gICAgLy8gICAgIHJldHVybiB2YWx1ZTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIGlmIChwbGFpblRleHQubGVuZ3RoIDw9IG1heCl7XG4gICAgLy8gICAgIHJldHVybiB2YWx1ZTtcbiAgICAvLyAgIH0gXG4gICAgLy8gICBlbGVtZW50WzBdLmlubmVyVGV4dCA9IHBsYWluVGV4dC5zdWJzdHIoMCwgbWF4KTtcbiAgICAvLyAgIGlmICh3b3Jkd2lzZSkge1xuICAgIC8vICAgICB2YXIgbGFzdHNwYWNlID0gcGxhaW5UZXh0Lmxhc3RJbmRleE9mKCcgJyk7XG4gICAgLy8gICAgIGlmIChsYXN0c3BhY2UgIT0gLTEpIHtcbiAgICAvLyAgICAgICAvL0Fsc28gcmVtb3ZlIC4gYW5kICwgc28gaXRzIGdpdmVzIGEgY2xlYW5lciByZXN1bHQuXG4gICAgLy8gICAgICAgaWYgKHBsYWluVGV4dC5jaGFyQXQobGFzdHNwYWNlLTEpID09ICcuJyB8fCB2YWx1ZS5jaGFyQXQobGFzdHNwYWNlLTEpID09ICcsJykge1xuICAgIC8vICAgICAgICAgbGFzdHNwYWNlID0gbGFzdHNwYWNlIC0gMTtcbiAgICAvLyAgICAgICB9XG4gICAgLy8gICAgICAgZWxlbWVudFswXS5pbm5lclRleHQgPSB2YWx1ZS5zdWJzdHIoMCwgbGFzdHNwYWNlKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgICBcbiAgICAvLyAvLyAgIGNvbnNvbGUubG9nKFwidmFsdWU6IFwiLHZhbHVlKTtcbiAgICAvLyAvLyAgIHJldHVybiBlbGVtZW50WzBdLm91dGVySFRNTCArICh0YWlsIHx8ICfigKYnKTtcbiAgICAvLyB9XG4gIH07XG59KVxuXG4uZmlsdGVyKCd0cnVzdEFzUmVzb3VyY2VVcmwnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoJ2h0dHA6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJyt2YWwpO1xuICB9O1xufV0pXG5cblxuLmZpbHRlcignTW9tZW50RmlsdGVyJywgWydtb21lbnQnLCBmdW5jdGlvbihtb21lbnQpe1xuICByZXR1cm4gZnVuY3Rpb24odmFsKXtcbiAgICByZXR1cm4gIG1vbWVudCh2YWwpLmZvcm1hdCgnZGRkZCwgTU1NTSBEbywgWVlZWScpO1xuICB9XG59XSlcblxuLmZpbHRlcigndG9vT2xkJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihldmVudHMpIHtcbiAgICB2YXIgY3VycmVudERheSA9IG1vbWVudCgpLnVuaXgoKVxuICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuICAgIGFuZ3VsYXIuZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgdGhpc0V2ZW50ID0gZXZlbnQudW5peERhdGUvMTAwMDtcbiAgICAgIGlmICgoY3VycmVudERheSAtIHRoaXNFdmVudCkgPD0gODY0MDApIHtcbiAgICAgICAgZmlsdGVyZWQucHVzaChldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9O1xufSlcblxuLmZpbHRlcignRGVsaXZlcnlFc3REYXRlJywgWydtb21lbnQnLCBmdW5jdGlvbihtb21lbnQpe1xuICByZXR1cm4gZnVuY3Rpb24odmFsKXtcbiAgICByZXR1cm4gIG1vbWVudCh2YWwpLmZvcm1hdCgnZGRkZCwgTU1NTSBEbycpO1xuICB9XG59XSlcblxuLmZpbHRlcigndGltZUFnbycsIFsnbW9tZW50JywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuIG1vbWVudCh2YWwpLmZyb21Ob3coKTtcbiAgfVxufV0pXG5cblxuXG5cbi5maWx0ZXIoJ2NlbnRzVG9Eb2xsYXJzJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuICB2YWwvMTAwO1xuICB9XG59KTtcblxuXG5cblxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJywgWydTaXN0ZXJzU2VydmljZXMnXSlcblxuXG4uY29udHJvbGxlcignTWFpbkN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckdGltZW91dCcsJyRodHRwJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0LCRodHRwKSB7XG4kc2NvcGUuJG9uKCdsb2FkTWFpbkNvbnRhaW5lcicsIGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcImxvYWRlZFwiKXtcbiAgICAgICRzY29wZS5tYWluTG9hZGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLm1haW5Mb2FkZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG5cbn1dKVxuXG4uY29udHJvbGxlcignSG9tZUN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckdGltZW91dCcsJyRodHRwJywnTG9hZGVkU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCwkaHR0cCxMb2FkZWRTZXJ2aWNlKSB7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDI0NywgMjM3LCAyNDUsIDApJztcbiAgbWFpbi5zdHlsZS53aWR0aCA9ICcnO1xuICBtYWluLnN0eWxlLnBhZGRpbmcgPSBcIlwiO1xuICBcbiAgJHNjb3BlLmxvYWRlZCA9IExvYWRlZFNlcnZpY2UuZ2V0KCk7XG4gIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBpZiAoISRzY29wZS5sb2FkZWQgJiYgd2lkdGggPiA4MDYpeyBcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAgICAgJHNjb3BlLmZhZGVIb21lID0gdHJ1ZTtcbiAgICAgIExvYWRlZFNlcnZpY2Uuc2V0KHRydWUpO1xuICAgIH0sIDI1MDApO1xuICB9IGVsc2Uge1xuICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAgICAgJHNjb3BlLmZhZGVIb21lID0gdHJ1ZTtcbiAgICAgIExvYWRlZFNlcnZpY2Uuc2V0KHRydWUpO1xuICAgIH0sIDI1MDApO1xuICB9IFxuXG5cbiAgICAkc2NvcGUubWFpbGNoaW1wU3VibWl0ID0gZnVuY3Rpb24oZm9ybSwgZW1haWwsIGlzTmF2KXtcbiAgICBpZihmb3JtLiR2YWxpZCl7XG4gICAgICRzY29wZS5pc1BvcHVwID0gZmFsc2U7XG4gICAgdmFyIHVybCA9IFwiLy9zaXN0ZXJzdGhlYmFuZC51czE0Lmxpc3QtbWFuYWdlLmNvbS9zdWJzY3JpYmUvcG9zdC1qc29uP3U9YmMzODcyMGIwYmNjN2EzMjY0MWJiNTcyYyZhbXA7aWQ9MjQyZjRhZGM4OSZFTUFJTD1cIitlbWFpbCtcIiZjPUpTT05fQ0FMTEJBQ0tcIlxuICAgICRodHRwLmpzb25wKHVybCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcyl7XG4gICAgICAkc2NvcGUudXNlciA9IHt9O1xuICAgICAgICBpZihpc05hdil7XG4gICAgICAgICRzY29wZS5tYWlsQ29uZmlybSA9IHRydWU7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS5tYWlsQ29uZmlybSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtYWlsIGNvbmZpcm0gcmVzZXRcIik7XG4gICAgICAgICAgfSw3MDAwKTtcbiAgICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIGVycm9yKHJlcyl7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIH0pO1xuXG4gICAgfVxuICB9XG5cblxufV0pXG5cbi5jb250cm9sbGVyKCdBYm91dEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAxKSc7XG4gIG1haW4uc3R5bGUucGFkZGluZyA9IFwiMFwiO1xuICBtYWluLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xufSk7ICIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnQXV0aCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBBdXRoKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMCwwLDAsMCknO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkc2NvcGUuc3VibWl0dGVkID0gZmFsc2U7XG4gICRzY29wZS5sb2dnZWQgPSBmYWxzZTtcblxuXG4gIEF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICBpZiAoZmlyZWJhc2VVc2VyKSB7XG4gICAgICAkc2NvcGUubG9nZ2VkID0gdHJ1ZTtcbiAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm90IGxvZ2dlZCBpbi5cIik7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIGJpbmQgZm9ybSBkYXRhIHRvIHVzZXIgbW9kZWxcbiAgJHNjb3BlLnVzZXIgPSB7fVxuXG5cbiAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnN1Ym1pdHRlZCA9IHRydWU7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IG51bGw7XG4gICAgQXV0aC4kc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoJHNjb3BlLnVzZXIuZW1haWwsICRzY29wZS51c2VyLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkF1dGhlbnRpY2F0aW9uIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgIH0pXG4gIH07XG5cblxufV0pICIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG5cblxuLmNvbnRyb2xsZXIoJ05ld0Jsb2dDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJGh0dHAnLCdBdXRoJywnQmxvZ1Bvc3RzJywnQWxsVGFncycsJ0hlbHBlclNlcnZpY2UnLCdTdWJtaXRJbWFnZScsJ21vbWVudCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgQXV0aCwgQmxvZ1Bvc3RzLCBBbGxUYWdzLCBIZWxwZXJTZXJ2aWNlLCBTdWJtaXRJbWFnZSwgbW9tZW50KXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMCwwLDAsMCknO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkc2NvcGUuQmxvZ1Bvc3RzID0gQmxvZ1Bvc3RzKCk7XG4gICRzY29wZS50YWdzID0gQWxsVGFncztcbiAgJHNjb3BlLmNoZWNrZWRUYWdzID0ge307XG4gICRzY29wZS5kYXRhID0ge307XG5cbiAgJHNjb3BlLnJlc2V0TWVkaWEgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5kYXRhLnlvdXR1YmUgPSBcIlwiO1xuICAgICRzY29wZS5kYXRhLmltYWdlID0gXCJcIjtcbiAgfVxuXG4gICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKFwic3VibWl0IGNsaWNrZWRcIik7XG4gICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIHBvc3Q/IFwiLCRzY29wZS5wb3N0KTtcbiAgICBpZiAoJHNjb3BlLmRhdGEubWVkaWFTZWxlY3QgPT09ICdpbWFnZScpe1xuICAgICAgU3VibWl0SW1hZ2UoJHNjb3BlLnBvc3QsICRzY29wZS5CbG9nUG9zdHMsICRzY29wZS5kYXRhLmltYWdlLCBhZGRQb3N0KTtcbiAgICB9IGVsc2UgaWYgKCRzY29wZS5kYXRhLm1lZGlhU2VsZWN0ID09PSAneW91dHViZScpe1xuICAgICAgJHNjb3BlLmRhdGEueW91dHViZSA9IEhlbHBlclNlcnZpY2UucGFyc2VZb3VUdWJlKCRzY29wZS5kYXRhLnlvdXR1YmUpO1xuICAgICAgYWRkUG9zdCgkc2NvcGUucG9zdCwgJHNjb3BlLkJsb2dQb3N0cywgbnVsbCwgJHNjb3BlLmRhdGEueW91dHViZSk7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLmFkZFRhZyA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLnRhZ3MuJGFkZCh7XG4gICAgICBcIm5hbWVcIjogJHNjb3BlLmRhdGEubmV3VGFnXG4gICAgfSkudGhlbihmdW5jdGlvbihyZWYpe1xuICAgICAgJHNjb3BlLnBvc3RJZCA9IHJlZi5rZXk7XG4gICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgcG9zdCBpZD8gXCIscmVmLmtleSk7XG4gICAgICAkc2NvcGUuZGF0YS5uZXdUYWcgPSBcIlwiO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLnJlc2l6ZUltZyA9IGZ1bmN0aW9uKGltZyl7XG4gICAgdmFyIHJlc2l6ZSA9IEhlbHBlclNlcnZpY2UuaW1nUmVzaXplKGltZyk7XG4gIH1cblxuICAkc2NvcGUuZGVsZXRlVGFnID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgJHNjb3BlLnRhZ3MuJHJlbW92ZShpdGVtKS50aGVuKGZ1bmN0aW9uKHJlZikge1xuICByZWYua2V5ID09PSBpdGVtLiRpZDsgLy8gdHJ1ZVxufSk7XG4gIH1cblxuICB2YXIgYWRkUG9zdCA9IGZ1bmN0aW9uKHBvc3QsIHBvc3RBcnJheSwgaW1nLCB5b3V0dWJlKXtcbiAgICB2YXIgc2x1ZyA9IEhlbHBlclNlcnZpY2Uuc2x1Z2lmeShwb3N0LnRpdGxlKTtcbiAgICB2YXIgcG9zdERhdGUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgeWVhciA9IG1vbWVudChwb3N0RGF0ZSkuZm9ybWF0KFwiWVlZWVwiKTtcbiAgICB2YXIgbW9udGggPSBtb21lbnQocG9zdERhdGUpLmZvcm1hdChcIk1NTU1cIik7XG5cbiAgICB2YXIgbmV3VGFncyA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gJHNjb3BlLmNoZWNrZWRUYWdzKXtcbiAgICAgICAgbmV3VGFnc1twcm9wXSA9ICRzY29wZS5jaGVja2VkVGFnc1twcm9wXTtcbiAgICB9XG4gICAgdmFyIHRoaXNQb3N0ID0ge1xuICAgICAgcG9zdFRpdGxlOiBwb3N0LnRpdGxlLFxuICAgICAgc2x1Zzogc2x1ZyxcbiAgICAgIHBvc3RCb2R5OiBwb3N0LnBvc3RCb2R5LFxuICAgICAgeW91dHViZTogeW91dHViZSA/IHlvdXR1YmUgOiBudWxsLFxuICAgICAgaW1nOiBpbWcgPyBpbWcgOiBudWxsLFxuICAgICAgdGFnczogbmV3VGFncyxcbiAgICAgIHRpbWVzdGFtcDogcG9zdERhdGUgICBcbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwidGhpc1Bvc3Q6IFwiLHRoaXNQb3N0KTtcbiAgICBwb3N0QXJyYXkuJGFkZCh0aGlzUG9zdCkudGhlbihmdW5jdGlvbihyZWYpe1xuICAgICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgICB2YXIgYXJjaGl2ZVBvc3QgPSB7XG4gICAgICAgIGtleToga2V5XG4gICAgICB9XG4gICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYXJjaGl2ZXMvJyArIHllYXIgKyAnLycgKyBtb250aCArICcvJyArIGtleSkuc2V0KGFyY2hpdmVQb3N0KTtcbiAgICAgIC8vIGZvciAocHJvcCBpbiBuZXdUYWdzKXtcbiAgICAgIC8vICAgaWYgKG5ld1RhZ3NbcHJvcF0pe1xuICAgICAgLy8gICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndGFncy8nICsgcHJvcCArICcvcG9zdHMvJyArIGtleSkuc2V0KGFyY2hpdmVQb3N0KTsgXG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH1cbiAgICAgICRzdGF0ZS5nbygnYmxvZy5tYWluJyk7XG4gICAgfSk7XG4gIH1cbn1dKVxuXG4uY29udHJvbGxlcignRWRpdEJsb2dDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyR0aW1lb3V0JywgJyRzdGF0ZVBhcmFtcycsJ1NlbmREYXRhU2VydmljZScsJ0FsbFRhZ3MnLCd0aGlzUG9zdCcsJ0hlbHBlclNlcnZpY2UnLCdTdWJtaXRJbWFnZScsJyR1aWJNb2RhbCcsJyRsb2cnLCdCbG9nUG9zdHMnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsICRzdGF0ZVBhcmFtcywgU2VuZERhdGFTZXJ2aWNlLCBBbGxUYWdzLCB0aGlzUG9zdCwgSGVscGVyU2VydmljZSwgU3VibWl0SW1hZ2UsICR1aWJNb2RhbCwgJGxvZywgQmxvZ1Bvc3RzKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMCwwLDAsMCknO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkc2NvcGUuZGF0YSA9IHt9O1xuICAkc2NvcGUucG9zdEFycmF5ID0gdGhpc1Bvc3Q7XG4gICRzY29wZS5wb3N0ID0gdGhpc1Bvc3RbMF07XG4gICRzY29wZS5vcmlnaW5hbFRhZ3MgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnBvc3QudGFncyk7XG4gICRzY29wZS50YWdzID0gQWxsVGFncztcblxuICBpZiAoJHNjb3BlLnBvc3QueW91dHViZSl7XG4gICAgY29uc29sZS5sb2coJHNjb3BlLnBvc3QueW91dHViZSk7XG4gICAgdmFyIHlvdXR1YmVJZCA9ICRzY29wZS5wb3N0LnlvdXR1YmVcbiAgICAkc2NvcGUuZGF0YS55b3V0dWJlID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PVwiKyB5b3V0dWJlSWQ7XG4gIH1cblxuICBcblxuICAkc2NvcGUuY29uZmlybUJsb2dEZWxldGUgPSBmdW5jdGlvbihwb3N0KSB7XG4gICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvZGVsZXRlQmxvZ0NvbmZpcm1Nb2RhbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdEZWxldGVCbG9nQ29uZmlybUN0cmwnLFxuICAgICAgc2l6ZTogJ3NtJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgXCJQb3N0XCI6IHBvc3RcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICBjb25zb2xlLmxvZyhcInN1Ym1pdHRlZCBtb2RhbFwiKTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuICAgIH0pO1xuICB9OyBcblxuXG4gICRzY29wZS5hZGRUYWcgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS50YWdzLiRhZGQoe1xuICAgICAgXCJuYW1lXCI6ICRzY29wZS5kYXRhLm5ld1RhZ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVmKXtcbiAgICAgICRzY29wZS5wb3N0SWQgPSByZWYua2V5O1xuICAgICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIHBvc3QgaWQ/IFwiLHJlZi5rZXkpO1xuICAgICAgJHNjb3BlLmRhdGEubmV3VGFnID0gXCJcIjtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5kZWxldGVUYWcgPSBmdW5jdGlvbihpdGVtKXtcbiAgICAkc2NvcGUudGFncy4kcmVtb3ZlKGl0ZW0pLnRoZW4oZnVuY3Rpb24ocmVmKSB7XG4gIHJlZi5rZXkgPT09IGl0ZW0uJGlkOyAvLyB0cnVlXG59KTtcbiAgfVxuXG5cbiAgJHNjb3BlLnJlc2V0TWVkaWEgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5kYXRhLnlvdXR1YmUgPSBcIlwiO1xuICAgICRzY29wZS5kYXRhLmltYWdlID0gXCJcIjtcbiAgfVxuXG4gICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgIGlmICgkc2NvcGUuZGF0YS5tZWRpYVNlbGVjdCA9PT0gJ2ltYWdlJyAmJiAkc2NvcGUuZGF0YS5pbWFnZSl7XG4gICAgICBTdWJtaXRJbWFnZSgkc2NvcGUucG9zdCwgJHNjb3BlLnBvc3RBcnJheSwgJHNjb3BlLmRhdGEuaW1hZ2UsIHVwZGF0ZVBvc3QpO1xuICAgIH0gZWxzZSBpZiAoJHNjb3BlLmRhdGEubWVkaWFTZWxlY3QgPT09ICdpbWFnZScgJiYgISRzY29wZS5kYXRhLmltYWdlKXtcbiAgICAgIHVwZGF0ZVBvc3QoJHNjb3BlLnBvc3QsICRzY29wZS5CbG9nUG9zdHMsICRzY29wZS5wb3N0LmltZywgbnVsbCk7XG4gICAgfSBlbHNlIGlmICgkc2NvcGUuZGF0YS5tZWRpYVNlbGVjdCA9PT0gJ3lvdXR1YmUnKXtcbiAgICAgICRzY29wZS5kYXRhLnlvdXR1YmUgPSBIZWxwZXJTZXJ2aWNlLnBhcnNlWW91VHViZSgkc2NvcGUuZGF0YS55b3V0dWJlKTtcbiAgICAgIHVwZGF0ZVBvc3QoJHNjb3BlLnBvc3QsICRzY29wZS5CbG9nUG9zdHMsIG51bGwsICRzY29wZS5kYXRhLnlvdXR1YmUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVQb3N0ID0gZnVuY3Rpb24ocG9zdCwgcG9zdEFycmF5LCBpbWcsIHlvdXR1YmUpe1xuICAgIHZhciBzbHVnID0gSGVscGVyU2VydmljZS5zbHVnaWZ5KHBvc3QucG9zdFRpdGxlKTtcbiAgICBjb25zb2xlLmxvZyhzbHVnKTtcbiAgICB2YXIgeWVhciA9IG1vbWVudChwb3N0LnRpbWVzdGFtcCkuZm9ybWF0KFwiWVlZWVwiKTtcbiAgICB2YXIgbW9udGggPSBtb21lbnQocG9zdC50aW1lc3RhbXApLmZvcm1hdChcIk1NTU1cIik7XG4gICAgdmFyIG5ld1RhZ3MgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHBvc3QudGFncyl7XG4gICAgICBuZXdUYWdzW3Byb3BdID0gcG9zdC50YWdzW3Byb3BdO1xuICAgIH1cbiAgICBwb3N0LnNsdWcgPSBzbHVnO1xuICAgIHBvc3QudGFncyA9IG5ld1RhZ3M7XG4gICAgcG9zdC55b3V0dWJlID0geW91dHViZSA/IHlvdXR1YmUgOiBudWxsO1xuICAgIHBvc3QuaW1nID0gaW1nID8gaW1nIDogbnVsbDtcbiAgICB2YXIgdGhpc1Bvc3QgPSB7XG4gICAgICBwb3N0VGl0bGU6IHBvc3QucG9zdFRpdGxlLFxuICAgICAgc2x1Zzogc2x1ZyxcbiAgICAgIHBvc3RCb2R5OiBwb3N0LnBvc3RCb2R5LFxuICAgICAgeW91dHViZTogcG9zdC55b3V0dWJlLFxuICAgICAgaW1nOiBwb3N0LmltZyxcbiAgICAgIHRhZ3M6IG5ld1RhZ3MsXG4gICAgICB0aW1lc3RhbXA6IHBvc3QudGltZXN0YW1wICAgXG4gICAgfTtcbiAgICAkc2NvcGUucG9zdEFycmF5LiRzYXZlKHBvc3QpLnRoZW4oZnVuY3Rpb24ocmVmKSB7XG4gICAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcy8nICsgeWVhciArICcvJyArIG1vbnRoICsgJy8nICsga2V5KS5yZW1vdmUoKTtcbiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcy8nICsgeWVhciArICcvJyArIG1vbnRoICsgJy8nICsga2V5KS5zZXQodGhpc1Bvc3QpO1xuICAgICAgZm9yIChwcm9wIGluICRzY29wZS5vcmlnaW5hbFRhZ3Mpe1xuICAgICAgICBpZiAoJHNjb3BlLm9yaWdpbmFsVGFnc1twcm9wXSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgdmFyIHVybCA9ICd0YWdzLycgKyBwcm9wICsgJy9wb3N0cy8nICsga2V5O1xuICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHVybCkucmVtb3ZlKCkudGhlbihmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZlIGZhaWxlZDogXCIgKyBlcnJvci5tZXNzYWdlKVxuICAgICAgICAgIH0pOyBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhwcm9wICsgXCIgbm90IGEgdGFnIGZvciBvbGQgZWRpdCFcIilcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICBmb3IgKHByb3AgaW4gdGhpc1Bvc3QudGFncyl7XG4gICAgICAgIGlmICh0aGlzUG9zdC50YWdzW3Byb3BdID09PSB0cnVlKXtcbiAgICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndGFncy8nICsgcHJvcCArICcvcG9zdHMvJyArIGtleSkuc2V0KHRoaXNQb3N0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhwcm9wICsgXCIgbm90IGEgdGFnIGZvciBuZXcgZWRpdCFcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LDEwMClcblxuICAgICAgJHN0YXRlLmdvKCdibG9nLm1haW4nKTtcbiAgICB9KTtcbiAgfSBcbn1dKSAgXG5cblxuLmNvbnRyb2xsZXIoJ0VkaXRCbG9nVGFnc0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgdGFnLCBCbG9nKSB7XG4gICRzY29wZS5wcm9tcHRlZCA9IGZhbHNlO1xuICAkc2NvcGUudGFnID0gYW5ndWxhci5jb3B5KHRhZyk7XG4gIGNvbnNvbGUubG9nKHRhZyk7XG4gICRzY29wZS5vayA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgbmV3TmFtZSA9IHtcbiAgICAgIG5hbWU6ICRzY29wZS50YWcubmFtZVxuICAgIH07XG4gICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy90YWdzLycrJHNjb3BlLnRhZy4kaWQpLnVwZGF0ZShuZXdOYW1lKTtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH07XG5cbiAgJHNjb3BlLmRlbGV0ZVByb21wdCA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLnByb21wdGVkID0gdHJ1ZTtcbiAgfVxuXG4gICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgaWYgKHJlc3BvbnNlID09PSBcIm5vXCIpe1xuICAgICAgJHNjb3BlLnByb21wdGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZSA9PT0gXCJ5ZXNcIil7XG4gICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL3RhZ3MvJyskc2NvcGUudGFnLiRpZCkucmVtb3ZlKCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJsb2cubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgdGhpc1Bvc3RUYWdzID0gQmxvZ1tpXS50YWdzO1xuICAgICAgICBpZiAodGhpc1Bvc3RUYWdzWyRzY29wZS50YWcuJGlkXSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgdGhpc1Bvc3RUYWdzWyRzY29wZS50YWcuJGlkXSA9IG51bGw7XG4gICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy9ibG9nX3Bvc3RzLycrQmxvZ1tpXS4kaWQrXCIvdGFnc1wiKS51cGRhdGUodGhpc1Bvc3RUYWdzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgfSBcbiAgfVxuXG59KVxuXG5cbi5jb250cm9sbGVyKCdEZWxldGVCbG9nQ29uZmlybUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgUG9zdCwgbW9tZW50LCAkbG9jYXRpb24pIHtcbmNvbnNvbGUubG9nKFBvc3QpO1xuXG4kc2NvcGUueWVzID0gZnVuY3Rpb24oKXtcbiAgdmFyIHllYXIgPSBtb21lbnQoUG9zdC50aW1lc3RhbXApLmZvcm1hdChcIllZWVlcIik7XG4gIHZhciBtb250aCA9IG1vbWVudChQb3N0LnRpbWVzdGFtcCkuZm9ybWF0KFwiTU1NTVwiKTtcbiAgY29uc29sZS5sb2cobW9udGggKyBcIiBvZiBcIit5ZWFyKTtcbiAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2Jsb2dfcG9zdHMvJytQb3N0LiRpZCkucmVtb3ZlKCk7XG4gIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcy8nICsgeWVhciArICcvJyArIG1vbnRoICsgJy8nICsgUG9zdC4kaWQpLnJlbW92ZSgpO1xuICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAkbG9jYXRpb24udXJsKCcvYmxvZycpO1xufVxuXG4kc2NvcGUubm8gPSBmdW5jdGlvbigpe1xuICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG59XG4gIFxufSkiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuXG5cbi5jb250cm9sbGVyKCdCbG9nTWFzdGVyQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyRodHRwJywnJHRpbWVvdXQnLCckbG9jYXRpb24nLCckc3RhdGVQYXJhbXMnLCdBdXRoJywnQmxvZycsJ0hlbHBlclNlcnZpY2UnLCdJbnN0YWdyYW1GYWN0b3J5JywnQWxsVGFnc1NlcnZpY2UnLCdUd2l0dGVyRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCBBdXRoLCBCbG9nLCBIZWxwZXJTZXJ2aWNlLCBJbnN0YWdyYW1GYWN0b3J5LCBBbGxUYWdzU2VydmljZSwgVHdpdHRlckZhY3Rvcnkpe1xuICAkc2NvcGUubG9hZGVkSW5zdGEgPSBmYWxzZTtcbiAgJHNjb3BlLmxvYWRlZFR3aXR0ZXIgPSBmYWxzZTtcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiBcbiAgSW5zdGFncmFtRmFjdG9yeS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICRzY29wZS5waG90b3MgPSBkYXRhLmRhdGE7XG4gICAgJHNjb3BlLmxvYWRlZEluc3RhID0gdHJ1ZTtcbiAgICBpZiAoJHNjb3BlLmxvYWRlZFR3aXR0ZXIpe1xuICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XG4gICAgfVxuICB9KVxuICBUd2l0dGVyRmFjdG9yeS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgXG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgJHNjb3BlLnR3ZWV0RGF0ZSA9IGRhdGEuYWxsVHdlZXREYXRhLmNyZWF0ZWRfYXQ7XG4gICAgJHNjb3BlLnR3aXR0ZXJVc2VyID0gZGF0YS5hbGxUd2VldERhdGEudXNlci5uYW1lO1xuICAgICRzY29wZS50d2l0dGVySGFuZGxlID0gZGF0YS5hbGxUd2VldERhdGEudXNlci5zY3JlZW5fbmFtZTtcbiAgICAkc2NvcGUudHdlZXRJZCA9IGRhdGEuYWxsVHdlZXREYXRhLmlkX3N0cjtcbiAgICAkc2NvcGUudHdlZXQgPSBkYXRhLnR3ZWV0Qm9keTtcbiAgICAkc2NvcGUuZmF2b3JpdGVzID0gZGF0YS5mYXZvcml0ZXM7XG4gICAgJHNjb3BlLnJldHdlZXRzID0gZGF0YS5yZXR3ZWV0cztcbiAgICAkc2NvcGUubG9hZGVkVHdpdHRlciA9IHRydWU7XG4gICAgaWYgKCRzY29wZS5sb2FkZWRJbnN0YSl7XG4gICAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pXG4gICRzY29wZS5lbmFibGUgPSB0cnVlO1xuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcblxuICB9KTtcbn1dKVxuXG5cblxuXG4uY29udHJvbGxlcignQmxvZ0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckaHR0cCcsJyR0aW1lb3V0JywnJGxvY2F0aW9uJywnJHN0YXRlUGFyYW1zJywnQXV0aCcsJ0Jsb2cnLCdIZWxwZXJTZXJ2aWNlJywnSW5zdGFncmFtRmFjdG9yeScsJ0FsbFRhZ3NTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIEF1dGgsIEJsb2csIEhlbHBlclNlcnZpY2UsIEluc3RhZ3JhbUZhY3RvcnksIEFsbFRhZ3NTZXJ2aWNlKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG4gIG1haW4uc3R5bGUud2lkdGggPSAnJztcbiAgbWFpbi5zdHlsZS5wYWRkaW5nID0gJyc7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS5hbGxUYWdzID0gQWxsVGFnc1NlcnZpY2UoKTtcblxuICAkc2NvcGUubG9jYXRpb24gPSAkbG9jYXRpb24uJCRwYXRoO1xuICAvLyBjb25zb2xlLmxvZyhcImxvY2F0aW9uOiBcIiwkc2NvcGUubG9jYXRpb24pO1xuICBcbiAgLy8gJHNjb3BlLnBob3RvcyA9IEluc3RhZ3JhbS5kYXRhO1xuICBJbnN0YWdyYW1GYWN0b3J5LnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgLy8gY29uc29sZS5sb2coXCJ3aGF0IGlzIGRhdGE/IFwiLGRhdGEpO1xuICAgICRzY29wZS5waG90b3MgPSBkYXRhLmRhdGE7XG4gICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XG4gIH0pXG4gICRzY29wZS5lbmFibGUgPSB0cnVlO1xuICAkc2NvcGUucGFyc2VUaXRsZSA9IEhlbHBlclNlcnZpY2UudGl0bGVUb1VSTDtcblxuICAvLyAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gIC8vICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gIC8vICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcblxuICAvLyB9KTtcbiAgJHNjb3BlLmFsbFBvc3RzID0gQmxvZztcbiAgJHNjb3BlLnBhZ2UgPSAkc3RhdGVQYXJhbXMucGFnZSB8fCAwO1xuICAkc2NvcGUucGFnZVVwID0gJy9ibG9nLycgKyAocGFyc2VJbnQoJHNjb3BlLnBhZ2UpICsgMSk7XG4gICRzY29wZS5wYWdlRG93biA9ICcvYmxvZy8nICsgSGVscGVyU2VydmljZS5wYWdlRG93bigkc2NvcGUucGFnZSk7XG4gICRzY29wZS5sZW5ndGggPSBCbG9nLmxlbmd0aDtcbiAgJHNjb3BlLmZpcnN0ID0gSGVscGVyU2VydmljZS5maW5kRmlyc3QoJHNjb3BlLmxlbmd0aCwgJHNjb3BlLnBhZ2UpO1xuXG5cbiAgJHNjb3BlLmxhc3QgPSAkc2NvcGUubGVuZ3RoIC0gKDQgKiAkc2NvcGUucGFnZSk7XG4gICRzY29wZS5wb3N0cyA9IEJsb2cuc2xpY2UoJHNjb3BlLmZpcnN0LCAkc2NvcGUubGFzdCk7XG5cbiAgXG5cbiAgJHNjb3BlLmVkaXRQb3N0ID0gZnVuY3Rpb24oc2x1Zyl7IFxuICAgICRsb2NhdGlvbi51cmwoJy9ibG9nL2VkaXQvJytzbHVnKTtcbiAgfVxuXG4gIFxuXG59XSlcblxuXG4uY29udHJvbGxlcignQmxvZ0FyY2hpdmVDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHRpbWVvdXQnLCckc3RhdGVQYXJhbXMnLCckbG9jYXRpb24nLCAnQmxvZycsJ0FyY2hpdmUnLCdBdXRoJywnSGVscGVyU2VydmljZScsJ0FsbFRhZ3NTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0LCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgQmxvZywgQXJjaGl2ZSwgQXV0aCwgSGVscGVyU2VydmljZSwgQWxsVGFnc1NlcnZpY2Upe1xuICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdub3RMb2FkZWQnKTtcbiAgICRzY29wZS5sb2NhdGlvbiA9ICRsb2NhdGlvbi4kJHBhdGg7XG4gICRzY29wZS5hbGxUYWdzID0gQWxsVGFnc1NlcnZpY2UoKTtcbiAgJHNjb3BlLmVuYWJsZSA9IHRydWU7XG4gIC8vICRzY29wZS5waG90b3MgPSBJbnN0YWdyYW0uZGF0YTtcbiAgJHNjb3BlLmZ1bGxCbG9nID0gQmxvZztcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IEFyY2hpdmUubGVuZ3RoOyBpKyspe1xuICAgIHZhciBrZXkgPSBBcmNoaXZlW2ldLiRpZDtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IEJsb2cubGVuZ3RoOyBqKyspe1xuICAgICAgdmFyIGJsb2dLZXkgPSBCbG9nW2pdLiRpZDtcbiAgICAgIGlmIChrZXkgPT09IGJsb2dLZXkpe1xuICAgICAgICByZXN1bHQucHVzaChCbG9nW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gICRzY29wZS5hbGxQb3N0cyA9IHJlc3VsdDsgXG4gICRzY29wZS5wYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG5cblxuICAkc2NvcGUucGFyc2VUaXRsZSA9IEhlbHBlclNlcnZpY2UudGl0bGVUb1VSTDtcblxuXG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuXG4gIH0pO1xuICAkc2NvcGUucGFnZSA9ICRzdGF0ZVBhcmFtcy5wYWdlIHx8IDA7XG4gICRzY29wZS5wYWdlVXAgPSAnL2Jsb2cvYXJjaGl2ZXMvJyArICRzdGF0ZVBhcmFtcy55ZWFyICsgJy8nICsgJHN0YXRlUGFyYW1zLm1vbnRoICsgJy8nICsgKHBhcnNlSW50KCRzY29wZS5wYWdlKSArIDEpO1xuICAkc2NvcGUucGFnZURvd24gPSAnL2Jsb2cvYXJjaGl2ZXMvJyArICRzdGF0ZVBhcmFtcy55ZWFyICsgJy8nICsgJHN0YXRlUGFyYW1zLm1vbnRoICsgJy8nICsgSGVscGVyU2VydmljZS5wYWdlRG93bigkc2NvcGUucGFnZSk7XG4gICRzY29wZS5sZW5ndGggPSAkc2NvcGUuYWxsUG9zdHMubGVuZ3RoO1xuICAkc2NvcGUuZmlyc3QgPSBIZWxwZXJTZXJ2aWNlLmZpbmRGaXJzdCgkc2NvcGUubGVuZ3RoLCAkc2NvcGUucGFnZSk7XG5cblxuICAkc2NvcGUubGFzdCA9ICRzY29wZS5sZW5ndGggLSAoNCAqICRzY29wZS5wYWdlKTtcbiAgLy8gY29uc29sZS5sb2coXCJMYXN0OiBcIiwkc2NvcGUubGFzdCk7XG4gICRzY29wZS5wb3N0cyA9ICRzY29wZS5hbGxQb3N0cy5zbGljZSgkc2NvcGUuZmlyc3QsICRzY29wZS5sYXN0KTtcbiAgLy8gY29uc29sZS5sb2coJHNjb3BlLnBvc3RzKTtcblxuICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7ICAgIFxuICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICB9KVxuXG4gICRzY29wZS5lZGl0UG9zdCA9IGZ1bmN0aW9uKHBvc3Qpe1xuICAgIHZhciB0aXRsZVBhcnNlZCA9IEhlbHBlclNlcnZpY2UudGl0bGVUb1VSTChwb3N0LnBvc3RUaXRsZSk7XG4gICAgJGxvY2F0aW9uLnVybCgnL2Jsb2cvZWRpdC8nK3RpdGxlUGFyc2VkKTtcbiAgfVxufV0pIFxuXG5cbi5jb250cm9sbGVyKCdCbG9nVGFnc0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckc3RhdGVQYXJhbXMnLCckbG9jYXRpb24nLCAnJHRpbWVvdXQnLCdCbG9nJywnVGFnc1Nob3cnLCdBdXRoJywnSGVscGVyU2VydmljZScsJ0FsbFRhZ3NTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGxvY2F0aW9uLCAkdGltZW91dCwgQmxvZywgVGFnc1Nob3csIEF1dGgsIEhlbHBlclNlcnZpY2UsIEFsbFRhZ3NTZXJ2aWNlKXtcbiAgICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbm90TG9hZGVkJyk7XG4gICAkc2NvcGUubG9jYXRpb24gPSAkbG9jYXRpb24uJCRwYXRoO1xuICAkc2NvcGUuYWxsVGFncyA9IEFsbFRhZ3NTZXJ2aWNlKCk7XG4gICRzY29wZS5lbmFibGUgPSB0cnVlO1xuICAkc2NvcGUudGFnTmFtZSA9IFRhZ3NTaG93WzBdLm5hbWU7XG4gIHZhciB0aGlzVGFnID0gVGFnc1Nob3dbMF0uJGlkO1xuICB2YXIgc2VsZWN0UG9zdHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBCbG9nLmxlbmd0aDsgaSsrKXtcbiAgICB2YXIgdGhpc1Bvc3RUYWdzID0gQmxvZ1tpXS50YWdzO1xuICAgIGlmICh0aGlzUG9zdFRhZ3NbdGhpc1RhZ10pe1xuICAgICAgc2VsZWN0UG9zdHMucHVzaChCbG9nW2ldKTtcbiAgICB9XG4gIH07XG5cblxuXG5cblxuXG5cbiAgXG4gIC8vIHZhciBsZW5ndGggPSAwO1xuICAvLyB2YXIgaTtcbiAgLy8gZm9yIChpIGluIGFsbFBvc3RzKSB7XG4gIC8vICAgaWYgKGFsbFBvc3RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gIC8vICAgICAgIGxlbmd0aCsrO1xuICAvLyAgICAgICBzZWxlY3RQb3N0cy5wdXNoKGFsbFBvc3RzW2ldKTtcbiAgLy8gICB9XG4gIC8vIH1cbiAgLy8gJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG5cblxuXG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuXG4gIH0pO1xuICAkc2NvcGUucGFnZSA9ICRzdGF0ZVBhcmFtcy5wYWdlIHx8IDA7XG4gICRzY29wZS5wYWdlVXAgPSAnL2Jsb2cvdGFncy8nICsgJHN0YXRlUGFyYW1zLnRhZ05hbWUgICsgJy8nICsgKHBhcnNlSW50KCRzY29wZS5wYWdlKSArIDEpO1xuICAkc2NvcGUucGFnZURvd24gPSAnL2Jsb2cvdGFncy8nICsgJHN0YXRlUGFyYW1zLnRhZ05hbWUgKyAnLycgKyBIZWxwZXJTZXJ2aWNlLnBhZ2VEb3duKCRzY29wZS5wYWdlKTtcbiAgJHNjb3BlLmxlbmd0aCA9IGxlbmd0aDtcbiAgJHNjb3BlLmZpcnN0ID0gSGVscGVyU2VydmljZS5maW5kRmlyc3QoJHNjb3BlLmxlbmd0aCwgJHNjb3BlLnBhZ2UpO1xuXG4gICRzY29wZS5sYXN0ID0gJHNjb3BlLmxlbmd0aCAtICg0ICogJHNjb3BlLnBhZ2UpO1xuICBjb25zb2xlLmxvZyhcIkxhc3Q6IFwiLCRzY29wZS5sYXN0KTtcbiAgJHNjb3BlLnBvc3RzID0gc2VsZWN0UG9zdHMuc2xpY2UoJHNjb3BlLmZpcnN0LCAkc2NvcGUubGFzdCk7XG4gIGNvbnNvbGUubG9nKCRzY29wZS5wb3N0cyk7XG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAgICRzY29wZS5sb2FkZWQgPSB0cnVlOyAgIFxuICB9KVxuXG4gICRzY29wZS5lZGl0UG9zdCA9IGZ1bmN0aW9uKHBvc3Qpe1xuICAgIHZhciB0aXRsZVBhcnNlZCA9IEhlbHBlclNlcnZpY2UudGl0bGVUb1VSTChwb3N0LnBvc3RUaXRsZSk7XG4gICAgJGxvY2F0aW9uLnVybCgnL2Jsb2cvZWRpdC8nK3RpdGxlUGFyc2VkKTtcbiAgfVxufV0pIFxuXG5cbi5jb250cm9sbGVyKCdCbG9nU2hvd0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckc3RhdGVQYXJhbXMnLCckbG9jYXRpb24nLCckdGltZW91dCcsJ3RoaXNQb3N0JywnQmxvZycsJ0FsbFRhZ3NTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGxvY2F0aW9uLCAkdGltZW91dCwgdGhpc1Bvc3QsIEJsb2csIEFsbFRhZ3NTZXJ2aWNlKXtcbiAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ25vdExvYWRlZCcpO1xuICRzY29wZS5sb2NhdGlvbiA9ICRsb2NhdGlvbi4kJHBhdGg7XG4gJHNjb3BlLmFsbFRhZ3MgPSBBbGxUYWdzU2VydmljZSgpO1xuICRzY29wZS5lbmFibGUgPSBmYWxzZTtcbiAkc2NvcGUucmVjZW50UG9zdHMgPSBCbG9nO1xuIGNvbnNvbGUubG9nKCRzY29wZS5yZWNlbnRQb3N0cyk7XG4gLy8gJHNjb3BlLnBob3RvcyA9IEluc3RhZ3JhbS5kYXRhOyBcbiAkc2NvcGUucG9zdHMgPSB0aGlzUG9zdDtcbiAkc2NvcGUuYWxsUG9zdHMgPSB0aGlzUG9zdDtcblxuICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7ICBcbiAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbiAgfSlcbn1dKSAgXG5cblxuLmNvbnRyb2xsZXIoJ0Jsb2dTaWRlYmFyQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyRzdGF0ZVBhcmFtcycsJyR0aW1lb3V0JywnQXJjaGl2ZVNlcnZpY2UnLCdBbGxUYWdzU2VydmljZScsJ0Jsb2dQb3N0cycsJ0hlbHBlclNlcnZpY2UnLCckdWliTW9kYWwnLCckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywkdGltZW91dCwgQXJjaGl2ZVNlcnZpY2UsIEFsbFRhZ3NTZXJ2aWNlLCBCbG9nUG9zdHMsIEhlbHBlclNlcnZpY2UsICR1aWJNb2RhbCwgJGxvZyl7XG4gXG4gICRzY29wZS5yZWNlbnRQb3N0cyA9IEJsb2dQb3N0cygpO1xuICAkc2NvcGUucGFyc2VUaXRsZSA9IEhlbHBlclNlcnZpY2UudGl0bGVUb1VSTDtcbiAgJHNjb3BlLnllYXJzID0gQXJjaGl2ZVNlcnZpY2UueWVhcnMoKTtcbiAgJHNjb3BlLnllYXJzLiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKCl7XG4gIH0pXG5cbiAgJHNjb3BlLmFsbFRhZ3MgPSBBbGxUYWdzU2VydmljZSgpO1xuXG4gICRzY29wZS5uZXdCbG9nUG9zdCA9IGZ1bmN0aW9uKCl7XG4gICAgJHN0YXRlLmdvKFwiYmxvZy1uZXdcIik7XG4gIH1cblxuICAgICRzY29wZS5lZGl0VGFnID0gZnVuY3Rpb24odGFnKSB7XG4gICAgLy8gY29uc29sZS5sb2cod2hpY2hQYWdlKTtcbiAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvZWRpdFRhZ3NNb2RhbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdFZGl0QmxvZ1RhZ3NDdHJsJyxcbiAgICAgIHNpemU6ICdsZycsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgICB9LCAgIFxuICAgICAgICB0YWc6IHRhZ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgIGNvbnNvbGUubG9nKFwic3VibWl0dGVkIG1vZGFsXCIpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG4gICAgfSk7XG4gIH07IFxuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycpXG5cblxuLmNvbnRyb2xsZXIoJ2VkaXRNb2RhbEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgZWRpdFNob3csIGluZGV4LCAkZmlyZWJhc2VBcnJheSkge1xuICAkc2NvcGUuc2hvd3MgPSBlZGl0U2hvdztcbiAgJHNjb3BlLnNob3cgPSBlZGl0U2hvd1tpbmRleF07XG5cbiAgY29uc29sZS5sb2coXCJpbmRleCBpcyBcIixpbmRleCk7XG4gICRzY29wZS5kYXRlT2JqID0gbmV3IERhdGUoJHNjb3BlLnNob3cudW5peCAqIDEwMDApO1xuICBjb25zb2xlLmxvZygkc2NvcGUuZGF0ZU9iaik7XG5cblxuXG4gICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAkc2NvcGUuc2hvdy5kYXRlID0gbW9tZW50KCRzY29wZS5kYXRlT2JqKS5mb3JtYXQoJ2RkZCwgTU1NTSBEbycpO1xuICAgICRzY29wZS5zaG93LnVuaXggPSAkc2NvcGUuZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICRzY29wZS5zaG93cy4kc2F2ZSgkc2NvcGUuc2hvdykudGhlbihmdW5jdGlvbihyZWYpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH0pO1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH07XG5cbiAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgfTtcblxuICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuc2hvd3MuJHJlbW92ZSgkc2NvcGUuc2hvdykudGhlbihmdW5jdGlvbihyZWYpe1xuICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsIGRlbGV0ZTogXCIscmVmKTtcbiAgICB9LCBmdW5jdGlvbihlcnJvcil7XG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yOiBcIixlcnJvcilcbiAgICB9KTtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbn0pXG5cblxuLmNvbnRyb2xsZXIoJ25ld01vZGFsQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCAkZmlyZWJhc2VBcnJheSkge1xuXG4gICRzY29wZS5zaG93ID0ge307XG4gIHZhciBzaG93c1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdzaG93cycpO1xuICAkc2NvcGUuc2hvd3NBcnJheSA9ICRmaXJlYmFzZUFycmF5KHNob3dzUmVmKTtcblxuICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoaXNEYXRlID0gbW9tZW50KCRzY29wZS5zaG93LnNob3dEYXRlKS5mb3JtYXQoJ2RkLCBNTU1NIERvJyk7XG4gICAgdmFyIHRoaXNVbml4ID0gJHNjb3BlLnNob3cuc2hvd0RhdGUuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICBjb25zb2xlLmxvZyh0aGlzRGF0ZSk7XG4gICAgdmFyIG9iamVjdCA9IHtcbiAgICAgIFwiZGF0ZVwiOiB0aGlzRGF0ZSxcbiAgICAgIFwidW5peFwiOiB0aGlzVW5peCxcbiAgICAgIFwibG9jYXRpb25cIjogJHNjb3BlLnNob3cuc2hvd0xvY2F0aW9uLFxuICAgICAgXCJ2ZW51ZVwiOiAkc2NvcGUuc2hvdy52ZW51ZSxcbiAgICAgIFwidmVudWVMaW5rXCI6ICRzY29wZS5zaG93LnZlbnVlTGluayB8fCBcIlwiLFxuICAgICAgXCJ0aWNrZXRMaW5rXCI6ICRzY29wZS5zaG93LnRpY2tldExpbmsgfHwgXCJcIlxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICRzY29wZS5zaG93c0FycmF5LiRhZGQob2JqZWN0KTtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH07XG59KVxuXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycpXG5cblxuLmNvbnRyb2xsZXIoJ05hdkN0cmwnLCBbJyRzY29wZScsJyR0aW1lb3V0JywnJGxvZycsJyR1aWJNb2RhbCcsJyRodHRwJywnQXV0aCcsJyRzdGF0ZScsJyRzZXNzaW9uU3RvcmFnZScsJyRsb2NhdGlvbicsJyR3aW5kb3cnLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCRsb2csICR1aWJNb2RhbCwgJGh0dHAsIEF1dGgsICRzdGF0ZSwgJHNlc3Npb25TdG9yYWdlLCRsb2NhdGlvbiwgJHdpbmRvdyl7XG4gIC8vICRzY29wZS5zZXNzaW9uU3RvcmFnZSA9ICRzZXNzaW9uU3RvcmFnZTtcbiAgLy8gaWYgKCEkc2NvcGUuc2Vzc2lvblN0b3JhZ2UuaGFzaCl7XG4gIC8vICAgJHNjb3BlLnNlc3Npb25TdG9yYWdlLmhhc2ggPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcbiAgLy8gfSBlbHNlIHtcbiAgLy8gICBjb25zb2xlLmxvZyhcImFscmVhZHkgYSBzZXNzaW9uIGhhc2hcIik7XG4gIC8vIH1cbiAgLy8gY29uc29sZS5sb2coXCJXaGF0IGlzIHNlc3Npb24gc3RvcmFnZT8gXCIsJHNjb3BlLnNlc3Npb25TdG9yYWdlKTtcbiAgJHNjb3BlLmF1dGggPSBBdXRoO1xuICAkc2NvcGUuYXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBmaXJlYmFzZVVzZXI7XG4gIH0pO1xuXG5cblxuICAkc2NvcGUudXNlciA9IHt9O1xuICAkc2NvcGUubWFpbENvbmZpcm0gPSBmYWxzZTtcbiAgdmFyIHcgPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcbiAgdmFyIGggPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcbiAgJHNjb3BlLmhlaWdodCA9IGg7XG5cbiAgdmFyIG1vYmlsZUJHID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGUtYmFja2dyb3VuZC1kaXZcIik7XG4gIGlmICh3IDwgOTAwKXtcbiAgbW9iaWxlQkcuc3R5bGUuaGVpZ2h0ID0gaCArIFwicHhcIjtcbiAgfSBlbHNlIHtcbiAgbW9iaWxlQkcuc3R5bGUuaGVpZ2h0ID0gMCArIFwicHhcIjsgXG4gIH1cbiAgLy8gY29uc29sZS5sb2coXCJpbm5lciB3aWR0aDogXCIsd2lkdGgpO1xuICBpZiAoISRzY29wZS5sb2FkZWQgJiYgdyA+IDgwNil7IFxuICAgICRzY29wZS5tb2JpbGVXaWR0aCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgICAkc2NvcGUubW9iaWxlV2lkdGggPSB0cnVlO1xuICB9IFxuXG5cblxuXG4gIFxuXG4gICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgLy8gT1ZFUkxBWSBDUkVBVElPTlxuICAgXG4gICAgICBpZiAodyA+PSA2Nzgpe1xuICAgICAgaWYgKCRzY29wZS5maXJlYmFzZVVzZXIgPT09IG51bGwgJiYgJGxvY2F0aW9uLiQkcGF0aCAhPT0gXCIvbG9naW5cIil7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZW50ZXJpbmcgcG9wdXBcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3ZlcmxheU1haWxcIikpe1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGRpdi5pZCA9IFwib3ZlcmxheU1haWxcIjtcbiAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJvdmVybGF5LXN0YXJ0XCI7XG4gICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgIHZhciBwb3BVcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wLXVwXCIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGJvZHkuc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYm9keS5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgcG9wVXAuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheU1haWxcIik7XG4gICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZhciBzY3JvbGxUb3AgPSAkd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAvLyB2YXIgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheS1jb250ZW50XCIpO1xuICAgICAgICAvLyBjb250ZW50LnN0eWxlLnRvcCA9IHNjcm9sbFRvcCArIFwicHhcIjtcbiAgICAgICAgJHNjb3BlLmlzUG9wdXAgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sNjAwMClcbiAgICBcblxuICAkc2NvcGUuY2xvc2VQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLmlzUG9wdXAgPSBmYWxzZTtcbiAgfVxuICAgIFxuICAgXG4gIFxuICAkc2NvcGUudG9TdG9yZSA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLmlzUG9wdXAgPSBmYWxzZTtcbiAgICAkc3RhdGUuZ28oXCJzdG9yZVwiKTtcbiAgfVxuXG5cblxuXG4gICRzY29wZS50b2dnbGUgPSB0cnVlO1xuICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxuICBpZiAod2lkdGggPiA4MDYpe1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICRzY29wZS5mYWRlID0gdHJ1ZTtcbiAgICB9LCAxMDApO1xuICB9IGVsc2Uge1xuICAgICRzY29wZS5mYWRlID0gdHJ1ZTtcbiAgfVxufV0pXG5cbi5jb250cm9sbGVyKCdGb290ZXJDdHJsJywgWyckc2NvcGUnLCckdGltZW91dCcsJyRsb2cnLCckdWliTW9kYWwnLCckaHR0cCcsJ0F1dGgnLCckc3RhdGUnLCckc2Vzc2lvblN0b3JhZ2UnLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCRsb2csICR1aWJNb2RhbCwgJGh0dHAsIEF1dGgsICRzdGF0ZSwgJHNlc3Npb25TdG9yYWdlKXtcbiAgJHNjb3BlLmF1dGggPSBBdXRoO1xuICAkc2NvcGUuYXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBmaXJlYmFzZVVzZXI7XG4gIH0pO1xuICBcbiAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY29uc29sZS5sb2coXCJjbGlja2VkIGxvZyBvdXRcIik7XG4gICAgQXV0aC4kc2lnbk91dCgpO1xuICB9O1xuXG4gICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY29uc29sZS5sb2coXCJjbGlja2VkIGxvZyBpblwiKTtcbiAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7ICBcbiAgfVxuXG5cblxuXG4gIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBpZiAod2lkdGggPiA4MDYpe1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICRzY29wZS5mYWRlID0gdHJ1ZTtcbiAgICB9LCAxMDApO1xuICB9IGVsc2Uge1xuICAgICRzY29wZS5mYWRlID0gdHJ1ZTtcbiAgfVxufV0pXG5cblxuXG5cblxuLmNvbnRyb2xsZXIoJ01haWxNb2RhbEN0cmwnLCBbJyRzY29wZScsJyR0aW1lb3V0JywnJHVpYk1vZGFsJywnJHVpYk1vZGFsSW5zdGFuY2UnLCckaHR0cCcsJ0F1dGgnLCckc3RhdGUnLCckc2Vzc2lvblN0b3JhZ2UnLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCR1aWJNb2RhbCwkdWliTW9kYWxJbnN0YW5jZSwgJGh0dHAsIEF1dGgsICRzdGF0ZSwgJHNlc3Npb25TdG9yYWdlKXtcbiAgJHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKXtcbiAgICAvLyBjb25zb2xlLmxvZygkdWliTW9kYWxJbnN0YW5jZSlcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgfVxuXG5cbn1dKSIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG4uY29udHJvbGxlcignU2hvd3NDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnY3VycmVudEF1dGgnLCckdWliTW9kYWwnLCckbG9nJywnJGZpcmViYXNlQXJyYXknLCdtb21lbnQnLCdBdXRoJywnZ2V0U2hvd3MnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgY3VycmVudEF1dGgsICR1aWJNb2RhbCwkbG9nLCAkZmlyZWJhc2VBcnJheSwgbW9tZW50LCBBdXRoLCBnZXRTaG93cyl7XG52YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcbiAgbWFpbi5zdHlsZS53aWR0aCA9ICcnO1xuICBtYWluLnN0eWxlLnBhZGRpbmcgPSAnJztcbiRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS5zaG93cyA9IGdldFNob3dzO1xuXG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiZmlyZWJhc2UgdXNlciBpcyBcIiwkc2NvcGUuZmlyZWJhc2VVc2VyKTtcbiAgfSk7XG5cblxuICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uKHdoaWNoUGFnZSwgaW5kZXgpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh3aGljaFBhZ2UpO1xuICAgIC8vIGNvbnNvbGUubG9nKGluZGV4KTtcbiAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc2hvd3MvJyt3aGljaFBhZ2UrJ1Nob3dNb2RhbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6IHdoaWNoUGFnZSsnTW9kYWxDdHJsJyxcbiAgICAgIHNpemU6ICdsZycsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIGVkaXRTaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5zaG93cztcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuICAgIH0pO1xuICB9OyBcblxufV0pICIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG5cbi5jb250cm9sbGVyKCdTdG9yZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSwgYWxsUHJvZHVjdHMsIFByb2R1Y3RzU2VydmljZSl7XG4gICAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gICAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcbiAgICBtYWluLnN0eWxlLndpZHRoID0gJyc7XG4gICAgbWFpbi5zdHlsZS5wYWRkaW5nID0gJyc7XG4gICAgJHNjb3BlLmxvYWRlZCA9IGZhbHNlO1xuICAgICRzY29wZS5wcm9kdWN0cyA9IGFsbFByb2R1Y3RzO1xuXG5cbiAgICBcbiAgICAkc2NvcGUuc2hvd1Byb2R1Y3QgPSBmdW5jdGlvbihpZCl7XG4gICAgICAkc3RhdGUuZ28oJ3N0b3JlU2hvdycsIHtpZDppZH0pO1xuICAgIH1cblxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyBcbiAgICB9KVxuIFxufSlcblxuLmNvbnRyb2xsZXIoJ1N0b3JlQ2FydEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuXG4gICRzY29wZS50b0NoZWNrb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUvY2hlY2tvdXQvYWRkcmVzcycpO1xuICB9XG5cbiAgJHNjb3BlLmNvbnRpbnVlID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUnKTtcbiAgfVxufSlcblxuXG5cbi5jb250cm9sbGVyKCdTdG9yZVNob3dDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSwgb25lUHJvZHVjdCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuJHNjb3BlLnByb2R1Y3QgPSBvbmVQcm9kdWN0O1xuJHNjb3BlLmltYWdlcyA9IG9uZVByb2R1Y3QuaW1hZ2VzO1xudmFyIGN1cnJlbnRBY3RpdmVTcmMgPSAkc2NvcGUuaW1hZ2VzWzBdO1xuXG4kc2NvcGUuc2t1cyA9ICRzY29wZS5wcm9kdWN0LnNrdXMuZGF0YTtcblxuJHNjb3BlLmRhdGEgPSB7fTtcbiRzY29wZS5kYXRhLnNlbGVjdGVkID0gJHNjb3BlLnByb2R1Y3Quc2t1cy5kYXRhWzBdO1xuXG5cbnZhciBtYWluSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2R1Y3QtcGhvdG8gaW1nXCIpO1xubWFpbkltZy5zcmMgPSAkc2NvcGUuaW1hZ2VzWzBdO1xuXG5cbiRzY29wZS5pc0FjdGl2ZUltZyA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLmltZyA9PT0gY3VycmVudEFjdGl2ZVNyYyl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuXG4kc2NvcGUuY2hhbmdlQWN0aXZlID0gZnVuY3Rpb24oKXtcbiAgY3VycmVudEFjdGl2ZVNyYyA9IHRoaXMuaW1nO1xuICBtYWluSW1nLnNyYyA9IHRoaXMuaW1nO1xufVxuXG5cblxuXG5cblxuXG59KVxuXG5cblxuXG5cblxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0VGVtcGxhdGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkbG9jYWxTdG9yYWdlKXtcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgJHNjb3BlLiRzdG9yYWdlID0gJGxvY2FsU3RvcmFnZTtcblxuICAkc2NvcGUuJG9uKCdjYXJ0Q2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHsgXG4gICAgJHNjb3BlLnNob3dQYXRoID0gZGF0YTsgXG4gIH0pO1xuICBpZiAoISRzY29wZS5zaG93UGF0aCl7XG4gICAgJHNjb3BlLnNob3dQYXRoID0gJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudDtcbiAgfVxuXG5cbn0pXG5cblxuXG5cblxuXG4uY29udHJvbGxlcignU3RvcmVBZGRyZXNzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkd2luZG93LCAkdGltZW91dCwgJGh0dHAsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlLCBDdXJyZW50T3JkZXJTZXJ2aWNlKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjQ3LCAyMzcsIDI0NSwgMCknO1xuXG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICRzY29wZS5jYXJ0SXRlbXMgPSBuZ0NhcnQuZ2V0SXRlbXMoKTtcbiAgJHJvb3RTY29wZS5wYXRoID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgaWYgKCEkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50IHx8ICRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQgPCAxKXtcbiAgICAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50ID0gMDtcbiAgICAkc2NvcGUuJGVtaXQoJ2NhcnRDaGFuZ2UnLCAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgXG4gIH0gXG4gIFxuICAkc2NvcGUubG9hZGVkID0gW107XG5cblxuICAkc2NvcGUuZGF0YSA9IHtcbiAgICBcInNoaXBwaW5nXCI6IHtcbiAgICAgIFwiY291bnRyeVwiOiB7fVxuICAgIH0sXG4gICAgXCJiaWxsaW5nXCI6IHtcbiAgICAgIFwiY291bnRyeVwiOiB7fVxuICAgIH1cbiAgfTtcbiAgJHNjb3BlLm1haWxpbmdMaXN0QWRkID0gdHJ1ZTtcbiAgJHNjb3BlLnNoaXBwaW5nU2FtZUJvb2wgPSBmYWxzZTtcblxuXG4gIC8vIFJFUVVFU1RTIEZPUiBKU09OIERBVEEgRk9SIE5HLU9QVElPTlNcblxuICAkaHR0cC5nZXQoJy9qcy9KU09OL2NvdW50cmllcy5qc29uJykuc3VjY2VzcyAoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICRzY29wZS5jb3VudHJpZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGF0YS5zaGlwcGluZy5jb3VudHJ5ID0gJHNjb3BlLmNvdW50cmllc1swXTtcbiAgICAgICAgJHNjb3BlLmRhdGEuYmlsbGluZy5jb3VudHJ5ID0gJHNjb3BlLmNvdW50cmllc1swXTtcbiAgICAgICAgJHNjb3BlLmxvYWRlZC5wdXNoKFwiZ29cIik7XG4gIH0pO1xuXG4gICRodHRwLmdldCgnL2pzL0pTT04vc3RhdGVzLmpzb24nKS5zdWNjZXNzIChmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgJHNjb3BlLnN0YXRlcyA9IGRhdGE7XG4gICAgICAgICRzY29wZS5sb2FkZWQucHVzaChcImdvXCIpO1xuICB9KTtcblxuICAkaHR0cC5nZXQoJy9qcy9KU09OL3Byb3ZpbmNlcy5qc29uJykuc3VjY2VzcyAoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICRzY29wZS5wcm92aW5jZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUubG9hZGVkLnB1c2goXCJnb1wiKTtcbiAgfSk7XG5cblxuXG4gICRzY29wZS5pc1NoaXBwaW5nU2FtZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCRzY29wZS5kYXRhLnNoaXBwaW5nU2FtZSl7XG4gICAgICAkc2NvcGUuZGF0YS5iaWxsaW5nID0gJHNjb3BlLmRhdGEuc2hpcHBpbmc7XG4gICAgICAkc2NvcGUuc2hpcHBpbmdTYW1lQm9vbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5kYXRhLmJpbGxpbmcgPSB7fTtcbiAgICAgICRzY29wZS5zaGlwcGluZ1NhbWVCb29sID0gZmFsc2U7XG4gICAgfVxuICB9XG5cblxuICAkc2NvcGUuY291bnRyeUNoYW5nZSA9IGZ1bmN0aW9uKGNvdW50cnkpe1xuICAgIGlmIChjb3VudHJ5LmNvZGUgPT09ICdVUycpe1xuICAgICAgJHNjb3BlLnNoaXBwaW5nVHlwZSA9ICRzY29wZS5zaGlwUmF0ZXMuZG9tZXN0aWM7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5zaGlwcGluZ1R5cGUgPSAkc2NvcGUuc2hpcFJhdGVzLmludGVybmF0aW9uYWw7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtKXtcbiAgICAgaWYoZm9ybS4kdmFsaWQpe1xuICAgICAgXG4gICAgJHNjb3BlLmxvYWRlZCA9IFtdO1xuICAgIHZhciBzaGlwID0gJHNjb3BlLmRhdGEuc2hpcHBpbmc7XG4gICAgdmFyIGJpbGwgPSAkc2NvcGUuZGF0YS5iaWxsaW5nOyBcbiAgICAkc2NvcGUuY29weUl0ZW1zID0gYW5ndWxhci5jb3B5KCRzY29wZS5jYXJ0SXRlbXMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNvcHlJdGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgICBkZWxldGUgJHNjb3BlLmNvcHlJdGVtc1tpXS5fZGF0YTtcbiAgICAgIGRlbGV0ZSAkc2NvcGUuY29weUl0ZW1zW2ldLmF0dHI7XG4gICAgfVxuICAgICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcyA9ICRzY29wZS5kYXRhLmJpbGxpbmc7XG4gICAgdmFyIHJlcSA9IHtcbiAgICAgIHVybDogJy9zdHJpcGUvY3JlYXRlT3JkZXInLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgICAgaXRlbXM6ICRzY29wZS5jb3B5SXRlbXMsXG4gICAgICAgICAgc2hpcHBpbmc6IHtcbiAgICAgICAgICAgIG5hbWU6IHNoaXAubmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgbGluZTE6IHNoaXAuYWRkcmVzczEsXG4gICAgICAgICAgICAgIGxpbmUyOiBzaGlwLmFkZHJlc3MyIHx8IG51bGwsXG4gICAgICAgICAgICAgIGNpdHk6IHNoaXAuY2l0eSxcbiAgICAgICAgICAgICAgc3RhdGU6IHNoaXAuc3RhdGVQcm92aW5jZS5zaG9ydCB8fCBudWxsLFxuICAgICAgICAgICAgICBjb3VudHJ5OiBzaGlwLmNvdW50cnkuY29kZSxcbiAgICAgICAgICAgICAgcG9zdGFsX2NvZGU6IHNoaXAucG9zdGFsQ29kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZW1haWw6IHNoaXAuZW1haWwsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHRheFJhdGU6IG5nQ2FydC5nZXRUYXhSYXRlKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IFxuICAgICRodHRwKHJlcSkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcykge1xuXG4gICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gJ2NyZWF0ZWQnKXtcbiAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5tYWlsaW5nTGlzdCA9ICRzY29wZS5tYWlsaW5nTGlzdEFkZDtcbiAgICAgICAgICAgIGlmICghJHNjb3BlLiRzdG9yYWdlLmFkZHJlc3NTdWJtaXQpe1xuICAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQrKztcbiAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2NhcnRDaGFuZ2UnLCAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLmFkZHJlc3NTdWJtaXQgPSB0cnVlOyAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLm9yZGVyRGF0YSA9IHJlcztcbiAgICAgICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9zdG9yZS9jaGVja291dC9wYXltZW50Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgIFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUubG9hZGVkID0gWzEsIDIsIDNdO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xuICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhLm1lc3NhZ2U7XG4gICAgICAgICAgfSBcbiAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciBcIixyZXMpOyAgICAgICAgICAgICBcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJmb3JtIGludmFsaWQhIVwiKTtcbiAgICAgIH1cblxuICB9XG5cblxuICAgICRzY29wZS5nZXRUYXhSYXRlID0gZnVuY3Rpb24oY291bnRyeSwgc3RhdGVQcm92aW5jZSwgcG9zdGFsQ29kZSl7XG4gICAgaWYgKGNvdW50cnkuY29kZSA9PT0gJ1VTJyAmJiBzdGF0ZVByb3ZpbmNlLnNob3J0ID09PSAnV0EnICYmIHBvc3RhbENvZGUpe1xuICAgICAgaWYgKCR3aW5kb3cubG9jYWxTdG9yYWdlLmN1cnJlbnRXYVJhdGUpe1xuICAgICAgICB2YXIgcGFyc2VkVGF4ID0gcGFyc2VGbG9hdCgkd2luZG93LmxvY2FsU3RvcmFnZS5jdXJyZW50V2FSYXRlKVxuICAgICAgICBuZ0NhcnQuc2V0VGF4UmF0ZShwYXJzZWRUYXgpOyAgICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXEgPSB7XG4gICAgICAgICAgdXJsOiAnL3RheFJhdGUnLFxuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBjb3VudHJ5OiAndXNhJyxcbiAgICAgICAgICAgIHBvc3RhbDogcG9zdGFsQ29kZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBcblxuICAgICAgICAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHtcbiAgICAgICAgICBuZ0NhcnQuc2V0VGF4UmF0ZShyZXMuZGF0YS50b3RhbFJhdGUpOyBcbiAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5jdXJyZW50V2FSYXRlID0gcmVzLmRhdGEudG90YWxSYXRlOyAgIFxuICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIFwiLHJlcyk7ICAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvdW50cnkuY29kZSA9PT0gJ1VTJyAmJiBzdGF0ZVByb3ZpbmNlLnNob3J0ICE9PSAnV0EnKXtcbiAgICAgIG5nQ2FydC5zZXRUYXhSYXRlKDApO1xuICAgIH0gZWxzZSBpZiAoY291bnRyeS5jb2RlICE9PSAnVVMnKXtcbiAgICAgIG5nQ2FydC5zZXRUYXhSYXRlKDApO1xuICAgIH1cbiAgfVxuXG5cblxuXG5cbn0pXG5cblxuXG4uY29udHJvbGxlcignU3RvcmVQYXltZW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlLCBjdXJyZW50T3JkZXIpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyNDcsIDIzNywgMjQ1LCAwKSc7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRyb290U2NvcGUucGF0aCA9ICRsb2NhdGlvbi4kJHBhdGg7XG4gICRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICRzY29wZS5wYXRoQ291bnQgPSBwYXJzZUludCgkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgXG4gICRzY29wZS5zaGlwT3B0aW9ucyA9ICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEuZGF0YS5zaGlwcGluZ19tZXRob2RzO1xuICAkc2NvcGUuc2F2ZWRTZWxlY3RlZFNoaXAgPSAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGEuc2VsZWN0ZWRfc2hpcHBpbmdfbWV0aG9kO1xuXG4gIFxuXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zaGlwT3B0aW9ucy5sZW5ndGg7IGkrKyl7XG4gICAgaWYgKCRzY29wZS5zaGlwT3B0aW9uc1tpXS5pZCA9PT0gJHNjb3BlLnNhdmVkU2VsZWN0ZWRTaGlwKXtcbiAgICAgICRzY29wZS5zZWxlY3RlZFNoaXAgPSAkc2NvcGUuc2hpcE9wdGlvbnNbaV07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgXG4gICAkc2NvcGUuJHdhdGNoKCdzZWxlY3RlZFNoaXAnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xuICAgIG5nQ2FydC5zZXRTaGlwcGluZygkc2NvcGUuc2VsZWN0ZWRTaGlwLmFtb3VudCk7ICBcbiAgfSwgZmFsc2UpO1xuXG4gICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAkc2NvcGUubG9hZGVkID0gdHJ1ZTsgXG4gIH0pXG5cbiAgXG4gIFxuICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKGZvcm0pe1xuICAgIC8vIGlmKGZvcm0uJHZhbGlkKXtcbiAgICAgICRzY29wZS5sb2FkZWQgPSBmYWxzZTsgXG4gICAgICBTdHJpcGUuY2FyZC5jcmVhdGVUb2tlbih7XG4gICAgICAgIG51bWJlcjogJHNjb3BlLm51bWJlcixcbiAgICAgICAgY3ZjOiAkc2NvcGUuY3ZjLFxuICAgICAgICBleHA6ICRzY29wZS5leHBpcnksXG4gICAgICAgIG5hbWU6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5uYW1lLFxuICAgICAgICBhZGRyZXNzX2xpbmUxOiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3MuYWRkcmVzczEsXG4gICAgICAgIGFkZHJlc3NfbGluZTI6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5hZGRyZXNzMiB8fCBudWxsLFxuICAgICAgICBhZGRyZXNzX2NpdHk6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICBhZGRyZXNzX3N0YXRlOiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3Muc3RhdGVQcm92aW5jZS5zaG9ydCB8fCBudWxsLFxuICAgICAgICBhZGRyZXNzX3ppcDogJHNjb3BlLiRzdG9yYWdlLmJpbGxpbmdBZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgIGFkZHJlc3NfY291bnRyeTogJHNjb3BlLiRzdG9yYWdlLmJpbGxpbmdBZGRyZXNzLmNvdW50cnkuY29kZVxuICAgICAgfSwgaGFuZGxlU3RyaXBlKTtcbiAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJmb3JtIGludmFsaWQhIVwiKTtcbiAgICAvLyB9XG4gIH1cblxuICB2YXIgaGFuZGxlU3RyaXBlID0gZnVuY3Rpb24oc3RhdHVzLCByZXNwb25zZSl7XG4gICAgaWYocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAvLyB0aGVyZSB3YXMgYW4gZXJyb3IuIEZpeCBpdC5cbiAgfSBlbHNlIHtcbiAgICB0b2tlbiA9IHJlc3BvbnNlO1xuICAgIFxuXG4gICAgdmFyIHJlcSA9IHtcbiAgICAgIHVybDogJy9zdHJpcGUvdXBkYXRlU2hpcHBpbmcnLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICBvcmRlcklkOiAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGEuaWQsXG4gICAgICAgIHNlbGVjdGVkU2hpcDogJHNjb3BlLnNlbGVjdGVkU2hpcC5pZFxuICAgICAgfVxuICAgIH1cblxuICAgICRodHRwKHJlcSkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcykge1xuICAgICAgICAgICBpZiAoISRzY29wZS4kc3RvcmFnZS5wYXltZW50U3VibWl0KXtcbiAgICAgICAgICAgICAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50Kys7XG4gICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdjYXJ0Q2hhbmdlJywgJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudCk7ICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5wYXltZW50U3VibWl0ID0gdHJ1ZTsgIFxuICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEgPSByZXM7XG4gICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLnRva2VuRGF0YSA9IHRva2VuO1xuICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9zdG9yZS9jaGVja291dC9jb25maXJtJyk7ICAgXG4gICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKHJlcykge1xuICAgICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlOyBcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIFwiLHJlcyk7ICAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgfVxuICB9XG5cblxufSlcblxuXG4uY29udHJvbGxlcignU3RvcmVDb25maXJtQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlKXtcbnZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDI0NywgMjM3LCAyNDUsIDApJztcbiRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4kc2NvcGUuJHN0b3JhZ2UgPSAkbG9jYWxTdG9yYWdlO1xuJHNjb3BlLnBhdGhDb3VudCA9IHBhcnNlSW50KCRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQpOyBcbiRzY29wZS5vcmRlckNvbXBsZXRlID0gZmFsc2U7XG4kcm9vdFNjb3BlLnBhdGggPSAkbG9jYXRpb24uJCRwYXRoO1xuJHNjb3BlLm5nQ2FydCA9IG5nQ2FydDtcbiRzY29wZS50b2tlbiA9ICRzY29wZS4kc3RvcmFnZS50b2tlbkRhdGE7XG4kc2NvcGUub3JkZXIgPSAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGE7XG52YXIgaXRlbXMgPSAkc2NvcGUub3JkZXIuaXRlbXM7XG5mb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKXtcbiAgaWYgKGl0ZW1zW2ldLnR5cGUgPT09ICdzaGlwcGluZycpe1xuICAgICRzY29wZS5zaGlwU2VydmljZSA9IGl0ZW1zW2ldLmRlc2NyaXB0aW9uO1xuICB9XG59XG4kdGltZW91dChmdW5jdGlvbigpe1xuICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbn0pXG4gIFxuXG5cbiRzY29wZS5jcmVhdGVDaGFyZ2UgPSBmdW5jdGlvbigpe1xuICAkc2NvcGUubG9hZGVkID0gZmFsc2U7IFxuICB2YXIgcmVxID0ge1xuICAgICAgICB1cmw6ICcvc3RyaXBlL29yZGVyQ29tcGxldGUnLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgb3JkZXJJZDogJHNjb3BlLm9yZGVyLmlkLFxuICAgICAgICAgIHRva2VuOiAkc2NvcGUudG9rZW4uaWRcbiAgICAgICAgfVxuICAgICAgfSBcblxuICAgICAgJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7XG4gICAgICAgICRzY29wZS5vcmRlckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCRzY29wZS4kc3RvcmFnZS5tYWlsaW5nTGlzdCl7XG4gICAgICAgICAgbWFpbGNoaW1wU3VibWl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbmdDYXJ0LnNldFRheFJhdGUoKTtcbiAgICAgICAgbmdDYXJ0LnNldFNoaXBwaW5nKCk7ICAgXG4gICAgICAgIG5nQ2FydC5lbXB0eSgpO1xuICAgICAgICAkbG9jYWxTdG9yYWdlLiRyZXNldCgpO1xuICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlOyBcbiAgICAvL2RvIHNvbWV0aGluZyBpZiB0aGUgcmVzcG9uc2UgaGFzIGFuIGVycm9yXG4gICAgY29uc29sZS5sb2coXCJlcnJvciBcIixyZXMpO1xuICB9KTtcbn1cblxuXG5cblxuXG52YXIgbWFpbGNoaW1wU3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdXJsID0gXCIvL3Npc3RlcnN0aGViYW5kLnVzMTQubGlzdC1tYW5hZ2UuY29tL3N1YnNjcmliZS9wb3N0LWpzb24/dT1iYzM4NzIwYjBiY2M3YTMyNjQxYmI1NzJjJmFtcDtpZD0yNDJmNGFkYzg5JkVNQUlMPVwiKyRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEuZGF0YS5lbWFpbCtcIiZjPUpTT05fQ0FMTEJBQ0tcIlxuICAgICRodHRwLmpzb25wKHVybCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcyl7XG4gICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKXtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfSk7XG59XG5cblxuXG5cblxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNEaXJlY3RpdmVzJywgW10pXG5cblxuXG5cbi5kaXJlY3RpdmUoXCJmaWxlcmVhZFwiLCBbZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBmaWxlcmVhZDogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChsb2FkRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmZpbGVyZWFkID0gbG9hZEV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XSlcblxuXG5cbi5kaXJlY3RpdmUoXCJjb3VudHJ5TmFtZVwiLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZTogXCI8c3Bhbj57e25hbWV9fTwvc3Bhbj5cIixcbiAgICBzY29wZToge1xuICAgICAgY291bnRyeUNvZGU6IFwiPVwiXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSkge1xuICAgICAgJGh0dHAuZ2V0KCcvanMvSlNPTi9jb3VudHJpZXMuanNvbicpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgY291bnRyaWVzID0gZGF0YS5kYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50cmllcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZiAoY291bnRyaWVzW2ldLmNvZGUgPT09IHNjb3BlLmNvdW50cnlDb2RlKXtcbiAgICAgICAgICAgICAgICBzY29wZS5uYW1lID0gY291bnRyaWVzW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBzY29wZS5uYW1lID0gXCJ1bmtub3duXCI7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1dKTtcblxuXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNTZXJ2aWNlcycsIFsnbmdSZXNvdXJjZSddKVxuXG5cbi5mYWN0b3J5KCdMb2FkZWRTZXJ2aWNlJywgZnVuY3Rpb24oKSB7XG4gdmFyIGxvYWRlZCA9IGZhbHNlO1xuIGZ1bmN0aW9uIHNldChkYXRhKSB7XG4gICBsb2FkZWQgPSBkYXRhO1xuIH1cbiBmdW5jdGlvbiBnZXQoKSB7XG4gIHJldHVybiBsb2FkZWQ7XG4gfVxuXG4gcmV0dXJuIHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0XG4gfVxuXG59KVxuXG4uZmFjdG9yeShcIkF1dGhcIiwgW1wiJGZpcmViYXNlQXV0aFwiLFxuICBmdW5jdGlvbigkZmlyZWJhc2VBdXRoKSB7XG4gICAgcmV0dXJuICRmaXJlYmFzZUF1dGgoKTtcbiAgfVxuXSlcblxuXG4uZmFjdG9yeShcIlByb2R1Y3RzU2VydmljZVwiLCBbXCIkaHR0cFwiLFwiJHFcIiwgZnVuY3Rpb24oJGh0dHAsICRxKXtcbiAgcmV0dXJuIHtcbiAgICBhbGxQcm9kdWN0czogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImluc2lkZSBhbGwgcHJvZHVjdHMgc2VydmljZVwiKVxuICAgICAgJGh0dHAuZ2V0KCcvc3RyaXBlL2FsbFByb2R1Y3RzJykuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgLy8gcHJvZHVjdHMgPSBkYXRhLmRhdGE7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJwcm9kdWN0cyBpbiBzZXJ2aWNlOiBcIixwcm9kdWN0cyk7ICAgXG4gICAgICB9KTsgXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTsgICBcbiAgICB9LFxuICAgIG9uZVByb2R1Y3Q6IGZ1bmN0aW9uKHByb2R1Y3RJZCl7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIndoYXQncyBpZD8gXCIscHJvZHVjdElkKTtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcmVxID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICcvc3RyaXBlL29uZVByb2R1Y3QnLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAkaHR0cChyZXEpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3VjY2VzcyEhIVwiKVxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgfVxufV0pXG5cbi5zZXJ2aWNlKCdJbnN0YWdyYW1GYWN0b3J5JywgWyckaHR0cCcsICckcScsIFxuICBmdW5jdGlvbiAoJGh0dHAsICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJy9pbnN0YWdyYW0nLFxuICAgICAgICBjYWNoZTogdHJ1ZVxuICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICB9KS5lcnJvcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChtc2cpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufV0pXG5cbi5zZXJ2aWNlKCdUd2l0dGVyRmFjdG9yeScsIFsnJGh0dHAnLCAnJHEnLCBcbiAgZnVuY3Rpb24gKCRodHRwLCAkcSkge1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICcvdHdpdHRlcicsXG4gICAgICAgIGNhY2hlOiB0cnVlXG4gICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgIH0pLmVycm9yKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KG1zZyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XSlcblxuXG4uZmFjdG9yeShcIkRvd25sb2FkS2V5U2VydmljZVwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBmdW5jdGlvbihoYXNoKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiaGFzaCBpcyBcIitoYXNoKTtcbiAgICAgIC8vIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdkb3dubG9hZEtleXMvJyArIGhhc2gpLnNldChcInRlc3QgdmFsdWVcIik7XG4gICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignZG93bmxvYWRLZXlzLycraGFzaCkub25jZSgndmFsdWUnKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90KSB7XG4gICAgICAgIHZhciBzbmFwID0gc25hcHNob3QudmFsKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHNuYXApO1xuICAgICAgfSk7XG4gICAgIFxuICAgICAgLy8gaWYgKHRoaXNLZXkgIT09IG51bGwpe1xuICAgICAgLy8gICBjb25zb2xlLmxvZyhcIktFWSBFWElTVFMhISEhISEhXCIpXG4gICAgICAvLyAgIHJldHVybiB0cnVlO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJLZXkgZG9lc24ndCBleGlzdC5cIilcbiAgICAgIC8vICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gfVxuICAgIH1cbiAgfVxuKVxuXG5cblxuXG4uZmFjdG9yeShcIkdldFNob3dzXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsXCJtb21lbnRcIiwgXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5LCBtb21lbnQpe1xuICAgIHZhciBjdXJyZW50RGF5ID0gbW9tZW50KCkudW5peCgpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY3VycmVudCBkYXk6IFwiLGN1cnJlbnREYXkpO1xuICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgIHZhciBzaG93c1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdzaG93cycpLm9yZGVyQnlDaGlsZChcInVuaXhcIikuc3RhcnRBdChjdXJyZW50RGF5KTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkknbSBpbiBHZXRTaG93c1wiKTtcbiAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoc2hvd3NSZWYpO1xuICB9XG59XSlcblxuXG5cblxuXG4uZmFjdG9yeShcIkJsb2dQb3N0c1wiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGJsb2dSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYmxvZ19wb3N0cycpLm9yZGVyQnlDaGlsZChcInRpbWVzdGFtcFwiKTtcbiAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoYmxvZ1JlZik7XG4gIH1cbn1dKVxuXG5cbi5mYWN0b3J5KFwiVGhpc1Bvc3RTZXJ2aWNlXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5KXtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2x1Zyl7XG4gICAgICB2YXIgcG9zdFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdibG9nX3Bvc3RzJyk7XG4gICAgICB2YXIgdGhpc1Bvc3RSZWYgPSBwb3N0UmVmLm9yZGVyQnlDaGlsZCgnc2x1ZycpLmVxdWFsVG8oc2x1Zyk7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkodGhpc1Bvc3RSZWYpO1xuICAgIH1cbiAgfVxuICBdKVxuXG4uZmFjdG9yeShcIkFsbFRhZ3NTZXJ2aWNlXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsIFxuICBmdW5jdGlvbigkZmlyZWJhc2VBcnJheSkge1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgIHZhciB0YWdSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndGFncycpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KHRhZ1JlZik7XG4gIH1cbn1dKVxuXG4uZmFjdG9yeShcIlRhZ3NTaG93U2VydmljZVwiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlT2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbih0YWdOYW1lKXtcbiAgICAgIHZhciB0YWdSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndGFncycpO1xuICAgICAgdmFyIHRhZ1Nob3dSZWYgPSB0YWdSZWYub3JkZXJCeUNoaWxkKCduYW1lJykuZXF1YWxUbyh0YWdOYW1lKTtcbiAgICAgIHJldHVybiAkZmlyZWJhc2VPYmplY3QodGFnU2hvd1JlZik7XG4gIH1cbn1dKVxuXG5cbi5mYWN0b3J5KFwiQXJjaGl2ZVNlcnZpY2VcIiwgW1wiJGZpcmViYXNlQXJyYXlcIiwgXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5KXtcbiAgICByZXR1cm4ge1xuICAgICAgeWVhcnM6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgeWVhclJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcycpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KHllYXJSZWYpXG4gICAgICB9LFxuICAgICAgbW9udGhzOiBmdW5jdGlvbih5ZWFyKXtcbiAgICAgIHZhciBtb250aFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcy8nK3llYXIpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KG1vbnRoUmVmKVxuICAgICAgfVxuICAgIH1cbn1dKVxuXG4uZmFjdG9yeShcIkFyY2hpdmVTaG93U2VydmljZVwiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHllYXIsIG1vbnRoKXtcbiAgICAgIHZhciBhcmNoaXZlUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycgKyB5ZWFyICsgJy8nICsgbW9udGgpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KGFyY2hpdmVSZWYpO1xuICB9XG59XSlcblxuLmZhY3RvcnkoJ1NlbmREYXRhU2VydmljZScsIGZ1bmN0aW9uKCkge1xuIHZhciBzYXZlZERhdGEgPSB7fVxuIGZ1bmN0aW9uIHNldChkYXRhKSB7XG4gICBzYXZlZERhdGEgPSBkYXRhO1xuIH1cbiBmdW5jdGlvbiBnZXQoKSB7XG4gIHJldHVybiBzYXZlZERhdGE7XG4gfVxuXG4gcmV0dXJuIHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0XG4gfVxuXG59KVxuXG4uZmFjdG9yeSgnQ3VycmVudE9yZGVyU2VydmljZScsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiBmdW5jdGlvbiBzZXQoZGF0YSkge1xuICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSggJ29yZGVyRGF0YScsIGFuZ3VsYXIudG9Kc29uKGRhdGEpICk7XG4gIC8vICBjb25zb2xlLmxvZyhcIm9yZGVyIHNhdmVkIVwiKTtcbiB9XG4gZnVuY3Rpb24gZ2V0KCkge1xuICB2YXIgb3JkZXIgPSBhbmd1bGFyLmZyb21Kc29uKCAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmRlckRhdGEnKSApIDtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShvcmRlcik7XG4gfVxuXG4gcmV0dXJuIHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0XG4gfVxufSlcblxuXG5cblxuLmZhY3RvcnkoJ0hlbHBlclNlcnZpY2UnLCBbXCJtb21lbnRcIixcIiRxXCIsIGZ1bmN0aW9uKG1vbWVudCwgJHEpIHtcbiAgcmV0dXJuIHtcbiAgICBwYXJzZVlvdVR1YmU6IGZ1bmN0aW9uKHVybCl7XG4gICAgICB2YXIgdmlkZW9pZCA9IHVybC5tYXRjaCgvKD86aHR0cHM/OlxcL3syfSk/KD86d3szfVxcLik/eW91dHUoPzpiZSk/XFwuKD86Y29tfGJlKSg/OlxcL3dhdGNoXFw/dj18XFwvKShbXlxccyZdKykvKTtcbiAgICAgICAgaWYodmlkZW9pZCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZGVvaWRbMV07XG4gICAgICAgIH0gZWxzZSB7IFxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIHlvdXR1YmUgdXJsIGlzIG5vdCB2YWxpZC5cIik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJhc2U2NE1pbWVUeXBlOiBmdW5jdGlvbihlbmNvZGVkKXtcbiAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBlbmNvZGVkICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIG1pbWUgPSBlbmNvZGVkLm1hdGNoKC9kYXRhOihbYS16QS1aMC05XStcXC9bYS16QS1aMC05LS4rXSspLiosLiovKTtcbiAgICAgIGlmIChtaW1lICYmIG1pbWUubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IG1pbWVbMV07XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcImltYWdlIHR5cGUgaXMgXCIscmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBnZXRCYXNlNjRJbWFnZTogZnVuY3Rpb24oZGF0YVVSTCkge1xuICAgICAgdmFyIGJhc2U2NCA9IGRhdGFVUkwucmVwbGFjZSgvXmRhdGE6aW1hZ2VcXC8ocG5nfGpwZWcpO2Jhc2U2NCwvLCBcIlwiKTtcbiAgICAgIHJldHVybiBiYXNlNjQ7XG4gICAgfSxcbiAgICBiNjR0b0Jsb2I6IGZ1bmN0aW9uKGI2NERhdGEsIGNvbnRlbnRUeXBlLCBzbGljZVNpemUpIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gY29udGVudFR5cGUgfHwgJyc7XG4gICAgICBzbGljZVNpemUgPSBzbGljZVNpemUgfHwgNTEyO1xuICAgICAgdmFyIGJ5dGVDaGFyYWN0ZXJzID0gYXRvYihiNjREYXRhKTtcbiAgICAgIHZhciBieXRlQXJyYXlzID0gW107XG4gICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGg7IG9mZnNldCArPSBzbGljZVNpemUpIHtcbiAgICAgICAgdmFyIHNsaWNlID0gYnl0ZUNoYXJhY3RlcnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzbGljZVNpemUpO1xuICAgICAgICB2YXIgYnl0ZU51bWJlcnMgPSBuZXcgQXJyYXkoc2xpY2UubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGJ5dGVOdW1iZXJzW2ldID0gc2xpY2UuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZU51bWJlcnMpO1xuICAgICAgICBieXRlQXJyYXlzLnB1c2goYnl0ZUFycmF5KTtcbiAgICAgIH0gXG4gICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKGJ5dGVBcnJheXMsIHt0eXBlOiBjb250ZW50VHlwZX0pO1xuICAgICAgcmV0dXJuIGJsb2I7XG4gICAgfSxcbiAgICBwYWdlRG93bjogZnVuY3Rpb24oY3VycmVudFBhZ2Upe1xuICAgICAgaWYgKGN1cnJlbnRQYWdlIDwgMil7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlIC0gKDEpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZmluZEZpcnN0OiBmdW5jdGlvbihsZW5ndGgsIHBhZ2Upe1xuICAgIHZhciBjYWxjRmlyc3QgPSBsZW5ndGggLSAoNCooMStwYWdlKSk7XG4gICAgICBpZiAoY2FsY0ZpcnN0ID49IDApe1xuICAgICAgICByZXR1cm4gY2FsY0ZpcnN0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRpdGxlVG9VUkw6IGZ1bmN0aW9uKHRpdGxlKXtcblxuICAgIHJldHVybiB0aXRsZS5zcGxpdCgnICcpLmpvaW4oJy0nKTtcbiAgICB9LFxuICAgIHNsdWdpZnk6IGZ1bmN0aW9uKHRleHQpe1xuICAgICAgcmV0dXJuIHRleHQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpICAgICAgICAgICAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIC1cbiAgICAgIC5yZXBsYWNlKC9bXlxcd1xcLV0rL2csICcnKSAgICAgICAvLyBSZW1vdmUgYWxsIG5vbi13b3JkIGNoYXJzXG4gICAgICAucmVwbGFjZSgvXFwtXFwtKy9nLCAnLScpICAgICAgICAgLy8gUmVwbGFjZSBtdWx0aXBsZSAtIHdpdGggc2luZ2xlIC1cbiAgICAgIC5yZXBsYWNlKC9eLSsvLCAnJykgICAgICAgICAgICAgLy8gVHJpbSAtIGZyb20gc3RhcnQgb2YgdGV4dFxuICAgICAgLnJlcGxhY2UoLy0rJC8sICcnKTsgICAgICAgICAgICAvLyBUcmltIC0gZnJvbSBlbmQgb2YgdGV4dFxuICAgIH0sXG4gICAgaW1nUmVzaXplOiBmdW5jdGlvbiAoaW1nKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImluc2lkZSByZXNpemUhIVwiKTtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgIHZhciBsb2FkSU1HID0gbmV3IEltYWdlO1xuICAgIGxvYWRJTUcuc3JjID0gaW1nO1xuICAgIGxvYWRJTUcub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgICBjb25zb2xlLmxvZyh0aGlzLndpZHRoICsgXCIgXCIgKyB0aGlzLmhlaWdodCk7XG4gICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbG9hZElNRy53aWR0aCAvIGxvYWRJTUcuaGVpZ2h0O1xuICAgICAgIGNvbnNvbGUubG9nKFwiV0hBVCBJUyBSQVRJTz8/PyBcIixhc3BlY3RSYXRpbyk7XG4gICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMS43NzYgJiYgbG9hZElNRy5oZWlnaHQgPj0gNTAwKXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRJTUc6IFwiLGxvYWRJTUcpO1xuICAgICAgICAgIHZhciBwZXJjZW50Q2hhbmdlID0gKGxvYWRJTUcuaGVpZ2h0IC0gNTAwKSAvIGxvYWRJTUcuaGVpZ2h0O1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSA1MDA7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gbG9hZElNRy53aWR0aCAtIChsb2FkSU1HLndpZHRoICogcGVyY2VudENoYW5nZSk7XG4gICAgICAgIFxuICAgICAgICB9IGVsc2UgaWYgKGFzcGVjdFJhdGlvIDwgMS43NzYgJiYgbG9hZElNRy53aWR0aCA+PSA4ODkpe1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZElNRzogXCIsbG9hZElNRyk7XG4gICAgICAgICAgdmFyIHBlcmNlbnRDaGFuZ2UgPSAobG9hZElNRy53aWR0aCAtIDg4OSkgLyBsb2FkSU1HLndpZHRoO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDg4OTtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gbG9hZElNRy5oZWlnaHQgLSAobG9hZElNRy5oZWlnaHQgKiBwZXJjZW50Q2hhbmdlKTtcbiAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRJTUc6IFwiLGxvYWRJTUcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW1hZ2UgaXMgbm90IGJpZyBlbm91Z2ghXCIpOyAgXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UobG9hZElNRywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdmFyIHJlc2l6ZWRSZXN1bHQgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNpemVkUmVzdWx0KTsgICBcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7IFxuICAgIH1cbiAgfSBcbn1dKVxuXG5cblxuXG4uZmFjdG9yeSgnU3VibWl0SW1hZ2UnLCBbXCJIZWxwZXJTZXJ2aWNlXCIsIGZ1bmN0aW9uKEhlbHBlclNlcnZpY2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvc3QsIHBvc3RBcnJheSwgaW1hZ2UsIGNhbGxiYWNrKXtcbiAgICBIZWxwZXJTZXJ2aWNlLmltZ1Jlc2l6ZShpbWFnZSkudGhlbihmdW5jdGlvbihuZXdJbWFnZSl7XG4gICAgICB2YXIgbWltZSA9IEhlbHBlclNlcnZpY2UuYmFzZTY0TWltZVR5cGUobmV3SW1hZ2UpO1xuICAgIGNvbnNvbGUubG9nKFwiVFlQRSBJUyBcIixtaW1lKTtcbiAgICB2YXIgYmFzZTY0cmVzdWx0ID0gSGVscGVyU2VydmljZS5nZXRCYXNlNjRJbWFnZShuZXdJbWFnZSlcbiAgICB2YXIgZmlsZSA9IEhlbHBlclNlcnZpY2UuYjY0dG9CbG9iKGJhc2U2NHJlc3VsdCwgbWltZSlcbiAgICB2YXIgbWV0YWRhdGEgPSB7XG4gICAgY29udGVudFR5cGU6IG1pbWVcbiAgICB9O1xuICAgIHZhciBwaG90b0lkID0gKE1hdGgucmFuZG9tKCkqMWUzMikudG9TdHJpbmcoMzYpO1xuICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigpO1xuICAgIHZhciB1cGxvYWRUYXNrID0gc3RvcmFnZVJlZi5jaGlsZCgnYmxvZy1pbWFnZXMvJyArIHBob3RvSWQpLnB1dChmaWxlLCBtZXRhZGF0YSk7XG4gICAgdXBsb2FkVGFzay5vbihmaXJlYmFzZS5zdG9yYWdlLlRhc2tFdmVudC5TVEFURV9DSEFOR0VELCAvLyBvciAnc3RhdGVfY2hhbmdlZCdcbiAgICBmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgLy8gR2V0IHRhc2sgcHJvZ3Jlc3MsIGluY2x1ZGluZyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHVwbG9hZGVkIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAoc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMpICogMTAwO1xuICAgICAgY29uc29sZS5sb2coJ1VwbG9hZCBpcyAnICsgcHJvZ3Jlc3MgKyAnJSBkb25lJyk7XG4gICAgICBzd2l0Y2ggKHNuYXBzaG90LnN0YXRlKSB7XG4gICAgICAgIGNhc2UgZmlyZWJhc2Uuc3RvcmFnZS5UYXNrU3RhdGUuUEFVU0VEOiAvLyBvciAncGF1c2VkJ1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgaXMgcGF1c2VkJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZmlyZWJhc2Uuc3RvcmFnZS5UYXNrU3RhdGUuUlVOTklORzogLy8gb3IgJ3J1bm5pbmcnXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VwbG9hZCBpcyBydW5uaW5nJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICAgIGNhc2UgJ3N0b3JhZ2UvdW5hdXRob3JpemVkJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdG9yYWdlL2NhbmNlbGVkJzpcbiAgICAgICAgLy8gVXNlciBjYW5jZWxlZCB0aGUgdXBsb2FkXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RvcmFnZS91bmtub3duJzpcbiAgICAgICAgLy8gVW5rbm93biBlcnJvciBvY2N1cnJlZCwgaW5zcGVjdCBlcnJvci5zZXJ2ZXJSZXNwb25zZVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwidXBsb2FkIGZpbmlzaGVkXCIpXG4gICAgdmFyIGRvd25sb2FkVVJMID0gdXBsb2FkVGFzay5zbmFwc2hvdC5kb3dubG9hZFVSTDtcbiAgICBjYWxsYmFjayhwb3N0LCBwb3N0QXJyYXksIGRvd25sb2FkVVJMLCBudWxsKTtcbiAgfSk7XG4gICAgfSlcbiAgICBcblxuXG5cbiAgfVxuXG59XSlcblxuXG5cblxuXG5cblxuIl19
