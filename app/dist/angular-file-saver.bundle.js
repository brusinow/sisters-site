!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";module.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",__webpack_require__(1)]).factory("FileSaverUtils",[__webpack_require__(2)]).factory("Blob",["$window",__webpack_require__(3)]).factory("SaveAs",[__webpack_require__(5)])},function(module,exports){"use strict";module.exports=function(Blob,SaveAs,FileSaverUtils){function save(blob,filename,disableAutoBOM){try{SaveAs(blob,filename,disableAutoBOM)}catch(err){FileSaverUtils.handleErrors(err.message)}}return{saveAs:function(data,filename,disableAutoBOM){return FileSaverUtils.isBlobInstance(data)||FileSaverUtils.handleErrors("Data argument should be a blob instance"),FileSaverUtils.isString(filename)||FileSaverUtils.handleErrors("Filename argument should be a string"),save(data,filename,disableAutoBOM)}}}},function(module,exports){"use strict";module.exports=function(){return{handleErrors:function(msg){throw new Error(msg)},isString:function(obj){return"string"==typeof obj||obj instanceof String},isUndefined:function(obj){return"undefined"==typeof obj},isBlobInstance:function(obj){return obj instanceof Blob}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4),module.exports=function($window){return $window.Blob}},function(module,exports){!function(view){"use strict";if(view.URL=view.URL||view.webkitURL,view.Blob&&view.URL)try{return void new Blob}catch(e){}var BlobBuilder=view.BlobBuilder||view.WebKitBlobBuilder||view.MozBlobBuilder||function(view){var get_class=function(object){return Object.prototype.toString.call(object).match(/^\[object\s(.*)\]$/)[1]},FakeBlobBuilder=function(){this.data=[]},FakeBlob=function(data,type,encoding){this.data=data,this.size=data.length,this.type=type,this.encoding=encoding},FBB_proto=FakeBlobBuilder.prototype,FB_proto=FakeBlob.prototype,FileReaderSync=view.FileReaderSync,FileException=function(type){this.code=this[this.name=type]},file_ex_codes="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),file_ex_code=file_ex_codes.length,real_URL=view.URL||view.webkitURL||view,real_create_object_URL=real_URL.createObjectURL,real_revoke_object_URL=real_URL.revokeObjectURL,URL=real_URL,btoa=view.btoa,atob=view.atob,ArrayBuffer=view.ArrayBuffer,Uint8Array=view.Uint8Array,origin=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(FakeBlob.fake=FB_proto.fake=!0;file_ex_code--;)FileException.prototype[file_ex_codes[file_ex_code]]=file_ex_code+1;return real_URL.createObjectURL||(URL=view.URL=function(uri){var uri_origin,uri_info=document.createElementNS("http://www.w3.org/1999/xhtml","a");return uri_info.href=uri,"origin"in uri_info||("data:"===uri_info.protocol.toLowerCase()?uri_info.origin=null:(uri_origin=uri.match(origin),uri_info.origin=uri_origin&&uri_origin[1])),uri_info}),URL.createObjectURL=function(blob){var data_URI_header,type=blob.type;return null===type&&(type="application/octet-stream"),blob instanceof FakeBlob?(data_URI_header="data:"+type,"base64"===blob.encoding?data_URI_header+";base64,"+blob.data:"URI"===blob.encoding?data_URI_header+","+decodeURIComponent(blob.data):btoa?data_URI_header+";base64,"+btoa(blob.data):data_URI_header+","+encodeURIComponent(blob.data)):real_create_object_URL?real_create_object_URL.call(real_URL,blob):void 0},URL.revokeObjectURL=function(object_URL){"data:"!==object_URL.substring(0,5)&&real_revoke_object_URL&&real_revoke_object_URL.call(real_URL,object_URL)},FBB_proto.append=function(data){var bb=this.data;if(Uint8Array&&(data instanceof ArrayBuffer||data instanceof Uint8Array)){for(var str="",buf=new Uint8Array(data),i=0,buf_len=buf.length;i<buf_len;i++)str+=String.fromCharCode(buf[i]);bb.push(str)}else if("Blob"===get_class(data)||"File"===get_class(data)){if(!FileReaderSync)throw new FileException("NOT_READABLE_ERR");var fr=new FileReaderSync;bb.push(fr.readAsBinaryString(data))}else data instanceof FakeBlob?"base64"===data.encoding&&atob?bb.push(atob(data.data)):"URI"===data.encoding?bb.push(decodeURIComponent(data.data)):"raw"===data.encoding&&bb.push(data.data):("string"!=typeof data&&(data+=""),bb.push(unescape(encodeURIComponent(data))))},FBB_proto.getBlob=function(type){return arguments.length||(type=null),new FakeBlob(this.data.join(""),type,"raw")},FBB_proto.toString=function(){return"[object BlobBuilder]"},FB_proto.slice=function(start,end,type){var args=arguments.length;return args<3&&(type=null),new FakeBlob(this.data.slice(start,args>1?end:this.data.length),type,this.encoding)},FB_proto.toString=function(){return"[object Blob]"},FB_proto.close=function(){this.size=0,delete this.data},FakeBlobBuilder}(view);view.Blob=function(blobParts,options){var type=options?options.type||"":"",builder=new BlobBuilder;if(blobParts)for(var i=0,len=blobParts.length;i<len;i++)Uint8Array&&blobParts[i]instanceof Uint8Array?builder.append(blobParts[i].buffer):builder.append(blobParts[i]);var blob=builder.getBlob(type);return!blob.slice&&blob.webkitSlice&&(blob.slice=blob.webkitSlice),blob};var getPrototypeOf=Object.getPrototypeOf||function(object){return object.__proto__};view.Blob.prototype=getPrototypeOf(new view.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){return __webpack_require__(6).saveAs||function(){}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,saveAs=saveAs||function(view){"use strict";if(!("undefined"==typeof view||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},is_safari=/constructor/i.test(view.HTMLElement),is_chrome_ios=/CriOS\/[\d]+/.test(navigator.userAgent),throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex},0)},force_saveable_type="application/octet-stream",arbitrary_revoke_timeout=4e4,revoke=function(file){var revoker=function(){"string"==typeof file?get_URL().revokeObjectURL(file):file.remove()};setTimeout(revoker,arbitrary_revoke_timeout)},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);for(var i=event_types.length;i--;){var listener=filesaver["on"+event_types[i]];if("function"==typeof listener)try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}},auto_bom=function(blob){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)?new Blob([String.fromCharCode(65279),blob],{type:blob.type}):blob},FileSaver=function(blob,name,no_auto_bom){no_auto_bom||(blob=auto_bom(blob));var object_url,filesaver=this,type=blob.type,force=type===force_saveable_type,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if((is_chrome_ios||force&&is_safari)&&view.FileReader){var reader=new FileReader;return reader.onloadend=function(){var url=is_chrome_ios?reader.result:reader.result.replace(/^data:[^;]*;/,"data:attachment/file;"),popup=view.open(url,"_blank");popup||(view.location.href=url),url=void 0,filesaver.readyState=filesaver.DONE,dispatch_all()},reader.readAsDataURL(blob),void(filesaver.readyState=filesaver.INIT)}if(object_url||(object_url=get_URL().createObjectURL(blob)),force)view.location.href=object_url;else{var opened=view.open(object_url,"_blank");opened||(view.location.href=object_url)}filesaver.readyState=filesaver.DONE,dispatch_all(),revoke(object_url)};return filesaver.readyState=filesaver.INIT,can_use_save_link?(object_url=get_URL().createObjectURL(blob),void setTimeout(function(){save_link.href=object_url,save_link.download=name,click(save_link),dispatch_all(),revoke(object_url),filesaver.readyState=filesaver.DONE})):void fs_error()},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name||blob.name||"download",no_auto_bom)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(blob,name,no_auto_bom){return name=name||blob.name||"download",no_auto_bom||(blob=auto_bom(blob)),navigator.msSaveOrOpenBlob(blob,name)}:(FS_proto.abort=function(){},FS_proto.readyState=FS_proto.INIT=0,FS_proto.WRITING=1,FS_proto.DONE=2,FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null,saveAs)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:null!==__webpack_require__(7)&&null!==__webpack_require__(8)&&(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(exports,{})}])});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItZmlsZS1zYXZlci5idW5kbGUuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJhbmd1bGFyIiwiQmxvYiIsIlNhdmVBcyIsIkZpbGVTYXZlclV0aWxzIiwic2F2ZSIsImJsb2IiLCJmaWxlbmFtZSIsImRpc2FibGVBdXRvQk9NIiwiZXJyIiwiaGFuZGxlRXJyb3JzIiwibWVzc2FnZSIsInNhdmVBcyIsImRhdGEiLCJpc0Jsb2JJbnN0YW5jZSIsImlzU3RyaW5nIiwibXNnIiwiRXJyb3IiLCJvYmoiLCJTdHJpbmciLCJpc1VuZGVmaW5lZCIsIiR3aW5kb3ciLCJ2aWV3IiwiVVJMIiwid2Via2l0VVJMIiwiZSIsIkJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsImdldF9jbGFzcyIsIm9iamVjdCIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwibWF0Y2giLCJGYWtlQmxvYkJ1aWxkZXIiLCJGYWtlQmxvYiIsInR5cGUiLCJlbmNvZGluZyIsInNpemUiLCJsZW5ndGgiLCJGQkJfcHJvdG8iLCJGQl9wcm90byIsIkZpbGVSZWFkZXJTeW5jIiwiRmlsZUV4Y2VwdGlvbiIsImNvZGUiLCJuYW1lIiwiZmlsZV9leF9jb2RlcyIsInNwbGl0IiwiZmlsZV9leF9jb2RlIiwicmVhbF9VUkwiLCJyZWFsX2NyZWF0ZV9vYmplY3RfVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVhbF9yZXZva2Vfb2JqZWN0X1VSTCIsInJldm9rZU9iamVjdFVSTCIsImJ0b2EiLCJhdG9iIiwiQXJyYXlCdWZmZXIiLCJVaW50OEFycmF5Iiwib3JpZ2luIiwiZmFrZSIsInVyaSIsInVyaV9vcmlnaW4iLCJ1cmlfaW5mbyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiaHJlZiIsInByb3RvY29sIiwidG9Mb3dlckNhc2UiLCJkYXRhX1VSSV9oZWFkZXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvYmplY3RfVVJMIiwic3Vic3RyaW5nIiwiYXBwZW5kIiwiYmIiLCJzdHIiLCJidWYiLCJidWZfbGVuIiwiZnJvbUNoYXJDb2RlIiwicHVzaCIsImZyIiwicmVhZEFzQmluYXJ5U3RyaW5nIiwidW5lc2NhcGUiLCJnZXRCbG9iIiwiYXJndW1lbnRzIiwiam9pbiIsInNsaWNlIiwic3RhcnQiLCJlbmQiLCJhcmdzIiwiY2xvc2UiLCJibG9iUGFydHMiLCJvcHRpb25zIiwiYnVpbGRlciIsImxlbiIsImJ1ZmZlciIsIndlYmtpdFNsaWNlIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJzZWxmIiwid2luZG93IiwiY29udGVudCIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsIm5hdmlnYXRvciIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkb2MiLCJnZXRfVVJMIiwic2F2ZV9saW5rIiwiY2FuX3VzZV9zYXZlX2xpbmsiLCJjbGljayIsIm5vZGUiLCJldmVudCIsIk1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaXNfc2FmYXJpIiwiSFRNTEVsZW1lbnQiLCJpc19jaHJvbWVfaW9zIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImZvcmNlX3NhdmVhYmxlX3R5cGUiLCJhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQiLCJyZXZva2UiLCJmaWxlIiwicmV2b2tlciIsInJlbW92ZSIsImRpc3BhdGNoIiwiZmlsZXNhdmVyIiwiZXZlbnRfdHlwZXMiLCJjb25jYXQiLCJsaXN0ZW5lciIsImF1dG9fYm9tIiwiRmlsZVNhdmVyIiwibm9fYXV0b19ib20iLCJvYmplY3RfdXJsIiwiZm9yY2UiLCJkaXNwYXRjaF9hbGwiLCJmc19lcnJvciIsIkZpbGVSZWFkZXIiLCJyZWFkZXIiLCJvbmxvYWRlbmQiLCJ1cmwiLCJyZXN1bHQiLCJyZXBsYWNlIiwicG9wdXAiLCJvcGVuIiwibG9jYXRpb24iLCJ1bmRlZmluZWQiLCJyZWFkeVN0YXRlIiwiRE9ORSIsInJlYWRBc0RhdGFVUkwiLCJJTklUIiwib3BlbmVkIiwiZG93bmxvYWQiLCJGU19wcm90byIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJhYm9ydCIsIldSSVRJTkciLCJlcnJvciIsIm9ud3JpdGVzdGFydCIsIm9ucHJvZ3Jlc3MiLCJvbndyaXRlIiwib25hYm9ydCIsIm9uZXJyb3IiLCJvbndyaXRlZW5kIiwiYXBwbHkiLCJfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEtBQU1DLFNBQ2hELEdBQXNCLGdCQUFaQyxVQUEwQyxnQkFBWEMsUUFDeENBLE9BQU9ELFFBQVVELGNBQ2IsSUFBcUIsa0JBQVhHLFNBQXlCQSxPQUFPQyxJQUM5Q0QsVUFBV0gsYUFDUCxDQUNKLEdBQUlLLEdBQUlMLFNBQ1IsS0FBSSxHQUFJTSxLQUFLRCxJQUF1QixnQkFBWkosU0FBdUJBLFFBQVVGLE1BQU1PLEdBQUtELEVBQUVDLEtBRXJFQyxLQUFNLFdBQ1QsTUFBZ0IsVUFBVUMsU0FLaEIsUUFBU0MscUJBQW9CQyxVQUc1QixHQUFHQyxpQkFBaUJELFVBQ25CLE1BQU9DLGtCQUFpQkQsVUFBVVQsT0FHbkMsSUFBSUMsUUFBU1MsaUJBQWlCRCxXQUM3QlQsV0FDQVcsR0FBSUYsU0FDSkcsUUFBUSxFQVVULE9BTkFMLFNBQVFFLFVBQVVJLEtBQUtaLE9BQU9ELFFBQVNDLE9BQVFBLE9BQU9ELFFBQVNRLHFCQUcvRFAsT0FBT1csUUFBUyxFQUdUWCxPQUFPRCxRQXZCZixHQUFJVSxvQkFxQ0osT0FUQUYscUJBQW9CTSxFQUFJUCxRQUd4QkMsb0JBQW9CTyxF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LFNBQVNPLFFBQ1RQLFNBQVNRLFFBQ1RSLFNBQVNTLFFBQ1RULFNBQVNVLFdBQ1IsS0FFTTVKLFVBRVksbUJBQVR3RixPQUF3QkEsTUFDYixtQkFBWEMsU0FBMEJBLFFBQ2pDL0csS0FBS2dILFFBTWEsb0JBQVhySCxTQUEwQkEsT0FBT0QsUUFDMUNDLE9BQU9ELFFBQVE0QixPQUFTQSxPQUMyQyxPQUEzQnBCLG9CQUFvQixJQUE0QyxPQUEzQkEsb0JBQW9CLEtBQy9GK0csZ0NBQW1DQyw4QkFBZ0MsV0FDbkUsTUFBTzVGLFNBQ1A2SixNQUFNekwsUUFBU3VILGdDQUFpRWdELFNBQWxDL0MsZ0NBQWdEdkgsT0FBT0QsUUFBVXdILGtDQU05RyxTQUFTdkgsT0FBUUQsU0FFdEJDLE9BQU9ELFFBQVUsV0FBYSxLQUFNLElBQUlpQyxPQUFNLG9DQUt6QyxTQUFTaEMsT0FBUUQsVUFFTSxTQUFTMEwseUJBQTBCekwsT0FBT0QsUUFBVTBMLDBCQUVuRDdLLEtBQUtiIiwiZmlsZSI6ImFuZ3VsYXItZmlsZS1zYXZlci5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0Lypcblx0KlxuXHQqIEEgQW5ndWxhckpTIG1vZHVsZSB0aGF0IGltcGxlbWVudHMgdGhlIEhUTUw1IFczQyBzYXZlQXMoKSBpbiBicm93c2VycyB0aGF0XG5cdCogZG8gbm90IG5hdGl2ZWx5IHN1cHBvcnQgaXRcblx0KlxuXHQqIChjKSAyMDE1IFBoaWxpcHAgQWxmZXJvdlxuXHQqIExpY2Vuc2U6IE1JVFxuXHQqXG5cdCovXG5cblx0bW9kdWxlLmV4cG9ydHMgPSAnbmdGaWxlU2F2ZXInO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCduZ0ZpbGVTYXZlcicsIFtdKVxuXHQgIC5mYWN0b3J5KCdGaWxlU2F2ZXInLCBbJ0Jsb2InLCAnU2F2ZUFzJywgJ0ZpbGVTYXZlclV0aWxzJywgX193ZWJwYWNrX3JlcXVpcmVfXygxKV0pXG5cdCAgLmZhY3RvcnkoJ0ZpbGVTYXZlclV0aWxzJywgW19fd2VicGFja19yZXF1aXJlX18oMildKVxuXHQgIC5mYWN0b3J5KCdCbG9iJywgWyckd2luZG93JywgX193ZWJwYWNrX3JlcXVpcmVfXygzKV0pXG5cdCAgLmZhY3RvcnkoJ1NhdmVBcycsIFtfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEZpbGVTYXZlcihCbG9iLCBTYXZlQXMsIEZpbGVTYXZlclV0aWxzKSB7XG5cblx0ICBmdW5jdGlvbiBzYXZlKGJsb2IsIGZpbGVuYW1lLCBkaXNhYmxlQXV0b0JPTSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgU2F2ZUFzKGJsb2IsIGZpbGVuYW1lLCBkaXNhYmxlQXV0b0JPTSk7XG5cdCAgICB9IGNhdGNoKGVycikge1xuXHQgICAgICBGaWxlU2F2ZXJVdGlscy5oYW5kbGVFcnJvcnMoZXJyLm1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiB7XG5cblx0ICAgIC8qKlxuXHQgICAgKiBzYXZlQXNcblx0ICAgICogSW1tZWRpYXRlbHkgc3RhcnRzIHNhdmluZyBhIGZpbGUsIHJldHVybnMgdW5kZWZpbmVkLlxuXHQgICAgKlxuXHQgICAgKiBAbmFtZSBzYXZlQXNcblx0ICAgICogQGZ1bmN0aW9uXG5cdCAgICAqIEBwYXJhbSB7QmxvYn0gZGF0YSBBIEJsb2IgaW5zdGFuY2Vcblx0ICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGVuYW1lIEN1c3RvbSBmaWxlbmFtZSAoZXh0ZW5zaW9uIGlzIG9wdGlvbmFsKVxuXHQgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVBdXRvQk9NIERpc2FibGUgYXV0b21hdGljYWxseSBwcm92aWRlZCBVbmljb2RlXG5cdCAgICAqIHRleHQgZW5jb2RpbmcgaGludHNcblx0ICAgICpcblx0ICAgICogQHJldHVybiB7VW5kZWZpbmVkfVxuXHQgICAgKi9cblxuXHQgICAgc2F2ZUFzOiBmdW5jdGlvbihkYXRhLCBmaWxlbmFtZSwgZGlzYWJsZUF1dG9CT00pIHtcblxuXHQgICAgICBpZiAoIUZpbGVTYXZlclV0aWxzLmlzQmxvYkluc3RhbmNlKGRhdGEpKSB7XG5cdCAgICAgICAgRmlsZVNhdmVyVXRpbHMuaGFuZGxlRXJyb3JzKCdEYXRhIGFyZ3VtZW50IHNob3VsZCBiZSBhIGJsb2IgaW5zdGFuY2UnKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmICghRmlsZVNhdmVyVXRpbHMuaXNTdHJpbmcoZmlsZW5hbWUpKSB7XG5cdCAgICAgICAgRmlsZVNhdmVyVXRpbHMuaGFuZGxlRXJyb3JzKCdGaWxlbmFtZSBhcmd1bWVudCBzaG91bGQgYmUgYSBzdHJpbmcnKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiBzYXZlKGRhdGEsIGZpbGVuYW1lLCBkaXNhYmxlQXV0b0JPTSk7XG5cdCAgICB9XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gRmlsZVNhdmVyVXRpbHMoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGhhbmRsZUVycm9yczogZnVuY3Rpb24obXNnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuXHQgICAgfSxcblx0ICAgIGlzU3RyaW5nOiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IG9iaiBpbnN0YW5jZW9mIFN0cmluZztcblx0ICAgIH0sXG5cdCAgICBpc1VuZGVmaW5lZDogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJztcblx0ICAgIH0sXG5cdCAgICBpc0Jsb2JJbnN0YW5jZTogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBCbG9iO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gQmxvYigkd2luZG93KSB7XG5cdCAgcmV0dXJuICR3aW5kb3cuQmxvYjtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogQmxvYi5qc1xuXHQgKiBBIEJsb2IgaW1wbGVtZW50YXRpb24uXG5cdCAqIDIwMTQtMDctMjRcblx0ICpcblx0ICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuXHQgKiBCeSBEZXZpbiBTYW1hcmluLCBodHRwczovL2dpdGh1Yi5jb20vZHNhbWFyaW5cblx0ICogTGljZW5zZTogWDExL01JVFxuXHQgKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9CbG9iLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcblx0ICovXG5cblx0LypnbG9iYWwgc2VsZiwgdW5lc2NhcGUgKi9cblx0Lypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgcmVnZXhwOiB0cnVlLCBjb25mdXNpb246IHRydWUsIGVzNTogdHJ1ZSwgdmFyczogdHJ1ZSwgd2hpdGU6IHRydWUsXG5cdCAgcGx1c3BsdXM6IHRydWUgKi9cblxuXHQvKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvQmxvYi5qcy9ibG9iL21hc3Rlci9CbG9iLmpzICovXG5cblx0KGZ1bmN0aW9uICh2aWV3KSB7XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0XHR2aWV3LlVSTCA9IHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMO1xuXG5cdFx0aWYgKHZpZXcuQmxvYiAmJiB2aWV3LlVSTCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bmV3IEJsb2I7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0fVxuXG5cdFx0Ly8gSW50ZXJuYWxseSB3ZSB1c2UgYSBCbG9iQnVpbGRlciBpbXBsZW1lbnRhdGlvbiB0byBiYXNlIEJsb2Igb2ZmIG9mXG5cdFx0Ly8gaW4gb3JkZXIgdG8gc3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IG9ubHkgaGF2ZSBCbG9iQnVpbGRlclxuXHRcdHZhciBCbG9iQnVpbGRlciA9IHZpZXcuQmxvYkJ1aWxkZXIgfHwgdmlldy5XZWJLaXRCbG9iQnVpbGRlciB8fCB2aWV3Lk1vekJsb2JCdWlsZGVyIHx8IChmdW5jdGlvbih2aWV3KSB7XG5cdFx0XHR2YXJcblx0XHRcdFx0ICBnZXRfY2xhc3MgPSBmdW5jdGlvbihvYmplY3QpIHtcblx0XHRcdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkubWF0Y2goL15cXFtvYmplY3RcXHMoLiopXFxdJC8pWzFdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgRmFrZUJsb2JCdWlsZGVyID0gZnVuY3Rpb24gQmxvYkJ1aWxkZXIoKSB7XG5cdFx0XHRcdFx0dGhpcy5kYXRhID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBGYWtlQmxvYiA9IGZ1bmN0aW9uIEJsb2IoZGF0YSwgdHlwZSwgZW5jb2RpbmcpIHtcblx0XHRcdFx0XHR0aGlzLmRhdGEgPSBkYXRhO1xuXHRcdFx0XHRcdHRoaXMuc2l6ZSA9IGRhdGEubGVuZ3RoO1xuXHRcdFx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0dGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgRkJCX3Byb3RvID0gRmFrZUJsb2JCdWlsZGVyLnByb3RvdHlwZVxuXHRcdFx0XHQsIEZCX3Byb3RvID0gRmFrZUJsb2IucHJvdG90eXBlXG5cdFx0XHRcdCwgRmlsZVJlYWRlclN5bmMgPSB2aWV3LkZpbGVSZWFkZXJTeW5jXG5cdFx0XHRcdCwgRmlsZUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRcdFx0XHR0aGlzLmNvZGUgPSB0aGlzW3RoaXMubmFtZSA9IHR5cGVdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgZmlsZV9leF9jb2RlcyA9IChcblx0XHRcdFx0XHQgIFwiTk9UX0ZPVU5EX0VSUiBTRUNVUklUWV9FUlIgQUJPUlRfRVJSIE5PVF9SRUFEQUJMRV9FUlIgRU5DT0RJTkdfRVJSIFwiXG5cdFx0XHRcdFx0KyBcIk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUiBJTlZBTElEX1NUQVRFX0VSUiBTWU5UQVhfRVJSXCJcblx0XHRcdFx0KS5zcGxpdChcIiBcIilcblx0XHRcdFx0LCBmaWxlX2V4X2NvZGUgPSBmaWxlX2V4X2NvZGVzLmxlbmd0aFxuXHRcdFx0XHQsIHJlYWxfVVJMID0gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlld1xuXHRcdFx0XHQsIHJlYWxfY3JlYXRlX29iamVjdF9VUkwgPSByZWFsX1VSTC5jcmVhdGVPYmplY3RVUkxcblx0XHRcdFx0LCByZWFsX3Jldm9rZV9vYmplY3RfVVJMID0gcmVhbF9VUkwucmV2b2tlT2JqZWN0VVJMXG5cdFx0XHRcdCwgVVJMID0gcmVhbF9VUkxcblx0XHRcdFx0LCBidG9hID0gdmlldy5idG9hXG5cdFx0XHRcdCwgYXRvYiA9IHZpZXcuYXRvYlxuXG5cdFx0XHRcdCwgQXJyYXlCdWZmZXIgPSB2aWV3LkFycmF5QnVmZmVyXG5cdFx0XHRcdCwgVWludDhBcnJheSA9IHZpZXcuVWludDhBcnJheVxuXG5cdFx0XHRcdCwgb3JpZ2luID0gL15bXFx3LV0rOlxcLypcXFs/W1xcd1xcLjotXStcXF0/KD86OlswLTldKyk/L1xuXHRcdFx0O1xuXHRcdFx0RmFrZUJsb2IuZmFrZSA9IEZCX3Byb3RvLmZha2UgPSB0cnVlO1xuXHRcdFx0d2hpbGUgKGZpbGVfZXhfY29kZS0tKSB7XG5cdFx0XHRcdEZpbGVFeGNlcHRpb24ucHJvdG90eXBlW2ZpbGVfZXhfY29kZXNbZmlsZV9leF9jb2RlXV0gPSBmaWxlX2V4X2NvZGUgKyAxO1xuXHRcdFx0fVxuXHRcdFx0Ly8gUG9seWZpbGwgVVJMXG5cdFx0XHRpZiAoIXJlYWxfVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xuXHRcdFx0XHRVUkwgPSB2aWV3LlVSTCA9IGZ1bmN0aW9uKHVyaSkge1xuXHRcdFx0XHRcdHZhclxuXHRcdFx0XHRcdFx0ICB1cmlfaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXG5cdFx0XHRcdFx0XHQsIHVyaV9vcmlnaW5cblx0XHRcdFx0XHQ7XG5cdFx0XHRcdFx0dXJpX2luZm8uaHJlZiA9IHVyaTtcblx0XHRcdFx0XHRpZiAoIShcIm9yaWdpblwiIGluIHVyaV9pbmZvKSkge1xuXHRcdFx0XHRcdFx0aWYgKHVyaV9pbmZvLnByb3RvY29sLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0YTpcIikge1xuXHRcdFx0XHRcdFx0XHR1cmlfaW5mby5vcmlnaW4gPSBudWxsO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dXJpX29yaWdpbiA9IHVyaS5tYXRjaChvcmlnaW4pO1xuXHRcdFx0XHRcdFx0XHR1cmlfaW5mby5vcmlnaW4gPSB1cmlfb3JpZ2luICYmIHVyaV9vcmlnaW5bMV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB1cmlfaW5mbztcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdFVSTC5jcmVhdGVPYmplY3RVUkwgPSBmdW5jdGlvbihibG9iKSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdCAgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHRcdCwgZGF0YV9VUklfaGVhZGVyXG5cdFx0XHRcdDtcblx0XHRcdFx0aWYgKHR5cGUgPT09IG51bGwpIHtcblx0XHRcdFx0XHR0eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoYmxvYiBpbnN0YW5jZW9mIEZha2VCbG9iKSB7XG5cdFx0XHRcdFx0ZGF0YV9VUklfaGVhZGVyID0gXCJkYXRhOlwiICsgdHlwZTtcblx0XHRcdFx0XHRpZiAoYmxvYi5lbmNvZGluZyA9PT0gXCJiYXNlNjRcIikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiO2Jhc2U2NCxcIiArIGJsb2IuZGF0YTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGJsb2IuZW5jb2RpbmcgPT09IFwiVVJJXCIpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhX1VSSV9oZWFkZXIgKyBcIixcIiArIGRlY29kZVVSSUNvbXBvbmVudChibG9iLmRhdGEpO1xuXHRcdFx0XHRcdH0gaWYgKGJ0b2EpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhX1VSSV9oZWFkZXIgKyBcIjtiYXNlNjQsXCIgKyBidG9hKGJsb2IuZGF0YSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhX1VSSV9oZWFkZXIgKyBcIixcIiArIGVuY29kZVVSSUNvbXBvbmVudChibG9iLmRhdGEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChyZWFsX2NyZWF0ZV9vYmplY3RfVVJMKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlYWxfY3JlYXRlX29iamVjdF9VUkwuY2FsbChyZWFsX1VSTCwgYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMID0gZnVuY3Rpb24ob2JqZWN0X1VSTCkge1xuXHRcdFx0XHRpZiAob2JqZWN0X1VSTC5zdWJzdHJpbmcoMCwgNSkgIT09IFwiZGF0YTpcIiAmJiByZWFsX3Jldm9rZV9vYmplY3RfVVJMKSB7XG5cdFx0XHRcdFx0cmVhbF9yZXZva2Vfb2JqZWN0X1VSTC5jYWxsKHJlYWxfVVJMLCBvYmplY3RfVVJMKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdEZCQl9wcm90by5hcHBlbmQgPSBmdW5jdGlvbihkYXRhLyosIGVuZGluZ3MqLykge1xuXHRcdFx0XHR2YXIgYmIgPSB0aGlzLmRhdGE7XG5cdFx0XHRcdC8vIGRlY29kZSBkYXRhIHRvIGEgYmluYXJ5IHN0cmluZ1xuXHRcdFx0XHRpZiAoVWludDhBcnJheSAmJiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuXHRcdFx0XHRcdHZhclxuXHRcdFx0XHRcdFx0ICBzdHIgPSBcIlwiXG5cdFx0XHRcdFx0XHQsIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGRhdGEpXG5cdFx0XHRcdFx0XHQsIGkgPSAwXG5cdFx0XHRcdFx0XHQsIGJ1Zl9sZW4gPSBidWYubGVuZ3RoXG5cdFx0XHRcdFx0O1xuXHRcdFx0XHRcdGZvciAoOyBpIDwgYnVmX2xlbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRiYi5wdXNoKHN0cik7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZ2V0X2NsYXNzKGRhdGEpID09PSBcIkJsb2JcIiB8fCBnZXRfY2xhc3MoZGF0YSkgPT09IFwiRmlsZVwiKSB7XG5cdFx0XHRcdFx0aWYgKEZpbGVSZWFkZXJTeW5jKSB7XG5cdFx0XHRcdFx0XHR2YXIgZnIgPSBuZXcgRmlsZVJlYWRlclN5bmM7XG5cdFx0XHRcdFx0XHRiYi5wdXNoKGZyLnJlYWRBc0JpbmFyeVN0cmluZyhkYXRhKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGFzeW5jIEZpbGVSZWFkZXIgd29uJ3Qgd29yayBhcyBCbG9iQnVpbGRlciBpcyBzeW5jXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRmlsZUV4Y2VwdGlvbihcIk5PVF9SRUFEQUJMRV9FUlJcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBGYWtlQmxvYikge1xuXHRcdFx0XHRcdGlmIChkYXRhLmVuY29kaW5nID09PSBcImJhc2U2NFwiICYmIGF0b2IpIHtcblx0XHRcdFx0XHRcdGJiLnB1c2goYXRvYihkYXRhLmRhdGEpKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEuZW5jb2RpbmcgPT09IFwiVVJJXCIpIHtcblx0XHRcdFx0XHRcdGJiLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEuZGF0YSkpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZGF0YS5lbmNvZGluZyA9PT0gXCJyYXdcIikge1xuXHRcdFx0XHRcdFx0YmIucHVzaChkYXRhLmRhdGEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdGRhdGEgKz0gXCJcIjsgLy8gY29udmVydCB1bnN1cHBvcnRlZCB0eXBlcyB0byBzdHJpbmdzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGRlY29kZSBVVEYtMTYgdG8gYmluYXJ5IHN0cmluZ1xuXHRcdFx0XHRcdGJiLnB1c2godW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpKSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRGQkJfcHJvdG8uZ2V0QmxvYiA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRcdFx0aWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dHlwZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5ldyBGYWtlQmxvYih0aGlzLmRhdGEuam9pbihcIlwiKSwgdHlwZSwgXCJyYXdcIik7XG5cdFx0XHR9O1xuXHRcdFx0RkJCX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBcIltvYmplY3QgQmxvYkJ1aWxkZXJdXCI7XG5cdFx0XHR9O1xuXHRcdFx0RkJfcHJvdG8uc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kLCB0eXBlKSB7XG5cdFx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRcdFx0aWYgKGFyZ3MgPCAzKSB7XG5cdFx0XHRcdFx0dHlwZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5ldyBGYWtlQmxvYihcblx0XHRcdFx0XHQgIHRoaXMuZGF0YS5zbGljZShzdGFydCwgYXJncyA+IDEgPyBlbmQgOiB0aGlzLmRhdGEubGVuZ3RoKVxuXHRcdFx0XHRcdCwgdHlwZVxuXHRcdFx0XHRcdCwgdGhpcy5lbmNvZGluZ1xuXHRcdFx0XHQpO1xuXHRcdFx0fTtcblx0XHRcdEZCX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBcIltvYmplY3QgQmxvYl1cIjtcblx0XHRcdH07XG5cdFx0XHRGQl9wcm90by5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLnNpemUgPSAwO1xuXHRcdFx0XHRkZWxldGUgdGhpcy5kYXRhO1xuXHRcdFx0fTtcblx0XHRcdHJldHVybiBGYWtlQmxvYkJ1aWxkZXI7XG5cdFx0fSh2aWV3KSk7XG5cblx0XHR2aWV3LkJsb2IgPSBmdW5jdGlvbihibG9iUGFydHMsIG9wdGlvbnMpIHtcblx0XHRcdHZhciB0eXBlID0gb3B0aW9ucyA/IChvcHRpb25zLnR5cGUgfHwgXCJcIikgOiBcIlwiO1xuXHRcdFx0dmFyIGJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcblx0XHRcdGlmIChibG9iUGFydHMpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGJsb2JQYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdGlmIChVaW50OEFycmF5ICYmIGJsb2JQYXJ0c1tpXSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcblx0XHRcdFx0XHRcdGJ1aWxkZXIuYXBwZW5kKGJsb2JQYXJ0c1tpXS5idWZmZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGJ1aWxkZXIuYXBwZW5kKGJsb2JQYXJ0c1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR2YXIgYmxvYiA9IGJ1aWxkZXIuZ2V0QmxvYih0eXBlKTtcblx0XHRcdGlmICghYmxvYi5zbGljZSAmJiBibG9iLndlYmtpdFNsaWNlKSB7XG5cdFx0XHRcdGJsb2Iuc2xpY2UgPSBibG9iLndlYmtpdFNsaWNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGJsb2I7XG5cdFx0fTtcblxuXHRcdHZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihvYmplY3QpIHtcblx0XHRcdHJldHVybiBvYmplY3QuX19wcm90b19fO1xuXHRcdH07XG5cdFx0dmlldy5CbG9iLnByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKG5ldyB2aWV3LkJsb2IoKSk7XG5cdH0odHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZiB8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdyB8fCB0aGlzLmNvbnRlbnQgfHwgdGhpcykpO1xuXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBTYXZlQXMoKSB7XG5cdCAgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oNikuc2F2ZUFzIHx8IGZ1bmN0aW9uKCkge307XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBGaWxlU2F2ZXIuanNcblx0ICogQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXG5cdCAqIDEuMy4yXG5cdCAqIDIwMTYtMDYtMTYgMTg6MjU6MTlcblx0ICpcblx0ICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuXHQgKiBMaWNlbnNlOiBNSVRcblx0ICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcblx0ICovXG5cblx0LypnbG9iYWwgc2VsZiAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCBpbmRlbnQ6IDQsIGxheGJyZWFrOiB0cnVlLCBsYXhjb21tYTogdHJ1ZSwgc21hcnR0YWJzOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSAqL1xuXG5cdC8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXG5cblx0dmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24odmlldykge1xuXHRcdFwidXNlIHN0cmljdFwiO1xuXHRcdC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXG5cdFx0aWYgKHR5cGVvZiB2aWV3ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyXG5cdFx0XHQgIGRvYyA9IHZpZXcuZG9jdW1lbnRcblx0XHRcdCAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcblx0XHRcdCwgZ2V0X1VSTCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcblx0XHRcdH1cblx0XHRcdCwgc2F2ZV9saW5rID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXG5cdFx0XHQsIGNhbl91c2Vfc2F2ZV9saW5rID0gXCJkb3dubG9hZFwiIGluIHNhdmVfbGlua1xuXHRcdFx0LCBjbGljayA9IGZ1bmN0aW9uKG5vZGUpIHtcblx0XHRcdFx0dmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcblx0XHRcdFx0bm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdCwgaXNfc2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdCh2aWV3LkhUTUxFbGVtZW50KVxuXHRcdFx0LCBpc19jaHJvbWVfaW9zID0vQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcblx0XHRcdCwgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uKGV4KSB7XG5cdFx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRocm93IGV4O1xuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH1cblx0XHRcdCwgZm9yY2Vfc2F2ZWFibGVfdHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcblx0XHRcdC8vIHRoZSBCbG9iIEFQSSBpcyBmdW5kYW1lbnRhbGx5IGJyb2tlbiBhcyB0aGVyZSBpcyBubyBcImRvd25sb2FkZmluaXNoZWRcIiBldmVudCB0byBzdWJzY3JpYmUgdG9cblx0XHRcdCwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gMTAwMCAqIDQwIC8vIGluIG1zXG5cdFx0XHQsIHJldm9rZSA9IGZ1bmN0aW9uKGZpbGUpIHtcblx0XHRcdFx0dmFyIHJldm9rZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXG5cdFx0XHRcdFx0XHRnZXRfVVJMKCkucmV2b2tlT2JqZWN0VVJMKGZpbGUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7IC8vIGZpbGUgaXMgYSBGaWxlXG5cdFx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0c2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xuXHRcdFx0fVxuXHRcdFx0LCBkaXNwYXRjaCA9IGZ1bmN0aW9uKGZpbGVzYXZlciwgZXZlbnRfdHlwZXMsIGV2ZW50KSB7XG5cdFx0XHRcdGV2ZW50X3R5cGVzID0gW10uY29uY2F0KGV2ZW50X3R5cGVzKTtcblx0XHRcdFx0dmFyIGkgPSBldmVudF90eXBlcy5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHR2YXIgbGlzdGVuZXIgPSBmaWxlc2F2ZXJbXCJvblwiICsgZXZlbnRfdHlwZXNbaV1dO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0bGlzdGVuZXIuY2FsbChmaWxlc2F2ZXIsIGV2ZW50IHx8IGZpbGVzYXZlcik7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChleCkge1xuXHRcdFx0XHRcdFx0XHR0aHJvd19vdXRzaWRlKGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdCwgYXV0b19ib20gPSBmdW5jdGlvbihibG9iKSB7XG5cdFx0XHRcdC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXG5cdFx0XHRcdC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXG5cdFx0XHRcdGlmICgvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRiksIGJsb2JdLCB7dHlwZTogYmxvYi50eXBlfSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGJsb2I7XG5cdFx0XHR9XG5cdFx0XHQsIEZpbGVTYXZlciA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0ICBmaWxlc2F2ZXIgPSB0aGlzXG5cdFx0XHRcdFx0LCB0eXBlID0gYmxvYi50eXBlXG5cdFx0XHRcdFx0LCBmb3JjZSA9IHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGVcblx0XHRcdFx0XHQsIG9iamVjdF91cmxcblx0XHRcdFx0XHQsIGRpc3BhdGNoX2FsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBvbiBhbnkgZmlsZXN5cyBlcnJvcnMgcmV2ZXJ0IHRvIHNhdmluZyB3aXRoIG9iamVjdCBVUkxzXG5cdFx0XHRcdFx0LCBmc19lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKChpc19jaHJvbWVfaW9zIHx8IChmb3JjZSAmJiBpc19zYWZhcmkpKSAmJiB2aWV3LkZpbGVSZWFkZXIpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiB1cmxzXG5cdFx0XHRcdFx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdFx0XHRyZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHVybCA9IGlzX2Nocm9tZV9pb3MgPyByZWFkZXIucmVzdWx0IDogcmVhZGVyLnJlc3VsdC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCAnZGF0YTphdHRhY2htZW50L2ZpbGU7Jyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBvcHVwID0gdmlldy5vcGVuKHVybCwgJ19ibGFuaycpO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCFwb3B1cCkgdmlldy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuXHRcdFx0XHRcdFx0XHRcdHVybD11bmRlZmluZWQ7IC8vIHJlbGVhc2UgcmVmZXJlbmNlIGJlZm9yZSBkaXNwYXRjaGluZ1xuXHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuXHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxuXHRcdFx0XHRcdFx0aWYgKCFvYmplY3RfdXJsKSB7XG5cdFx0XHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGZvcmNlKSB7XG5cdFx0XHRcdFx0XHRcdHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR2YXIgb3BlbmVkID0gdmlldy5vcGVuKG9iamVjdF91cmwsIFwiX2JsYW5rXCIpO1xuXHRcdFx0XHRcdFx0XHRpZiAoIW9wZW5lZCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEFwcGxlIGRvZXMgbm90IGFsbG93IHdpbmRvdy5vcGVuLCBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvc2FmYXJpL2RvY3VtZW50YXRpb24vVG9vbHMvQ29uY2VwdHVhbC9TYWZhcmlFeHRlbnNpb25HdWlkZS9Xb3JraW5nd2l0aFdpbmRvd3NhbmRUYWJzL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMuaHRtbFxuXHRcdFx0XHRcdFx0XHRcdHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdDtcblx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblxuXHRcdFx0XHRpZiAoY2FuX3VzZV9zYXZlX2xpbmspIHtcblx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2F2ZV9saW5rLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdFx0c2F2ZV9saW5rLmRvd25sb2FkID0gbmFtZTtcblx0XHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdH1cblx0XHRcdCwgRlNfcHJvdG8gPSBGaWxlU2F2ZXIucHJvdG90eXBlXG5cdFx0XHQsIHNhdmVBcyA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgRmlsZVNhdmVyKGJsb2IsIG5hbWUgfHwgYmxvYi5uYW1lIHx8IFwiZG93bmxvYWRcIiwgbm9fYXV0b19ib20pO1xuXHRcdFx0fVxuXHRcdDtcblx0XHQvLyBJRSAxMCsgKG5hdGl2ZSBzYXZlQXMpXG5cdFx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRuYW1lID0gbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiO1xuXG5cdFx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUpO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRGU19wcm90by5hYm9ydCA9IGZ1bmN0aW9uKCl7fTtcblx0XHRGU19wcm90by5yZWFkeVN0YXRlID0gRlNfcHJvdG8uSU5JVCA9IDA7XG5cdFx0RlNfcHJvdG8uV1JJVElORyA9IDE7XG5cdFx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cblx0XHRGU19wcm90by5lcnJvciA9XG5cdFx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cblx0XHRGU19wcm90by5vbnByb2dyZXNzID1cblx0XHRGU19wcm90by5vbndyaXRlID1cblx0XHRGU19wcm90by5vbmFib3J0ID1cblx0XHRGU19wcm90by5vbmVycm9yID1cblx0XHRGU19wcm90by5vbndyaXRlZW5kID1cblx0XHRcdG51bGw7XG5cblx0XHRyZXR1cm4gc2F2ZUFzO1xuXHR9KFxuXHRcdCAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGZcblx0XHR8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xuXHRcdHx8IHRoaXMuY29udGVudFxuXHQpKTtcblx0Ly8gYHNlbGZgIGlzIHVuZGVmaW5lZCBpbiBGaXJlZm94IGZvciBBbmRyb2lkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHRcblx0Ly8gd2hpbGUgYHRoaXNgIGlzIG5zSUNvbnRlbnRGcmFtZU1lc3NhZ2VNYW5hZ2VyXG5cdC8vIHdpdGggYW4gYXR0cmlidXRlIGBjb250ZW50YCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB3aW5kb3dcblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHQgIG1vZHVsZS5leHBvcnRzLnNhdmVBcyA9IHNhdmVBcztcblx0fSBlbHNlIGlmICgoXCJmdW5jdGlvblwiICE9PSBcInVuZGVmaW5lZFwiICYmIF9fd2VicGFja19yZXF1aXJlX18oNykgIT09IG51bGwpICYmIChfX3dlYnBhY2tfcmVxdWlyZV9fKDgpICE9PSBudWxsKSkge1xuXHQgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHNhdmVBcztcblx0ICB9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH1cblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihfX3dlYnBhY2tfYW1kX29wdGlvbnNfXykge21vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywge30pKVxuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47Il19
