"use strict";angular.module("ngCart",["ngCart.directives"]).config([function(){}]).provider("$ngCart",function(){this.$get=function(){}}).run(["$rootScope","ngCart","ngCartItem","store",function(t,e,n,r){t.$on("ngCart:change",function(){e.$save()}),angular.isObject(r.get("cart"))?e.$restore(r.get("cart")):e.init()}]).service("ngCart",["$rootScope","$location","$window","ngCartItem","store",function(t,e,n,r,a){this.init=function(){this.$cart={shipping:null,taxRate:null,tax:null,items:[]}},this.addItem=function(e,n,a,i,o,s,l){var u=this.getItemById(e);if("object"==typeof u)u.setQuantity(o,!1),t.$broadcast("ngCart:itemUpdated",u);else{var c=new r(e,n,a,i,o,s,l);this.$cart.items.push(c),t.$broadcast("ngCart:itemAdded",c)}t.$broadcast("ngCart:change",{})},this.addItemBtn=function(n,a,i,o,s,l){var u=l.skus;if(1===u.length){var c=this.getItemById(n);if("object"==typeof c)c.setQuantity(s,!1),t.$broadcast("ngCart:itemUpdated",c);else{var d=new r(n,a,i,o,s,l);this.$cart.items.push(d),t.$broadcast("ngCart:itemAdded",d)}t.$broadcast("ngCart:change",{})}else e.url("/store/"+l.id)},this.changeQuantity=function(e,n){var r=this.getItemById(e);"object"==typeof r?(r.setQuantity(n,!0),t.$broadcast("ngCart:itemUpdated",r)):console.log("nothing there"),t.$broadcast("ngCart:change",{})},this.getItemById=function(t){var e=this.getCart().items,n=!1;return angular.forEach(e,function(e){e.getId()===t&&(n=e)}),n},this.setShipping=function(e){return this.$cart.shipping=e,t.$broadcast("ngCart:change",{}),this.getShipping()},this.getShipping=function(){return 0==this.getCart().items.length?0:this.getCart().shipping},this.setTaxRate=function(e){return this.$cart.taxRate=+parseFloat(e).toFixed(2),t.$broadcast("ngCart:change",{}),this.getTaxRate()},this.getTaxRate=function(){return this.$cart.taxRate},this.getTax=function(){return Math.round(this.getSubTotal()/100*this.getCart().taxRate)},this.setCart=function(t){return this.$cart=t,this.getCart()},this.getCart=function(){return this.$cart},this.getItems=function(){return this.getCart().items},this.getTotalItems=function(){var t=0,e=this.getItems();return angular.forEach(e,function(e){t+=e.getQuantity()}),t},this.getTotalUniqueItems=function(){return this.getCart().items.length},this.getSubTotal=function(){var t=0;return angular.forEach(this.getCart().items,function(e){t+=e.getTotal()}),+parseFloat(t).toFixed(2)},this.totalCost=function(){return+parseFloat(this.getSubTotal()+this.getShipping()+this.getTax()).toFixed(2)},this.removeItem=function(e){var n=this.$cart.items.splice(e,1)[0]||{};t.$broadcast("ngCart:itemRemoved",n),t.$broadcast("ngCart:change",{})},this.removeItemById=function(e){var n,r=this.getCart();angular.forEach(r.items,function(t,n){t.getId()===e&&(t=r.items.splice(n,1)[0]||{})}),this.setCart(r),t.$broadcast("ngCart:itemRemoved",n),t.$broadcast("ngCart:change",{})},this.empty=function(){t.$broadcast("ngCart:change",{}),this.$cart.items=[],n.localStorage.removeItem("cart")},this.isEmpty=function(){return!(this.$cart.items.length>0)},this.toObject=function(){if(0===this.getItems().length)return!1;var t=[];return angular.forEach(this.getItems(),function(e){t.push(e.toObject())}),{shipping:this.getShipping(),tax:this.getTax(),taxRate:this.getTaxRate(),subTotal:this.getSubTotal(),totalCost:this.totalCost(),items:t}},this.$restore=function(t){var e=this;e.init(),e.$cart.shipping=t.shipping,e.$cart.taxRate=t.taxRate,e.$cart.tax=t.tax,angular.forEach(t.items,function(t){e.$cart.items.push(new r(t.parent,t.sku,t.description,t.amount,t.quantity,t._data,t.attr))}),this.$save()},this.$save=function(){return a.set("cart",JSON.stringify(this.getCart()))}}]).factory("ngCartItem",["$rootScope","$log",function(t,e){var n=function(t,e,n,r,a,i,o){this.setId(t),this.setSku(e),this.setName(n),this.setPrice(r),this.setQuantity(a),this.setData(i),this.setAttr(o)};return n.prototype.setId=function(t){t?this.parent=t:e.error("An ID must be provided")},n.prototype.setSku=function(t){t?this.sku=t:e.error("A sku must be provided")},n.prototype.getId=function(){return this.parent},n.prototype.getSku=function(){return this.sku},n.prototype.setName=function(t){t?this.description=t:e.error("A name must be provided")},n.prototype.getName=function(){return this.description},n.prototype.setPrice=function(t){var n=parseFloat(t);n?n<=0?e.error("A price must be over 0"):this.amount=n:e.error("A price must be provided")},n.prototype.getPrice=function(){return this.amount},n.prototype.setQuantity=function(t,n){var r=parseInt(t);r%1===0?(n===!0?this.quantity+=r:this.quantity=r,this.quantity<1&&(this.quantity=1)):(this.quantity=1,e.info("Quantity must be an integer and was defaulted to 1"))},n.prototype.getQuantity=function(){return this.quantity},n.prototype.setData=function(t){t&&(this._data=t)},n.prototype.getData=function(){return this._data?this._data:void e.info("This item has no data")},n.prototype.setAttr=function(t){t&&(this.attr=t)},n.prototype.getAttr=function(){if(this.attr){if(this.attr.size)return this.attr.size;if(this.attr.color)return this.attr.size}},n.prototype.getTotal=function(){return+parseFloat(this.getQuantity()*this.getPrice()).toFixed(2)},n.prototype.toObject=function(){return{id:this.getId(),name:this.getName(),price:this.getPrice(),quantity:this.getQuantity(),data:this.getData(),total:this.getTotal()}},n}]).service("store",["$window",function(t){return{get:function(e){if(t.localStorage.getItem(e)){var n=angular.fromJson(t.localStorage.getItem(e));return JSON.parse(n)}return!1},set:function(e,n){return void 0===n?t.localStorage.removeItem(e):t.localStorage.setItem(e,angular.toJson(n)),t.localStorage.getItem(e)}}}]).controller("CartController",["$scope","$rootScope","ngCart","$timeout",function(t,e,n,r){t.loaded=!1,t.toggleCart=!1,t.ngCart=n,r(function(){t.loaded=!0});var a=n.getItems(),i=[];angular.forEach(a,function(t){"shippable"===t._data.product_type&&i.push(t)}),i.length>0?(t.shipBool=!0,t.$emit("setShippable",!0)):(t.shipBool=!1,t.$emit("setShippable",!1))}]).controller("CartBtnController",["$scope","ngCart","$timeout",function(t,e,n){t.loaded=!1,t.toggleCart=!1,t.ngCart=e,n(function(){t.loaded=!0})}]).value("version","1.0.0"),angular.module("ngCart.directives",["ngCart.fulfilment"]).controller("CartController",["$scope","ngCart",function(t,e){t.ngCart=e}]).directive("ngcartAddBtn",["ngCart",function(t){return{restrict:"E",controller:"CartBtnController",scope:{id:"@",sku:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/addtocartBtn.html":e.templateUrl},link:function(e,n,r){e.attrs=r,e.inCart=function(){return t.getItemById(r.id)},e.inCart()?e.q=t.getItemById(r.id).getQuantity():e.q=parseInt(e.quantity),e.qtyOpt=[];for(var a=1;a<=e.quantityMax;a++)e.qtyOpt.push(a)}}}]).directive("ngcartAddtocart",["ngCart",function(t){return{restrict:"E",controller:"CartController",scope:{id:"@",sku:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/addtocart.html":e.templateUrl},link:function(e,n,r){e.attrs=r,e.inCart=function(){return t.getItemById(r.id)},e.inCart()?e.q=t.getItemById(r.id).getQuantity():e.q=parseInt(e.quantity),e.qtyOpt=[];var a,i=firebase.database().ref("tickets/"+e.id+"/totalTickets");i.once("value").then(function(t){if(e.totalTix=t.val(),a=e.quantityMax<e.totalTix?e.quantityMax:e.totalTix,a>0)for(var n=1;n<=a;n++)e.qtyOpt.push(n)})}}}]).directive("ngcartCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/cart.html":e.templateUrl},link:function(t,e,n){}}}]).directive("ngcartSummary",[function(){return{restrict:"E",controller:"CartController",scope:{},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/summary.html":e.templateUrl}}}]).directive("ngcartCartConfirm",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/cart-confirm.html":e.templateUrl},link:function(t,e,n){}}}]).directive("ngcartSmallCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/small-cart.html":e.templateUrl},link:function(t,e,n){}}}]).directive("ngcartSmallCartCollapse",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/small-cart-collapse.html":e.templateUrl},link:function(t,e,n){}}}]).directive("ngcartCheckout",[function(){return{restrict:"E",controller:["$rootScope","$scope","ngCart","fulfilmentProvider",function(t,e,n,r){e.ngCart=n,e.checkout=function(){r.setService(e.service),r.setSettings(e.settings),r.checkout().success(function(e,n,r,a){t.$broadcast("ngCart:checkout_succeeded",e)}).error(function(e,n,r,a){t.$broadcast("ngCart:checkout_failed",{statusCode:n,error:e})})}}],scope:{service:"@",settings:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"template/ngCart/checkout.html":e.templateUrl}}}]),angular.module("ngCart.fulfilment",[]).service("fulfilmentProvider",["$injector",function(t){this._obj={service:void 0,settings:void 0},this.setService=function(t){this._obj.service=t},this.setSettings=function(t){this._obj.settings=t},this.checkout=function(){var e=t.get("ngCart.fulfilment."+this._obj.service);return e.checkout(this._obj.settings)}}]).service("ngCart.fulfilment.log",["$q","$log","ngCart",function(t,e,n){this.checkout=function(){var r=t.defer();return e.info(n.toObject()),r.resolve({cart:n.toObject()}),r.promise}}]).service("ngCart.fulfilment.http",["$http","ngCart",function(t,e){this.checkout=function(n){return t.post(n.url,{data:e.toObject(),options:n.options})}}]).service("ngCart.fulfilment.paypal",["$http","ngCart",function(t,e){}]),angular.module("angular-parallax",[]).directive("parallax",["$window",function(t){return{restrict:"A",scope:{parallaxRatio:"@",parallaxVerticalOffset:"@",parallaxHorizontalOffset:"@"},link:function(e,n,r){var a=function(){e.parallaxHorizontalOffset||(e.parallaxHorizontalOffset="0");var r=t.pageYOffset*(e.parallaxRatio?e.parallaxRatio:1.1);if(r<=t.innerHeight){var a=r<e.parallaxVerticalOffset?e.parallaxVerticalOffset:r,i=e.parallaxHorizontalOffset.indexOf("%")===-1?e.parallaxHorizontalOffset+"px":e.parallaxHorizontalOffset;n.css("transform","translate("+i+", "+a+"px)")}};a(),angular.element(t).bind("scroll",a),angular.element(t).bind("touchmove",a)}}}]).directive("parallaxBackground",["$window",function(t){return{restrict:"A",transclude:!0,template:"<div ng-transclude></div>",scope:{parallaxRatio:"@",parallaxVerticalOffset:"@",parallaxStartPoint:"@"},link:function(e,n,r){var a=function(){var r=e.parallaxVerticalOffset/100*n[0].offsetHeight,a=(n.prop("offsetTop")-t.pageYOffset)*(e.parallaxRatio?e.parallaxRatio:1.1)-(r||0);a>=e.parallaxStartPoint&&(a=e.parallaxStartPoint),n.css("background-position","50% "+a+"px")};angular.element(t).bind("load",function(t){a(),e.$apply()}),angular.element(t).bind("scroll",a),angular.element(t).bind("touchmove",a)}}}]),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(t,e){t.exports=function(t,e,n){function r(t,r,a){try{e(t,r,a)}catch(t){n.handleErrors(t.message)}}return{saveAs:function(t,e,a){return n.isBlobInstance(t)||n.handleErrors("Data argument should be a blob instance"),n.isString(e)||n.handleErrors("Filename argument should be a string"),r(t,e,a)}}}},function(t,e){t.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return"undefined"==typeof t},isBlobInstance:function(t){return t instanceof Blob}}}},function(t,e,n){n(4),t.exports=function(t){return t.Blob}},function(t,e){!function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},a=n.prototype,i=r.prototype,o=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,d=c.createObjectURL,p=c.revokeObjectURL,f=c,m=t.btoa,g=t.atob,h=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=i.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof r?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):m?e+";base64,"+m(t.data):e+","+encodeURIComponent(t.data)):d?d.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&p&&p.call(c,t)},a.append=function(t){var n=this.data;if(v&&(t instanceof h||t instanceof v)){for(var a="",i=new v(t),l=0,u=i.length;l<u;l++)a+=String.fromCharCode(i[l]);n.push(a)}else if("Blob"===e(t)||"File"===e(t)){if(!o)throw new s("NOT_READABLE_ERR");var c=new o;n.push(c.readAsBinaryString(t))}else t instanceof r?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},a.getBlob=function(t){return arguments.length||(t=null),new r(this.data.join(""),t,"raw")},a.toString=function(){return"[object BlobBuilder]"},i.slice=function(t,e,n){var a=arguments.length;return a<3&&(n=null),new r(this.data.slice(t,a>1?e:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var r=n?n.type||"":"",a=new e;if(t)for(var i=0,o=t.length;i<o;i++)Uint8Array&&t[i]instanceof Uint8Array?a.append(t[i].buffer):a.append(t[i]);var s=a.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e,n){t.exports=function(){return n(6).saveAs||function(){}}},function(t,e,n){var r,a,i=i||function(t){if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=4e4,d=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,c)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var a=t["on"+e[r]];if("function"==typeof a)try{a.call(t,n||t)}catch(t){l(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},m=function(e,l,c){c||(e=f(e));var m,g=this,h=e.type,v=h===u,y=function(){p(g,"writestart progress write writeend".split(" "))},b=function(){if((s||v&&o)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,g.readyState=g.DONE,y()},r.readAsDataURL(e),void(g.readyState=g.INIT)}if(m||(m=n().createObjectURL(e)),v)t.location.href=m;else{var a=t.open(m,"_blank");a||(t.location.href=m)}g.readyState=g.DONE,y(),d(m)};return g.readyState=g.INIT,a?(m=n().createObjectURL(e),void setTimeout(function(){r.href=m,r.download=l,i(r),y(),d(m),g.readyState=g.DONE})):void b()},g=m.prototype,h=function(t,e,n){return new m(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=i:null!==n(7)&&null!==n(8)&&(r=[],a=function(){return i}.apply(e,r),!(void 0!==a&&(t.exports=a)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}])});var uiroutermetatags;!function(t){function e(t,e,n,r){function a(t,e,n,a,i){r.prerenderReady=!1}function i(e,r){r.metaTags||t.debug('MetaTags - route: "'+r.name+'" does not contain any metatags'),n.update(r.metaTags)}function o(t,e,a,i,o,s){n.prerender.statusCode=500,r.prerenderReady=!0}function s(t,e,a){n.prerender.statusCode=404,r.prerenderReady=!0}e.MetaTags=n,e.$on("$stateChangeStart",a),e.$on("$stateChangeSuccess",i),e.$on("$stateChangeError",o),e.$on("$stateNotFound",s)}e.$inject=["$log","$rootScope","MetaTags","$window"];var n=angular.module("ui.router.metatags",["ui.router"]),r=function(){function t(){this.prefix="",this.suffix="",this.defaultTitle="",this.defaultDescription="",this.defaultKeywords="",this.defaultRobots="",this.staticProperties={},this.enableOGURL=!1}return t.prototype.setTitlePrefix=function(t){return this.prefix=t,this},t.prototype.setTitleSuffix=function(t){return this.suffix=t,this},t.prototype.setDefaultTitle=function(t){return this.defaultTitle=t,this},t.prototype.setDefaultDescription=function(t){return this.defaultDescription=t,this},t.prototype.setDefaultKeywords=function(t){return this.defaultKeywords=t,this},t.prototype.setDefaultRobots=function(t){return this.defaultRobots=t,this},t.prototype.setStaticProperties=function(t){return this.staticProperties=t,this},t.prototype.setOGURL=function(t){return this.enableOGURL=t,this},t.prototype.$get=function(){return{prefix:this.prefix,suffix:this.suffix,defaultTitle:this.defaultTitle,defaultDescription:this.defaultDescription,defaultKeywords:this.defaultKeywords,defaultRobots:this.defaultRobots,staticProperties:this.staticProperties,enableOGURL:this.enableOGURL}},t}();n.provider("UIRouterMetatags",r);var a=function(){function t(t,e,n,r,a,i,o){this.$log=t,this.UIRouterMetatags=e,this.$interpolate=n,this.$injector=r,this.$state=a,this.$location=i,this.$window=o,this.prerender={}}return t.$inject=["$log","UIRouterMetatags","$interpolate","$injector","$state","$location","$window"],t.prototype.update=function(t){var e=this;try{this.properties=angular.extend({},this.UIRouterMetatags.staticProperties),this.UIRouterMetatags.enableOGURL&&(this.properties["og:url"]=this.$location.absUrl()),t?(this.title=t.title?this.UIRouterMetatags.prefix+(this.getValue("title",t.title)||"")+this.UIRouterMetatags.suffix:this.UIRouterMetatags.defaultTitle,this.description=t.description?this.getValue("description",t.description):this.UIRouterMetatags.defaultDescription,this.keywords=t.keywords?this.getValue("keywords",t.keywords):this.UIRouterMetatags.defaultKeywords,this.robots=t.robots?this.getValue("robots",t.robots):this.UIRouterMetatags.defaultRobots,angular.forEach(t.properties,function(t,n){var r=e.getValue(n,t);r&&(e.properties[n]=r)})):(this.title=this.UIRouterMetatags.defaultTitle,this.description=this.UIRouterMetatags.defaultDescription,this.keywords=this.UIRouterMetatags.defaultKeywords,this.robots=this.UIRouterMetatags.defaultRobots),t&&t.prerender?(this.prerender.statusCode=t.prerender.statusCode?this.getValue("prerender.statusCode",t.prerender.statusCode):200,this.prerender.header=t.prerender.header?this.getValue("rerender.header",t.prerender.header):null):(this.prerender.statusCode=200,this.prerender.header=null),this.$window.prerenderReady=!0}catch(t){this.$log.error("error occured when extracting metatags:",t)}},t.prototype.getValue=function(t,e){try{return e?"number"==typeof e?e:"string"==typeof e&&0===e.trim().length?null:angular.isFunction(e)||Array.isArray(e)?this.$injector.invoke(e,this,this.$state.$current.locals.globals):this.$interpolate(e)(this.$state.$current.locals.globals):null}catch(e){return this.$log.error("error occured when trying to get the value of tag:",t,e),null}},t}();n.service("MetaTags",a),n.run(e)}(uiroutermetatags||(uiroutermetatags={}));var tableSortModule=angular.module("tableSort",[]);tableSortModule.provider("tableSortConfig",function(){this.filterTemplate="",this.filterFunction=void 0,this.paginationTemplate="",this.perPageOptions=[10,25,50,100],this.perPageDefault=this.perPageOptions[0],this.itemNameSingular="item",this.itemNamePlural=this.itemNameSingular+"s",this.noDataText="No "+this.itemNamePlural,this.wrappingElementClass="",isNaN(this.perPageDefault)||this.perPageOptions.indexOf(this.perPageDefault)!==-1||this.perPageOptions.push(this.perPageDefault),this.perPageOptions.sort(function(t,e){return t-e}),this.$get=function(){return this}}),tableSortModule.directive("tsWrapper",["$parse","$compile",function(t,e){function n(t,e){console.log("what is templateString? ",e);var n=e.replace(/FILTER_STRING/g,"filtering.filterString").replace(/CURRENT_PAGE_RANGE/g,"pagination.getPageRangeString(TOTAL_COUNT)").replace(/TOTAL_COUNT/g,t.itemsArrayExpression+".length").replace(/PER_PAGE_OPTIONS/g,"pagination.perPageOptions").replace(/ITEMS_PER_PAGE/g,"pagination.perPage").replace(/ITEM_NAME_SINGULAR/g,"itemNameSingular").replace(/ITEM_NAME_PLURAL/g,"itemNamePlural").replace(/FILTERED_COUNT/g,"filtering.filteredCount").replace(/CURRENT_PAGE_NUMBER/g,"pagination.currentPage");return console.log("newString: ",n),n}function r(){function t(t,e){return t>e?1:t<e?-1:0}var e=t,n=t;"object"==typeof Intl?e=new Intl.Collator((void 0),{sensitivity:"case"}).compare:"function"==typeof String.prototype.localeCompare&&(e=function(t,e){return(t+"").localeCompare(e,void 0,{sensitivity:"case"})});var r=function(t,r){return"number"==typeof t&&"number"==typeof r?n(t,r):t instanceof Date&&r instanceof Date?n(t.getTime(),r.getTime()):e(t,r)};return r}var a=r();return{scope:!0,controller:["$scope","tableSortConfig",function(e,n){e.pagination={template:n.paginationTemplate,perPageOptions:n.perPageOptions.concat(),perPage:n.perPageDefault,currentPage:1,getPageRangeString:function(t){var n=t!==e.filtering.filteredCount?e.filtering.filteredCount:t,r=Math.max((e.pagination.currentPage-1)*e.pagination.perPage+1,1),a=Math.min(e.pagination.currentPage*e.pagination.perPage,n);return 0===e.filtering.filteredCount?"":(a===n&&1===r?"":r+"-")+a}},console.log("what is pagination: ",e.pagination),e.filtering={template:n.filterTemplate,filterString:"",filterFunction:n.filterFunction,filteredCount:0,filterFields:[]},console.log("what is filtering: ",e.filtering),e.itemsArrayExpression="",e.itemNameSingular=n.itemNameSingular,e.itemNamePlural=n.itemNamePlural,e.noDataText=n.noDataText,e.wrappingElementClass=n.wrappingElementClass,e.sortExpression=[],e.headings=[];var r=function(e,n){return[t(e),null,!1,n?n:e]};this.setSortField=function(t,n,a,i){var o,s=r(t,a);if(s.push(i),1===e.sortExpression.length&&e.sortExpression[0][0]===s[0])e.sortExpression[0][2]?(n.removeClass("tablesort-desc"),n.addClass("tablesort-asc"),e.sortExpression[0][2]=!1):(n.removeClass("tablesort-asc"),n.addClass("tablesort-desc"),e.sortExpression[0][2]=!0),e.$emit("tablesort:sortOrder",[{name:e.sortExpression[0][3],order:e.sortExpression[0][2]}]);else{for(o=0;o<e.headings.length;o+=1)e.headings[o].removeClass("tablesort-desc").removeClass("tablesort-asc");n.addClass("tablesort-asc"),e.sortExpression=[s],e.$emit("tablesort:sortOrder",[{name:s[3],order:s[2]}])}},this.addSortField=function(t,n,a,i){var o,s=!1,l=r(t,a);for(l.push(i),o=0;o<e.sortExpression.length;o+=1)e.sortExpression[o][0]===l[0]&&(e.sortExpression[o][2]?(n.removeClass("tablesort-desc"),n.addClass("tablesort-asc"),e.sortExpression[o][2]=!1):(n.removeClass("tablesort-asc"),n.addClass("tablesort-desc"),e.sortExpression[o][2]=!0),s=!0);s||(n.addClass("tablesort-asc"),e.sortExpression.push(l)),e.$emit("tablesort:sortOrder",e.sortExpression.map(function(t){return{name:t[3],order:t[2]}}))},this.setTrackBy=function(t){e.trackBy=t},this.registerHeading=function(t){e.headings.push(t)},this.addFilterField=function(t,n){var a=r(t);e.filtering.filterFields.push(a)},this.setArrayExpr=function(t){e.itemsArrayExpression=t}}],link:function(r,i,o,s){if(o.tsItemName){var l="No "+r.itemNamePlural;r.itemNameSingular=o.tsItemName,o.tsItemNamePlural?r.itemNamePlural=o.tsItemNamePlural:r.itemNamePlural=o.tsItemName+"s",o.tsNoDataText||r.noDataText!==l||(r.noDataText="No "+r.itemNamePlural)}if(o.tsNoDataText&&(r.noDataText=o.tsNoDataText),o.tsWrappingElementClass&&(r.wrappingElementClass=o.tsWrappingElementClass),o.tsPerPageOptions&&(r.pagination.perPageOptions=r.$eval(o.tsPerPageOptions)),o.tsPerPageDefault){var u=r.$eval(o.tsPerPageDefault);isNaN(u)||(r.pagination.perPage=u,r.pagination.perPageOptions.indexOf(r.pagination.perPage)===-1&&(r.pagination.perPageOptions.push(r.pagination.perPage),r.pagination.perPageOptions.sort(function(t,e){return t-e})))}if(o.tsFilterFields)for(var c=o.tsFilterFields.split(",").filter(function(t){return t&&""!==t.trim()}),d=0;d<c.length;d+=1)s.addFilterField(c[d]);var p;if("false"!==o.tsDisplayFiltering&&""!==r.filtering.template&&r.filtering.filterFields.length>0){var f=n(r,r.filtering.template);p=e(f)(r),i.parent()[0].insertBefore(p[0],i[0])}o.tsFilterFunction&&(r.filtering.filterFunction=r.$eval(o.tsFilterFunction)),angular.isFunction(r.filtering.filterFunction)||(0===r.filtering.filterFields.length?r.filtering.filterFunction=function(t){return!0}:r.filtering.filterFunction=function(t){for(var e=!1,n=0;n<r.filtering.filterFields.length;n+=1)if(!e){var a=(r.filtering.filterFields[n][0](t)||"").toString().toLowerCase();e=a.indexOf(r.filtering.filterString.toLowerCase())>-1}return e}),r.filterLimitFun=function(t){if(!o.tsFilterFunction&&""===r.filtering.filterString)return r.filtering.filteredCount=t.length,t;var e=t.filter(r.filtering.filterFunction);return r.filtering.filteredCount=e.length,e},r.sortFun=function(t,e){var n,i,o,s,l,u;for(n=0;n<r.sortExpression.length;n+=1){if(i=r.sortExpression[n][0](t),o=r.sortExpression[n][0](e),l=e[r.sortExpression[n][1]],l&&(i=l(i),o=l(o)),void 0!==i&&null!==i||(i=""),void 0!==o&&null!==o||(o=""),s=r.sortExpression[n][2],u=(r.sortExpression[n][4]||a)(i,o),1===u)return s?-1:1;if(u===-1)return s?1:-1}if(r.trackBy){if(i=t[r.trackBy],o=e[r.trackBy],void 0!==i&&null!==i||(i=""),void 0!==o&&null!==o||(o=""),u=a(i,o),1===u)return s?-1:1;if(u===-1)return s?1:-1}return 0},r.pageLimitFun=function(t){if("false"===o.tsDisplayPagination||""===r.pagination.template)return t;for(var e=(r.pagination.currentPage-1)*r.pagination.perPage,n=r.pagination.currentPage*r.pagination.perPage,a=[],i=0;i<t.length;i++)i>=e&&i<n&&a.push(t[i]);return a};var m;if("false"!==o.tsDisplayPagination&&""!==r.pagination.template){var g=n(r,r.pagination.template);m=e(g)(r),i.after(m)}var h;if(r.wrappingElementClass&&""!==r.wrappingElementClass&&(h=i.wrap("<div class='"+r.wrappingElementClass+"' />")),o.tsGetTableDataFunction){var v=t(o.tsGetTableDataFunction),y=v.assign,b=function(e,n,a){var i=t(r.itemsArrayExpression)(r);return e&&(i=i.sort(r.sortFun)),n&&(i=r.filterLimitFun(i)),a&&(i=r.pageLimitFun(i)),i};y(r.$parent,b)}r.$on("$destroy",function(){p&&p.remove(),m&&m.remove(),h&&h.replaceWith(i)})}}}]),tableSortModule.directive("tsCriteria",function(){return{require:"^tsWrapper",scope:{tsOrderBy:"="},link:function(t,e,n,r){var a=function(a){t.$apply(function(){a.shiftKey?r.addSortField(n.tsCriteria,e,n.tsName,t.tsOrderBy):r.setSortField(n.tsCriteria,e,n.tsName,t.tsOrderBy)})};e.bind("click",a),e.addClass("tablesort-sortable"),"tsDefault"in n&&"0"!==n.tsDefault&&(r.addSortField(n.tsCriteria,e,n.tsName,t.tsOrderBy),"descending"===n.tsDefault&&r.addSortField(n.tsCriteria,e,n.tsName,t.tsOrderBy)),"tsFilter"in n&&r.addFilterField(n.tsCriteria,e),r.registerHeading(e)}}}),tableSortModule.directive("tsRepeat",["$compile","$interpolate",function(t,e){return{terminal:!0,multiElement:!0,require:"^tsWrapper",priority:1e6,link:function(n,r,a,i){for(var o=["ng-repeat","data-ng-repeat","ng-repeat-start","data-ng-repeat-start"],s=o[0],l="ts-repeat",u=0;u<o.length;u++)if(angular.isDefined(r.attr(o[u]))){s=o[u],l=s.replace(/^(data-)?ng/,"$1ts");break}var c="tablesortOrderBy:sortFun | tablesortLimit:filterLimitFun | tablesortLimit:pageLimitFun",d=r.attr(s),p=/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(\s+track\s+by\s+[\s\S]+?)?\s*$/,f=d.match(/\s+track\s+by\s+\S+?\.(\S+)/),m=d.match(p);if(f&&i.setTrackBy(f[1]),d.search(/tablesort/)!==-1?(d=d.replace(/tablesort/,c),f&&(d=d.replace(f[0],"")+f[0])):d=d.replace(p,"$1 in $2 | "+c+"$3"),angular.isUndefined(a.tsHideNoData)){var g=e.startSymbol(),h=e.endSymbol(),v=angular.element(r[0]).clone();v.removeAttr(s),v.removeAttr(l),v.addClass("showIfLast"),v.children().remove(),v.append('<td colspan="'+r[0].childElementCount+'">'+g+"noDataText"+h+"</td>"),v=t(v)(n),r.parent().prepend(v)}i.setArrayExpr(m[2]),angular.element(r[0]).attr(s,d),t(r,null,1e6)(n)}}}]),tableSortModule.filter("tablesortLimit",function(){return function(t,e){if(t)return e(t)}}),tableSortModule.filter("tablesortOrderBy",function(){return function(t,e){if(t){var n=t.concat();return n.sort(e)}}}),tableSortModule.filter("parseInt",function(){return function(t){return parseInt(t)||null}}),tableSortModule.filter("parseFloat",function(){return function(t){return parseFloat(t)||null}}),tableSortModule.filter("parseDate",function(){return function(t){var e=Date.parse(t);return isNaN(e)?null:e}}),angular.module("picardy.fontawesome",[]).directive("fa",function(){return{restrict:"E",template:'<span class="fa" aria-hidden="true"></span>',replace:!0,link:function(t,e,n){function r(t,r){var a;n.$observe(t,function(){r=r||"fa-"+t,e.removeClass(i[t]),n[t]&&(a=[r,n[t]].join("-"),e.addClass(a),i[t]=a)})}function a(t,r){var a;n.$observe(t,function(){r=r||"fa-"+t,a=t in n&&"false"!==n[t]&&n[t]!==!1,e.toggleClass(r,a)})}var i={};r("name","fa"),r("rotate"),r("flip"),r("stack"),n.$observe("size",function(){var t;e.removeClass(i.size),"large"===n.size?t="fa-lg":isNaN(parseInt(n.size,10))||(t="fa-"+n.size+"x"),e.addClass(t),i.size=t}),n.$observe("stack",function(){var t;e.removeClass(i.stack),"large"===n.stack?t="fa-stack-lg":isNaN(parseInt(n.stack,10))||(t="fa-stack-"+n.stack+"x"),e.addClass(t),i.stack=t}),a("border"),a("fw"),a("inverse"),a("spin"),e.toggleClass("fa-li",e.parent()&&"LI"===e.parent().prop("tagName")&&e.parent().parent()&&e.parent().parent().hasClass("fa-ul")&&e.parent().children()[0]===e[0]&&"false"!==n.list&&n.list!==!1),n.$observe("alt",function(){var t=n.alt,r=e.next(),a="fa-alt-text";
t?(e.removeAttr("alt"),r&&r.hasClass(a)||(e.after('<span class="sr-only fa-alt-text"></span>'),r=e.next()),r.text(t)):r&&r.hasClass(a)&&r.remove()})}}}).directive("faStack",function(){return{restrict:"E",transclude:!0,template:'<span ng-transclude class="fa-stack fa-lg"></span>',replace:!0,link:function(t,e,n){function r(t,r){var i;n.$observe(t,function(){r=r||"fa-"+t,e.removeClass(a[t]),n[t]&&(i=[r,n[t]].join("-"),e.addClass(i),a[t]=i)})}var a={};r("size"),n.$observe("size",function(){var t;e.removeClass(a.size),"large"===n.size?t="fa-lg":isNaN(parseInt(n.size,10))||(t="fa-"+n.size+"x"),e.addClass(t),a.size=t})}}}),function(t,e,n,r){function a(e,n){this.options=t.extend({},o,n),this._defaults=o,this._name=i,this.$element=t(e),this.init()}var i="menuButton",o={propertyName:"value"};a.prototype={constructor:a,init:function(){this.toggle()},toggle:function(t,e){"show"===this.$element.data("dropdown")?this.hideMenu():this.showMenu()},showMenu:function(){this.$element.data("dropdown","show"),this.$element.find("ul").show()},hideMenu:function(){this.$element.data("dropdown","hide"),this.$element.find("ul").hide()}},t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)?t.data(this,"plugin_"+i).toggle():t.data(this,"plugin_"+i,new a(this,e))})},t(n).on("click",function(e){t.each(t("[data-buttons=dropdown]"),function(n,r){t(e.target.offsetParent)[0]!=t(this)[0]&&t.data(this,"plugin_"+i)&&(t.data(this,"plugin_"+i).hideMenu(),t(this).find("ul").hide())})}),t(n).on("click","[data-buttons=dropdown]",function(e){var n=t(e.currentTarget);n.menuButton()}),t(n).on("click","[data-buttons=dropdown] > a",function(t){t.preventDefault()})}(jQuery,window,document),angular.module("angularPayments",[]),angular.module("angularPayments").factory("Common",[function(){var t={};return t.parseExpiry=function(t){var e,n,r,a;return t=t||"",t=t.replace(/\s/g,""),a=t.split("/",2),e=a[0],r=a[1],2===(null!=r?r.length:void 0)&&/^\d+$/.test(r)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),r=n+r),e=parseInt(e,10),r=parseInt(r,10),{month:e,year:r}},t}]),angular.module("angularPayments").factory("Cards",[function(){var t=/(\d{1,4})/g,e=/(?:^|\s)(\d{4})$/,n=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:t,inputFormat:e,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:t,inputFormat:e,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:t,inputFormat:e,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:t,inputFormat:e,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:t,inputFormat:e,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:t,inputFormat:e,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:t,inputFormat:e,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,inputFormat:/^(\d{4}|\d{4}\s\d{6})$/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:t,inputFormat:e,length:[13,14,15,16],cvcLength:[3],luhn:!0}],r=function(t){var e,r,a;for(t=(t+"").replace(/\D/g,""),r=0,a=n.length;r<a;r++)if(e=n[r],e.pattern.test(t))return e},a=function(t){var e,r,a;for(r=0,a=n.length;r<a;r++)if(e=n[r],e.type===t)return e};return{fromNumber:function(t){return r(t)},fromType:function(t){return a(t)},defaultFormat:function(){return t},defaultInputFormat:function(){return e}}}]),angular.module("angularPayments").factory("_Format",["Cards","Common","$filter",function(t,e,n){var r={},a=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")||!("undefined"==typeof document||null===document||null==(e=document.selection)||"function"!=typeof e.createRange||!e.createRange().text)},i=function(e){var n,r,a,i,o,s,l;if(a=String.fromCharCode(e.which),n=angular.element(e.currentTarget),l=n.val(),r=t.fromNumber(l+a),i=(l.replace(/\D/g,"")+a).length,s=16,r&&(s=r.length[r.length.length-1]),!(i>=s)){if(!/^\d+$/.test(a)&&!e.meta&&e.keyCode>=46)return void e.preventDefault();if(null==n.prop("selectionStart")||n.prop("selectionStart")===l.length)return o=t.defaultInputFormat(),r&&(o=r.inputFormat),o.test(l)?(e.preventDefault(),n.val(l+" "+a)):o.test(l+a)?(e.preventDefault(),n.val(l+a+" ")):void 0}},o=function(e){var n,r,i,o;n=angular.element(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&(a(n)||(o=(n.val()+i).replace(/\D/g,""),r=t.fromNumber(o),r?o.length<=r.length[r.length.length-1]||e.preventDefault():o.length<=16||e.preventDefault()))},s=function(t){var e,n;if(e=angular.element(t.currentTarget),n=e.val(),!t.meta&&8===t.which&&(null==e.prop("selectionStart")||e.prop("selectionStart")===n.length))return/\d\s$/.test(n)&&!t.meta&&t.keyCode>=46?(t.preventDefault(),e.val(n.replace(/\d\s$/,""))):/\s\d?$/.test(n)?(t.preventDefault(),e.val(n.replace(/\s\d?$/,""))):void 0},l=function(e){var n,r,a,i;return(n=t.fromNumber(e))?(a=n.length[n.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+a+1||9e9),n.format.global?null!=(i=e.match(n.format))?i.join(" "):void 0:(r=n.format.exec(e),null!=r&&r.shift(),null!=r?r.join(" "):void 0)):e},u=function(t){return setTimeout(function(){var e,n;return e=angular.element(t.target),n=e.val(),n=l(n),e.val(n)})},c=function(t){return null!=t?t.replace(/\s/g,""):t};r.card=function(t,e){t.bind("keypress",o),t.bind("keypress",i),t.bind("keydown",s),t.bind("paste",u),e.$parsers.push(c),e.$formatters.push(l)},_formatCVC=function(t){return $target=angular.element(t.currentTarget),digit=String.fromCharCode(t.which),!/^\d+$/.test(digit)&&!t.meta&&t.keyCode>=46?void t.preventDefault():(val=$target.val()+digit,val.length<=4?void 0:void t.preventDefault())},r.cvc=function(t){t.bind("keypress",_formatCVC)},_restrictExpiry=function(t){var e,n,r;return e=angular.element(t.currentTarget),n=String.fromCharCode(t.which),!/^\d+$/.test(n)&&!t.meta&&t.keyCode>=46?void t.preventDefault():a(e)?void 0:(r=e.val()+n,r=r.replace(/\D/g,""),r.length>6?void t.preventDefault():void 0)},_formatExpiry=function(t){var e,n,r;return n=String.fromCharCode(t.which),!/^\d+$/.test(n)&&!t.meta&&t.keyCode>=46?void t.preventDefault():(e=angular.element(t.currentTarget),r=e.val()+n,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),e.val("0"+r+" / ")):/^\d\d$/.test(r)?(t.preventDefault(),e.val(""+r+" / ")):void 0)},_formatForwardExpiry=function(t){var e,n,r;if(n=String.fromCharCode(t.which),/^\d+$/.test(n)||t.meta||!(t.keyCode>=46))return e=angular.element(t.currentTarget),r=e.val(),/^\d\d$/.test(r)?e.val(""+r+" / "):void 0},_formatForwardSlash=function(t){var e,n,r;if(n=String.fromCharCode(t.which),"/"===n)return e=angular.element(t.currentTarget),r=e.val(),/^\d$/.test(r)&&"0"!==r?e.val("0"+r+" / "):void 0},_formatBackExpiry=function(t){var e,n;if(!t.meta&&(e=angular.element(t.currentTarget),n=e.val(),8===t.which&&(null==e.prop("selectionStart")||e.prop("selectionStart")===n.length)))return/\d(\s|\/)+$/.test(n)?(t.preventDefault(),e.val(n.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(n)?(t.preventDefault(),e.val(n.replace(/\s\/\s?\d?$/,""))):void 0};var d=function(t){if(null!=t){var r=e.parseExpiry(t),a=new Date(r.year,r.month-1);return n("date")(a,"MM/yyyy")}return null},p=function(t){if(null!=t){var r=e.parseExpiry(t),a=new Date(r.year,r.month-1);return n("date")(a,"MM / yyyy")}return null};return r.expiry=function(t,e){t.bind("keypress",_restrictExpiry),t.bind("keypress",_formatExpiry),t.bind("keypress",_formatForwardSlash),t.bind("keypress",_formatForwardExpiry),t.bind("keydown",_formatBackExpiry),e.$parsers.push(d),e.$formatters.push(p)},function(t,e,n){if(!r[t])throw types=Object.keys(r),errstr='Unknown type for formatting: "'+t+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return r[t](e,n)}}]).directive("paymentsFormat",["$window","_Format",function(t,e){return{restrict:"A",require:"ngModel",link:function(t,n,r,a){e(r.paymentsFormat,n,a)}}}]),angular.module("angularPayments").factory("_Validate",["Cards","Common","$parse",function(t,e,n){var r=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t){var e,n,r,a,i,o;for(r=!0,a=0,n=(t+"").split("").reverse(),i=0,o=n.length;i<o;i++)e=n[i],e=parseInt(e,10),(r=!r)&&(e*=2),e>9&&(e-=9),a+=e;return a%10===0},i={};return i.cvc=function(e,a,i,o){var s,l;if(null==e||0==e.length)return!0;if(!/^\d+$/.test(e))return!1;var u;if(o.paymentsTypeModel){var c=n(o.paymentsTypeModel);u=c(i)}return u?(s=e.length,r.call(null!=(l=t.fromType(u))?l.cvcLength:void 0,s)>=0):e.length>=3&&e.length<=4},i.card=function(e,i,o,s){var l,u,c;s.paymentsTypeModel&&(c=n(s.paymentsTypeModel));var d=function(){c&&c.assign(o,null),i.$card=null};return null==e||0==e.length?(d(),!0):(e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)&&(l=t.fromNumber(e))?(i.$card=angular.copy(l),c&&c.assign(o,l.type),ret=(u=e.length,r.call(l.length,u)>=0&&(l.luhn===!1||a(e))),ret):(d(),!1))},i.expiry=function(t){if(null==t||0==t.length)return!0;obj=e.parseExpiry(t),month=obj.month,year=obj.year;var n,r,a;return!(!month||!year)&&(!!/^\d+$/.test(month)&&(!!/^\d+$/.test(year)&&(parseInt(month,10)<=12&&(2===year.length&&(a=(new Date).getFullYear(),a=a.toString().slice(0,2),year=a+year),r=new Date(year,month),n=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>n))))},function(t,e,n,r,a){if(!i[t])throw types=Object.keys(i),errstr='Unknown type for validation: "'+t+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return i[t](e,n,r,a)}}]).factory("_ValidateWatch",["_Validate",function(t){var e={};return e.cvc=function(e,n,r,a){a.paymentsTypeModel&&r.$watch(a.paymentsTypeModel,function(i,o){if(i!=o){var s=t(e,n.$modelValue,n,r,a);n.$setValidity(e,s)}})},function(t,n,r,a){if(e[t])return e[t](t,n,r,a)}}]).directive("paymentsValidate",["$window","_Validate","_ValidateWatch",function(t,e,n){return{restrict:"A",require:"ngModel",link:function(t,r,a,i){var o=a.paymentsValidate;n(o,i,t,a);var s=function(n){var r=e(o,n,i,t,a);return i.$setValidity(o,r),r?n:void 0};i.$formatters.push(s),i.$parsers.push(s)}}}]),angular.module("angularPayments").directive("stripeForm",["$window","$parse","Common",function(t,e,n){return _getDataToSend=function(t){var e=["number","expMonth","expYear","cvc","name","addressLine1","addressLine2","addressCity","addressState","addressZip","addressCountry"],n=function(t){return t.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})},r={};for(i in e)t.hasOwnProperty(e[i])&&(r[n(e[i])]=angular.copy(t[e[i]]));return r.number=(r.number||"").replace(/ /g,""),r},{restrict:"A",link:function(e,r,a){if(!t.Stripe)throw"stripeForm requires that you have stripe.js installed. Include https://js.stripe.com/v2/ into your html.";var i=angular.element(r);i.bind("submit",function(){expMonthUsed=!!e.expMonth,expYearUsed=!!e.expYear,expMonthUsed&&expYearUsed||(exp=n.parseExpiry(e.expiry),e.expMonth=exp.month,e.expYear=exp.year);var r=i.find("button");r.prop("disabled",!0),i.hasClass("ng-valid")?t.Stripe.createToken(_getDataToSend(e),function(){var t=arguments;e.$apply(function(){e[a.stripeForm].apply(e,t)}),r.prop("disabled",!1)}):(e.$apply(function(){e[a.stripeForm].apply(e,[400,{error:"Invalid form submitted."}])}),r.prop("disabled",!1)),e.expMonth=null,e.expYear=null})}}}]);var timerModule=angular.module("timer",[]).directive("timer",["$compile",function(t){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",language:"@?",fallback:"@?",maxTimeUnit:"=",seconds:"=?",minutes:"=?",hours:"=?",days:"=?",months:"=?",years:"=?",secondsS:"=?",minutesS:"=?",hoursS:"=?",daysS:"=?",monthsS:"=?",yearsS:"=?"},controller:["$scope","$element","$attrs","$timeout","I18nService","$interpolate","progressBarService",function(e,n,r,a,i,o,s){function l(){e.timeoutId&&clearTimeout(e.timeoutId)}function u(){var t={};void 0!==r.startTime&&(e.millis=moment().diff(moment(e.startTimeAttr))),t=c.getTimeUnits(e.millis),e.maxTimeUnit&&"day"!==e.maxTimeUnit?"second"===e.maxTimeUnit?(e.seconds=Math.floor(e.millis/1e3),e.minutes=0,e.hours=0,e.days=0,e.months=0,e.years=0):"minute"===e.maxTimeUnit?(e.seconds=Math.floor(e.millis/1e3%60),e.minutes=Math.floor(e.millis/6e4),e.hours=0,e.days=0,e.months=0,e.years=0):"hour"===e.maxTimeUnit?(e.seconds=Math.floor(e.millis/1e3%60),e.minutes=Math.floor(e.millis/6e4%60),e.hours=Math.floor(e.millis/36e5),e.days=0,e.months=0,e.years=0):"month"===e.maxTimeUnit?(e.seconds=Math.floor(e.millis/1e3%60),e.minutes=Math.floor(e.millis/6e4%60),e.hours=Math.floor(e.millis/36e5%24),e.days=Math.floor(e.millis/36e5/24%30),e.months=Math.floor(e.millis/36e5/24/30),e.years=0):"year"===e.maxTimeUnit&&(e.seconds=Math.floor(e.millis/1e3%60),e.minutes=Math.floor(e.millis/6e4%60),e.hours=Math.floor(e.millis/36e5%24),e.days=Math.floor(e.millis/36e5/24%30),e.months=Math.floor(e.millis/36e5/24/30%12),e.years=Math.floor(e.millis/36e5/24/365)):(e.seconds=Math.floor(e.millis/1e3%60),e.minutes=Math.floor(e.millis/6e4%60),e.hours=Math.floor(e.millis/36e5%24),e.days=Math.floor(e.millis/36e5/24),e.months=0,e.years=0),e.secondsS=1===e.seconds?"":"s",e.minutesS=1===e.minutes?"":"s",e.hoursS=1===e.hours?"":"s",e.daysS=1===e.days?"":"s",e.monthsS=1===e.months?"":"s",e.yearsS=1===e.years?"":"s",e.secondUnit=t.seconds,e.minuteUnit=t.minutes,e.hourUnit=t.hours,e.dayUnit=t.days,e.monthUnit=t.months,e.yearUnit=t.years,e.sseconds=e.seconds<10?"0"+e.seconds:e.seconds,e.mminutes=e.minutes<10?"0"+e.minutes:e.minutes,e.hhours=e.hours<10?"0"+e.hours:e.hours,e.ddays=e.days<10?"0"+e.days:e.days,e.mmonths=e.months<10?"0"+e.months:e.months,e.yyears=e.years<10?"0"+e.years:e.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.autoStart=r.autoStart||r.autostart,e.language=e.language||"en",e.fallback=e.fallback||"en",e.$watch("language",function(t,n){void 0!==t&&c.init(t,e.fallback)});var c=new i;c.init(e.language,e.fallback),e.displayProgressBar=0,e.displayProgressActive="active",0===n.html().trim().length?n.append(t("<span>"+o.startSymbol()+"millis"+o.endSymbol()+"</span>")(e)):n.append(t(n.contents())(e)),e.startTime=null,e.endTime=null,e.timeoutId=null,e.countdown=angular.isNumber(e.countdownattr)&&parseInt(e.countdownattr,10)>=0?parseInt(e.countdownattr,10):void 0,e.isRunning=!1,e.$on("timer-start",function(){e.start()}),e.$on("timer-resume",function(){e.resume()}),e.$on("timer-stop",function(){e.stop()}),e.$on("timer-clear",function(){e.clear()}),e.$on("timer-reset",function(){e.reset()}),e.$on("timer-set-countdown",function(t,n){e.countdown=n}),e.$watch("startTimeAttr",function(t,n){t!==n&&e.isRunning&&e.start()}),e.$watch("endTimeAttr",function(t,n){t!==n&&e.isRunning&&e.start()}),e.start=function(){e.startTime=e.startTimeAttr?moment(e.startTimeAttr):moment(),e.endTime=e.endTimeAttr?moment(e.endTimeAttr):null,angular.isNumber(e.countdown)||(e.countdown=angular.isNumber(e.countdownattr)&&parseInt(e.countdownattr,10)>0?parseInt(e.countdownattr,10):void 0),l(),d(),e.isRunning=!0,e.$emit("timer-started",{timeoutId:e.timeoutId,millis:e.millis,seconds:e.seconds,minutes:e.minutes,hours:e.hours,days:e.days})},e.resume=function(){l(),e.countdownattr&&(e.countdown+=1),e.startTime=moment().diff(moment(e.stoppedTime).diff(moment(e.startTime))),d(),e.isRunning=!0,e.$emit("timer-started",{timeoutId:e.timeoutId,millis:e.millis,seconds:e.seconds,minutes:e.minutes,hours:e.hours,days:e.days})},e.stop=e.pause=function(){var t=e.timeoutId;e.clear(),e.$emit("timer-stopped",{timeoutId:t,millis:e.millis,seconds:e.seconds,minutes:e.minutes,hours:e.hours,days:e.days})},e.clear=function(){e.stoppedTime=moment(),l(),e.timeoutId=null,e.isRunning=!1},e.reset=function(){e.startTime=e.startTimeAttr?moment(e.startTimeAttr):moment(),e.endTime=e.endTimeAttr?moment(e.endTimeAttr):null,e.countdown=angular.isNumber(e.countdownattr)&&parseInt(e.countdownattr,10)>0?parseInt(e.countdownattr,10):void 0,l(),d(),e.isRunning=!1,e.clear(),e.$emit("timer-reset",{timeoutId:timeoutId,millis:e.millis,seconds:e.seconds,minutes:e.minutes,hours:e.hours,days:e.days})},n.bind("$destroy",function(){l(),e.isRunning=!1}),e.countdownattr?(e.millis=1e3*e.countdownattr,e.addCDSeconds=function(t){e.countdown+=t,e.isRunning||e.start()},e.$on("timer-add-cd-seconds",function(t,n){e.addCDSeconds(n)}),e.$on("timer-set-countdown-seconds",function(t,n){e.isRunning||e.clear(),e.countdown=n,e.millis=1e3*n,u()})):e.millis=0,u();var d=function t(){var n=null;e.millis=moment().diff(e.startTime);var r=e.millis%1e3;return e.endTimeAttr&&(n=e.endTimeAttr,e.millis=moment(e.endTime).diff(moment()),r=e.interval-e.millis%1e3),e.countdownattr&&(n=e.countdownattr,e.millis=1e3*e.countdown),e.millis<0?(e.stop(),e.millis=0,u(),void(e.finishCallback&&e.$eval(e.finishCallback))):(u(),e.timeoutId=setTimeout(function(){t(),e.$apply()},e.interval-r),e.$emit("timer-tick",{timeoutId:e.timeoutId,millis:e.millis,seconds:e.seconds,minutes:e.minutes,hours:e.hours,days:e.days}),e.countdown>0?e.countdown--:e.countdown<=0&&(e.stop(),e.finishCallback&&e.$eval(e.finishCallback)),void(null!==n&&(e.progressBar=s.calculateProgressBar(e.startTime,e.millis,e.endTime,e.countdownattr),100===e.progressBar&&(e.displayProgressActive=""))))};void 0!==e.autoStart&&e.autoStart!==!0||e.start()}]}}]).directive("timerControls",function(){return{restrict:"EA",scope:!0,controller:["$scope",function(t){t.timerStatus="reset",t.$on("timer-started",function(){t.timerStatus="started"}),t.$on("timer-stopped",function(){t.timerStatus="stopped"}),t.$on("timer-reset",function(){t.timerStatus="reset"}),t.timerStart=function(){t.$broadcast("timer-start")},t.timerStop=function(){t.$broadcast("timer-stop")},t.timerResume=function(){t.$broadcast("timer-resume")},t.timerToggle=function(){switch(t.timerStatus){case"started":t.timerStop();break;case"stopped":t.timerResume();break;case"reset":t.timerStart()}},t.timerAddCDSeconds=function(e){t.$broadcast("timer-add-cd-seconds",e)}}]}});"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=timerModule);var app=angular.module("timer");app.factory("I18nService",function(){var t=function(){};return t.prototype.language="en",t.prototype.fallback="en",t.prototype.timeHumanizer={},t.prototype.init=function(t,e){var n=humanizeDuration.getSupportedLanguages();this.fallback=void 0!==e?e:"en",n.indexOf(e)===-1&&(this.fallback="en"),this.language=t,n.indexOf(t)===-1&&(this.language=this.fallback),this.timeHumanizer=humanizeDuration.humanizer({language:this.language,halfUnit:!1})},t.prototype.getTimeUnits=function(t){var e=1e3*Math.round(t/1e3),n={};return"undefined"!=typeof this.timeHumanizer?n={millis:this.timeHumanizer(e,{units:["ms"]}),seconds:this.timeHumanizer(e,{units:["s"]}),minutes:this.timeHumanizer(e,{units:["m","s"]}),hours:this.timeHumanizer(e,{units:["h","m","s"]}),days:this.timeHumanizer(e,{units:["d","h","m","s"]}),months:this.timeHumanizer(e,{units:["mo","d","h","m","s"]}),years:this.timeHumanizer(e,{units:["y","mo","d","h","m","s"]})}:console.error('i18nService has not been initialized. You must call i18nService.init("en") for example'),n},t});var app=angular.module("timer");app.factory("progressBarService",function(){var t=function(){};return t.prototype.calculateProgressBar=function(t,e,n,r){var a,i,o=0;return e/=1e3,null!==n?(a=moment(n),i=a.diff(t,"seconds"),o=100*e/i):o=100*e/r,o=100-o,o=Math.round(10*o)/10,o>100&&(o=100),o},new t});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nQ2FydC5qcyIsImFuZ3VsYXItcGFyYWxsYXguanMiLCJhbmd1bGFyLWZpbGUtc2F2ZXIuYnVuZGxlLmpzIiwidWktcm91dGVyLW1ldGF0YWdzLmpzIiwiYW5ndWxhci10YWJsZXNvcnQuanMiLCJhbmd1bGFyLWZvbnRhd2Vzb21lLmpzIiwiYnV0dG9ucy5qcyIsImFuZ3VsYXItcGF5bWVudHMuanMiLCJhbmd1bGFyLXRpbWVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJwcm92aWRlciIsInRoaXMiLCIkZ2V0IiwicnVuIiwiJHJvb3RTY29wZSIsIm5nQ2FydCIsIm5nQ2FydEl0ZW0iLCJzdG9yZSIsIiRvbiIsIiRzYXZlIiwiaXNPYmplY3QiLCJnZXQiLCIkcmVzdG9yZSIsImluaXQiLCJzZXJ2aWNlIiwiJGxvY2F0aW9uIiwiJHdpbmRvdyIsIiRjYXJ0Iiwic2hpcHBpbmciLCJ0YXhSYXRlIiwidGF4IiwiaXRlbXMiLCJhZGRJdGVtIiwiaWQiLCJza3UiLCJuYW1lIiwicHJpY2UiLCJxdWFudGl0eSIsImRhdGEiLCJhdHRyIiwiaW5DYXJ0IiwiZ2V0SXRlbUJ5SWQiLCJzZXRRdWFudGl0eSIsIiRicm9hZGNhc3QiLCJuZXdJdGVtIiwicHVzaCIsImFkZEl0ZW1CdG4iLCJza3VzIiwibGVuZ3RoIiwidXJsIiwiY2hhbmdlUXVhbnRpdHkiLCJjb25zb2xlIiwibG9nIiwiaXRlbUlkIiwiZ2V0Q2FydCIsImJ1aWxkIiwiZm9yRWFjaCIsIml0ZW0iLCJnZXRJZCIsInNldFNoaXBwaW5nIiwiZ2V0U2hpcHBpbmciLCJzZXRUYXhSYXRlIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJnZXRUYXhSYXRlIiwiZ2V0VGF4IiwiTWF0aCIsInJvdW5kIiwiZ2V0U3ViVG90YWwiLCJzZXRDYXJ0IiwiY2FydCIsImdldEl0ZW1zIiwiZ2V0VG90YWxJdGVtcyIsImNvdW50IiwiZ2V0UXVhbnRpdHkiLCJnZXRUb3RhbFVuaXF1ZUl0ZW1zIiwidG90YWwiLCJnZXRUb3RhbCIsInRvdGFsQ29zdCIsInJlbW92ZUl0ZW0iLCJpbmRleCIsInNwbGljZSIsInJlbW92ZUl0ZW1CeUlkIiwiZW1wdHkiLCJsb2NhbFN0b3JhZ2UiLCJpc0VtcHR5IiwidG9PYmplY3QiLCJzdWJUb3RhbCIsInN0b3JlZENhcnQiLCJfc2VsZiIsInBhcmVudCIsImRlc2NyaXB0aW9uIiwiYW1vdW50IiwiX2RhdGEiLCJzZXQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmFjdG9yeSIsIiRsb2ciLCJzZXRJZCIsInNldFNrdSIsInNldE5hbWUiLCJzZXRQcmljZSIsInNldERhdGEiLCJzZXRBdHRyIiwicHJvdG90eXBlIiwiZXJyb3IiLCJnZXRTa3UiLCJnZXROYW1lIiwicHJpY2VGbG9hdCIsImdldFByaWNlIiwicmVsYXRpdmUiLCJxdWFudGl0eUludCIsInBhcnNlSW50IiwiaW5mbyIsImdldERhdGEiLCJhdHRyaWJ1dGVzIiwiZ2V0QXR0ciIsImtleSIsImdldEl0ZW0iLCJmcm9tSnNvbiIsInBhcnNlIiwidmFsIiwidW5kZWZpbmVkIiwic2V0SXRlbSIsInRvSnNvbiIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkdGltZW91dCIsImxvYWRlZCIsInRvZ2dsZUNhcnQiLCJmaWx0ZXJlZCIsInByb2R1Y3RfdHlwZSIsInNoaXBCb29sIiwiJGVtaXQiLCJ2YWx1ZSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJxdWFudGl0eU1heCIsInRyYW5zY2x1ZGUiLCJ0ZW1wbGF0ZVVybCIsImVsZW1lbnQiLCJhdHRycyIsImxpbmsiLCJxIiwicXR5T3B0IiwiaSIsInRoaXNNYXgiLCJzaG93Q291bnRSZWYiLCJmaXJlYmFzZSIsImRhdGFiYXNlIiwicmVmIiwib25jZSIsInRoZW4iLCJzbmFwc2hvdCIsInRvdGFsVGl4IiwiZnVsZmlsbWVudFByb3ZpZGVyIiwiY2hlY2tvdXQiLCJzZXRTZXJ2aWNlIiwic2V0U2V0dGluZ3MiLCJzZXR0aW5ncyIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJoZWFkZXJzIiwic3RhdHVzQ29kZSIsIiRpbmplY3RvciIsIl9vYmoiLCIkcSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZXNvbHZlIiwicHJvbWlzZSIsIiRodHRwIiwicG9zdCIsIm9wdGlvbnMiLCJwYXJhbGxheFJhdGlvIiwicGFyYWxsYXhWZXJ0aWNhbE9mZnNldCIsInBhcmFsbGF4SG9yaXpvbnRhbE9mZnNldCIsImVsZW0iLCJzZXRQb3NpdGlvbiIsImNhbGNWYWxZIiwicGFnZVlPZmZzZXQiLCJpbm5lckhlaWdodCIsInRvcFZhbCIsImhvelZhbCIsImluZGV4T2YiLCJjc3MiLCJiaW5kIiwidGVtcGxhdGUiLCJwYXJhbGxheFN0YXJ0UG9pbnQiLCJvZmZzZXQiLCJvZmZzZXRIZWlnaHQiLCJwcm9wIiwiZSIsIiRhcHBseSIsInJvb3QiLCJleHBvcnRzIiwiZGVmaW5lIiwiYW1kIiwiYSIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwicCIsIkJsb2IiLCJTYXZlQXMiLCJGaWxlU2F2ZXJVdGlscyIsInNhdmUiLCJibG9iIiwiZmlsZW5hbWUiLCJkaXNhYmxlQXV0b0JPTSIsImVyciIsImhhbmRsZUVycm9ycyIsIm1lc3NhZ2UiLCJzYXZlQXMiLCJpc0Jsb2JJbnN0YW5jZSIsImlzU3RyaW5nIiwibXNnIiwiRXJyb3IiLCJvYmoiLCJTdHJpbmciLCJpc1VuZGVmaW5lZCIsInZpZXciLCJVUkwiLCJ3ZWJraXRVUkwiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJnZXRfY2xhc3MiLCJvYmplY3QiLCJPYmplY3QiLCJ0b1N0cmluZyIsIm1hdGNoIiwiRmFrZUJsb2JCdWlsZGVyIiwiRmFrZUJsb2IiLCJ0eXBlIiwiZW5jb2RpbmciLCJzaXplIiwiRkJCX3Byb3RvIiwiRkJfcHJvdG8iLCJGaWxlUmVhZGVyU3luYyIsIkZpbGVFeGNlcHRpb24iLCJjb2RlIiwiZmlsZV9leF9jb2RlcyIsInNwbGl0IiwiZmlsZV9leF9jb2RlIiwicmVhbF9VUkwiLCJyZWFsX2NyZWF0ZV9vYmplY3RfVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVhbF9yZXZva2Vfb2JqZWN0X1VSTCIsInJldm9rZU9iamVjdFVSTCIsImJ0b2EiLCJhdG9iIiwiQXJyYXlCdWZmZXIiLCJVaW50OEFycmF5Iiwib3JpZ2luIiwiZmFrZSIsInVyaSIsInVyaV9vcmlnaW4iLCJ1cmlfaW5mbyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiaHJlZiIsInByb3RvY29sIiwidG9Mb3dlckNhc2UiLCJkYXRhX1VSSV9oZWFkZXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvYmplY3RfVVJMIiwic3Vic3RyaW5nIiwiYXBwZW5kIiwiYmIiLCJzdHIiLCJidWYiLCJidWZfbGVuIiwiZnJvbUNoYXJDb2RlIiwiZnIiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJ1bmVzY2FwZSIsImdldEJsb2IiLCJhcmd1bWVudHMiLCJqb2luIiwic2xpY2UiLCJzdGFydCIsImVuZCIsImFyZ3MiLCJjbG9zZSIsImJsb2JQYXJ0cyIsImJ1aWxkZXIiLCJsZW4iLCJidWZmZXIiLCJ3ZWJraXRTbGljZSIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwic2VsZiIsIndpbmRvdyIsImNvbnRlbnQiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJuYXZpZ2F0b3IiLCJ0ZXN0IiwidXNlckFnZW50IiwiZG9jIiwiZ2V0X1VSTCIsInNhdmVfbGluayIsImNhbl91c2Vfc2F2ZV9saW5rIiwiY2xpY2siLCJub2RlIiwiZXZlbnQiLCJNb3VzZUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImlzX3NhZmFyaSIsIkhUTUxFbGVtZW50IiwiaXNfY2hyb21lX2lvcyIsInRocm93X291dHNpZGUiLCJleCIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJmb3JjZV9zYXZlYWJsZV90eXBlIiwiYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0IiwicmV2b2tlIiwiZmlsZSIsInJldm9rZXIiLCJyZW1vdmUiLCJkaXNwYXRjaCIsImZpbGVzYXZlciIsImV2ZW50X3R5cGVzIiwiY29uY2F0IiwibGlzdGVuZXIiLCJhdXRvX2JvbSIsIkZpbGVTYXZlciIsIm5vX2F1dG9fYm9tIiwib2JqZWN0X3VybCIsImZvcmNlIiwiZGlzcGF0Y2hfYWxsIiwiZnNfZXJyb3IiLCJGaWxlUmVhZGVyIiwicmVhZGVyIiwib25sb2FkZW5kIiwicmVzdWx0IiwicmVwbGFjZSIsInBvcHVwIiwib3BlbiIsImxvY2F0aW9uIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJyZWFkQXNEYXRhVVJMIiwiSU5JVCIsIm9wZW5lZCIsImRvd25sb2FkIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwiYWJvcnQiLCJXUklUSU5HIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0Iiwib25lcnJvciIsIm9ud3JpdGVlbmQiLCJhcHBseSIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwidWlyb3V0ZXJtZXRhdGFncyIsInJ1bkJsb2NrIiwiTWV0YVRhZ3MiLCJzdGF0ZUNoYW5nZVN0YXJ0IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbSIsImZyb21QYXJhbXMiLCJwcmVyZW5kZXJSZWFkeSIsInN0YXRlQ2hhbmdlU3VjY2VzcyIsIm1ldGFUYWdzIiwiZGVidWciLCJ1cGRhdGUiLCJzdGF0ZUNoYW5nZUVycm9yIiwiZnJvbVN0YXRlIiwicHJlcmVuZGVyIiwic3RhdGVOb3RGb3VuZCIsInVuZm91bmRTdGF0ZSIsIiRpbmplY3QiLCJhcHBNb2R1bGUiLCJVSVJvdXRlck1ldGF0YWdzIiwicHJlZml4Iiwic3VmZml4IiwiZGVmYXVsdFRpdGxlIiwiZGVmYXVsdERlc2NyaXB0aW9uIiwiZGVmYXVsdEtleXdvcmRzIiwiZGVmYXVsdFJvYm90cyIsInN0YXRpY1Byb3BlcnRpZXMiLCJlbmFibGVPR1VSTCIsInNldFRpdGxlUHJlZml4Iiwic2V0VGl0bGVTdWZmaXgiLCJzZXREZWZhdWx0VGl0bGUiLCJ0aXRsZSIsInNldERlZmF1bHREZXNjcmlwdGlvbiIsInNldERlZmF1bHRLZXl3b3JkcyIsImtleXdvcmRzIiwic2V0RGVmYXVsdFJvYm90cyIsInJvYm90cyIsInNldFN0YXRpY1Byb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwic2V0T0dVUkwiLCJlbmFibGVkIiwiJGludGVycG9sYXRlIiwiJHN0YXRlIiwidGFncyIsIl90aGlzIiwiZXh0ZW5kIiwiYWJzVXJsIiwiZ2V0VmFsdWUiLCJ2IiwiaGVhZGVyIiwidGFnVHlwZSIsInRhZyIsInRyaW0iLCJpc0Z1bmN0aW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiaW52b2tlIiwiJGN1cnJlbnQiLCJsb2NhbHMiLCJnbG9iYWxzIiwidGFibGVTb3J0TW9kdWxlIiwiZmlsdGVyVGVtcGxhdGUiLCJmaWx0ZXJGdW5jdGlvbiIsInBhZ2luYXRpb25UZW1wbGF0ZSIsInBlclBhZ2VPcHRpb25zIiwicGVyUGFnZURlZmF1bHQiLCJpdGVtTmFtZVNpbmd1bGFyIiwiaXRlbU5hbWVQbHVyYWwiLCJub0RhdGFUZXh0Iiwid3JhcHBpbmdFbGVtZW50Q2xhc3MiLCJpc05hTiIsInNvcnQiLCJiIiwiJHBhcnNlIiwiJGNvbXBpbGUiLCJyZXBsYWNlVGVtcGxhdGVUb2tlbnMiLCJ0ZW1wbGF0ZVN0cmluZyIsIm5ld1N0cmluZyIsIml0ZW1zQXJyYXlFeHByZXNzaW9uIiwiY3JlYXRlRGVmYXVsdENvbXBhcmVyIiwiX2RlZmF1bHRDb21wYXJlciIsInN0cmluZ0NvbXBhcmVyIiwibnVtZXJpY0NvbXBhcmVyIiwiSW50bCIsIkNvbGxhdG9yIiwic2Vuc2l0aXZpdHkiLCJjb21wYXJlIiwibG9jYWxlQ29tcGFyZSIsImNvbXBhcmVyRm4iLCJEYXRlIiwiZ2V0VGltZSIsImRlZmF1bHRDb21wYXJlciIsInRhYmxlU29ydENvbmZpZyIsInBhZ2luYXRpb24iLCJwZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJnZXRQYWdlUmFuZ2VTdHJpbmciLCJtYXhPblBhZ2UiLCJmaWx0ZXJpbmciLCJmaWx0ZXJlZENvdW50Iiwic3RhcnRQYWdlIiwibWF4IiwiZW5kUGFnZSIsIm1pbiIsImZpbHRlclN0cmluZyIsImZpbHRlckZpZWxkcyIsInNvcnRFeHByZXNzaW9uIiwiaGVhZGluZ3MiLCJwYXJzZV9zb3J0ZXhwciIsImV4cHIiLCJzZXRTb3J0RmllbGQiLCJzb3J0ZXhwciIsInNvcnRCeSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJvcmRlciIsImFkZFNvcnRGaWVsZCIsInRvZ2dsZV9vcmRlciIsIm1hcCIsInNldFRyYWNrQnkiLCJ0cmFja0J5IiwicmVnaXN0ZXJIZWFkaW5nIiwiaGVhZGluZ2VsZW1lbnQiLCJhZGRGaWx0ZXJGaWVsZCIsInNldEFycmF5RXhwciIsImRhdGFBcnJheUV4cCIsIiRlbGVtZW50IiwiJGF0dHJzIiwidHNXcmFwcGVyQ3RybCIsInRzSXRlbU5hbWUiLCJvcmlnaW5hbE5vRGF0YVRleHQiLCJ0c0l0ZW1OYW1lUGx1cmFsIiwidHNOb0RhdGFUZXh0IiwidHNXcmFwcGluZ0VsZW1lbnRDbGFzcyIsInRzUGVyUGFnZU9wdGlvbnMiLCIkZXZhbCIsInRzUGVyUGFnZURlZmF1bHQiLCJkZWZhdWx0UGVyUGFnZSIsInRzRmlsdGVyRmllbGRzIiwiZmlsdGVyIiwiJGZpbHRlckh0bWwiLCJ0c0Rpc3BsYXlGaWx0ZXJpbmciLCJpbnNlcnRCZWZvcmUiLCJ0c0ZpbHRlckZ1bmN0aW9uIiwic2hvdWxkSW5jbHVkZSIsImZpbHRlckxpbWl0RnVuIiwiYXJyYXkiLCJmaWx0ZXJlZEFyciIsInNvcnRGdW4iLCJhdmFsIiwiYnZhbCIsImRlc2NlbmRpbmciLCJmaWx0ZXJGdW4iLCJjb21wUmVzdWx0IiwicGFnZUxpbWl0RnVuIiwidHNEaXNwbGF5UGFnaW5hdGlvbiIsImJlZ2luIiwiZmluYWwiLCIkcGFnaW5hdGlvbkh0bWwiLCJwYWdlclN0cmluZyIsImFmdGVyIiwiJHdyYXBwaW5nRWxlbWVudCIsIndyYXAiLCJ0c0dldFRhYmxlRGF0YUZ1bmN0aW9uIiwiZ2V0dGVyIiwic2V0dGVyIiwiYXNzaWduIiwiZm4iLCJzaG91bGRBcHBseVNvcnRpbmciLCJzaG91bGRBcHBseUZpbHRlcmluZyIsImxpbWl0VG9DdXJyZW50UGFnZU9ubHkiLCJhcnIiLCIkcGFyZW50IiwicmVwbGFjZVdpdGgiLCJyZXF1aXJlIiwidHNPcmRlckJ5IiwiY2xpY2tpbmdDYWxsYmFjayIsInNoaWZ0S2V5IiwidHNDcml0ZXJpYSIsInRzTmFtZSIsInRzRGVmYXVsdCIsInRlcm1pbmFsIiwibXVsdGlFbGVtZW50IiwicHJpb3JpdHkiLCJyZXBlYXRBdHRycyIsIm5nUmVwZWF0RGlyZWN0aXZlIiwidHNSZXBlYXREaXJlY3RpdmUiLCJpc0RlZmluZWQiLCJ0c0V4cHIiLCJyZXBlYXRFeHByIiwicmVwZWF0RXhwclJlZ2V4IiwidHJhY2tCeU1hdGNoIiwicmVwZWF0SW5NYXRjaCIsInNlYXJjaCIsInRzSGlkZU5vRGF0YSIsInN0YXJ0U3ltIiwic3RhcnRTeW1ib2wiLCJlbmRTeW0iLCJlbmRTeW1ib2wiLCJub0RhdGFSb3ciLCJjbG9uZSIsInJlbW92ZUF0dHIiLCJjaGlsZHJlbiIsImNoaWxkRWxlbWVudENvdW50IiwicHJlcGVuZCIsImxpbWl0RnVuIiwic29ydGZ1biIsImFycmF5Q29weSIsImlucHV0IiwidGltZXN0YW1wIiwiX29ic2VydmVTdHJpbmdBdHRyIiwiYmFzZUNsYXNzIiwiY2xhc3NOYW1lIiwiJG9ic2VydmUiLCJjdXJyZW50Q2xhc3NlcyIsIl9vYnNlcnZlQm9vbGVhbkF0dHIiLCJ0b2dnbGVDbGFzcyIsInN0YWNrIiwiaGFzQ2xhc3MiLCJsaXN0IiwiYWx0VGV4dCIsImFsdCIsImFsdEVsZW0iLCJuZXh0IiwiYWx0RWxlbUNsYXNzIiwidGV4dCIsIiQiLCJQbHVnaW4iLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsInByb3BlcnR5TmFtZSIsImNvbnN0cnVjdG9yIiwidG9nZ2xlIiwiZWwiLCJoaWRlTWVudSIsInNob3dNZW51IiwiZmluZCIsInNob3ciLCJoaWRlIiwiZWFjaCIsIm9uIiwidGFyZ2V0Iiwib2Zmc2V0UGFyZW50IiwiJGRyb3Bkb3duIiwiY3VycmVudFRhcmdldCIsIm1lbnVCdXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsImpRdWVyeSIsInJldCIsIm1vbnRoIiwieWVhciIsIl9yZWYiLCJnZXRGdWxsWWVhciIsImRlZmF1bHRGb3JtYXQiLCJkZWZhdWx0SW5wdXRGb3JtYXQiLCJjYXJkcyIsInBhdHRlcm4iLCJmb3JtYXQiLCJpbnB1dEZvcm1hdCIsImN2Y0xlbmd0aCIsImx1aG4iLCJfZnJvbU51bWJlciIsIm51bSIsImNhcmQiLCJfZnJvbVR5cGUiLCJmcm9tTnVtYmVyIiwiZnJvbVR5cGUiLCJDYXJkcyIsIkNvbW1vbiIsIiRmaWx0ZXIiLCJfZm9ybWF0cyIsIl9oYXNUZXh0U2VsZWN0ZWQiLCIkdGFyZ2V0Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJfZm9ybWF0Q2FyZE51bWJlciIsImRpZ2l0IiwicmUiLCJ1cHBlckxlbmd0aCIsIndoaWNoIiwibWV0YSIsImtleUNvZGUiLCJfcmVzdHJpY3RDYXJkTnVtYmVyIiwiX2Zvcm1hdEJhY2tDYXJkTnVtYmVyIiwiX2dldEZvcm1hdHRlZENhcmROdW1iZXIiLCJncm91cHMiLCJnbG9iYWwiLCJleGVjIiwic2hpZnQiLCJfcmVGb3JtYXRDYXJkTnVtYmVyIiwiX3BhcnNlQ2FyZE51bWJlciIsImN0cmwiLCIkcGFyc2VycyIsIiRmb3JtYXR0ZXJzIiwiX2Zvcm1hdENWQyIsIl9yZXN0cmljdEV4cGlyeSIsIl9mb3JtYXRFeHBpcnkiLCJfZm9ybWF0Rm9yd2FyZEV4cGlyeSIsIl9mb3JtYXRGb3J3YXJkU2xhc2giLCJzbGFzaCIsIl9mb3JtYXRCYWNrRXhwaXJ5IiwiX3BhcnNlRXhwaXJ5IiwicGFyc2VFeHBpcnkiLCJleHBpcnkiLCJfZ2V0Rm9ybWF0dGVkRXhwaXJ5IiwidHlwZXMiLCJrZXlzIiwiZXJyc3RyIiwiX0Zvcm1hdCIsInBheW1lbnRzRm9ybWF0IiwiX19pbmRleE9mIiwibCIsIl9sdWhuQ2hlY2siLCJkaWdpdHMiLCJvZGQiLCJzdW0iLCJyZXZlcnNlIiwiX3ZhbGlkYXRvcnMiLCJjdmMiLCJyZWYxIiwicGF5bWVudHNUeXBlTW9kZWwiLCJ0eXBlTW9kZWwiLCJjbGVhckNhcmQiLCIkY2FyZCIsImNvcHkiLCJjdXJyZW50VGltZSIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJfVmFsaWRhdGUiLCJfdmFsaWRhdG9yV2F0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbCIsIm9sZFZhbCIsInZhbGlkIiwiJG1vZGVsVmFsdWUiLCIkc2V0VmFsaWRpdHkiLCJfVmFsaWRhdGVXYXRjaCIsInBheW1lbnRzVmFsaWRhdGUiLCJ2YWxpZGF0ZUZuIiwiX2dldERhdGFUb1NlbmQiLCJwb3NzaWJsZUtleXMiLCJjYW1lbFRvU25ha2UiLCJoYXNPd25Qcm9wZXJ0eSIsIlN0cmlwZSIsImZvcm0iLCJleHBNb250aFVzZWQiLCJleHBNb250aCIsImV4cFllYXJVc2VkIiwiZXhwWWVhciIsImV4cCIsImJ1dHRvbiIsImNyZWF0ZVRva2VuIiwic3RyaXBlRm9ybSIsInRpbWVyTW9kdWxlIiwiaW50ZXJ2YWwiLCJzdGFydFRpbWVBdHRyIiwiZW5kVGltZUF0dHIiLCJjb3VudGRvd25hdHRyIiwiZmluaXNoQ2FsbGJhY2siLCJhdXRvU3RhcnQiLCJsYW5ndWFnZSIsImZhbGxiYWNrIiwibWF4VGltZVVuaXQiLCJzZWNvbmRzIiwibWludXRlcyIsImhvdXJzIiwiZGF5cyIsIm1vbnRocyIsInllYXJzIiwic2Vjb25kc1MiLCJtaW51dGVzUyIsImhvdXJzUyIsImRheXNTIiwibW9udGhzUyIsInllYXJzUyIsIkkxOG5TZXJ2aWNlIiwicHJvZ3Jlc3NCYXJTZXJ2aWNlIiwicmVzZXRUaW1lb3V0IiwidGltZW91dElkIiwiY2xlYXJUaW1lb3V0IiwiY2FsY3VsYXRlVGltZVVuaXRzIiwidGltZVVuaXRzIiwic3RhcnRUaW1lIiwibWlsbGlzIiwibW9tZW50IiwiZGlmZiIsImkxOG5TZXJ2aWNlIiwiZ2V0VGltZVVuaXRzIiwiZmxvb3IiLCJzZWNvbmRVbml0IiwibWludXRlVW5pdCIsImhvdXJVbml0IiwiZGF5VW5pdCIsIm1vbnRoVW5pdCIsInllYXJVbml0Iiwic3NlY29uZHMiLCJtbWludXRlcyIsImhob3VycyIsImRkYXlzIiwibW1vbnRocyIsInl5ZWFycyIsImF1dG9zdGFydCIsImRpc3BsYXlQcm9ncmVzc0JhciIsImRpc3BsYXlQcm9ncmVzc0FjdGl2ZSIsImh0bWwiLCJjb250ZW50cyIsImVuZFRpbWUiLCJjb3VudGRvd24iLCJpc051bWJlciIsImlzUnVubmluZyIsInJlc3VtZSIsInN0b3AiLCJjbGVhciIsInJlc2V0IiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsInRpY2siLCJzdG9wcGVkVGltZSIsInBhdXNlIiwiYWRkQ0RTZWNvbmRzIiwiZXh0cmFTZWNvbmRzIiwiY291bnRkb3duU2Vjb25kcyIsInR5cGVUaW1lciIsImFkanVzdG1lbnQiLCJwcm9ncmVzc0JhciIsImNhbGN1bGF0ZVByb2dyZXNzQmFyIiwidGltZXJTdGF0dXMiLCJ0aW1lclN0YXJ0IiwidGltZXJTdG9wIiwidGltZXJSZXN1bWUiLCJ0aW1lclRvZ2dsZSIsInRpbWVyQWRkQ0RTZWNvbmRzIiwiYXBwIiwidGltZUh1bWFuaXplciIsImxhbmciLCJzdXBwb3J0ZWRfbGFuZ3VhZ2VzIiwiaHVtYW5pemVEdXJhdGlvbiIsImdldFN1cHBvcnRlZExhbmd1YWdlcyIsImh1bWFuaXplciIsImhhbGZVbml0IiwiZGlmZkZyb21BbGFybSIsInRpbWUiLCJ1bml0cyIsIlByb2dyZXNzQmFyU2VydmljZSIsInN0YXJ0VmFsdWUiLCJyZW1haW5pbmdUaW1lIiwiY291dGRvd24iLCJlbmRUaW1lVmFsdWUiLCJpbml0aWFsQ291bnRkb3duIl0sIm1hcHBpbmdzIjoi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QUFBLE9BQ0EzRSxPQUFBdHRCLEtBQUF3eEIsY0FBQU8sR0FBQUUsT0FBQSxLQUFBLElBQUEsSUFBQSxJQUFBLE9BQ0ExRSxNQUFBdnRCLEtBQUF3eEIsY0FBQU8sR0FBQUUsT0FBQSxJQUFBLEtBQUEsSUFBQSxJQUFBLElBQUEsUUFJQXp2QixRQUFBdUQsTUFBQSwwRkFHQWlzQixHQUdBbEUsR0FHQSxJQUFBeUQsS0FBQTN4QixRQUFBQyxPQUFBLFFBRUEweEIsS0FBQWpzQixRQUFBLHFCQUFBLFdBRUEsR0FBQTRzQixHQUFBLFlBd0NBLE9BM0JBQSxHQUFBcHNCLFVBQUFrckIscUJBQUEsU0FBQW1CLEVBQUFDLEVBQUF6RixFQUFBMEYsR0FDQSxHQUNBQyxHQUNBQyxFQUZBOUMsRUFBQSxDQXVCQSxPQW5CQTJDLElBQUEsSUFHQSxPQUFBekYsR0FDQTJGLEVBQUEvRCxPQUFBNUIsR0FDQTRGLEVBQUFELEVBQUE5RCxLQUFBMkQsRUFBQSxXQUNBMUMsRUFBQSxJQUFBMkMsRUFBQUcsR0FHQTlDLEVBQUEsSUFBQTJDLEVBQUFDLEVBR0E1QyxFQUFBLElBQUFBLEVBQ0FBLEVBQUFsc0IsS0FBQUMsTUFBQSxHQUFBaXNCLEdBQUEsR0FFQUEsRUFBQSxNQUNBQSxFQUFBLEtBR0FBLEdBR0EsR0FBQXlDIiwiZmlsZSI6ImxpYnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ25nQ2FydCcsIFsnbmdDYXJ0LmRpcmVjdGl2ZXMnXSlcclxuXHJcbiAgICAuY29uZmlnKFtmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLnByb3ZpZGVyKCckbmdDYXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuXHJcbiAgICAucnVuKFsnJHJvb3RTY29wZScsICduZ0NhcnQnLCduZ0NhcnRJdGVtJywgJ3N0b3JlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsIG5nQ2FydCwgbmdDYXJ0SXRlbSwgc3RvcmUpIHtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ25nQ2FydDpjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBuZ0NhcnQuJHNhdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3Qoc3RvcmUuZ2V0KCdjYXJ0JykpKSB7XHJcbiAgICAgICAgICAgIG5nQ2FydC4kcmVzdG9yZShzdG9yZS5nZXQoJ2NhcnQnKSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5nQ2FydC5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1dKVxyXG5cclxuICAgIC5zZXJ2aWNlKCduZ0NhcnQnLCBbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJyR3aW5kb3cnLCAnbmdDYXJ0SXRlbScsICdzdG9yZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkbG9jYXRpb24sICR3aW5kb3csIG5nQ2FydEl0ZW0sIHN0b3JlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQgPSB7XHJcbiAgICAgICAgICAgICAgICBzaGlwcGluZyA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0YXhSYXRlIDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRheCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtID0gZnVuY3Rpb24gKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSwgYXR0cikge1xyXG4gICAgICAgICAgICB2YXIgaW5DYXJ0ID0gdGhpcy5nZXRJdGVtQnlJZChpZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGluQ2FydCA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICAgICAgLy9VcGRhdGUgcXVhbnRpdHkgb2YgYW4gaXRlbSBpZiBpdCdzIGFscmVhZHkgaW4gdGhlIGNhcnRcclxuICAgICAgICAgICAgICAgIGluQ2FydC5zZXRRdWFudGl0eShxdWFudGl0eSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6aXRlbVVwZGF0ZWQnLCBpbkNhcnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSBuZXcgbmdDYXJ0SXRlbShpZCwgc2t1LCBuYW1lLCBwcmljZSwgcXVhbnRpdHksIGRhdGEsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kY2FydC5pdGVtcy5wdXNoKG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6aXRlbUFkZGVkJywgbmV3SXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmFkZEl0ZW1CdG4gPSBmdW5jdGlvbiAoaWQsIHNrdSwgbmFtZSwgcHJpY2UsIHF1YW50aXR5LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBza3VzID0gZGF0YS5za3VzO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChza3VzLmxlbmd0aCA9PT0gMSl7XHJcbiAgICAgICAgICAgIHZhciBpbkNhcnQgPSB0aGlzLmdldEl0ZW1CeUlkKGlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5DYXJ0ID09PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgICAgICAvL1VwZGF0ZSBxdWFudGl0eSBvZiBhbiBpdGVtIGlmIGl0J3MgYWxyZWFkeSBpbiB0aGUgY2FydFxyXG4gICAgICAgICAgICAgICAgaW5DYXJ0LnNldFF1YW50aXR5KHF1YW50aXR5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtVXBkYXRlZCcsIGluQ2FydCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbSA9IG5ldyBuZ0NhcnRJdGVtKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRjYXJ0Lml0ZW1zLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtQWRkZWQnLCBuZXdJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnVybCgnL3N0b3JlLycrIGRhdGEuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlUXVhbnRpdHkgPSBmdW5jdGlvbiAoaWQsIHF1YW50aXR5KXtcclxuICAgICAgICAgICAgdmFyIGluQ2FydCA9IHRoaXMuZ2V0SXRlbUJ5SWQoaWQpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGluQ2FydCA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICBpbkNhcnQuc2V0UXVhbnRpdHkocXVhbnRpdHksIHRydWUpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtVXBkYXRlZCcsIGluQ2FydCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdGhpbmcgdGhlcmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuZ2V0SXRlbUJ5SWQgPSBmdW5jdGlvbiAoaXRlbUlkKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0Q2FydCgpLml0ZW1zO1xyXG4gICAgICAgICAgICB2YXIgYnVpbGQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmICAoaXRlbS5nZXRJZCgpID09PSBpdGVtSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWlsZCA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVpbGQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTaGlwcGluZyA9IGZ1bmN0aW9uKHNoaXBwaW5nKXtcclxuICAgICAgICAgICAgdGhpcy4kY2FydC5zaGlwcGluZyA9IHNoaXBwaW5nO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGFuZ2UnLCB7fSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNoaXBwaW5nKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRTaGlwcGluZyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldENhcnQoKS5pdGVtcy5sZW5ndGggPT0gMCkgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIHJldHVybiAgdGhpcy5nZXRDYXJ0KCkuc2hpcHBpbmc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRUYXhSYXRlID0gZnVuY3Rpb24odGF4UmF0ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQudGF4UmF0ZSA9ICtwYXJzZUZsb2F0KHRheFJhdGUpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGF4UmF0ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VGF4UmF0ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRjYXJ0LnRheFJhdGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFRheCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCgodGhpcy5nZXRTdWJUb3RhbCgpLzEwMCkgKiB0aGlzLmdldENhcnQoKS50YXhSYXRlICkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q2FydCA9IGZ1bmN0aW9uIChjYXJ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQgPSBjYXJ0O1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDYXJ0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDYXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNhcnQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENhcnQoKS5pdGVtcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFRvdGFsSXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQgKz0gaXRlbS5nZXRRdWFudGl0eSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VG90YWxVbmlxdWVJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FydCgpLml0ZW1zLmxlbmd0aDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFN1YlRvdGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ2V0Q2FydCgpLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdG90YWwgKz0gaXRlbS5nZXRUb3RhbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuICtwYXJzZUZsb2F0KHRvdGFsKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudG90YWxDb3N0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gK3BhcnNlRmxvYXQodGhpcy5nZXRTdWJUb3RhbCgpICsgdGhpcy5nZXRTaGlwcGluZygpICsgdGhpcy5nZXRUYXgoKSkudG9GaXhlZCgyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLiRjYXJ0Lml0ZW1zLnNwbGljZShpbmRleCwgMSlbMF0gfHwge307XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0Oml0ZW1SZW1vdmVkJywgaXRlbSk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbTtcclxuICAgICAgICAgICAgdmFyIGNhcnQgPSB0aGlzLmdldENhcnQoKTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNhcnQuaXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5nZXRJZCgpID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBjYXJ0Lml0ZW1zLnNwbGljZShpbmRleCwgMSlbMF0gfHwge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldENhcnQoY2FydCk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0Oml0ZW1SZW1vdmVkJywgaXRlbSk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgICAgICB0aGlzLiRjYXJ0Lml0ZW1zID0gW107XHJcbiAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhcnQnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4kY2FydC5pdGVtcy5sZW5ndGggPiAwID8gZmFsc2UgOiB0cnVlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50b09iamVjdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0SXRlbXMoKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5nZXRJdGVtcygpLCBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2ggKGl0ZW0udG9PYmplY3QoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNoaXBwaW5nOiB0aGlzLmdldFNoaXBwaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YXg6IHRoaXMuZ2V0VGF4KCksXHJcbiAgICAgICAgICAgICAgICB0YXhSYXRlOiB0aGlzLmdldFRheFJhdGUoKSxcclxuICAgICAgICAgICAgICAgIHN1YlRvdGFsOiB0aGlzLmdldFN1YlRvdGFsKCksXHJcbiAgICAgICAgICAgICAgICB0b3RhbENvc3Q6IHRoaXMudG90YWxDb3N0KCksXHJcbiAgICAgICAgICAgICAgICBpdGVtczppdGVtc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuJHJlc3RvcmUgPSBmdW5jdGlvbihzdG9yZWRDYXJ0KXtcclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICAgICAgX3NlbGYuaW5pdCgpO1xyXG4gICAgICAgICAgICBfc2VsZi4kY2FydC5zaGlwcGluZyA9IHN0b3JlZENhcnQuc2hpcHBpbmc7XHJcbiAgICAgICAgICAgIF9zZWxmLiRjYXJ0LnRheFJhdGUgPSBzdG9yZWRDYXJ0LnRheFJhdGU7XHJcbiAgICAgICAgICAgIF9zZWxmLiRjYXJ0LnRheCA9IHN0b3JlZENhcnQudGF4O1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHN0b3JlZENhcnQuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi4kY2FydC5pdGVtcy5wdXNoKG5ldyBuZ0NhcnRJdGVtKGl0ZW0ucGFyZW50LCBpdGVtLnNrdSwgaXRlbS5kZXNjcmlwdGlvbiwgaXRlbS5hbW91bnQsIGl0ZW0ucXVhbnRpdHksIGl0ZW0uX2RhdGEsIGl0ZW0uYXR0cikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy4kc2F2ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy4kc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlLnNldCgnY2FydCcsIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0Q2FydCgpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1dKVxyXG5cclxuICAgIC5mYWN0b3J5KCduZ0NhcnRJdGVtJywgWyckcm9vdFNjb3BlJywgJyRsb2cnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGxvZykge1xyXG5cclxuICAgICAgICB2YXIgaXRlbSA9IGZ1bmN0aW9uIChpZCwgc2t1LCBuYW1lLCBwcmljZSwgcXVhbnRpdHksIGRhdGEsIGF0dHIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJZChpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2t1KHNrdSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TmFtZShuYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcmljZShwcmljZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UXVhbnRpdHkocXVhbnRpdHkpO1xyXG4gICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cihhdHRyKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0SWQgPSBmdW5jdGlvbihpZCl7XHJcbiAgICAgICAgICAgIGlmIChpZCkgIHRoaXMucGFyZW50ID0gaWQ7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvZy5lcnJvcignQW4gSUQgbXVzdCBiZSBwcm92aWRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0U2t1ID0gZnVuY3Rpb24oc2t1KXtcclxuICAgICAgICAgICAgaWYgKHNrdSkgIHRoaXMuc2t1ID0gc2t1O1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ0Egc2t1IG11c3QgYmUgcHJvdmlkZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldFNrdSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNrdTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0TmFtZSA9IGZ1bmN0aW9uKG5hbWUpe1xyXG4gICAgICAgICAgICBpZiAobmFtZSkgIHRoaXMuZGVzY3JpcHRpb24gPSBuYW1lO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ0EgbmFtZSBtdXN0IGJlIHByb3ZpZGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5zZXRQcmljZSA9IGZ1bmN0aW9uKHByaWNlKXtcclxuICAgICAgICAgICAgdmFyIHByaWNlRmxvYXQgPSBwYXJzZUZsb2F0KHByaWNlKTtcclxuICAgICAgICAgICAgaWYgKHByaWNlRmxvYXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcmljZUZsb2F0IDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdBIHByaWNlIG11c3QgYmUgb3ZlciAwJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKHByaWNlRmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvZy5lcnJvcignQSBwcmljZSBtdXN0IGJlIHByb3ZpZGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldFByaWNlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW1vdW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0UXVhbnRpdHkgPSBmdW5jdGlvbihxdWFudGl0eSwgcmVsYXRpdmUpe1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWFudGl0eUludCA9IHBhcnNlSW50KHF1YW50aXR5KTtcclxuICAgICAgICAgICAgaWYgKHF1YW50aXR5SW50ICUgMSA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmUgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgICs9IHF1YW50aXR5SW50O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gcXVhbnRpdHlJbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWFudGl0eSA8IDEpIHRoaXMucXVhbnRpdHkgPSAxO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSAxO1xyXG4gICAgICAgICAgICAgICAgJGxvZy5pbmZvKCdRdWFudGl0eSBtdXN0IGJlIGFuIGludGVnZXIgYW5kIHdhcyBkZWZhdWx0ZWQgdG8gMScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXRRdWFudGl0eSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1YW50aXR5O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YSkgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgICAgICAgICAgIGVsc2UgJGxvZy5pbmZvKCdUaGlzIGl0ZW0gaGFzIG5vIGRhdGEnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5zZXRBdHRyID0gZnVuY3Rpb24oYXR0cmlidXRlcyl7XHJcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzKSB0aGlzLmF0dHIgPSBhdHRyaWJ1dGVzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLmdldEF0dHIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRyKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dHJbXCJzaXplXCJdKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyW1wic2l6ZVwiXVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF0dHJbXCJjb2xvclwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJbXCJzaXplXCJdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNlIHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuZ2V0VG90YWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gK3BhcnNlRmxvYXQodGhpcy5nZXRRdWFudGl0eSgpICogdGhpcy5nZXRQcmljZSgpKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5nZXRJZCgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5nZXROYW1lKCksXHJcbiAgICAgICAgICAgICAgICBwcmljZTogdGhpcy5nZXRQcmljZSgpLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6IHRoaXMuZ2V0UXVhbnRpdHkoKSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0RGF0YSgpLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IHRoaXMuZ2V0VG90YWwoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLnNlcnZpY2UoJ3N0b3JlJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgKSAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ID0gYW5ndWxhci5mcm9tSnNvbiggJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpICkgO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgga2V5LCBhbmd1bGFyLnRvSnNvbih2YWwpICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhcnRDb250cm9sbGVyJyxbJyRzY29wZScsJyRyb290U2NvcGUnLCAnbmdDYXJ0JywnJHRpbWVvdXQnLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsIG5nQ2FydCwgJHRpbWVvdXQpIHtcclxuICAgICAgICAkc2NvcGUubG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLnRvZ2dsZUNhcnQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubmdDYXJ0ID0gbmdDYXJ0O1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgdmFyIGl0ZW1zID0gbmdDYXJ0LmdldEl0ZW1zKCk7XHJcbiAgICAgICAgICAgIC8vIGxvb3AgdG8gZGV0ZXJtaW5lIGlmIGFueSBpdGVtcyBhcmUgc2hpcHBhYmxlXHJcbiAgXHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLl9kYXRhLnByb2R1Y3RfdHlwZSA9PT0gXCJzaGlwcGFibGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hpcEJvb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRTaGlwcGFibGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaGlwQm9vbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRTaGlwcGFibGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhcnRCdG5Db250cm9sbGVyJyxbJyRzY29wZScsICduZ0NhcnQnLCckdGltZW91dCcsIGZ1bmN0aW9uKCRzY29wZSwgbmdDYXJ0LCAkdGltZW91dCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5sb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUudG9nZ2xlQ2FydCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5uZ0NhcnQgPSBuZ0NhcnQ7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XSlcclxuXHJcbiAgICAudmFsdWUoJ3ZlcnNpb24nLCAnMS4wLjAnKTtcclxuOyd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnbmdDYXJ0LmRpcmVjdGl2ZXMnLCBbJ25nQ2FydC5mdWxmaWxtZW50J10pXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhcnRDb250cm9sbGVyJyxbJyRzY29wZScsICduZ0NhcnQnLCBmdW5jdGlvbigkc2NvcGUsIG5nQ2FydCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5uZ0NhcnQgPSBuZ0NhcnQ7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgfV0pXHJcblxyXG4gICAgICAgICAgLmRpcmVjdGl2ZSgnbmdjYXJ0QWRkQnRuJywgWyduZ0NhcnQnLCBmdW5jdGlvbihuZ0NhcnQpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0IDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyIDogJ0NhcnRCdG5Db250cm9sbGVyJyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIGlkOidAJyxcclxuICAgICAgICAgICAgICAgIHNrdTogJ0AnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTonQCcsXHJcbiAgICAgICAgICAgICAgICBxdWFudGl0eTonQCcsXHJcbiAgICAgICAgICAgICAgICBxdWFudGl0eU1heDonQCcsXHJcbiAgICAgICAgICAgICAgICBwcmljZTonQCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOic9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGF0dHJzLnRlbXBsYXRlVXJsID09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlld3MvbmdDYXJ0L2FkZHRvY2FydEJ0bi5odG1sJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5hdHRycyA9IGF0dHJzO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuaW5DYXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIG5nQ2FydC5nZXRJdGVtQnlJZChhdHRycy5pZCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbkNhcnQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IG5nQ2FydC5nZXRJdGVtQnlJZChhdHRycy5pZCkuZ2V0UXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzY29wZS5xdHlPcHQgPSAgW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBzY29wZS5xdWFudGl0eU1heDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucXR5T3B0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAuZGlyZWN0aXZlKCduZ2NhcnRBZGR0b2NhcnQnLCBbJ25nQ2FydCcsIGZ1bmN0aW9uKG5nQ2FydCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgaWQ6J0AnLFxyXG4gICAgICAgICAgICAgICAgc2t1OiAnQCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5OidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5TWF4OidAJyxcclxuICAgICAgICAgICAgICAgIHByaWNlOidAJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6Jz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvYWRkdG9jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pbkNhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAgbmdDYXJ0LmdldEl0ZW1CeUlkKGF0dHJzLmlkKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmluQ2FydCgpKXtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5xID0gbmdDYXJ0LmdldEl0ZW1CeUlkKGF0dHJzLmlkKS5nZXRRdWFudGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5xID0gcGFyc2VJbnQoc2NvcGUucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLnF0eU9wdCA9ICBbXTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzTWF4O1xyXG4gICAgICAgICAgICAgICAgdmFyIHNob3dDb3VudFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0aWNrZXRzLycrIHNjb3BlLmlkICsgJy90b3RhbFRpY2tldHMnKTtcclxuICAgICAgICAgICAgICAgIHNob3dDb3VudFJlZi5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24oc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS50b3RhbFRpeCA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5xdWFudGl0eU1heCA8IHNjb3BlLnRvdGFsVGl4KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzTWF4ID0gc2NvcGUucXVhbnRpdHlNYXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzTWF4ID0gc2NvcGUudG90YWxUaXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzTWF4ID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHRoaXNNYXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5xdHlPcHQucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcblxyXG5cclxuICAgIC5kaXJlY3RpdmUoJ25nY2FydENhcnQnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0U3VtbWFyeScsIFtmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0IDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyIDogJ0NhcnRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgc2NvcGU6IHt9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGF0dHJzLnRlbXBsYXRlVXJsID09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlld3MvbmdDYXJ0L3N1bW1hcnkuaHRtbCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAgLmRpcmVjdGl2ZSgnbmdjYXJ0Q2FydENvbmZpcm0nLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9jYXJ0LWNvbmZpcm0uaHRtbCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAuZGlyZWN0aXZlKCduZ2NhcnRTbWFsbENhcnQnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9zbWFsbC1jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0U21hbGxDYXJ0Q29sbGFwc2UnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9zbWFsbC1jYXJ0LWNvbGxhcHNlLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0Q2hlY2tvdXQnLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICgnQ2FydENvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ25nQ2FydCcsICdmdWxmaWxtZW50UHJvdmlkZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsIG5nQ2FydCwgZnVsZmlsbWVudFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmdDYXJ0ID0gbmdDYXJ0O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdWxmaWxtZW50UHJvdmlkZXIuc2V0U2VydmljZSgkc2NvcGUuc2VydmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVsZmlsbWVudFByb3ZpZGVyLnNldFNldHRpbmdzKCRzY29wZS5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVsZmlsbWVudFByb3ZpZGVyLmNoZWNrb3V0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGVja291dF9zdWNjZWVkZWQnLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hlY2tvdXRfZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XSksXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOidAJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOic9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGF0dHJzLnRlbXBsYXRlVXJsID09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndGVtcGxhdGUvbmdDYXJ0L2NoZWNrb3V0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG47XHJcbmFuZ3VsYXIubW9kdWxlKCduZ0NhcnQuZnVsZmlsbWVudCcsIFtdKVxyXG4gICAgLnNlcnZpY2UoJ2Z1bGZpbG1lbnRQcm92aWRlcicsIFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKXtcclxuXHJcbiAgICAgICAgdGhpcy5fb2JqID0ge1xyXG4gICAgICAgICAgICBzZXJ2aWNlIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2VydmljZSA9IGZ1bmN0aW9uKHNlcnZpY2Upe1xyXG4gICAgICAgICAgICB0aGlzLl9vYmouc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTZXR0aW5ncyA9IGZ1bmN0aW9uKHNldHRpbmdzKXtcclxuICAgICAgICAgICAgdGhpcy5fb2JqLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9ICRpbmplY3Rvci5nZXQoJ25nQ2FydC5mdWxmaWxtZW50LicgKyB0aGlzLl9vYmouc2VydmljZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyLmNoZWNrb3V0KHRoaXMuX29iai5zZXR0aW5ncyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XSlcclxuXHJcblxyXG4uc2VydmljZSgnbmdDYXJ0LmZ1bGZpbG1lbnQubG9nJywgWyckcScsICckbG9nJywgJ25nQ2FydCcsIGZ1bmN0aW9uKCRxLCAkbG9nLCBuZ0NhcnQpe1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrb3V0ID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgICAgICAkbG9nLmluZm8obmdDYXJ0LnRvT2JqZWN0KCkpO1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6bmdDYXJ0LnRvT2JqZWN0KClcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuIH1dKVxyXG5cclxuLnNlcnZpY2UoJ25nQ2FydC5mdWxmaWxtZW50Lmh0dHAnLCBbJyRodHRwJywgJ25nQ2FydCcsIGZ1bmN0aW9uKCRodHRwLCBuZ0NhcnQpe1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrb3V0ID0gZnVuY3Rpb24oc2V0dGluZ3Mpe1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChzZXR0aW5ncy51cmwsXHJcbiAgICAgICAgICAgICAgICB7IGRhdGE6IG5nQ2FydC50b09iamVjdCgpLCBvcHRpb25zOiBzZXR0aW5ncy5vcHRpb25zfSk7XHJcbiAgICAgICAgfVxyXG4gfV0pXHJcblxyXG5cclxuLnNlcnZpY2UoJ25nQ2FydC5mdWxmaWxtZW50LnBheXBhbCcsIFsnJGh0dHAnLCAnbmdDYXJ0JywgZnVuY3Rpb24oJGh0dHAsIG5nQ2FydCl7XHJcblxyXG5cclxufV0pO1xyXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLXBhcmFsbGF4JywgW1xuXSkuZGlyZWN0aXZlKCdwYXJhbGxheCcsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICBwYXJhbGxheFJhdGlvOiAnQCcsXG4gICAgICBwYXJhbGxheFZlcnRpY2FsT2Zmc2V0OiAnQCcsXG4gICAgICBwYXJhbGxheEhvcml6b250YWxPZmZzZXQ6ICdAJyxcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBzZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoISRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQpICRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQgPSAnMCc7XG4gICAgICAgIHZhciBjYWxjVmFsWSA9ICR3aW5kb3cucGFnZVlPZmZzZXQgKiAoJHNjb3BlLnBhcmFsbGF4UmF0aW8gPyAkc2NvcGUucGFyYWxsYXhSYXRpbyA6IDEuMSApO1xuICAgICAgICBpZiAoY2FsY1ZhbFkgPD0gJHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgIHZhciB0b3BWYWwgPSAoY2FsY1ZhbFkgPCAkc2NvcGUucGFyYWxsYXhWZXJ0aWNhbE9mZnNldCA/ICRzY29wZS5wYXJhbGxheFZlcnRpY2FsT2Zmc2V0IDogY2FsY1ZhbFkpO1xuICAgICAgICAgIHZhciBob3pWYWwgPSAoJHNjb3BlLnBhcmFsbGF4SG9yaXpvbnRhbE9mZnNldC5pbmRleE9mKFwiJVwiKSA9PT0gLTEgPyAkc2NvcGUucGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0ICsgJ3B4JyA6ICRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICAgIGVsZW0uY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBob3pWYWwgKyAnLCAnICsgdG9wVmFsICsgJ3B4KScpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZXRQb3NpdGlvbigpO1xuXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZChcInNjcm9sbFwiLCBzZXRQb3NpdGlvbik7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZChcInRvdWNobW92ZVwiLCBzZXRQb3NpdGlvbik7XG4gICAgfSAgLy8gbGluayBmdW5jdGlvblxuICB9O1xufV0pLmRpcmVjdGl2ZSgncGFyYWxsYXhCYWNrZ3JvdW5kJywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj4nLFxuICAgIHNjb3BlOiB7XG4gICAgICBwYXJhbGxheFJhdGlvOiAnQCcsXG4gICAgICBwYXJhbGxheFZlcnRpY2FsT2Zmc2V0OiAnQCcsXG4gICAgICBwYXJhbGxheFN0YXJ0UG9pbnQ6ICdAJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgdmFyIHNldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gKCRzY29wZS5wYXJhbGxheFZlcnRpY2FsT2Zmc2V0LzEwMCkgKiBlbGVtWzBdLm9mZnNldEhlaWdodDsgXG4gICAgICAgIHZhciBjYWxjVmFsWSA9IChlbGVtLnByb3AoJ29mZnNldFRvcCcpIC0gJHdpbmRvdy5wYWdlWU9mZnNldCkgKiAoJHNjb3BlLnBhcmFsbGF4UmF0aW8gPyAkc2NvcGUucGFyYWxsYXhSYXRpbyA6IDEuMSkgLSAob2Zmc2V0IHx8IDApO1xuICAgICAgICAvLyBob3Jpem9udGFsIHBvc2l0aW9uaW5nXG4gICAgICAgIGlmIChjYWxjVmFsWSA+PSAkc2NvcGUucGFyYWxsYXhTdGFydFBvaW50KXtcbiAgICAgICAgICBjYWxjVmFsWSA9ICRzY29wZS5wYXJhbGxheFN0YXJ0UG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCBcIjUwJSBcIiArIGNhbGNWYWxZICsgXCJweFwiKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHNldCBvdXIgaW5pdGlhbCBwb3NpdGlvbiAtIGZpeGVzIHdlYmtpdCBiYWNrZ3JvdW5kIHJlbmRlciBidWdcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdsb2FkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBzZXRQb3NpdGlvbigpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIiwgc2V0UG9zaXRpb24pO1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJ0b3VjaG1vdmVcIiwgc2V0UG9zaXRpb24pO1xuICAgIH0gIC8vIGxpbmsgZnVuY3Rpb25cbiAgfTtcbn1dKTtcbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQvKlxuXHQqXG5cdCogQSBBbmd1bGFySlMgbW9kdWxlIHRoYXQgaW1wbGVtZW50cyB0aGUgSFRNTDUgVzNDIHNhdmVBcygpIGluIGJyb3dzZXJzIHRoYXRcblx0KiBkbyBub3QgbmF0aXZlbHkgc3VwcG9ydCBpdFxuXHQqXG5cdCogKGMpIDIwMTUgUGhpbGlwcCBBbGZlcm92XG5cdCogTGljZW5zZTogTUlUXG5cdCpcblx0Ki9cblxuXHRtb2R1bGUuZXhwb3J0cyA9ICduZ0ZpbGVTYXZlcic7XG5cblx0YW5ndWxhci5tb2R1bGUoJ25nRmlsZVNhdmVyJywgW10pXG5cdCAgLmZhY3RvcnkoJ0ZpbGVTYXZlcicsIFsnQmxvYicsICdTYXZlQXMnLCAnRmlsZVNhdmVyVXRpbHMnLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXSlcblx0ICAuZmFjdG9yeSgnRmlsZVNhdmVyVXRpbHMnLCBbX193ZWJwYWNrX3JlcXVpcmVfXygyKV0pXG5cdCAgLmZhY3RvcnkoJ0Jsb2InLCBbJyR3aW5kb3cnLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXSlcblx0ICAuZmFjdG9yeSgnU2F2ZUFzJywgW19fd2VicGFja19yZXF1aXJlX18oNSldKTtcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gRmlsZVNhdmVyKEJsb2IsIFNhdmVBcywgRmlsZVNhdmVyVXRpbHMpIHtcblxuXHQgIGZ1bmN0aW9uIHNhdmUoYmxvYiwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBTYXZlQXMoYmxvYiwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKTtcblx0ICAgIH0gY2F0Y2goZXJyKSB7XG5cdCAgICAgIEZpbGVTYXZlclV0aWxzLmhhbmRsZUVycm9ycyhlcnIubWVzc2FnZSk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHtcblxuXHQgICAgLyoqXG5cdCAgICAqIHNhdmVBc1xuXHQgICAgKiBJbW1lZGlhdGVseSBzdGFydHMgc2F2aW5nIGEgZmlsZSwgcmV0dXJucyB1bmRlZmluZWQuXG5cdCAgICAqXG5cdCAgICAqIEBuYW1lIHNhdmVBc1xuXHQgICAgKiBAZnVuY3Rpb25cblx0ICAgICogQHBhcmFtIHtCbG9ifSBkYXRhIEEgQmxvYiBpbnN0YW5jZVxuXHQgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZW5hbWUgQ3VzdG9tIGZpbGVuYW1lIChleHRlbnNpb24gaXMgb3B0aW9uYWwpXG5cdCAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZUF1dG9CT00gRGlzYWJsZSBhdXRvbWF0aWNhbGx5IHByb3ZpZGVkIFVuaWNvZGVcblx0ICAgICogdGV4dCBlbmNvZGluZyBoaW50c1xuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtVbmRlZmluZWR9XG5cdCAgICAqL1xuXG5cdCAgICBzYXZlQXM6IGZ1bmN0aW9uKGRhdGEsIGZpbGVuYW1lLCBkaXNhYmxlQXV0b0JPTSkge1xuXG5cdCAgICAgIGlmICghRmlsZVNhdmVyVXRpbHMuaXNCbG9iSW5zdGFuY2UoZGF0YSkpIHtcblx0ICAgICAgICBGaWxlU2F2ZXJVdGlscy5oYW5kbGVFcnJvcnMoJ0RhdGEgYXJndW1lbnQgc2hvdWxkIGJlIGEgYmxvYiBpbnN0YW5jZScpO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKCFGaWxlU2F2ZXJVdGlscy5pc1N0cmluZyhmaWxlbmFtZSkpIHtcblx0ICAgICAgICBGaWxlU2F2ZXJVdGlscy5oYW5kbGVFcnJvcnMoJ0ZpbGVuYW1lIGFyZ3VtZW50IHNob3VsZCBiZSBhIHN0cmluZycpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIHNhdmUoZGF0YSwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBGaWxlU2F2ZXJVdGlscygpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgaGFuZGxlRXJyb3JzOiBmdW5jdGlvbihtc2cpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG5cdCAgICB9LFxuXHQgICAgaXNTdHJpbmc6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHwgb2JqIGluc3RhbmNlb2YgU3RyaW5nO1xuXHQgICAgfSxcblx0ICAgIGlzVW5kZWZpbmVkOiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnO1xuXHQgICAgfSxcblx0ICAgIGlzQmxvYkluc3RhbmNlOiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEJsb2I7XG5cdCAgICB9XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBCbG9iKCR3aW5kb3cpIHtcblx0ICByZXR1cm4gJHdpbmRvdy5CbG9iO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBCbG9iLmpzXG5cdCAqIEEgQmxvYiBpbXBsZW1lbnRhdGlvbi5cblx0ICogMjAxNC0wNy0yNFxuXHQgKlxuXHQgKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG5cdCAqIEJ5IERldmluIFNhbWFyaW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9kc2FtYXJpblxuXHQgKiBMaWNlbnNlOiBYMTEvTUlUXG5cdCAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0Jsb2IuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuXHQgKi9cblxuXHQvKmdsb2JhbCBzZWxmLCB1bmVzY2FwZSAqL1xuXHQvKmpzbGludCBiaXR3aXNlOiB0cnVlLCByZWdleHA6IHRydWUsIGNvbmZ1c2lvbjogdHJ1ZSwgZXM1OiB0cnVlLCB2YXJzOiB0cnVlLCB3aGl0ZTogdHJ1ZSxcblx0ICBwbHVzcGx1czogdHJ1ZSAqL1xuXG5cdC8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9CbG9iLmpzL2Jsb2IvbWFzdGVyL0Jsb2IuanMgKi9cblxuXHQoZnVuY3Rpb24gKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblxuXHRcdHZpZXcuVVJMID0gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkw7XG5cblx0XHRpZiAodmlldy5CbG9iICYmIHZpZXcuVVJMKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRuZXcgQmxvYjtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHR9XG5cblx0XHQvLyBJbnRlcm5hbGx5IHdlIHVzZSBhIEJsb2JCdWlsZGVyIGltcGxlbWVudGF0aW9uIHRvIGJhc2UgQmxvYiBvZmYgb2Zcblx0XHQvLyBpbiBvcmRlciB0byBzdXBwb3J0IG9sZGVyIGJyb3dzZXJzIHRoYXQgb25seSBoYXZlIEJsb2JCdWlsZGVyXG5cdFx0dmFyIEJsb2JCdWlsZGVyID0gdmlldy5CbG9iQnVpbGRlciB8fCB2aWV3LldlYktpdEJsb2JCdWlsZGVyIHx8IHZpZXcuTW96QmxvYkJ1aWxkZXIgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcblx0XHRcdHZhclxuXHRcdFx0XHQgIGdldF9jbGFzcyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdFx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KS5tYXRjaCgvXlxcW29iamVjdFxccyguKilcXF0kLylbMV07XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBGYWtlQmxvYkJ1aWxkZXIgPSBmdW5jdGlvbiBCbG9iQnVpbGRlcigpIHtcblx0XHRcdFx0XHR0aGlzLmRhdGEgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIEZha2VCbG9iID0gZnVuY3Rpb24gQmxvYihkYXRhLCB0eXBlLCBlbmNvZGluZykge1xuXHRcdFx0XHRcdHRoaXMuZGF0YSA9IGRhdGE7XG5cdFx0XHRcdFx0dGhpcy5zaXplID0gZGF0YS5sZW5ndGg7XG5cdFx0XHRcdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XHRcdFx0XHR0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBGQkJfcHJvdG8gPSBGYWtlQmxvYkJ1aWxkZXIucHJvdG90eXBlXG5cdFx0XHRcdCwgRkJfcHJvdG8gPSBGYWtlQmxvYi5wcm90b3R5cGVcblx0XHRcdFx0LCBGaWxlUmVhZGVyU3luYyA9IHZpZXcuRmlsZVJlYWRlclN5bmNcblx0XHRcdFx0LCBGaWxlRXhjZXB0aW9uID0gZnVuY3Rpb24odHlwZSkge1xuXHRcdFx0XHRcdHRoaXMuY29kZSA9IHRoaXNbdGhpcy5uYW1lID0gdHlwZV07XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBmaWxlX2V4X2NvZGVzID0gKFxuXHRcdFx0XHRcdCAgXCJOT1RfRk9VTkRfRVJSIFNFQ1VSSVRZX0VSUiBBQk9SVF9FUlIgTk9UX1JFQURBQkxFX0VSUiBFTkNPRElOR19FUlIgXCJcblx0XHRcdFx0XHQrIFwiTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSIElOVkFMSURfU1RBVEVfRVJSIFNZTlRBWF9FUlJcIlxuXHRcdFx0XHQpLnNwbGl0KFwiIFwiKVxuXHRcdFx0XHQsIGZpbGVfZXhfY29kZSA9IGZpbGVfZXhfY29kZXMubGVuZ3RoXG5cdFx0XHRcdCwgcmVhbF9VUkwgPSB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3XG5cdFx0XHRcdCwgcmVhbF9jcmVhdGVfb2JqZWN0X1VSTCA9IHJlYWxfVVJMLmNyZWF0ZU9iamVjdFVSTFxuXHRcdFx0XHQsIHJlYWxfcmV2b2tlX29iamVjdF9VUkwgPSByZWFsX1VSTC5yZXZva2VPYmplY3RVUkxcblx0XHRcdFx0LCBVUkwgPSByZWFsX1VSTFxuXHRcdFx0XHQsIGJ0b2EgPSB2aWV3LmJ0b2Fcblx0XHRcdFx0LCBhdG9iID0gdmlldy5hdG9iXG5cblx0XHRcdFx0LCBBcnJheUJ1ZmZlciA9IHZpZXcuQXJyYXlCdWZmZXJcblx0XHRcdFx0LCBVaW50OEFycmF5ID0gdmlldy5VaW50OEFycmF5XG5cblx0XHRcdFx0LCBvcmlnaW4gPSAvXltcXHctXSs6XFwvKlxcWz9bXFx3XFwuOi1dK1xcXT8oPzo6WzAtOV0rKT8vXG5cdFx0XHQ7XG5cdFx0XHRGYWtlQmxvYi5mYWtlID0gRkJfcHJvdG8uZmFrZSA9IHRydWU7XG5cdFx0XHR3aGlsZSAoZmlsZV9leF9jb2RlLS0pIHtcblx0XHRcdFx0RmlsZUV4Y2VwdGlvbi5wcm90b3R5cGVbZmlsZV9leF9jb2Rlc1tmaWxlX2V4X2NvZGVdXSA9IGZpbGVfZXhfY29kZSArIDE7XG5cdFx0XHR9XG5cdFx0XHQvLyBQb2x5ZmlsbCBVUkxcblx0XHRcdGlmICghcmVhbF9VUkwuY3JlYXRlT2JqZWN0VVJMKSB7XG5cdFx0XHRcdFVSTCA9IHZpZXcuVVJMID0gZnVuY3Rpb24odXJpKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHQgIHVyaV9pbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcblx0XHRcdFx0XHRcdCwgdXJpX29yaWdpblxuXHRcdFx0XHRcdDtcblx0XHRcdFx0XHR1cmlfaW5mby5ocmVmID0gdXJpO1xuXHRcdFx0XHRcdGlmICghKFwib3JpZ2luXCIgaW4gdXJpX2luZm8pKSB7XG5cdFx0XHRcdFx0XHRpZiAodXJpX2luZm8ucHJvdG9jb2wudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRhOlwiKSB7XG5cdFx0XHRcdFx0XHRcdHVyaV9pbmZvLm9yaWdpbiA9IG51bGw7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR1cmlfb3JpZ2luID0gdXJpLm1hdGNoKG9yaWdpbik7XG5cdFx0XHRcdFx0XHRcdHVyaV9pbmZvLm9yaWdpbiA9IHVyaV9vcmlnaW4gJiYgdXJpX29yaWdpblsxXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHVyaV9pbmZvO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0VVJMLmNyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0ICB0eXBlID0gYmxvYi50eXBlXG5cdFx0XHRcdFx0LCBkYXRhX1VSSV9oZWFkZXJcblx0XHRcdFx0O1xuXHRcdFx0XHRpZiAodHlwZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHR5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChibG9iIGluc3RhbmNlb2YgRmFrZUJsb2IpIHtcblx0XHRcdFx0XHRkYXRhX1VSSV9oZWFkZXIgPSBcImRhdGE6XCIgKyB0eXBlO1xuXHRcdFx0XHRcdGlmIChibG9iLmVuY29kaW5nID09PSBcImJhc2U2NFwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCI7YmFzZTY0LFwiICsgYmxvYi5kYXRhO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYmxvYi5lbmNvZGluZyA9PT0gXCJVUklcIikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiLFwiICsgZGVjb2RlVVJJQ29tcG9uZW50KGJsb2IuZGF0YSk7XG5cdFx0XHRcdFx0fSBpZiAoYnRvYSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiO2Jhc2U2NCxcIiArIGJ0b2EoYmxvYi5kYXRhKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJsb2IuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHJlYWxfY3JlYXRlX29iamVjdF9VUkwpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVhbF9jcmVhdGVfb2JqZWN0X1VSTC5jYWxsKHJlYWxfVVJMLCBibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwgPSBmdW5jdGlvbihvYmplY3RfVVJMKSB7XG5cdFx0XHRcdGlmIChvYmplY3RfVVJMLnN1YnN0cmluZygwLCA1KSAhPT0gXCJkYXRhOlwiICYmIHJlYWxfcmV2b2tlX29iamVjdF9VUkwpIHtcblx0XHRcdFx0XHRyZWFsX3Jldm9rZV9vYmplY3RfVVJMLmNhbGwocmVhbF9VUkwsIG9iamVjdF9VUkwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0RkJCX3Byb3RvLmFwcGVuZCA9IGZ1bmN0aW9uKGRhdGEvKiwgZW5kaW5ncyovKSB7XG5cdFx0XHRcdHZhciBiYiA9IHRoaXMuZGF0YTtcblx0XHRcdFx0Ly8gZGVjb2RlIGRhdGEgdG8gYSBiaW5hcnkgc3RyaW5nXG5cdFx0XHRcdGlmIChVaW50OEFycmF5ICYmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHQgIHN0ciA9IFwiXCJcblx0XHRcdFx0XHRcdCwgYnVmID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSlcblx0XHRcdFx0XHRcdCwgaSA9IDBcblx0XHRcdFx0XHRcdCwgYnVmX2xlbiA9IGJ1Zi5sZW5ndGhcblx0XHRcdFx0XHQ7XG5cdFx0XHRcdFx0Zm9yICg7IGkgPCBidWZfbGVuOyBpKyspIHtcblx0XHRcdFx0XHRcdHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJiLnB1c2goc3RyKTtcblx0XHRcdFx0fSBlbHNlIGlmIChnZXRfY2xhc3MoZGF0YSkgPT09IFwiQmxvYlwiIHx8IGdldF9jbGFzcyhkYXRhKSA9PT0gXCJGaWxlXCIpIHtcblx0XHRcdFx0XHRpZiAoRmlsZVJlYWRlclN5bmMpIHtcblx0XHRcdFx0XHRcdHZhciBmciA9IG5ldyBGaWxlUmVhZGVyU3luYztcblx0XHRcdFx0XHRcdGJiLnB1c2goZnIucmVhZEFzQmluYXJ5U3RyaW5nKGRhdGEpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gYXN5bmMgRmlsZVJlYWRlciB3b24ndCB3b3JrIGFzIEJsb2JCdWlsZGVyIGlzIHN5bmNcblx0XHRcdFx0XHRcdHRocm93IG5ldyBGaWxlRXhjZXB0aW9uKFwiTk9UX1JFQURBQkxFX0VSUlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEZha2VCbG9iKSB7XG5cdFx0XHRcdFx0aWYgKGRhdGEuZW5jb2RpbmcgPT09IFwiYmFzZTY0XCIgJiYgYXRvYikge1xuXHRcdFx0XHRcdFx0YmIucHVzaChhdG9iKGRhdGEuZGF0YSkpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZGF0YS5lbmNvZGluZyA9PT0gXCJVUklcIikge1xuXHRcdFx0XHRcdFx0YmIucHVzaChkZWNvZGVVUklDb21wb25lbnQoZGF0YS5kYXRhKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhLmVuY29kaW5nID09PSBcInJhd1wiKSB7XG5cdFx0XHRcdFx0XHRiYi5wdXNoKGRhdGEuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0ZGF0YSArPSBcIlwiOyAvLyBjb252ZXJ0IHVuc3VwcG9ydGVkIHR5cGVzIHRvIHN0cmluZ3Ncblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gZGVjb2RlIFVURi0xNiB0byBiaW5hcnkgc3RyaW5nXG5cdFx0XHRcdFx0YmIucHVzaCh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZGF0YSkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdEZCQl9wcm90by5nZXRCbG9iID0gZnVuY3Rpb24odHlwZSkge1xuXHRcdFx0XHRpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0XHR0eXBlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmV3IEZha2VCbG9iKHRoaXMuZGF0YS5qb2luKFwiXCIpLCB0eXBlLCBcInJhd1wiKTtcblx0XHRcdH07XG5cdFx0XHRGQkJfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwiW29iamVjdCBCbG9iQnVpbGRlcl1cIjtcblx0XHRcdH07XG5cdFx0XHRGQl9wcm90by5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHR5cGUpIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoO1xuXHRcdFx0XHRpZiAoYXJncyA8IDMpIHtcblx0XHRcdFx0XHR0eXBlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmV3IEZha2VCbG9iKFxuXHRcdFx0XHRcdCAgdGhpcy5kYXRhLnNsaWNlKHN0YXJ0LCBhcmdzID4gMSA/IGVuZCA6IHRoaXMuZGF0YS5sZW5ndGgpXG5cdFx0XHRcdFx0LCB0eXBlXG5cdFx0XHRcdFx0LCB0aGlzLmVuY29kaW5nXG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXHRcdFx0RkJfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwiW29iamVjdCBCbG9iXVwiO1xuXHRcdFx0fTtcblx0XHRcdEZCX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2l6ZSA9IDA7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmRhdGE7XG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIEZha2VCbG9iQnVpbGRlcjtcblx0XHR9KHZpZXcpKTtcblxuXHRcdHZpZXcuQmxvYiA9IGZ1bmN0aW9uKGJsb2JQYXJ0cywgb3B0aW9ucykge1xuXHRcdFx0dmFyIHR5cGUgPSBvcHRpb25zID8gKG9wdGlvbnMudHlwZSB8fCBcIlwiKSA6IFwiXCI7XG5cdFx0XHR2YXIgYnVpbGRlciA9IG5ldyBCbG9iQnVpbGRlcigpO1xuXHRcdFx0aWYgKGJsb2JQYXJ0cykge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gYmxvYlBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKFVpbnQ4QXJyYXkgJiYgYmxvYlBhcnRzW2ldIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuXHRcdFx0XHRcdFx0YnVpbGRlci5hcHBlbmQoYmxvYlBhcnRzW2ldLmJ1ZmZlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0YnVpbGRlci5hcHBlbmQoYmxvYlBhcnRzW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHZhciBibG9iID0gYnVpbGRlci5nZXRCbG9iKHR5cGUpO1xuXHRcdFx0aWYgKCFibG9iLnNsaWNlICYmIGJsb2Iud2Via2l0U2xpY2UpIHtcblx0XHRcdFx0YmxvYi5zbGljZSA9IGJsb2Iud2Via2l0U2xpY2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYmxvYjtcblx0XHR9O1xuXG5cdFx0dmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdFx0cmV0dXJuIG9iamVjdC5fX3Byb3RvX187XG5cdFx0fTtcblx0XHR2aWV3LkJsb2IucHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YobmV3IHZpZXcuQmxvYigpKTtcblx0fSh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93IHx8IHRoaXMuY29udGVudCB8fCB0aGlzKSk7XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIFNhdmVBcygpIHtcblx0ICByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyg2KS5zYXZlQXMgfHwgZnVuY3Rpb24oKSB7fTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIEZpbGVTYXZlci5qc1xuXHQgKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cblx0ICogMS4zLjJcblx0ICogMjAxNi0wNi0xNiAxODoyNToxOVxuXHQgKlxuXHQgKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG5cdCAqIExpY2Vuc2U6IE1JVFxuXHQgKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuXHQgKi9cblxuXHQvKmdsb2JhbCBzZWxmICovXG5cdC8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXG5cblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblxuXHR2YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFx0Ly8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcblx0XHRpZiAodHlwZW9mIHZpZXcgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXJcblx0XHRcdCAgZG9jID0gdmlldy5kb2N1bWVudFxuXHRcdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxuXHRcdFx0LCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0LCBzYXZlX2xpbmsgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLCBcImFcIilcblx0XHRcdCwgY2FuX3VzZV9zYXZlX2xpbmsgPSBcImRvd25sb2FkXCIgaW4gc2F2ZV9saW5rXG5cdFx0XHQsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdFx0XHR2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xuXHRcdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdFx0LCBpc19zYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KHZpZXcuSFRNTEVsZW1lbnQpXG5cdFx0XHQsIGlzX2Nocm9tZV9pb3MgPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXHRcdFx0LCB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24oZXgpIHtcblx0XHRcdFx0KHZpZXcuc2V0SW1tZWRpYXRlIHx8IHZpZXcuc2V0VGltZW91dCkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGhyb3cgZXg7XG5cdFx0XHRcdH0sIDApO1xuXHRcdFx0fVxuXHRcdFx0LCBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIlxuXHRcdFx0Ly8gdGhlIEJsb2IgQVBJIGlzIGZ1bmRhbWVudGFsbHkgYnJva2VuIGFzIHRoZXJlIGlzIG5vIFwiZG93bmxvYWRmaW5pc2hlZFwiIGV2ZW50IHRvIHN1YnNjcmliZSB0b1xuXHRcdFx0LCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSAxMDAwICogNDAgLy8gaW4gbXNcblx0XHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgZmlsZSA9PT0gXCJzdHJpbmdcIikgeyAvLyBmaWxlIGlzIGFuIG9iamVjdCBVUkxcblx0XHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRcdGZpbGUucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRzZXRUaW1lb3V0KHJldm9rZXIsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCk7XG5cdFx0XHR9XG5cdFx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xuXHRcdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHRcdHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcblx0XHRcdFx0Ly8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcblx0XHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhGRUZGKSwgYmxvYl0sIHt0eXBlOiBibG9iLnR5cGV9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYmxvYjtcblx0XHRcdH1cblx0XHRcdCwgRmlsZVNhdmVyID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBGaXJzdCB0cnkgYS5kb3dubG9hZCwgdGhlbiB3ZWIgZmlsZXN5c3RlbSwgdGhlbiBvYmplY3QgVVJMc1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHQgIGZpbGVzYXZlciA9IHRoaXNcblx0XHRcdFx0XHQsIHR5cGUgPSBibG9iLnR5cGVcblx0XHRcdFx0XHQsIGZvcmNlID0gdHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZVxuXHRcdFx0XHRcdCwgb2JqZWN0X3VybFxuXHRcdFx0XHRcdCwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSB3cml0ZWVuZFwiLnNwbGl0KFwiIFwiKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcblx0XHRcdFx0XHQsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoKGlzX2Nocm9tZV9pb3MgfHwgKGZvcmNlICYmIGlzX3NhZmFyaSkpICYmIHZpZXcuRmlsZVJlYWRlcikge1xuXHRcdFx0XHRcdFx0XHQvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIHVybHNcblx0XHRcdFx0XHRcdFx0dmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0XHRcdFx0XHRcdHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdXJsID0gaXNfY2hyb21lX2lvcyA/IHJlYWRlci5yZXN1bHQgOiByZWFkZXIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcG9wdXAgPSB2aWV3Lm9wZW4odXJsLCAnX2JsYW5rJyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIXBvcHVwKSB2aWV3LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG5cdFx0XHRcdFx0XHRcdFx0dXJsPXVuZGVmaW5lZDsgLy8gcmVsZWFzZSByZWZlcmVuY2UgYmVmb3JlIGRpc3BhdGNoaW5nXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG5cdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXG5cdFx0XHRcdFx0XHRpZiAoIW9iamVjdF91cmwpIHtcblx0XHRcdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoZm9yY2UpIHtcblx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHZhciBvcGVuZWQgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRcdGlmICghb3BlbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQXBwbGUgZG9lcyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9zYWZhcmkvZG9jdW1lbnRhdGlvbi9Ub29scy9Db25jZXB0dWFsL1NhZmFyaUV4dGVuc2lvbkd1aWRlL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMvV29ya2luZ3dpdGhXaW5kb3dzYW5kVGFicy5odG1sXG5cdFx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0O1xuXHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXG5cdFx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRcdFx0Y2xpY2soc2F2ZV9saW5rKTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0fVxuXHRcdFx0LCBGU19wcm90byA9IEZpbGVTYXZlci5wcm90b3R5cGVcblx0XHRcdCwgc2F2ZUFzID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiLCBub19hdXRvX2JvbSk7XG5cdFx0XHR9XG5cdFx0O1xuXHRcdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0XHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdG5hbWUgPSBuYW1lIHx8IGJsb2IubmFtZSB8fCBcImRvd25sb2FkXCI7XG5cblx0XHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSk7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24oKXt9O1xuXHRcdEZTX3Byb3RvLnJlYWR5U3RhdGUgPSBGU19wcm90by5JTklUID0gMDtcblx0XHRGU19wcm90by5XUklUSU5HID0gMTtcblx0XHRGU19wcm90by5ET05FID0gMjtcblxuXHRcdEZTX3Byb3RvLmVycm9yID1cblx0XHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRcdEZTX3Byb3RvLm9ucHJvZ3Jlc3MgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGUgPVxuXHRcdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRcdEZTX3Byb3RvLm9uZXJyb3IgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGVlbmQgPVxuXHRcdFx0bnVsbDtcblxuXHRcdHJldHVybiBzYXZlQXM7XG5cdH0oXG5cdFx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHRcdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG5cdFx0fHwgdGhpcy5jb250ZW50XG5cdCkpO1xuXHQvLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxuXHQvLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcblx0Ly8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xuXHR9IGVsc2UgaWYgKChcImZ1bmN0aW9uXCIgIT09IFwidW5kZWZpbmVkXCIgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg3KSAhPT0gbnVsbCkgJiYgKF9fd2VicGFja19yZXF1aXJlX18oOCkgIT09IG51bGwpKSB7XG5cdCAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gc2F2ZUFzO1xuXHQgIH0uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XHJcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiLCIvKipcbiAqIE1ldGF0YWdzIGZvciBhbmd1bGFyLXVpLXJvdXRlclxuICovXG52YXIgdWlyb3V0ZXJtZXRhdGFncztcbihmdW5jdGlvbiAodWlyb3V0ZXJtZXRhdGFncykge1xuICAgIHJ1bkJsb2NrLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHJvb3RTY29wZVwiLCBcIk1ldGFUYWdzXCIsIFwiJHdpbmRvd1wiXTtcbiAgICB2YXIgYXBwTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5tZXRhdGFncycsIFsndWkucm91dGVyJ10pO1xuICAgIHZhciBVSVJvdXRlck1ldGF0YWdzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogQG5nSW5qZWN0ICovXG4gICAgICAgIGZ1bmN0aW9uIFVJUm91dGVyTWV0YXRhZ3MoKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zdWZmaXggPSAnJztcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFRpdGxlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHREZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0S2V5d29yZHMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFJvYm90cyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICB0aGlzLmVuYWJsZU9HVVJMID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0VGl0bGVQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXRUaXRsZVN1ZmZpeCA9IGZ1bmN0aW9uIChzdWZmaXgpIHtcbiAgICAgICAgICAgIHRoaXMuc3VmZml4ID0gc3VmZml4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldERlZmF1bHRUaXRsZSA9IGZ1bmN0aW9uICh0aXRsZSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0VGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXREZWZhdWx0RGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0RGVmYXVsdEtleXdvcmRzID0gZnVuY3Rpb24gKGtleXdvcmRzKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRLZXl3b3JkcyA9IGtleXdvcmRzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldERlZmF1bHRSb2JvdHMgPSBmdW5jdGlvbiAocm9ib3RzKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRSb2JvdHMgPSByb2JvdHM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0U3RhdGljUHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldE9HVVJMID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlT0dVUkwgPSBlbmFibGVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICAgICAgICAgICAgc3VmZml4OiB0aGlzLnN1ZmZpeCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VGl0bGU6IHRoaXMuZGVmYXVsdFRpdGxlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHREZXNjcmlwdGlvbjogdGhpcy5kZWZhdWx0RGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgZGVmYXVsdEtleXdvcmRzOiB0aGlzLmRlZmF1bHRLZXl3b3JkcyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Um9ib3RzOiB0aGlzLmRlZmF1bHRSb2JvdHMsXG4gICAgICAgICAgICAgICAgc3RhdGljUHJvcGVydGllczogdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGVuYWJsZU9HVVJMOiB0aGlzLmVuYWJsZU9HVVJMXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVUlSb3V0ZXJNZXRhdGFncztcbiAgICB9KSgpO1xuICAgIGFwcE1vZHVsZS5wcm92aWRlcignVUlSb3V0ZXJNZXRhdGFncycsIFVJUm91dGVyTWV0YXRhZ3MpO1xuICAgIHZhciBNZXRhVGFncyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qIEBuZ0luamVjdCAqL1xuICAgICAgICBNZXRhVGFncy4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIlVJUm91dGVyTWV0YXRhZ3NcIiwgXCIkaW50ZXJwb2xhdGVcIiwgXCIkaW5qZWN0b3JcIiwgXCIkc3RhdGVcIiwgXCIkbG9jYXRpb25cIiwgXCIkd2luZG93XCJdO1xuICAgICAgICBmdW5jdGlvbiBNZXRhVGFncygkbG9nLCBVSVJvdXRlck1ldGF0YWdzLCAkaW50ZXJwb2xhdGUsICRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICR3aW5kb3cpIHtcbiAgICAgICAgICAgIHRoaXMuJGxvZyA9ICRsb2c7XG4gICAgICAgICAgICB0aGlzLlVJUm91dGVyTWV0YXRhZ3MgPSBVSVJvdXRlck1ldGF0YWdzO1xuICAgICAgICAgICAgdGhpcy4kaW50ZXJwb2xhdGUgPSAkaW50ZXJwb2xhdGU7XG4gICAgICAgICAgICB0aGlzLiRpbmplY3RvciA9ICRpbmplY3RvcjtcbiAgICAgICAgICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuICAgICAgICAgICAgdGhpcy5wcmVyZW5kZXIgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBNZXRhVGFncy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRhZ3MpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCB0aGlzLlVJUm91dGVyTWV0YXRhZ3Muc3RhdGljUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5lbmFibGVPR1VSTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnRpZXNbJ29nOnVybCddID0gdGhpcy4kbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0YWdzLnRpdGxlID8gdGhpcy5VSVJvdXRlck1ldGF0YWdzLnByZWZpeCArICh0aGlzLmdldFZhbHVlKCd0aXRsZScsIHRhZ3MudGl0bGUpIHx8ICcnKSArIHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5zdWZmaXggOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdFRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gdGFncy5kZXNjcmlwdGlvbiA/IHRoaXMuZ2V0VmFsdWUoJ2Rlc2NyaXB0aW9uJywgdGFncy5kZXNjcmlwdGlvbikgOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdERlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXdvcmRzID0gdGFncy5rZXl3b3JkcyA/IHRoaXMuZ2V0VmFsdWUoJ2tleXdvcmRzJywgdGFncy5rZXl3b3JkcykgOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdEtleXdvcmRzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvYm90cyA9IHRhZ3Mucm9ib3RzID8gdGhpcy5nZXRWYWx1ZSgncm9ib3RzJywgdGFncy5yb2JvdHMpIDogdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHRSb2JvdHM7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWdzLnByb3BlcnRpZXMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IF90aGlzLmdldFZhbHVlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzW2tleV0gPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdFRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHREZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXl3b3JkcyA9IHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5kZWZhdWx0S2V5d29yZHM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9ib3RzID0gdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHRSb2JvdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YWdzICYmIHRhZ3MucHJlcmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSB0YWdzLnByZXJlbmRlci5zdGF0dXNDb2RlID8gdGhpcy5nZXRWYWx1ZSgncHJlcmVuZGVyLnN0YXR1c0NvZGUnLCB0YWdzLnByZXJlbmRlci5zdGF0dXNDb2RlKSA6IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVyZW5kZXIuaGVhZGVyID0gdGFncy5wcmVyZW5kZXIuaGVhZGVyID8gdGhpcy5nZXRWYWx1ZSgncmVyZW5kZXIuaGVhZGVyJywgdGFncy5wcmVyZW5kZXIuaGVhZGVyKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXJlbmRlci5zdGF0dXNDb2RlID0gMjAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXJlbmRlci5oZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiR3aW5kb3cucHJlcmVuZGVyUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuJGxvZy5lcnJvcignZXJyb3Igb2NjdXJlZCB3aGVuIGV4dHJhY3RpbmcgbWV0YXRhZ3M6JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgTWV0YVRhZ3MucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKHRhZ1R5cGUsIHRhZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhZyA9PT0gJ3N0cmluZycgJiYgdGFnLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0YWcpIHx8IEFycmF5LmlzQXJyYXkodGFnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kaW5qZWN0b3IuaW52b2tlKHRhZywgdGhpcywgdGhpcy4kc3RhdGUuJGN1cnJlbnQubG9jYWxzLmdsb2JhbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGludGVycG9sYXRlKHRhZykodGhpcy4kc3RhdGUuJGN1cnJlbnQubG9jYWxzLmdsb2JhbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2cuZXJyb3IoJ2Vycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZ2V0IHRoZSB2YWx1ZSBvZiB0YWc6JywgdGFnVHlwZSwgZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE1ldGFUYWdzO1xuICAgIH0pKCk7XG4gICAgYXBwTW9kdWxlLnNlcnZpY2UoJ01ldGFUYWdzJywgTWV0YVRhZ3MpO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJ1bkJsb2NrKCRsb2csICRyb290U2NvcGUsIE1ldGFUYWdzLCAkd2luZG93KSB7XG4gICAgICAgICRyb290U2NvcGUuTWV0YVRhZ3MgPSBNZXRhVGFncztcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0Jywgc3RhdGVDaGFuZ2VTdGFydCk7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgc3RhdGVDaGFuZ2VTdWNjZXNzKTtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgc3RhdGVDaGFuZ2VFcnJvcik7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVOb3RGb3VuZCcsIHN0YXRlTm90Rm91bmQpO1xuICAgICAgICBmdW5jdGlvbiBzdGF0ZUNoYW5nZVN0YXJ0KGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbSwgZnJvbVBhcmFtcykge1xuICAgICAgICAgICAgJHdpbmRvdy5wcmVyZW5kZXJSZWFkeSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlU3VjY2VzcyhldmVudCwgdG9TdGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0b1N0YXRlLm1ldGFUYWdzKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIk1ldGFUYWdzIC0gcm91dGU6IFxcXCJcIiArIHRvU3RhdGUubmFtZSArIFwiXFxcIiBkb2VzIG5vdCBjb250YWluIGFueSBtZXRhdGFnc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE1ldGFUYWdzLnVwZGF0ZSh0b1N0YXRlLm1ldGFUYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGF0ZUNoYW5nZUVycm9yKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuICAgICAgICAgICAgTWV0YVRhZ3MucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSA1MDA7XG4gICAgICAgICAgICAkd2luZG93LnByZXJlbmRlclJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGF0ZU5vdEZvdW5kKGV2ZW50LCB1bmZvdW5kU3RhdGUsIGZyb21TdGF0ZSkge1xuICAgICAgICAgICAgTWV0YVRhZ3MucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAkd2luZG93LnByZXJlbmRlclJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBNb2R1bGUucnVuKHJ1bkJsb2NrKTtcbn0pKHVpcm91dGVybWV0YXRhZ3MgfHwgKHVpcm91dGVybWV0YXRhZ3MgPSB7fSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11aS1yb3V0ZXItbWV0YXRhZ3MuanMubWFwXG4iLCIvKlxuYW5ndWxhci10YWJsZXNvcnQgdjEuNC4wXG4oYykgMjAxMy0yMDE2IE1hdHRpYXMgSG9sbWx1bmQsIGh0dHA6Ly9tYXR0aWFzaC5naXRodWIuaW8vYW5ndWxhci10YWJsZXNvcnRcbkxpY2Vuc2U6IE1JVFxuKi9cblxudmFyIHRhYmxlU29ydE1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCAndGFibGVTb3J0JywgW10gKTtcblxudGFibGVTb3J0TW9kdWxlLnByb3ZpZGVyKCAndGFibGVTb3J0Q29uZmlnJywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmlsdGVyVGVtcGxhdGUgPSAnJzsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTm8gZmlsdGVyaW5nIGJ5IGRlZmF1bHQgdW5sZXNzIGEgdGVtcGxhdGUgaXMgcHJvdmlkZWRcbiAgICB0aGlzLmZpbHRlckZ1bmN0aW9uID0gdW5kZWZpbmVkOyAgICAgICAgICAgICAgICAgICAvL0VtcHR5IGJ5IGRlZmF1bHQgLSB1c2UgdGhlIGJ1aWx0IGluIGZpbHRlciBmdW5jdGlvbiB3aGVuIGxlZnQgYmxhbmtcbiAgICB0aGlzLnBhZ2luYXRpb25UZW1wbGF0ZSA9ICcnOyAgICAgICAgICAgICAgICAgICAgICAvL05vIHBhZ2luYXRpb24gYnkgZGVmYXVsdCB1bmxlc3MgYSB0ZW1wbGF0ZSBpcyBwcm92aWRlZFxuXG4gICAgLy9UaGUgYmVsb3cgb3B0aW9ucyBjYW4gYWxsIGJlIG92ZXJyaWRkZW4gb24gYSBwZXItdGFibGUgYmFzaXNcbiAgICB0aGlzLnBlclBhZ2VPcHRpb25zID0gWzEwLCAyNSwgNTAsIDEwMF07ICAgICAgICAgICAvL0RlZmF1bHQgcGFnaW5hdGlvbiBvcHRpb25zXG4gICAgdGhpcy5wZXJQYWdlRGVmYXVsdCA9IHRoaXMucGVyUGFnZU9wdGlvbnNbMF07ICAgICAgLy9TZWxlY3QgdGhlIGZpcnN0IG9wdGlvbiBieSBkZWZhdWx0XG4gICAgdGhpcy5pdGVtTmFtZVNpbmd1bGFyID0gJ2l0ZW0nOyAgICAgICAgICAgICAgICAgICAgLy9EZWZhdWx0IG5hbWVcbiAgICB0aGlzLml0ZW1OYW1lUGx1cmFsID0gdGhpcy5pdGVtTmFtZVNpbmd1bGFyICsgJ3MnOyAvL0RlZmF1bHQgd2F5IHRvIG1ha2UgYW4gaXRlbSBwbHVyYWwgZm9yIEVuZ2xpc2hcbiAgICB0aGlzLm5vRGF0YVRleHQgPSAnTm8gJyArIHRoaXMuaXRlbU5hbWVQbHVyYWw7ICAgICAvL0RlZmF1bHQgdGV4dCB0byBzaG93IHRoYXQgdGhlcmUgYXJlIG5vIGl0ZW1zXG4gICAgdGhpcy53cmFwcGluZ0VsZW1lbnRDbGFzcyA9IFwiXCI7ICAgICAgICAgICAgICAgICAgICAvL0VtcHR5IGJ5IGRlZmF1bHRcblxuICAgIGlmKCAhaXNOYU4odGhpcy5wZXJQYWdlRGVmYXVsdCkgJiYgdGhpcy5wZXJQYWdlT3B0aW9ucy5pbmRleE9mKHRoaXMucGVyUGFnZURlZmF1bHQpID09PSAtMSApIHtcbiAgICAgICAgLy9JZiBhIGRlZmF1bHQgcGVyLXBhZ2Ugb3B0aW9uIHdhcyBhZGRlZCB0aGF0IGlzbid0IGluIHRoZSBhcnJheSwgYWRkIGl0IGF0IHRoZSBlbmRcbiAgICAgICAgdGhpcy5wZXJQYWdlT3B0aW9ucy5wdXNoKHRoaXMucGVyUGFnZURlZmF1bHQpO1xuICAgIH1cblxuICAgIC8vU29ydCB0aGUgcGVyLXBhZ2Ugb3B0aW9ucyBhcnJheVxuICAgIHRoaXMucGVyUGFnZU9wdGlvbnMuc29ydChmdW5jdGlvbiAoYSxiKSB7cmV0dXJuIGEgLSBiO30pO1xuXG4gICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG59KTtcblxudGFibGVTb3J0TW9kdWxlLmRpcmVjdGl2ZSggJ3RzV3JhcHBlcicsIFsnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oICRwYXJzZSwgJGNvbXBpbGUgKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gcmVwbGFjZVRlbXBsYXRlVG9rZW5zKCRzY29wZSwgdGVtcGxhdGVTdHJpbmcpIHtcbiAgICAgICAgLy9SZXBsYWNlIHNvbWUgc3RyaW5ncyB3aXRoIHRoZSBwcm9wZXIgZXhwcmVzc2lvbnMgdG8gYmUgY29tcGlsZWRcbiAgICAgICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIHRlbXBsYXRlU3RyaW5nPyBcIix0ZW1wbGF0ZVN0cmluZyk7XG5cbiAgICAgICAgdmFyIG5ld1N0cmluZyA9IHRlbXBsYXRlU3RyaW5nXG4gICAgICAgICAgICAucmVwbGFjZSgvRklMVEVSX1NUUklORy9nLCAnZmlsdGVyaW5nLmZpbHRlclN0cmluZycpXG4gICAgICAgICAgICAucmVwbGFjZSgvQ1VSUkVOVF9QQUdFX1JBTkdFL2csICdwYWdpbmF0aW9uLmdldFBhZ2VSYW5nZVN0cmluZyhUT1RBTF9DT1VOVCknKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1RPVEFMX0NPVU5UL2csICRzY29wZS5pdGVtc0FycmF5RXhwcmVzc2lvbiArICcubGVuZ3RoJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9QRVJfUEFHRV9PUFRJT05TL2csICdwYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9JVEVNU19QRVJfUEFHRS9nLCAncGFnaW5hdGlvbi5wZXJQYWdlJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9JVEVNX05BTUVfU0lOR1VMQVIvZywgJ2l0ZW1OYW1lU2luZ3VsYXInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0lURU1fTkFNRV9QTFVSQUwvZywgJ2l0ZW1OYW1lUGx1cmFsJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9GSUxURVJFRF9DT1VOVC9nLCAnZmlsdGVyaW5nLmZpbHRlcmVkQ291bnQnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0NVUlJFTlRfUEFHRV9OVU1CRVIvZywgJ3BhZ2luYXRpb24uY3VycmVudFBhZ2UnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibmV3U3RyaW5nOiBcIixuZXdTdHJpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1N0cmluZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0Q29tcGFyZXIoKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gX2RlZmF1bHRDb21wYXJlcihhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYSA+IGIpIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGEgPCBiKSByZXR1cm4gLTE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc3RyaW5nQ29tcGFyZXIgPSBfZGVmYXVsdENvbXBhcmVyO1xuICAgICAgICB2YXIgbnVtZXJpY0NvbXBhcmVyID0gX2RlZmF1bHRDb21wYXJlcjtcblxuICAgICAgICBpZih0eXBlb2YgSW50bCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHN0cmluZ0NvbXBhcmVyID0gbmV3IEludGwuQ29sbGF0b3IodW5kZWZpbmVkLCB7c2Vuc2l0aXZpdHk6ICdjYXNlJ30pLmNvbXBhcmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5sb2NhbGVDb21wYXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdHJpbmdDb21wYXJlciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgKyAnJykubG9jYWxlQ29tcGFyZShiLCB1bmRlZmluZWQsIHtzZW5zaXRpdml0eTogJ2Nhc2UnfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbXBhcmVyRm4gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgYiA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWVyaWNDb21wYXJlcihhLCBiKTtcblxuICAgICAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBEYXRlICYmIGIgaW5zdGFuY2VvZiBEYXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudW1lcmljQ29tcGFyZXIoYS5nZXRUaW1lKCksIGIuZ2V0VGltZSgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0NvbXBhcmVyKGEsIGIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjb21wYXJlckZuO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0Q29tcGFyZXIgPSBjcmVhdGVEZWZhdWx0Q29tcGFyZXIoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICd0YWJsZVNvcnRDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsIHRhYmxlU29ydENvbmZpZyApIHtcbiAgICAgICAgICAgIC8vbG9jYWwgc2NvcGUgdmFycyBmb3IgdGhpcyBkaXJlY3RpdmVcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0YWJsZVNvcnRDb25maWcucGFnaW5hdGlvblRlbXBsYXRlLFxuICAgICAgICAgICAgICAgIHBlclBhZ2VPcHRpb25zOiB0YWJsZVNvcnRDb25maWcucGVyUGFnZU9wdGlvbnMuY29uY2F0KCksIC8vY29weSB0aGUgYXJyYXksIG5vdCBhIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIHBlclBhZ2U6IHRhYmxlU29ydENvbmZpZy5wZXJQYWdlRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICBnZXRQYWdlUmFuZ2VTdHJpbmc6IGZ1bmN0aW9uKHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzogRm9ybWF0IHRoZXNlIG51bWJlcnMsIHBlcmhhcHMgb3B0aW9uYWxseVxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4T25QYWdlID0gdG90YWwgIT09ICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyZWRDb3VudCA/ICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyZWRDb3VudCA6IHRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAvL1RoaXMga2VlcHMgdGhlIGZpcnN0IHBhZ2UgbGFiZWxlZCBhcyAxLCBub3QgMFxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRQYWdlID0gTWF0aC5tYXgoKCRzY29wZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmRQYWdlID0gTWF0aC5taW4oJHNjb3BlLnBhZ2luYXRpb24uY3VycmVudFBhZ2UgKiAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlLCBtYXhPblBhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAvL1RoaXMgcHJldmVudHMgdGhlIHJhbmdlIGZyb20gc2hvd2luZyB3aGVuIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgY2FuIGJlIHNob3duIG9uIGEgc2luZ2xlIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyZWRDb3VudCA9PT0gMCA/ICcnIDogKGVuZFBhZ2UgPT09IG1heE9uUGFnZSAmJiBzdGFydFBhZ2UgPT09IDEgPyAnJyA6IHN0YXJ0UGFnZSArICctJykgKyBlbmRQYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgcGFnaW5hdGlvbjogXCIsJHNjb3BlLnBhZ2luYXRpb24pO1xuXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nID0ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0YWJsZVNvcnRDb25maWcuZmlsdGVyVGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgZmlsdGVyU3RyaW5nOiAnJyxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGdW5jdGlvbjogdGFibGVTb3J0Q29uZmlnLmZpbHRlckZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIGZpbHRlcmVkQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgZmlsdGVyRmllbGRzOiBbXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIGZpbHRlcmluZzogXCIsJHNjb3BlLmZpbHRlcmluZyk7XG5cbiAgICAgICAgICAgICRzY29wZS5pdGVtc0FycmF5RXhwcmVzc2lvbiA9ICcnOyAvL3RoaXMgd2lsbCBjb250YWluIHRoZSBzdHJpbmcgZXhwcmVzc2lvbiBmb3IgdGhlIGFycmF5IG9mIGl0ZW1zIGluIHRoZSB0YWJsZVxuICAgICAgICAgICAgJHNjb3BlLml0ZW1OYW1lU2luZ3VsYXIgPSB0YWJsZVNvcnRDb25maWcuaXRlbU5hbWVTaW5ndWxhcjtcbiAgICAgICAgICAgICRzY29wZS5pdGVtTmFtZVBsdXJhbCA9IHRhYmxlU29ydENvbmZpZy5pdGVtTmFtZVBsdXJhbDtcbiAgICAgICAgICAgICRzY29wZS5ub0RhdGFUZXh0ID0gdGFibGVTb3J0Q29uZmlnLm5vRGF0YVRleHQ7XG4gICAgICAgICAgICAkc2NvcGUud3JhcHBpbmdFbGVtZW50Q2xhc3MgPSB0YWJsZVNvcnRDb25maWcud3JhcHBpbmdFbGVtZW50Q2xhc3M7XG4gICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb24gPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5oZWFkaW5ncyA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgcGFyc2Vfc29ydGV4cHIgPSBmdW5jdGlvbiggZXhwciwgbmFtZSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyRwYXJzZSggZXhwciApLCBudWxsLCBmYWxzZSwgbmFtZSA/IG5hbWUgOiBleHByXTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U29ydEZpZWxkID0gZnVuY3Rpb24oIHNvcnRleHByLCBlbGVtZW50LCBuYW1lLCBzb3J0QnkgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIGV4cHIgPSBwYXJzZV9zb3J0ZXhwciggc29ydGV4cHIsIG5hbWUgKTtcbiAgICAgICAgICAgICAgICBleHByLnB1c2goc29ydEJ5KTtcbiAgICAgICAgICAgICAgICBpZiggJHNjb3BlLnNvcnRFeHByZXNzaW9uLmxlbmd0aCA9PT0gMSAmJiAkc2NvcGUuc29ydEV4cHJlc3Npb25bMF1bMF0gPT09IGV4cHJbMF0gKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUuc29ydEV4cHJlc3Npb25bMF1bMl0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWRlc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVsyXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyggJ3RhYmxlc29ydC1hc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWRlc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb25bMF1bMl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCggJ3RhYmxlc29ydDpzb3J0T3JkZXInLCBbe1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVszXSxcbiAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogJHNjb3BlLnNvcnRFeHByZXNzaW9uWzBdWzJdXG4gICAgICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IoIGk9MDsgaTwkc2NvcGUuaGVhZGluZ3MubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oZWFkaW5nc1tpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyggJ3RhYmxlc29ydC1kZXNjJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRFeHByZXNzaW9uID0gW2V4cHJdO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoICd0YWJsZXNvcnQ6c29ydE9yZGVyJywgW3tcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBleHByWzNdLFxuICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiBleHByWzJdXG4gICAgICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNvcnRGaWVsZCA9IGZ1bmN0aW9uKCBzb3J0ZXhwciwgZWxlbWVudCwgbmFtZSwgc29ydEJ5ICkge1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIHZhciB0b2dnbGVfb3JkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHBhcnNlX3NvcnRleHByKCBzb3J0ZXhwciwgbmFtZSApO1xuICAgICAgICAgICAgICAgIGV4cHIucHVzaChzb3J0QnkpO1xuICAgICAgICAgICAgICAgIGZvciggaT0wOyBpPCRzY29wZS5zb3J0RXhwcmVzc2lvbi5sZW5ndGg7IGk9aSsxICkge1xuICAgICAgICAgICAgICAgICAgICBpZiggJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzBdID09PSBleHByWzBdICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVsyXSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWRlc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyggJ3RhYmxlc29ydC1hc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlX29yZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggIXRvZ2dsZV9vcmRlciApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyggJ3RhYmxlc29ydC1hc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvbi5wdXNoKCBleHByICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCAndGFibGVzb3J0OnNvcnRPcmRlcicsICRzY29wZS5zb3J0RXhwcmVzc2lvbi5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGFbM10sXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBhWzJdXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZXRUcmFja0J5ID0gZnVuY3Rpb24oIHRyYWNrQnkgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWNrQnkgPSB0cmFja0J5O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckhlYWRpbmcgPSBmdW5jdGlvbiggaGVhZGluZ2VsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmhlYWRpbmdzLnB1c2goIGhlYWRpbmdlbGVtZW50ICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmFkZEZpbHRlckZpZWxkID0gZnVuY3Rpb24oIHNvcnRleHByLCBlbGVtZW50ICkge1xuICAgICAgICAgICAgICAgIHZhciBleHByID0gcGFyc2Vfc29ydGV4cHIoIHNvcnRleHByICk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHMucHVzaCggZXhwciApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZXRBcnJheUV4cHIgPSBmdW5jdGlvbiggZGF0YUFycmF5RXhwICkge1xuICAgICAgICAgICAgICAgICRzY29wZS5pdGVtc0FycmF5RXhwcmVzc2lvbiA9IGRhdGFBcnJheUV4cDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIHRzV3JhcHBlckN0cmwpIHtcblxuICAgICAgICAgICAgaWYoICRhdHRycy50c0l0ZW1OYW1lICkge1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbE5vRGF0YVRleHQgPSAnTm8gJyArICRzY29wZS5pdGVtTmFtZVBsdXJhbDtcblxuICAgICAgICAgICAgICAgIC8vaWYgdGhlIHRhYmxlIGF0dHJpYnV0ZXMgaGFzIGFuIGl0ZW0gbmFtZSBvbiBpdCwgdGhpcyB0YWtlcyBwcmlvcml0eVxuICAgICAgICAgICAgICAgICRzY29wZS5pdGVtTmFtZVNpbmd1bGFyID0gJGF0dHJzLnRzSXRlbU5hbWU7XG5cbiAgICAgICAgICAgICAgICBpZiggJGF0dHJzLnRzSXRlbU5hbWVQbHVyYWwgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgYSBwbHVyYWwgbmFtZSB3YXMgc3BlY2lmaWVkLCB1c2UgdGhhdFxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXRlbU5hbWVQbHVyYWwgPSAkYXR0cnMudHNJdGVtTmFtZVBsdXJhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL290aGVyd2lzZSBqdXN0IGFkZCAncycgdG8gdGhlIHNpbmd1bGFyIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1OYW1lUGx1cmFsID0gJGF0dHJzLnRzSXRlbU5hbWUgKyAncyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoICEkYXR0cnMudHNOb0RhdGFUZXh0ICYmICRzY29wZS5ub0RhdGFUZXh0ID09PSBvcmlnaW5hbE5vRGF0YVRleHQgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgdGhlIG5vRGF0YVRleHQgd2FzIE5PVCBzcGVjaWZpZWQgQU5EIGl0J3MgaW4gdGhlIHNhbWUgJ05vIElURU1TJyBmb3JtYXQgYXMgdGhlIGRlZmF1bHQgLCB1cGRhdGUgaXQgdG8gY29udGFpbiB0aGUgbmV3IGl0ZW0gbmFtZVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm9EYXRhVGV4dCA9ICdObyAnICsgJHNjb3BlLml0ZW1OYW1lUGx1cmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c05vRGF0YVRleHQgKSB7XG4gICAgICAgICAgICAgICAgLy9JZiB0aGUgbm9EYXRhVGV4dCB3YXMgc3BlY2lmaWVkLCB1cGRhdGUgaXRcbiAgICAgICAgICAgICAgICAkc2NvcGUubm9EYXRhVGV4dCA9ICRhdHRycy50c05vRGF0YVRleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNXcmFwcGluZ0VsZW1lbnRDbGFzcyApIHtcbiAgICAgICAgICAgICAgICAvL0lmIHRoZSB3cmFwcGluZ0VsZW1lbnRDbGFzcyB3YXMgc3BlY2lmaWVkLCB1cGRhdGUgaXRcbiAgICAgICAgICAgICAgICAkc2NvcGUud3JhcHBpbmdFbGVtZW50Q2xhc3MgPSAkYXR0cnMudHNXcmFwcGluZ0VsZW1lbnRDbGFzcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9sb2NhbCBhdHRyaWJ1dGUgdXNhZ2VzIG9mIHRoZSBwYWdpbmF0aW9uL2ZpbHRlcmluZyBvcHRpb25zIHdpbGwgb3ZlcnJpZGUgdGhlIGdsb2JhbCBjb25maWdcbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNQZXJQYWdlT3B0aW9ucyApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlT3B0aW9ucyA9ICRzY29wZS4kZXZhbCgkYXR0cnMudHNQZXJQYWdlT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNQZXJQYWdlRGVmYXVsdCApIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdFBlclBhZ2UgPSAkc2NvcGUuJGV2YWwoJGF0dHJzLnRzUGVyUGFnZURlZmF1bHQpO1xuICAgICAgICAgICAgICAgIGlmKCAhaXNOYU4oZGVmYXVsdFBlclBhZ2UpICkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlID0gZGVmYXVsdFBlclBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlT3B0aW9ucy5pbmRleE9mKCRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UpID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgYSBkZWZhdWx0IHBlci1wYWdlIG9wdGlvbiB3YXMgYWRkZWQgdGhhdCBpc24ndCBpbiB0aGUgYXJyYXksIGFkZCBpdCBhbmQgc29ydCB0aGUgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zLnB1c2goJHNjb3BlLnBhZ2luYXRpb24ucGVyUGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlT3B0aW9ucy5zb3J0KGZ1bmN0aW9uIChhLGIpIHtyZXR1cm4gYSAtIGI7fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNGaWx0ZXJGaWVsZHMgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlckZpZWxkcyA9ICRhdHRycy50c0ZpbHRlckZpZWxkcy5zcGxpdCgnLCcpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS50cmltKCkgIT09ICcnO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3IoIHZhciBpPTA7IGk8ZmlsdGVyRmllbGRzLmxlbmd0aDsgaT1pKzEgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuYWRkRmlsdGVyRmllbGQoZmlsdGVyRmllbGRzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkZmlsdGVySHRtbDtcbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNEaXNwbGF5RmlsdGVyaW5nICE9PSAnZmFsc2UnICYmICRzY29wZS5maWx0ZXJpbmcudGVtcGxhdGUgIT09ICcnICYmICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRmllbGRzLmxlbmd0aD4wICkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJTdHJpbmcgPSByZXBsYWNlVGVtcGxhdGVUb2tlbnMoJHNjb3BlLCAkc2NvcGUuZmlsdGVyaW5nLnRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAkZmlsdGVySHRtbCA9ICRjb21waWxlKGZpbHRlclN0cmluZykoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAvL0FkZCBmaWx0ZXJpbmcgSFRNTCBCRUZPUkUgdGhlIHRhYmxlXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQucGFyZW50KClbMF0uaW5zZXJ0QmVmb3JlKCRmaWx0ZXJIdG1sWzBdLCAkZWxlbWVudFswXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNGaWx0ZXJGdW5jdGlvbiApIHtcbiAgICAgICAgICAgICAgICAvL2lmIHRoZSB0YWJsZSBhdHRyaWJ1dGVzIGhhcyBhIGZpbHRlciBmdW5jdGlvbiBvbiBpdCwgdGhpcyB0YWtlcyBwcmlvcml0eVxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRnVuY3Rpb24gPSAkc2NvcGUuJGV2YWwoJGF0dHJzLnRzRmlsdGVyRnVuY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggIWFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZ1bmN0aW9uKSApIHtcbiAgICAgICAgICAgICAgICAvL05vIGN1c3RvbSBmaWx0ZXIgd2FzIHByb3ZpZGVkLi4uXG4gICAgICAgICAgICAgICAgaWYoICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRmllbGRzLmxlbmd0aD09PTAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vVGhlcmUgYXJlIG5vIGZpbHRlciBmaWVsZHMsIHNvIGFsd2F5cyByZXR1cm4gZXZlcnl0aGluZ1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZ1bmN0aW9uID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UaGlzIGlzIHRoZSBkZWZhdWx0IGZpbHRlciBmdW5jdGlvbi4gSXQgZG9lcyBhIGxvd2VyY2FzZSBzdHJpbmcgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGdW5jdGlvbiA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaG91bGRJbmNsdWRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpPTA7IGk8JHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHMubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIXNob3VsZEluY2x1ZGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSAoJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHNbaV1bMF0oaXRlbSkgfHwgJycpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTsgLy9wYXJzZSB0aGUgaXRlbSdzIHByb3BlcnR5IHVzaW5nIHRoZSBgdHMtY3JpdGVyaWFgIHZhbHVlICYgZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEluY2x1ZGUgPSBzdHIuaW5kZXhPZigkc2NvcGUuZmlsdGVyaW5nLmZpbHRlclN0cmluZy50b0xvd2VyQ2FzZSgpKSA+IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRJbmNsdWRlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmZpbHRlckxpbWl0RnVuID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpZiggISRhdHRycy50c0ZpbHRlckZ1bmN0aW9uICYmICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyU3RyaW5nID09PSAnJyApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9SZXR1cm4gdW5maWx0ZXJlZCB3aGVuIE5PVCB1c2luZyBhIGN1c3RvbSBmaWx0ZXIgZnVuY3Rpb24gYW5kIHdoZW4gbm90aGluZyBpcyBiZWluZyBzZWFyY2hlZFxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nLmZpbHRlcmVkQ291bnQgPSBhcnJheS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkQXJyID0gYXJyYXkuZmlsdGVyKCRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyZWRDb3VudCA9IGZpbHRlcmVkQXJyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRBcnI7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc29ydEZ1biA9IGZ1bmN0aW9uKCBhLCBiICkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBhdmFsLCBidmFsLCBkZXNjZW5kaW5nLCBmaWx0ZXJGdW4sIGNvbXBSZXN1bHQ7XG4gICAgICAgICAgICAgICAgZm9yKCBpPTA7IGk8JHNjb3BlLnNvcnRFeHByZXNzaW9uLmxlbmd0aDsgaT1pKzEgKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWwgPSAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMF0oYSk7XG4gICAgICAgICAgICAgICAgICAgIGJ2YWwgPSAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMF0oYik7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckZ1biA9IGJbJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzFdXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGZpbHRlckZ1biApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWwgPSBmaWx0ZXJGdW4oIGF2YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ2YWwgPSBmaWx0ZXJGdW4oIGJ2YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggYXZhbCA9PT0gdW5kZWZpbmVkIHx8IGF2YWwgPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoIGJ2YWwgPT09IHVuZGVmaW5lZCB8fCBidmFsID09PSBudWxsICkge1xuICAgICAgICAgICAgICAgICAgICBidmFsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVzY2VuZGluZyA9ICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVsyXTtcbiAgICAgICAgICAgICAgICAgICAgY29tcFJlc3VsdCA9ICgkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bNF0gfHwgZGVmYXVsdENvbXBhcmVyKShhdmFsLCBidmFsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbXBSZXN1bHQgPT09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY2VuZGluZyA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjb21wUmVzdWx0ID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjZW5kaW5nID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWxsIHRoZSBzb3J0IGZpZWxkcyB3ZXJlIGVxdWFsLiBJZiB0aGVyZSBpcyBhICd0cmFjayBieScnIGV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoYXQgYXMgYSB0aWVicmVha2VyIHRvIG1ha2UgdGhlIHNvcnQgcmVzdWx0IHN0YWJsZS5cbiAgICAgICAgICAgICAgICBpZiggJHNjb3BlLnRyYWNrQnkgKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWwgPSBhWyRzY29wZS50cmFja0J5XTtcbiAgICAgICAgICAgICAgICAgICAgYnZhbCA9IGJbJHNjb3BlLnRyYWNrQnldO1xuICAgICAgICAgICAgICAgICAgICBpZiggYXZhbCA9PT0gdW5kZWZpbmVkIHx8IGF2YWwgPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoIGJ2YWwgPT09IHVuZGVmaW5lZCB8fCBidmFsID09PSBudWxsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnZhbCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBSZXN1bHQgPSBkZWZhdWx0Q29tcGFyZXIoYXZhbCwgYnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCBjb21wUmVzdWx0ID09PSAxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NlbmRpbmcgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY29tcFJlc3VsdCA9PT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY2VuZGluZyA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5wYWdlTGltaXRGdW4gPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAgICAgIGlmKCAkYXR0cnMudHNEaXNwbGF5UGFnaW5hdGlvbiA9PT0gJ2ZhbHNlJyB8fCAkc2NvcGUucGFnaW5hdGlvbi50ZW1wbGF0ZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9wYWdpbmF0aW9uIGlzIGRpc2FibGVkIG9uIHRoaXMgdGFibGUgb3IgdGhlcmUgaXMgbm8gdGVtcGxhdGUsIHNvIHJldHVybiBldmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9Pbmx5IHJldHVybiB0aGUgaXRlbXMgdGhhdCBhcmUgaW4gdGhlIGNvcnJlY3QgaW5kZXggcmFuZ2UgZm9yIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcGFnZVxuICAgICAgICAgICAgICAgIHZhciBiZWdpbiA9ICgkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLnBhZ2luYXRpb24ucGVyUGFnZTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gJHNjb3BlLnBhZ2luYXRpb24uY3VycmVudFBhZ2UgKiAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlO1xuICAgICAgICAgICAgICAgIHZhciBmaW5hbD1bXTtcbiAgICAgICAgICAgICAgICBmb3IoIHZhciBpPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGkgPj0gYmVnaW4gJiYgaSA8IGVuZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsLnB1c2goYXJyYXlbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciAkcGFnaW5hdGlvbkh0bWw7XG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzRGlzcGxheVBhZ2luYXRpb24gIT09ICdmYWxzZScgJiYgJHNjb3BlLnBhZ2luYXRpb24udGVtcGxhdGUgIT09ICcnICkge1xuICAgICAgICAgICAgICAgIHZhciBwYWdlclN0cmluZyA9IHJlcGxhY2VUZW1wbGF0ZVRva2Vucygkc2NvcGUsICRzY29wZS5wYWdpbmF0aW9uLnRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbkh0bWwgPSAkY29tcGlsZShwYWdlclN0cmluZykoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAvL0FkZCBwYWdpbmF0aW9uIEhUTUwgQUZURVIgdGhlIHRhYmxlXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuYWZ0ZXIoJHBhZ2luYXRpb25IdG1sKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgIHZhciAkd3JhcHBpbmdFbGVtZW50O1xuICAgICAgICAgICAgaWYoICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyAmJiAkc2NvcGUud3JhcHBpbmdFbGVtZW50Q2xhc3MgIT09IFwiXCIgKSB7XG4gICAgICAgICAgICAgICAgLy9UaGlzIHNob3VsZCBoYXBwZW4gQUZURVIgdGhlIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBIVE1MIGFyZSBzZXRcbiAgICAgICAgICAgICAgICAkd3JhcHBpbmdFbGVtZW50ID0gJGVsZW1lbnQud3JhcChcIjxkaXYgY2xhc3M9J1wiKyAkc2NvcGUud3JhcHBpbmdFbGVtZW50Q2xhc3MgK1wiJyAvPlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c0dldFRhYmxlRGF0YUZ1bmN0aW9uICkge1xuICAgICAgICAgICAgICAgIHZhciBnZXR0ZXIgPSAkcGFyc2UoJGF0dHJzLnRzR2V0VGFibGVEYXRhRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduO1xuXG4gICAgICAgICAgICAgICAgLy9JZiB0aGlzIGF0dHJpYnV0ZSBoYXMgYSB2YWx1ZSwgdGhlbiB3ZSB3YW50IHRvIHR1cm4gaXQgaW50byBhIGZ1bmN0aW9uIG9uIHRoZSBwYXJlbnQgc2NvcGVcbiAgICAgICAgICAgICAgICAvL3NvIHRoYXQgaXQgY2FuIGJlIHBhc3NlZCBpbnRvIG90aGVyIGZ1bmN0aW9ucyBhbmQgcnVuIG9uIHRoZSBwYXJlbnQgY29udHJvbGxlcnMgYXMgbmVlZGVkXG4gICAgICAgICAgICAgICAgdmFyIGZuICA9IGZ1bmN0aW9uKCBzaG91bGRBcHBseVNvcnRpbmcsIHNob3VsZEFwcGx5RmlsdGVyaW5nLCBsaW1pdFRvQ3VycmVudFBhZ2VPbmx5ICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gJHBhcnNlKCRzY29wZS5pdGVtc0FycmF5RXhwcmVzc2lvbikoJHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggc2hvdWxkQXBwbHlTb3J0aW5nICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyID0gYXJyLnNvcnQoJHNjb3BlLnNvcnRGdW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHNob3VsZEFwcGx5RmlsdGVyaW5nICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyID0gJHNjb3BlLmZpbHRlckxpbWl0RnVuKGFycik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggbGltaXRUb0N1cnJlbnRQYWdlT25seSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyciA9ICRzY29wZS5wYWdlTGltaXRGdW4oYXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNldHRlcigkc2NvcGUuJHBhcmVudCwgZm4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCAnJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvL1doZW4gdGhlIGRpcmVjdGl2ZSBpcyBkZXN0cm95ZWQsIGFsc28gcmVtb3ZlIHRoZSBmaWx0ZXIgJiBwYWdpbmF0aW9uIEhUTUxcbiAgICAgICAgICAgICAgICBpZiggJGZpbHRlckh0bWwgKSB7XG4gICAgICAgICAgICAgICAgICAgICRmaWx0ZXJIdG1sLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggJHBhZ2luYXRpb25IdG1sICkge1xuICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbkh0bWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAkd3JhcHBpbmdFbGVtZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAvL3VuLXdyYXAgdGhlIHRhYmxlIGZyb20gdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICR3cmFwcGluZ0VsZW1lbnQucmVwbGFjZVdpdGgoJGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcblxudGFibGVTb3J0TW9kdWxlLmRpcmVjdGl2ZSggJ3RzQ3JpdGVyaWEnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlOiBcIl50c1dyYXBwZXJcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICB0c09yZGVyQnk6ICc9J1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHRzV3JhcHBlckN0cmwpIHtcbiAgICAgICAgICAgIHZhciBjbGlja2luZ0NhbGxiYWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiggZXZlbnQuc2hpZnRLZXkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLmFkZFNvcnRGaWVsZChhdHRycy50c0NyaXRlcmlhLCBlbGVtZW50LCBhdHRycy50c05hbWUsIHNjb3BlLnRzT3JkZXJCeSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLnNldFNvcnRGaWVsZChhdHRycy50c0NyaXRlcmlhLCBlbGVtZW50LCBhdHRycy50c05hbWUsIHNjb3BlLnRzT3JkZXJCeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZWxlbWVudC5iaW5kKCAnY2xpY2snLCBjbGlja2luZ0NhbGxiYWNrICk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LXNvcnRhYmxlJyApO1xuICAgICAgICAgICAgaWYoICd0c0RlZmF1bHQnIGluIGF0dHJzICYmIGF0dHJzLnRzRGVmYXVsdCAhPT0gJzAnICkge1xuICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuYWRkU29ydEZpZWxkKCBhdHRycy50c0NyaXRlcmlhLCBlbGVtZW50LCBhdHRycy50c05hbWUsIHNjb3BlLnRzT3JkZXJCeSApO1xuICAgICAgICAgICAgICAgIGlmKCBhdHRycy50c0RlZmF1bHQgPT09ICdkZXNjZW5kaW5nJyApIHtcbiAgICAgICAgICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5hZGRTb3J0RmllbGQoIGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoICd0c0ZpbHRlcicgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLmFkZEZpbHRlckZpZWxkKCBhdHRycy50c0NyaXRlcmlhLCBlbGVtZW50ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0c1dyYXBwZXJDdHJsLnJlZ2lzdGVySGVhZGluZyggZWxlbWVudCApO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuXG50YWJsZVNvcnRNb2R1bGUuZGlyZWN0aXZlKCAndHNSZXBlYXQnLCBbJyRjb21waWxlJywgJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRjb21waWxlLCAkaW50ZXJwb2xhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICAgICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgICAgICByZXF1aXJlOiAnXnRzV3JhcHBlcicsXG4gICAgICAgIHByaW9yaXR5OiAxMDAwMDAwLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHRzV3JhcHBlckN0cmwpIHtcbiAgICAgICAgICAgIHZhciByZXBlYXRBdHRycyA9IFsnbmctcmVwZWF0JywgJ2RhdGEtbmctcmVwZWF0JywgJ25nLXJlcGVhdC1zdGFydCcsICdkYXRhLW5nLXJlcGVhdC1zdGFydCddO1xuICAgICAgICAgICAgdmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gcmVwZWF0QXR0cnNbMF07XG4gICAgICAgICAgICB2YXIgdHNSZXBlYXREaXJlY3RpdmUgPSAndHMtcmVwZWF0JztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVwZWF0QXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZWxlbWVudC5hdHRyKHJlcGVhdEF0dHJzW2ldKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmdSZXBlYXREaXJlY3RpdmUgPSByZXBlYXRBdHRyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdHNSZXBlYXREaXJlY3RpdmUgPSBuZ1JlcGVhdERpcmVjdGl2ZS5yZXBsYWNlKC9eKGRhdGEtKT9uZy8sICckMXRzJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRzRXhwciA9ICd0YWJsZXNvcnRPcmRlckJ5OnNvcnRGdW4gfCB0YWJsZXNvcnRMaW1pdDpmaWx0ZXJMaW1pdEZ1biB8IHRhYmxlc29ydExpbWl0OnBhZ2VMaW1pdEZ1bic7XG4gICAgICAgICAgICB2YXIgcmVwZWF0RXhwciA9IGVsZW1lbnQuYXR0cihuZ1JlcGVhdERpcmVjdGl2ZSk7XG4gICAgICAgICAgICB2YXIgcmVwZWF0RXhwclJlZ2V4ID0gL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KShcXHMrdHJhY2tcXHMrYnlcXHMrW1xcc1xcU10rPyk/XFxzKiQvO1xuICAgICAgICAgICAgdmFyIHRyYWNrQnlNYXRjaCA9IHJlcGVhdEV4cHIubWF0Y2goL1xccyt0cmFja1xccytieVxccytcXFMrP1xcLihcXFMrKS8pO1xuICAgICAgICAgICAgdmFyIHJlcGVhdEluTWF0Y2ggPSByZXBlYXRFeHByLm1hdGNoKHJlcGVhdEV4cHJSZWdleCk7XG4gICAgICAgICAgICBpZiAodHJhY2tCeU1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5zZXRUcmFja0J5KHRyYWNrQnlNYXRjaFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vTGltaXQgU29ydCB0aGUgcmVzdWx0cywgdGhlbiBsaW1pdCB0aGVtIHRvIG9ubHkgaW5jbHVkZSB3aGF0IG1hdGNoZXMgdGhlIGZpbHRlciwgdGhlbiBvbmx5IHdoYXQncyBvbiB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgICAgICBpZiAocmVwZWF0RXhwci5zZWFyY2goL3RhYmxlc29ydC8pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcGVhdEV4cHIgPSByZXBlYXRFeHByLnJlcGxhY2UoL3RhYmxlc29ydC8sIHRzRXhwcik7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrQnlNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAvL01vdmUgdGhlICd0cmFjayBieScnIHN0YXRlbWVudCB0byB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdEV4cHIgPSByZXBlYXRFeHByLnJlcGxhY2UodHJhY2tCeU1hdGNoWzBdLCAnJykgKyB0cmFja0J5TWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXBlYXRFeHByID0gcmVwZWF0RXhwci5yZXBsYWNlKHJlcGVhdEV4cHJSZWdleCwgJyQxIGluICQyIHwgJyArIHRzRXhwciArICckMycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChhdHRycy50c0hpZGVOb0RhdGEpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZFN5bSA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKTtcblxuICAgICAgICAgICAgICAgIHZhciBub0RhdGFSb3cgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXSkuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cucmVtb3ZlQXR0cihuZ1JlcGVhdERpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93LnJlbW92ZUF0dHIodHNSZXBlYXREaXJlY3RpdmUpO1xuICAgICAgICAgICAgICAgIG5vRGF0YVJvdy5hZGRDbGFzcyggJ3Nob3dJZkxhc3QnICk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93LmNoaWxkcmVuKCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93LmFwcGVuZCggJzx0ZCBjb2xzcGFuPVwiJyArIGVsZW1lbnRbMF0uY2hpbGRFbGVtZW50Q291bnQgKyAnXCI+JyArIHN0YXJ0U3ltICsgJ25vRGF0YVRleHQnICsgZW5kU3ltICsgJzwvdGQ+JyApO1xuICAgICAgICAgICAgICAgIG5vRGF0YVJvdyA9ICRjb21waWxlKG5vRGF0YVJvdykoc2NvcGUpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkucHJlcGVuZChub0RhdGFSb3cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3Bhc3MgdGhlIGBpdGVtc0xpc3RgIGZyb20gYGl0ZW0gaW4gaXRlbXNMaXN0YCB0byB0aGUgbWFzdGVyIGRpcmVjdGl2ZSBhcyBhIHN0cmluZyBzbyBpdCBjYW4gYmUgdXNlZCBpbiBleHByZXNzaW9uc1xuICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5zZXRBcnJheUV4cHIocmVwZWF0SW5NYXRjaFsyXSk7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdKS5hdHRyKG5nUmVwZWF0RGlyZWN0aXZlLCByZXBlYXRFeHByKTtcbiAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQsIG51bGwsIDEwMDAwMDApKHNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG5cbnRhYmxlU29ydE1vZHVsZS5maWx0ZXIoICd0YWJsZXNvcnRMaW1pdCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgbGltaXRGdW4pIHtcbiAgICBpZighYXJyYXkpIHJldHVybjtcbiAgICByZXR1cm4gbGltaXRGdW4oYXJyYXkpO1xuICAgIH07XG59ICk7XG5cbnRhYmxlU29ydE1vZHVsZS5maWx0ZXIoICd0YWJsZXNvcnRPcmRlckJ5JywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBzb3J0ZnVuICkge1xuICAgICAgICBpZighYXJyYXkpIHJldHVybjtcbiAgICAgICAgdmFyIGFycmF5Q29weSA9IGFycmF5LmNvbmNhdCgpO1xuICAgICAgICByZXR1cm4gYXJyYXlDb3B5LnNvcnQoIHNvcnRmdW4gKTtcbiAgICB9O1xufSApO1xuXG50YWJsZVNvcnRNb2R1bGUuZmlsdGVyKCAncGFyc2VJbnQnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCBpbnB1dCApIHx8IG51bGw7XG4gICAgfTtcbn0gKTtcblxudGFibGVTb3J0TW9kdWxlLmZpbHRlciggJ3BhcnNlRmxvYXQnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoIGlucHV0ICkgfHwgbnVsbDtcbiAgICB9O1xufSApO1xuXG50YWJsZVNvcnRNb2R1bGUuZmlsdGVyKCAncGFyc2VEYXRlJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IERhdGUucGFyc2UoaW5wdXQpO1xuICAgICAgICByZXR1cm4gaXNOYU4odGltZXN0YW1wKSA/IG51bGwgOiB0aW1lc3RhbXA7XG4gICAgfTtcbn0gKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3BpY2FyZHkuZm9udGF3ZXNvbWUnLCBbXSlcbiAgLmRpcmVjdGl2ZSgnZmEnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZmFcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+JyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgLyoqKiBTVFJJTkcgQVRUUlMgKioqL1xuICAgICAgICAvLyBrZWVwIGEgc3RhdGUgb2YgdGhlIGN1cnJlbnQgYXR0cnMgc28gdGhhdCB3aGVuIHRoZXkgY2hhbmdlLFxuICAgICAgICAvLyB3ZSBjYW4gcmVtb3ZlIHRoZSBvbGQgYXR0cnMgYmVmb3JlIGFkZGluZyB0aGUgbmV3IG9uZXMuXG4gICAgICAgIHZhciBjdXJyZW50Q2xhc3NlcyA9IHt9O1xuXG4gICAgICAgIC8vIGdlbmVyaWMgZnVuY3Rpb24gdG8gYmluZCBzdHJpbmcgYXR0cnNcbiAgICAgICAgZnVuY3Rpb24gX29ic2VydmVTdHJpbmdBdHRyIChhdHRyLCBiYXNlQ2xhc3MpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmFzZUNsYXNzID0gYmFzZUNsYXNzIHx8ICdmYS0nICsgYXR0cjtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXNbYXR0cl0pO1xuICAgICAgICAgICAgaWYgKGF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IFtiYXNlQ2xhc3MsIGF0dHJzW2F0dHJdXS5qb2luKCctJyk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgY3VycmVudENsYXNzZXNbYXR0cl0gPSBjbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfb2JzZXJ2ZVN0cmluZ0F0dHIoJ25hbWUnLCAnZmEnKTtcbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdyb3RhdGUnKTtcbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdmbGlwJyk7XG4gICAgICAgIF9vYnNlcnZlU3RyaW5nQXR0cignc3RhY2snKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2l6ZSBjYW4gYmUgcGFzc2VkIFwibGFyZ2VcIiBvciBhbiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXMuc2l6ZSk7XG5cbiAgICAgICAgICBpZiAoYXR0cnMuc2l6ZSA9PT0gJ2xhcmdlJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLWxnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUludChhdHRycy5zaXplLCAxMCkpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtJyArIGF0dHJzLnNpemUgKyAneCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgIGN1cnJlbnRDbGFzc2VzLnNpemUgPSBjbGFzc05hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdGFjayBjYW4gYmUgcGFzc2VkIFwibGFyZ2VcIiBvciBhbiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnc3RhY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc2VzLnN0YWNrKTtcblxuICAgICAgICAgIGlmIChhdHRycy5zdGFjayA9PT0gJ2xhcmdlJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLXN0YWNrLWxnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUludChhdHRycy5zdGFjaywgMTApKSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLXN0YWNrLScgKyBhdHRycy5zdGFjayArICd4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgY3VycmVudENsYXNzZXMuc3RhY2sgPSBjbGFzc05hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKiogQk9PTEVBTiBBVFRSUyAqKiovXG4gICAgICAgIC8vIGdlbmVyaWMgZnVuY3Rpb24gdG8gYmluZCBib29sZWFuIGF0dHJzXG4gICAgICAgIGZ1bmN0aW9uIF9vYnNlcnZlQm9vbGVhbkF0dHIgKGF0dHIsIGNsYXNzTmFtZSkge1xuICAgICAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnZmEtJyArIGF0dHI7XG4gICAgICAgICAgICB2YWx1ZSA9IGF0dHIgaW4gYXR0cnMgJiYgYXR0cnNbYXR0cl0gIT09ICdmYWxzZScgJiYgYXR0cnNbYXR0cl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhjbGFzc05hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vYnNlcnZlQm9vbGVhbkF0dHIoJ2JvcmRlcicpO1xuICAgICAgICBfb2JzZXJ2ZUJvb2xlYW5BdHRyKCdmdycpO1xuICAgICAgICBfb2JzZXJ2ZUJvb2xlYW5BdHRyKCdpbnZlcnNlJyk7XG4gICAgICAgIF9vYnNlcnZlQm9vbGVhbkF0dHIoJ3NwaW4nKTtcblxuICAgICAgICAvKioqIENPTkRJVElPTkFMIEFUVFJTICoqKi9cbiAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHBvcHVsYXRlIGZhLWxpIGlmIERPTSBzdHJ1Y3R1cmUgaW5kaWNhdGVzXG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2ZhLWxpJyxcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCgpICYmXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5wcm9wKCd0YWdOYW1lJykgPT09ICdMSScgJiZcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCgpLnBhcmVudCgpICYmXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5wYXJlbnQoKS5oYXNDbGFzcygnZmEtdWwnKSAmJlxuICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKVswXSA9PT0gZWxlbWVudFswXSAmJlxuICAgICAgICAgIGF0dHJzLmxpc3QgIT09ICdmYWxzZScgJiZcbiAgICAgICAgICBhdHRycy5saXN0ICE9PSBmYWxzZVxuICAgICAgICApO1xuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdhbHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGFsdFRleHQgPSBhdHRycy5hbHQsXG4gICAgICAgICAgICAgIGFsdEVsZW0gPSBlbGVtZW50Lm5leHQoKSxcbiAgICAgICAgICAgICAgYWx0RWxlbUNsYXNzID0gJ2ZhLWFsdC10ZXh0JztcblxuICAgICAgICAgIGlmIChhbHRUZXh0KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FsdCcpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIGFsdCBlbGVtIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgaWYgKCFhbHRFbGVtIHx8ICFhbHRFbGVtLmhhc0NsYXNzKGFsdEVsZW1DbGFzcykpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcignPHNwYW4gY2xhc3M9XCJzci1vbmx5IGZhLWFsdC10ZXh0XCI+PC9zcGFuPicpO1xuICAgICAgICAgICAgICBhbHRFbGVtID0gZWxlbWVudC5uZXh0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFsdEVsZW0udGV4dChhbHRUZXh0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFsdEVsZW0gJiYgYWx0RWxlbS5oYXNDbGFzcyhhbHRFbGVtQ2xhc3MpKSB7XG4gICAgICAgICAgICAvLyBraWxsIHRoZSBhbHQgZWxlbSBpZiB3ZSB1c2VkIHRvIGhhdmUgYWx0IHRleHQsIGJ1dCBub3cgd2UgZG9uJ3RcbiAgICAgICAgICAgIGFsdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuICAuZGlyZWN0aXZlKCdmYVN0YWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlOiAnPHNwYW4gbmctdHJhbnNjbHVkZSBjbGFzcz1cImZhLXN0YWNrIGZhLWxnXCI+PC9zcGFuPicsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICAgIC8qKiogU1RSSU5HIEFUVFJTICoqKi9cbiAgICAgICAgLy8ga2VlcCBhIHN0YXRlIG9mIHRoZSBjdXJyZW50IGF0dHJzIHNvIHRoYXQgd2hlbiB0aGV5IGNoYW5nZSxcbiAgICAgICAgLy8gd2UgY2FuIHJlbW92ZSB0aGUgb2xkIGF0dHJzIGJlZm9yZSBhZGRpbmcgdGhlIG5ldyBvbmVzLlxuICAgICAgICB2YXIgY3VycmVudENsYXNzZXMgPSB7fTtcblxuICAgICAgICAvLyBnZW5lcmljIGZ1bmN0aW9uIHRvIGJpbmQgc3RyaW5nIGF0dHJzXG4gICAgICAgIGZ1bmN0aW9uIF9vYnNlcnZlU3RyaW5nQXR0ciAoYXR0ciwgYmFzZUNsYXNzKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZTtcblxuICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJhc2VDbGFzcyA9IGJhc2VDbGFzcyB8fCAnZmEtJyArIGF0dHI7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc2VzW2F0dHJdKTtcbiAgICAgICAgICAgIGlmIChhdHRyc1thdHRyXSkge1xuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBbYmFzZUNsYXNzLCBhdHRyc1thdHRyXV0uam9pbignLScpO1xuICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIGN1cnJlbnRDbGFzc2VzW2F0dHJdID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdzaXplJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNpemUgY2FuIGJlIHBhc3NlZCBcImxhcmdlXCIgb3IgYW4gaW50ZWdlclxuICAgICAgICAgKi9cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ3NpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZTtcblxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXMuc2l6ZSk7XG5cbiAgICAgICAgICBpZiAoYXR0cnMuc2l6ZSA9PT0gJ2xhcmdlJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2ZhLWxnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUludChhdHRycy5zaXplLCAxMCkpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtJyArIGF0dHJzLnNpemUgKyAneCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgIGN1cnJlbnRDbGFzc2VzLnNpemUgPSBjbGFzc05hbWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pOyIsIi8qISBAbGljZW5zZVxuICogIFByb2plY3Q6IEJ1dHRvbnNcbiAqICBEZXNjcmlwdGlvbjogQSBoaWdobHkgY3VzdG9taXphYmxlIENTUyBidXR0b24gbGlicmFyeSBidWlsdCB3aXRoIFNhc3MgYW5kIENvbXBhc3NcbiAqICBBdXRob3I6IEFsZXggV29sZmVcbiAqICBMaWNlbnNlOiBBcGFjaGUgTGljZW5zZSB2Mi4wXG4gKi9cblxuLy8gdGhlIHNlbWktY29sb24gYmVmb3JlIGZ1bmN0aW9uIGludm9jYXRpb24gaXMgYSBzYWZldHkgbmV0IGFnYWluc3QgY29uY2F0ZW5hdGVkXG4vLyBzY3JpcHRzIGFuZC9vciBvdGhlciBwbHVnaW5zIHdoaWNoIG1heSBub3QgYmUgY2xvc2VkIHByb3Blcmx5LlxuOyhmdW5jdGlvbiAoICQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyB1bmRlZmluZWQgaXMgdXNlZCBoZXJlIGFzIHRoZSB1bmRlZmluZWQgZ2xvYmFsIHZhcmlhYmxlIGluIEVDTUFTY3JpcHQgMyBpc1xuICAgIC8vIG11dGFibGUgKGllLiBpdCBjYW4gYmUgY2hhbmdlZCBieSBzb21lb25lIGVsc2UpLiB1bmRlZmluZWQgaXNuJ3QgcmVhbGx5IGJlaW5nXG4gICAgLy8gcGFzc2VkIGluIHNvIHdlIGNhbiBlbnN1cmUgdGhlIHZhbHVlIG9mIGl0IGlzIHRydWx5IHVuZGVmaW5lZC4gSW4gRVM1LCB1bmRlZmluZWRcbiAgICAvLyBjYW4gbm8gbG9uZ2VyIGJlIG1vZGlmaWVkLlxuXG4gICAgLy8gd2luZG93IGFuZCBkb2N1bWVudCBhcmUgcGFzc2VkIHRocm91Z2ggYXMgbG9jYWwgdmFyaWFibGUgcmF0aGVyIHRoYW4gZ2xvYmFsXG4gICAgLy8gYXMgdGhpcyAoc2xpZ2h0bHkpIHF1aWNrZW5zIHRoZSByZXNvbHV0aW9uIHByb2Nlc3MgYW5kIGNhbiBiZSBtb3JlIGVmZmljaWVudGx5XG4gICAgLy8gbWluaWZpZWQgKGVzcGVjaWFsbHkgd2hlbiBib3RoIGFyZSByZWd1bGFybHkgcmVmZXJlbmNlZCBpbiB5b3VyIHBsdWdpbikuXG5cbiAgICAvLyBDcmVhdGUgdGhlIGRlZmF1bHRzIG9uY2VcbiAgICB2YXIgcGx1Z2luTmFtZSA9IFwibWVudUJ1dHRvblwiO1xuICAgIHZhciBtZW51Q2xhc3MgPSBcIi5idXR0b24tZHJvcGRvd25cIjtcbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHByb3BlcnR5TmFtZTogXCJ2YWx1ZVwiXG4gICAgfTtcblxuICAgIC8vIFRoZSBhY3R1YWwgcGx1Z2luIGNvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gUGx1Z2luKCBlbGVtZW50LCBvcHRpb25zICkge1xuXG4gICAgICAgIC8vU0VUIE9QVElPTlNcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoIHt9LCBkZWZhdWx0cywgb3B0aW9ucyApO1xuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICB0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcblxuICAgICAgICAvL1JFR0lTVEVSIEVMRU1FTlRcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XG5cbiAgICAgICAgLy9JTklUSUFMSVpFXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIFBsdWdpbi5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiBQbHVnaW4sXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBXRSBET04nVCBTVE9QIFBST1BHQVRJT04gU08gQ0xJQ0tTIFdJTEwgQVVUT01BVElDQUxMWVxuICAgICAgICAgICAgLy8gVE9HR0xFIEFORCBSRU1PVkUgVEhFIERST1BET1dOXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJvcGRvd24nKSA9PT0gJ3Nob3cnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlTWVudSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVudSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dNZW51OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJvcGRvd24nLCAnc2hvdycpO1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCd1bCcpLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlTWVudTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmRhdGEoJ2Ryb3Bkb3duJywgJ2hpZGUnKTtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgndWwnKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQSByZWFsbHkgbGlnaHR3ZWlnaHQgcGx1Z2luIHdyYXBwZXIgYXJvdW5kIHRoZSBjb25zdHJ1Y3RvcixcbiAgICAvLyBwcmV2ZW50aW5nIGFnYWluc3QgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnNcbiAgICAkLmZuW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy8gVE9HR0xFIEJVVFRPTiBJRiBJVCBFWElTVFNcbiAgICAgICAgICAgIGlmICgkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT1RIRVJXSVNFIENSRUFURSBBIE5FVyBJTlNUQU5DRVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSwgbmV3IFBsdWdpbiggdGhpcywgb3B0aW9ucyApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vQ0xPU0UgT1BFTiBEUk9QRE9XTiBNRU5VUyBJRiBDTElDS0VEIFNPTUVXSEVSRSBFTFNFXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAkLmVhY2goJCgnW2RhdGEtYnV0dG9ucz1kcm9wZG93bl0nKSwgZnVuY3Rpb24oaSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0Lm9mZnNldFBhcmVudClbMF0gIT0gJCh0aGlzKVswXSkge1xuICAgICAgICAgICAgICAgIGlmICgkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKS5oaWRlTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ3VsJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvL0RFTEVHQVRFIENMSUNLIEVWRU5UIEZPUiBEUk9QRE9XTiBNRU5VU1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1idXR0b25zPWRyb3Bkb3duXScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyICRkcm9wZG93biA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgJGRyb3Bkb3duLm1lbnVCdXR0b24oKTtcbiAgICB9KTtcblxuICAgIC8vSUdOT1JFIENMSUNLIEVWRU5UUyBGUk9NIERJU1BMQVkgQlVUVE9OIElOIERST1BET1dOXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWJ1dHRvbnM9ZHJvcGRvd25dID4gYScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG59KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTsiLCJhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBheW1lbnRzJywgW10pO2FuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUGF5bWVudHMnKVxuXG4uZmFjdG9yeSgnQ29tbW9uJywgW2Z1bmN0aW9uKCl7XG5cbiAgdmFyIHJldCA9IHt9O1xuXG5cbiAgLy8gZXhwaXJ5IGlzIGEgc3RyaW5nIFwibW0gLyB5eVt5eV1cIlxuICByZXRbJ3BhcnNlRXhwaXJ5J10gPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgdmFyIG1vbnRoLCBwcmVmaXgsIHllYXIsIF9yZWY7XG5cbiAgICB2YWx1ZSA9IHZhbHVlIHx8ICcnXG5cbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xccy9nLCAnJyk7XG4gICAgX3JlZiA9IHZhbHVlLnNwbGl0KCcvJywgMiksIG1vbnRoID0gX3JlZlswXSwgeWVhciA9IF9yZWZbMV07XG5cbiAgICBpZiAoKHllYXIgIT0gbnVsbCA/IHllYXIubGVuZ3RoIDogdm9pZCAwKSA9PT0gMiAmJiAvXlxcZCskLy50ZXN0KHllYXIpKSB7XG4gICAgICBwcmVmaXggPSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCk7XG4gICAgICBwcmVmaXggPSBwcmVmaXgudG9TdHJpbmcoKS5zbGljZSgwLCAyKTtcbiAgICAgIHllYXIgPSBwcmVmaXggKyB5ZWFyO1xuICAgIH1cblxuICAgIG1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgICB5ZWFyID0gcGFyc2VJbnQoeWVhciwgMTApO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBtb250aDogbW9udGgsXG4gICAgICB5ZWFyOiB5ZWFyXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG5cbn1dKTthbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBheW1lbnRzJylcblxuLmZhY3RvcnkoJ0NhcmRzJywgW2Z1bmN0aW9uKCl7XG5cbiAgdmFyIGRlZmF1bHRGb3JtYXQgPSAvKFxcZHsxLDR9KS9nO1xuICB2YXIgZGVmYXVsdElucHV0Rm9ybWF0ID0gIC8oPzpefFxccykoXFxkezR9KSQvO1xuXG4gICAgICAgIHZhciBjYXJkcyA9IFtcbiAgICB7XG4gICAgICB0eXBlOiAnbWFlc3RybycsXG4gICAgICBwYXR0ZXJuOiAvXig1MDE4fDUwMjB8NTAzOHw2MzA0fDY3NTl8Njc2WzEtM10pLyxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGlucHV0Rm9ybWF0OiBkZWZhdWx0SW5wdXRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTldLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ2RpbmVyc2NsdWInLFxuICAgICAgcGF0dGVybjogL14oMzZ8Mzh8MzBbMC01XSkvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE0XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdsYXNlcicsXG4gICAgICBwYXR0ZXJuOiAvXig2NzA2fDY3NzF8NjcwOSkvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE2LCAxNywgMTgsIDE5XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdqY2InLFxuICAgICAgcGF0dGVybjogL14zNS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBpbnB1dEZvcm1hdDogZGVmYXVsdElucHV0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTZdLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ3VuaW9ucGF5JyxcbiAgICAgIHBhdHRlcm46IC9eNjIvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE2LCAxNywgMTgsIDE5XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogZmFsc2VcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnZGlzY292ZXInLFxuICAgICAgcGF0dGVybjogL14oNjAxMXw2NXw2NFs0LTldfDYyMikvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdtYXN0ZXJjYXJkJyxcbiAgICAgIHBhdHRlcm46IC9eNVsxLTVdLyxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGlucHV0Rm9ybWF0OiBkZWZhdWx0SW5wdXRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnYW1leCcsXG4gICAgICBwYXR0ZXJuOiAvXjNbNDddLyxcbiAgICAgIGZvcm1hdDogLyhcXGR7MSw0fSkoXFxkezEsNn0pPyhcXGR7MSw1fSk/LyxcbiAgICAgIGlucHV0Rm9ybWF0OiAvXihcXGR7NH18XFxkezR9XFxzXFxkezZ9KSQvLFxuICAgICAgbGVuZ3RoOiBbMTVdLFxuICAgICAgY3ZjTGVuZ3RoOiBbMywgNF0sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ3Zpc2EnLFxuICAgICAgcGF0dGVybjogL140LyxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGlucHV0Rm9ybWF0OiBkZWZhdWx0SW5wdXRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxMywgMTQsIDE1LCAxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9XG4gIF07XG5cblxuICB2YXIgX2Zyb21OdW1iZXIgPSBmdW5jdGlvbihudW0pe1xuICAgICAgdmFyIGNhcmQsIGksIGxlbjtcblxuICAgICAgbnVtID0gKG51bSArICcnKS5yZXBsYWNlKC9cXEQvZywgJycpO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjYXJkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXG4gICAgICAgIGNhcmQgPSBjYXJkc1tpXTtcblxuICAgICAgICBpZiAoY2FyZC5wYXR0ZXJuLnRlc3QobnVtKSkge1xuICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgfVxuXG4gIHZhciBfZnJvbVR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgY2FyZCwgaSwgbGVuO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjYXJkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXG4gICAgICAgIGNhcmQgPSBjYXJkc1tpXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjYXJkLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gY2FyZDtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICAgIGZyb21OdW1iZXI6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gX2Zyb21OdW1iZXIodmFsKSB9LFxuICAgICAgZnJvbVR5cGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gX2Zyb21UeXBlKHZhbCkgfSxcbiAgICAgIGRlZmF1bHRGb3JtYXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVmYXVsdEZvcm1hdDt9LFxuICAgICAgZGVmYXVsdElucHV0Rm9ybWF0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGRlZmF1bHRJbnB1dEZvcm1hdDt9XG4gIH1cblxufV0pO2FuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUGF5bWVudHMnKVxuXG5cbi5mYWN0b3J5KCdfRm9ybWF0JyxbJ0NhcmRzJywgJ0NvbW1vbicsICckZmlsdGVyJywgZnVuY3Rpb24oQ2FyZHMsIENvbW1vbiwgJGZpbHRlcil7XG5cbiAgdmFyIF9mb3JtYXRzID0ge31cblxuICB2YXIgX2hhc1RleHRTZWxlY3RlZCA9IGZ1bmN0aW9uKCR0YXJnZXQpIHtcbiAgICAgIHZhciByZWY7XG4gICAgICBcbiAgICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25FbmQnKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50ICE9PSBudWxsID8gKHJlZiA9IGRvY3VtZW50LnNlbGVjdGlvbikgIT0gbnVsbCA/IHR5cGVvZiByZWYuY3JlYXRlUmFuZ2UgPT09IFwiZnVuY3Rpb25cIiA/IHJlZi5jcmVhdGVSYW5nZSgpLnRleHQgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgLy8gY2FyZCBmb3JtYXR0aW5nXG5cbiAgdmFyIF9mb3JtYXRDYXJkTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0YXJnZXQsIGNhcmQsIGRpZ2l0LCBsZW5ndGgsIHJlLCB1cHBlckxlbmd0aCwgdmFsdWU7XG4gICAgICBcbiAgICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgIGNhcmQgPSBDYXJkcy5mcm9tTnVtYmVyKHZhbHVlICsgZGlnaXQpO1xuICAgICAgbGVuZ3RoID0gKHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykgKyBkaWdpdCkubGVuZ3RoO1xuICAgICAgXG4gICAgICB1cHBlckxlbmd0aCA9IDE2O1xuICAgICAgXG4gICAgICBpZiAoY2FyZCkge1xuICAgICAgICB1cHBlckxlbmd0aCA9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAobGVuZ3RoID49IHVwcGVyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSAmJiAhZS5tZXRhICYmIGUua2V5Q29kZSA+PSA0Nikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZSA9IENhcmRzLmRlZmF1bHRJbnB1dEZvcm1hdCgpO1xuICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgICByZSA9IGNhcmQuaW5wdXRGb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZS50ZXN0KHZhbHVlKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZSArICcgJyArIGRpZ2l0KTtcblxuICAgICAgfSBlbHNlIGlmIChyZS50ZXN0KHZhbHVlICsgZGlnaXQpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgZGlnaXQgKyAnICcpO1xuXG4gICAgICB9XG4gIH07XG5cbiAgdmFyIF9yZXN0cmljdENhcmROdW1iZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRhcmdldCwgY2FyZCwgZGlnaXQsIHZhbHVlO1xuICAgICAgXG4gICAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgICBcbiAgICAgIGlmKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmKF9oYXNUZXh0U2VsZWN0ZWQoJHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICB2YWx1ZSA9ICgkdGFyZ2V0LnZhbCgpICsgZGlnaXQpLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICBjYXJkID0gQ2FyZHMuZnJvbU51bWJlcih2YWx1ZSk7XG4gICAgICBcbiAgICAgIGlmKGNhcmQpIHtcbiAgICAgICAgaWYoISh2YWx1ZS5sZW5ndGggPD0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV0pKXtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKCEodmFsdWUubGVuZ3RoIDw9IDE2KSl7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gIH07XG5cbiAgdmFyIF9mb3JtYXRCYWNrQ2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgIFxuICAgICAgJHRhcmdldCA9IGFuZ3VsYXIuZWxlbWVudChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgXG4gICAgICBpZihlLm1ldGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihlLndoaWNoICE9PSA4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmKC9cXGRcXHMkLy50ZXN0KHZhbHVlKSAmJiAhZS5tZXRhICYmIGUua2V5Q29kZSA+PSA0Nikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZS5yZXBsYWNlKC9cXGRcXHMkLywgJycpKTtcbiAgICAgIH0gZWxzZSBpZiAoL1xcc1xcZD8kLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZS5yZXBsYWNlKC9cXHNcXGQ/JC8sICcnKSk7XG4gICAgICB9XG4gICAgfTtcblxuICB2YXIgX2dldEZvcm1hdHRlZENhcmROdW1iZXIgPSBmdW5jdGlvbihudW0pIHtcbiAgICAgIHZhciBjYXJkLCBncm91cHMsIHVwcGVyTGVuZ3RoLCByZWY7XG4gICAgICBcbiAgICAgIGNhcmQgPSBDYXJkcy5mcm9tTnVtYmVyKG51bSk7XG4gICAgICBcbiAgICAgIGlmICghY2FyZCkge1xuICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgfVxuICAgICAgXG4gICAgICB1cHBlckxlbmd0aCA9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgICAgbnVtID0gbnVtLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICBudW0gPSBudW0uc2xpY2UoMCwgK3VwcGVyTGVuZ3RoICsgMSB8fCA5ZTkpO1xuICAgICAgXG4gICAgICBpZihjYXJkLmZvcm1hdC5nbG9iYWwpIHtcbiAgICAgICAgcmV0dXJuIChyZWYgPSBudW0ubWF0Y2goY2FyZC5mb3JtYXQpKSAhPSBudWxsID8gcmVmLmpvaW4oJyAnKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3VwcyA9IGNhcmQuZm9ybWF0LmV4ZWMobnVtKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKGdyb3VwcyAhPSBudWxsKSB7XG4gICAgICAgICAgZ3JvdXBzLnNoaWZ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JvdXBzICE9IG51bGwgPyBncm91cHMuam9pbignICcpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgdmFyIF9yZUZvcm1hdENhcmROdW1iZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUudGFyZ2V0KTtcbiAgICBcbiAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgIHZhbHVlID0gX2dldEZvcm1hdHRlZENhcmROdW1iZXIodmFsdWUpO1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgX3BhcnNlQ2FyZE51bWJlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpIDogdmFsdWU7XG4gIH07XG5cbiAgX2Zvcm1hdHNbJ2NhcmQnXSA9IGZ1bmN0aW9uKGVsZW0sIGN0cmwpe1xuICAgIGVsZW0uYmluZCgna2V5cHJlc3MnLCBfcmVzdHJpY3RDYXJkTnVtYmVyKTtcbiAgICBlbGVtLmJpbmQoJ2tleXByZXNzJywgX2Zvcm1hdENhcmROdW1iZXIpO1xuICAgIGVsZW0uYmluZCgna2V5ZG93bicsIF9mb3JtYXRCYWNrQ2FyZE51bWJlcik7XG4gICAgZWxlbS5iaW5kKCdwYXN0ZScsIF9yZUZvcm1hdENhcmROdW1iZXIpO1xuXG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKF9wYXJzZUNhcmROdW1iZXIpO1xuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChfZ2V0Rm9ybWF0dGVkQ2FyZE51bWJlcik7XG4gIH1cblxuXG4gIC8vIGN2Y1xuXG4gIF9mb3JtYXRDVkMgPSBmdW5jdGlvbihlKXtcbiAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIFxuICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkgJiYgIWUubWV0YSAmJiBlLmtleUNvZGUgPj0gNDYpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpICsgZGlnaXQ7XG4gICAgXG4gICAgaWYodmFsLmxlbmd0aCA8PSA0KXtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIF9mb3JtYXRzWydjdmMnXSA9IGZ1bmN0aW9uKGVsZW0pe1xuICAgIGVsZW0uYmluZCgna2V5cHJlc3MnLCBfZm9ybWF0Q1ZDKVxuICB9XG5cbiAgLy8gZXhwaXJ5XG5cbiAgX3Jlc3RyaWN0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBkaWdpdCwgdmFsdWU7XG4gICAgXG4gICAgJHRhcmdldCA9IGFuZ3VsYXIuZWxlbWVudChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICBcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpICYmICFlLm1ldGEgJiYgZS5rZXlDb2RlID49IDQ2KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmKF9oYXNUZXh0U2VsZWN0ZWQoJHRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpICsgZGlnaXQ7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIFxuICAgIGlmICh2YWx1ZS5sZW5ndGggPiA2KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgX2Zvcm1hdEV4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgICBcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgXG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSAmJiAhZS5tZXRhICYmIGUua2V5Q29kZSA+PSA0Nikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsID0gJHRhcmdldC52YWwoKSArIGRpZ2l0O1xuICAgIFxuICAgIGlmICgvXlxcZCQvLnRlc3QodmFsKSAmJiAodmFsICE9PSAnMCcgJiYgdmFsICE9PSAnMScpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwoXCIwXCIgKyB2YWwgKyBcIiAvIFwiKTtcblxuICAgIH0gZWxzZSBpZiAoL15cXGRcXGQkLy50ZXN0KHZhbCkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIlwiICsgdmFsICsgXCIgLyBcIik7XG5cbiAgICB9XG4gIH07XG5cbiAgX2Zvcm1hdEZvcndhcmRFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIGRpZ2l0LCB2YWw7XG4gICAgXG4gICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIFxuICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkgJiYgIWUubWV0YSAmJiBlLmtleUNvZGUgPj0gNDYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgJHRhcmdldCA9IGFuZ3VsYXIuZWxlbWVudChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gICAgXG4gICAgaWYgKC9eXFxkXFxkJC8udGVzdCh2YWwpKSB7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwoXCJcIiArIHZhbCArIFwiIC8gXCIpO1xuICAgIH1cbiAgfTtcblxuICBfZm9ybWF0Rm9yd2FyZFNsYXNoID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBzbGFzaCwgdmFsO1xuICAgIFxuICAgIHNsYXNoID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICBcbiAgICBpZiAoc2xhc2ggIT09ICcvJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsID0gJHRhcmdldC52YWwoKTtcbiAgICBcbiAgICBpZiAoL15cXGQkLy50ZXN0KHZhbCkgJiYgdmFsICE9PSAnMCcpIHtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIjBcIiArIHZhbCArIFwiIC8gXCIpO1xuICAgIH1cbiAgfTtcblxuICBfZm9ybWF0QmFja0V4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgXG4gICAgaWYgKGUubWV0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIFxuICAgIGlmIChlLndoaWNoICE9PSA4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICgvXFxkKFxcc3xcXC8pKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUucmVwbGFjZSgvXFxkKFxcc3xcXC8pKiQvLCAnJykpO1xuXG4gICAgfSBlbHNlIGlmICgvXFxzXFwvXFxzP1xcZD8kLy50ZXN0KHZhbHVlKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcc1xcL1xccz9cXGQ/JC8sICcnKSk7XG5cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9wYXJzZUV4cGlyeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIG9iaiA9IENvbW1vbi5wYXJzZUV4cGlyeSh2YWx1ZSk7XG4gICAgICB2YXIgZXhwaXJ5ID0gbmV3IERhdGUob2JqLnllYXIsIG9iai5tb250aC0xKTtcbiAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZXhwaXJ5LCAnTU0veXl5eScpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX2dldEZvcm1hdHRlZEV4cGlyeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIG9iaiA9IENvbW1vbi5wYXJzZUV4cGlyeSh2YWx1ZSk7XG4gICAgICB2YXIgZXhwaXJ5ID0gbmV3IERhdGUob2JqLnllYXIsIG9iai5tb250aC0xKTtcbiAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZXhwaXJ5LCAnTU0gLyB5eXl5Jyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG5cbiAgX2Zvcm1hdHNbJ2V4cGlyeSddID0gZnVuY3Rpb24oZWxlbSwgY3RybCl7XG4gICAgZWxlbS5iaW5kKCdrZXlwcmVzcycsIF9yZXN0cmljdEV4cGlyeSk7XG4gICAgZWxlbS5iaW5kKCdrZXlwcmVzcycsIF9mb3JtYXRFeHBpcnkpO1xuICAgIGVsZW0uYmluZCgna2V5cHJlc3MnLCBfZm9ybWF0Rm9yd2FyZFNsYXNoKTtcbiAgICBlbGVtLmJpbmQoJ2tleXByZXNzJywgX2Zvcm1hdEZvcndhcmRFeHBpcnkpO1xuICAgIGVsZW0uYmluZCgna2V5ZG93bicsIF9mb3JtYXRCYWNrRXhwaXJ5KTtcblxuICAgIGN0cmwuJHBhcnNlcnMucHVzaChfcGFyc2VFeHBpcnkpO1xuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChfZ2V0Rm9ybWF0dGVkRXhwaXJ5KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbih0eXBlLCBlbGVtLCBjdHJsKXtcbiAgICBpZighX2Zvcm1hdHNbdHlwZV0pe1xuXG4gICAgICB0eXBlcyA9IE9iamVjdC5rZXlzKF9mb3JtYXRzKTtcblxuICAgICAgZXJyc3RyICA9ICdVbmtub3duIHR5cGUgZm9yIGZvcm1hdHRpbmc6IFwiJyt0eXBlKydcIi4gJztcbiAgICAgIGVycnN0ciArPSAnU2hvdWxkIGJlIG9uZSBvZjogXCInK3R5cGVzLmpvaW4oJ1wiLCBcIicpKydcIic7XG5cbiAgICAgIHRocm93IGVycnN0cjtcbiAgICB9XG4gICAgcmV0dXJuIF9mb3JtYXRzW3R5cGVdKGVsZW0sIGN0cmwpO1xuICB9XG5cbn1dKVxuXG4uZGlyZWN0aXZlKCdwYXltZW50c0Zvcm1hdCcsIFsnJHdpbmRvdycsICdfRm9ybWF0JywgZnVuY3Rpb24oJHdpbmRvdywgX0Zvcm1hdCl7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0ciwgY3RybCl7XG4gICAgICAgIF9Gb3JtYXQoYXR0ci5wYXltZW50c0Zvcm1hdCwgZWxlbSwgY3RybCk7XG4gICAgICB9XG4gICAgfVxufV0pO2FuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUGF5bWVudHMnKVxuXG5cblxuLmZhY3RvcnkoJ19WYWxpZGF0ZScsIFsnQ2FyZHMnLCAnQ29tbW9uJywgJyRwYXJzZScsIGZ1bmN0aW9uKENhcmRzLCBDb21tb24sICRwYXJzZSl7XG5cbiAgdmFyIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9XG5cbiAgdmFyIF9sdWhuQ2hlY2sgPSBmdW5jdGlvbihudW0pIHtcbiAgICB2YXIgZGlnaXQsIGRpZ2l0cywgb2RkLCBzdW0sIGksIGxlbjtcblxuICAgIG9kZCA9IHRydWU7XG4gICAgc3VtID0gMDtcbiAgICBkaWdpdHMgPSAobnVtICsgJycpLnNwbGl0KCcnKS5yZXZlcnNlKCk7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBkaWdpdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblxuICAgICAgZGlnaXQgPSBkaWdpdHNbaV07XG4gICAgICBkaWdpdCA9IHBhcnNlSW50KGRpZ2l0LCAxMCk7XG5cbiAgICAgIGlmICgob2RkID0gIW9kZCkpIHtcbiAgICAgICAgZGlnaXQgKj0gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpZ2l0ID4gOSkge1xuICAgICAgICBkaWdpdCAtPSA5O1xuICAgICAgfVxuXG4gICAgICBzdW0gKz0gZGlnaXQ7XG5cbiAgICB9XG5cbiAgICByZXR1cm4gc3VtICUgMTAgPT09IDA7XG4gIH07XG5cbiAgdmFyIF92YWxpZGF0b3JzID0ge31cblxuICBfdmFsaWRhdG9yc1snY3ZjJ10gPSBmdW5jdGlvbihjdmMsIGN0cmwsIHNjb3BlLCBhdHRyKXtcbiAgICAgIHZhciByZWYsIHJlZjE7XG5cbiAgICAgIC8vIHZhbGlkIGlmIGVtcHR5IC0gbGV0IG5nLXJlcXVpcmVkIGhhbmRsZSBlbXB0eVxuICAgICAgaWYoY3ZjID09IG51bGwgfHwgY3ZjLmxlbmd0aCA9PSAwKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KGN2YykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHlwZTtcbiAgICAgIGlmKGF0dHIucGF5bWVudHNUeXBlTW9kZWwpIHtcbiAgICAgICAgICB2YXIgdHlwZU1vZGVsID0gJHBhcnNlKGF0dHIucGF5bWVudHNUeXBlTW9kZWwpO1xuICAgICAgICAgIHR5cGUgPSB0eXBlTW9kZWwoc2NvcGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICByZXR1cm4gcmVmID0gY3ZjLmxlbmd0aCwgX19pbmRleE9mLmNhbGwoKHJlZjEgPSBDYXJkcy5mcm9tVHlwZSh0eXBlKSkgIT0gbnVsbCA/IHJlZjEuY3ZjTGVuZ3RoIDogdm9pZCAwLCByZWYpID49IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3ZjLmxlbmd0aCA+PSAzICYmIGN2Yy5sZW5ndGggPD0gNDtcbiAgICAgIH1cbiAgfVxuXG4gIF92YWxpZGF0b3JzWydjYXJkJ10gPSBmdW5jdGlvbihudW0sIGN0cmwsIHNjb3BlLCBhdHRyKXtcbiAgICAgIHZhciBjYXJkLCByZWYsIHR5cGVNb2RlbDtcblxuICAgICAgaWYoYXR0ci5wYXltZW50c1R5cGVNb2RlbCkge1xuICAgICAgICAgIHR5cGVNb2RlbCA9ICRwYXJzZShhdHRyLnBheW1lbnRzVHlwZU1vZGVsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsZWFyQ2FyZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWYodHlwZU1vZGVsKSB7XG4gICAgICAgICAgICAgIHR5cGVNb2RlbC5hc3NpZ24oc2NvcGUsIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdHJsLiRjYXJkID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIC8vIHZhbGlkIGlmIGVtcHR5IC0gbGV0IG5nLXJlcXVpcmVkIGhhbmRsZSBlbXB0eVxuICAgICAgaWYobnVtID09IG51bGwgfHwgbnVtLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgY2xlYXJDYXJkKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBudW0gPSAobnVtICsgJycpLnJlcGxhY2UoL1xccyt8LS9nLCAnJyk7XG5cbiAgICAgIGlmICghL15cXGQrJC8udGVzdChudW0pKSB7XG4gICAgICAgIGNsZWFyQ2FyZCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGNhcmQgPSBDYXJkcy5mcm9tTnVtYmVyKG51bSk7XG5cbiAgICAgIGlmKCFjYXJkKSB7XG4gICAgICAgIGNsZWFyQ2FyZCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuJGNhcmQgPSBhbmd1bGFyLmNvcHkoY2FyZCk7XG5cbiAgICAgIGlmKHR5cGVNb2RlbCkge1xuICAgICAgICAgIHR5cGVNb2RlbC5hc3NpZ24oc2NvcGUsIGNhcmQudHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldCA9IChyZWYgPSBudW0ubGVuZ3RoLCBfX2luZGV4T2YuY2FsbChjYXJkLmxlbmd0aCwgcmVmKSA+PSAwKSAmJiAoY2FyZC5sdWhuID09PSBmYWxzZSB8fCBfbHVobkNoZWNrKG51bSkpO1xuXG4gICAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgX3ZhbGlkYXRvcnNbJ2V4cGlyeSddID0gZnVuY3Rpb24odmFsKXtcbiAgICAvLyB2YWxpZCBpZiBlbXB0eSAtIGxldCBuZy1yZXF1aXJlZCBoYW5kbGUgZW1wdHlcbiAgICBpZih2YWwgPT0gbnVsbCB8fCB2YWwubGVuZ3RoID09IDApIHJldHVybiB0cnVlO1xuXG4gICAgb2JqID0gQ29tbW9uLnBhcnNlRXhwaXJ5KHZhbCk7XG5cbiAgICBtb250aCA9IG9iai5tb250aDtcbiAgICB5ZWFyID0gb2JqLnllYXI7XG5cbiAgICB2YXIgY3VycmVudFRpbWUsIGV4cGlyeSwgcHJlZml4O1xuXG4gICAgaWYgKCEobW9udGggJiYgeWVhcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QobW9udGgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KHllYXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCEocGFyc2VJbnQobW9udGgsIDEwKSA8PSAxMikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoeWVhci5sZW5ndGggPT09IDIpIHtcbiAgICAgIHByZWZpeCA9IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHByZWZpeCA9IHByZWZpeC50b1N0cmluZygpLnNsaWNlKDAsIDIpO1xuICAgICAgeWVhciA9IHByZWZpeCArIHllYXI7XG4gICAgfVxuXG4gICAgZXhwaXJ5ID0gbmV3IERhdGUoeWVhciwgbW9udGgpO1xuICAgIGN1cnJlbnRUaW1lID0gbmV3IERhdGU7XG4gICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpIC0gMSk7XG4gICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpICsgMSwgMSk7XG5cbiAgICByZXR1cm4gZXhwaXJ5ID4gY3VycmVudFRpbWU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24odHlwZSwgdmFsLCBjdHJsLCBzY29wZSwgYXR0cil7XG4gICAgaWYoIV92YWxpZGF0b3JzW3R5cGVdKXtcblxuICAgICAgdHlwZXMgPSBPYmplY3Qua2V5cyhfdmFsaWRhdG9ycyk7XG5cbiAgICAgIGVycnN0ciAgPSAnVW5rbm93biB0eXBlIGZvciB2YWxpZGF0aW9uOiBcIicrdHlwZSsnXCIuICc7XG4gICAgICBlcnJzdHIgKz0gJ1Nob3VsZCBiZSBvbmUgb2Y6IFwiJyt0eXBlcy5qb2luKCdcIiwgXCInKSsnXCInO1xuXG4gICAgICB0aHJvdyBlcnJzdHI7XG4gICAgfVxuICAgIHJldHVybiBfdmFsaWRhdG9yc1t0eXBlXSh2YWwsIGN0cmwsIHNjb3BlLCBhdHRyKTtcbiAgfVxufV0pXG5cblxuLmZhY3RvcnkoJ19WYWxpZGF0ZVdhdGNoJywgWydfVmFsaWRhdGUnLCBmdW5jdGlvbihfVmFsaWRhdGUpe1xuXG4gICAgdmFyIF92YWxpZGF0b3JXYXRjaGVzID0ge31cblxuICAgIF92YWxpZGF0b3JXYXRjaGVzWydjdmMnXSA9IGZ1bmN0aW9uKHR5cGUsIGN0cmwsIHNjb3BlLCBhdHRyKXtcbiAgICAgICAgaWYoYXR0ci5wYXltZW50c1R5cGVNb2RlbCkge1xuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIucGF5bWVudHNUeXBlTW9kZWwsIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICAgICAgaWYobmV3VmFsICE9IG9sZFZhbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBfVmFsaWRhdGUodHlwZSwgY3RybC4kbW9kZWxWYWx1ZSwgY3RybCwgc2NvcGUsIGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eSh0eXBlLCB2YWxpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24odHlwZSwgY3RybCwgc2NvcGUsIGF0dHIpe1xuICAgICAgICBpZihfdmFsaWRhdG9yV2F0Y2hlc1t0eXBlXSl7XG4gICAgICAgICAgICByZXR1cm4gX3ZhbGlkYXRvcldhdGNoZXNbdHlwZV0odHlwZSwgY3RybCwgc2NvcGUsIGF0dHIpO1xuICAgICAgICB9XG4gICAgfVxufV0pXG5cbi5kaXJlY3RpdmUoJ3BheW1lbnRzVmFsaWRhdGUnLCBbJyR3aW5kb3cnLCAnX1ZhbGlkYXRlJywgJ19WYWxpZGF0ZVdhdGNoJywgZnVuY3Rpb24oJHdpbmRvdywgX1ZhbGlkYXRlLCBfVmFsaWRhdGVXYXRjaCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIsIGN0cmwpe1xuXG4gICAgICB2YXIgdHlwZSA9IGF0dHIucGF5bWVudHNWYWxpZGF0ZTtcblxuICAgICAgX1ZhbGlkYXRlV2F0Y2godHlwZSwgY3RybCwgc2NvcGUsIGF0dHIpO1xuXG4gICAgICB2YXIgdmFsaWRhdGVGbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgIHZhciB2YWxpZCA9IF9WYWxpZGF0ZSh0eXBlLCB2YWwsIGN0cmwsIHNjb3BlLCBhdHRyKTtcbiAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eSh0eXBlLCB2YWxpZCk7XG4gICAgICAgICAgcmV0dXJuIHZhbGlkID8gdmFsIDogdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKHZhbGlkYXRlRm4pO1xuICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHZhbGlkYXRlRm4pO1xuICAgIH1cbiAgfVxufV0pXG47YW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQYXltZW50cycpXG5cbi5kaXJlY3RpdmUoJ3N0cmlwZUZvcm0nLCBbJyR3aW5kb3cnLCAnJHBhcnNlJywgJ0NvbW1vbicsIGZ1bmN0aW9uKCR3aW5kb3csICRwYXJzZSwgQ29tbW9uKSB7XG4gICAgXG4gIC8vIGRpcmVjdGl2ZSBpbnRlcmNlcHRzIGZvcm0tc3VibWlzc2lvbiwgb2J0YWlucyBTdHJpcGUncyBjYXJkVG9rZW4gdXNpbmcgc3RyaXBlLmpzXG4gIC8vIGFuZCB0aGVuIHBhc3NlcyB0aGF0IHRvIGNhbGxiYWNrIHByb3ZpZGVkIGluIHN0cmlwZUZvcm0sIGF0dHJpYnV0ZS5cblxuICAvLyBkYXRhIHRoYXQgaXMgc2VudCB0byBzdHJpcGUgaXMgZmlsdGVyZWQgZnJvbSBzY29wZSwgbG9va2luZyBmb3IgdmFsaWQgdmFsdWVzIHRvXG4gIC8vIHNlbmQgYW5kIGNvbnZlcnRpbmcgY2FtZWxDYXNlIHRvIHNuYWtlX2Nhc2UsIGUuZyBleHBNb250aCAtPiBleHBfbW9udGhcblxuXG4gIC8vIGZpbHRlciB2YWxpZCBzdHJpcGUtdmFsdWVzIGZyb20gc2NvcGUgYW5kIGNvbnZlcnQgdGhlbSBmcm9tIGNhbWVsQ2FzZSB0byBzbmFrZV9jYXNlXG4gIF9nZXREYXRhVG9TZW5kID0gZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgIFxuICAgIHZhciBwb3NzaWJsZUtleXMgPSBbJ251bWJlcicsICdleHBNb250aCcsICdleHBZZWFyJywgXG4gICAgICAgICAgICAgICAgICAgICdjdmMnLCAnbmFtZScsJ2FkZHJlc3NMaW5lMScsIFxuICAgICAgICAgICAgICAgICAgICAnYWRkcmVzc0xpbmUyJywgJ2FkZHJlc3NDaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgJ2FkZHJlc3NTdGF0ZScsICdhZGRyZXNzWmlwJyxcbiAgICAgICAgICAgICAgICAgICAgJ2FkZHJlc3NDb3VudHJ5J11cbiAgICBcbiAgICB2YXIgY2FtZWxUb1NuYWtlID0gZnVuY3Rpb24oc3RyKXtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbihtKXtcbiAgICAgICAgcmV0dXJuIFwiX1wiK20udG9Mb3dlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciByZXQgPSB7fTtcblxuICAgIGZvcihpIGluIHBvc3NpYmxlS2V5cyl7XG4gICAgICAgIGlmKGRhdGEuaGFzT3duUHJvcGVydHkocG9zc2libGVLZXlzW2ldKSl7XG4gICAgICAgICAgICByZXRbY2FtZWxUb1NuYWtlKHBvc3NpYmxlS2V5c1tpXSldID0gYW5ndWxhci5jb3B5KGRhdGFbcG9zc2libGVLZXlzW2ldXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXRbJ251bWJlciddID0gKHJldFsnbnVtYmVyJ10gfHwgJycpLnJlcGxhY2UoLyAvZywnJyk7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyKSB7XG5cbiAgICAgIGlmKCEkd2luZG93LlN0cmlwZSl7XG4gICAgICAgICAgdGhyb3cgJ3N0cmlwZUZvcm0gcmVxdWlyZXMgdGhhdCB5b3UgaGF2ZSBzdHJpcGUuanMgaW5zdGFsbGVkLiBJbmNsdWRlIGh0dHBzOi8vanMuc3RyaXBlLmNvbS92Mi8gaW50byB5b3VyIGh0bWwuJztcbiAgICAgIH1cblxuICAgICAgdmFyIGZvcm0gPSBhbmd1bGFyLmVsZW1lbnQoZWxlbSk7XG5cbiAgICAgIGZvcm0uYmluZCgnc3VibWl0JywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgZXhwTW9udGhVc2VkID0gc2NvcGUuZXhwTW9udGggPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIGV4cFllYXJVc2VkID0gc2NvcGUuZXhwWWVhciA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICBpZighKGV4cE1vbnRoVXNlZCAmJiBleHBZZWFyVXNlZCkpe1xuICAgICAgICAgIGV4cCA9IENvbW1vbi5wYXJzZUV4cGlyeShzY29wZS5leHBpcnkpXG4gICAgICAgICAgc2NvcGUuZXhwTW9udGggPSBleHAubW9udGhcbiAgICAgICAgICBzY29wZS5leHBZZWFyID0gZXhwLnllYXJcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidXR0b24gPSBmb3JtLmZpbmQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuICAgICAgICBpZihmb3JtLmhhc0NsYXNzKCduZy12YWxpZCcpKSB7XG4gICAgICAgICAgXG5cbiAgICAgICAgICAkd2luZG93LlN0cmlwZS5jcmVhdGVUb2tlbihfZ2V0RGF0YVRvU2VuZChzY29wZSksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlW2F0dHIuc3RyaXBlRm9ybV0uYXBwbHkoc2NvcGUsIGFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlW2F0dHIuc3RyaXBlRm9ybV0uYXBwbHkoc2NvcGUsIFs0MDAsIHtlcnJvcjogJ0ludmFsaWQgZm9ybSBzdWJtaXR0ZWQuJ31dKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBidXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5leHBNb250aCA9IG51bGw7XG4gICAgICAgIHNjb3BlLmV4cFllYXIgID0gbnVsbDtcblxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XSk7XG4iLCIvKipcbiAqIGFuZ3VsYXItdGltZXIgLSB2MS4zLjUgLSAyMDE3LTAzLTA5IDI6MTggUE1cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zaWRkaWkvYW5ndWxhci10aW1lclxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNyBBZHJpYW4gV2FyZGVsbFxuICogTGljZW5zZWQgTUlUIDxodHRwczovL2dpdGh1Yi5jb20vc2lkZGlpL2FuZ3VsYXItdGltZXIvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQ+XG4gKi9cbnZhciB0aW1lck1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCd0aW1lcicsIFtdKVxuICAuZGlyZWN0aXZlKCd0aW1lcicsIFsnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJGNvbXBpbGUpIHtcbiAgICByZXR1cm4gIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogZmFsc2UsXG4gICAgICBzY29wZToge1xuICAgICAgICBpbnRlcnZhbDogJz1pbnRlcnZhbCcsXG4gICAgICAgIHN0YXJ0VGltZUF0dHI6ICc9c3RhcnRUaW1lJyxcbiAgICAgICAgZW5kVGltZUF0dHI6ICc9ZW5kVGltZScsXG4gICAgICAgIGNvdW50ZG93bmF0dHI6ICc9Y291bnRkb3duJyxcbiAgICAgICAgZmluaXNoQ2FsbGJhY2s6ICcmZmluaXNoQ2FsbGJhY2snLFxuICAgICAgICBhdXRvU3RhcnQ6ICcmYXV0b1N0YXJ0JyxcbiAgICAgICAgbGFuZ3VhZ2U6ICdAPycsXG4gICAgICAgIGZhbGxiYWNrOiAnQD8nLFxuICAgICAgICBtYXhUaW1lVW5pdDogJz0nLFxuICAgICAgICBzZWNvbmRzOiAnPT8nLFxuICAgICAgICBtaW51dGVzOiAnPT8nLFxuICAgICAgICBob3VyczogJz0/JyxcbiAgICAgICAgZGF5czogJz0/JyxcbiAgICAgICAgbW9udGhzOiAnPT8nLFxuICAgICAgICB5ZWFyczogJz0/JyxcbiAgICAgICAgc2Vjb25kc1M6ICc9PycsXG4gICAgICAgIG1pbnV0ZXNTOiAnPT8nLFxuICAgICAgICBob3Vyc1M6ICc9PycsXG4gICAgICAgIGRheXNTOiAnPT8nLFxuICAgICAgICBtb250aHNTOiAnPT8nLFxuICAgICAgICB5ZWFyc1M6ICc9PydcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckZWxlbWVudCcsICckYXR0cnMnLCAnJHRpbWVvdXQnLCAnSTE4blNlcnZpY2UnLCAnJGludGVycG9sYXRlJywgJ3Byb2dyZXNzQmFyU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0LCBJMThuU2VydmljZSwgJGludGVycG9sYXRlLCBwcm9ncmVzc0JhclNlcnZpY2UpIHtcblxuICAgICAgICAvLyBDaGVja2luZyBmb3IgdHJpbSBmdW5jdGlvbiBzaW5jZSBJRTggZG9lc24ndCBoYXZlIGl0XG4gICAgICAgIC8vIElmIG5vdCBhIGZ1bmN0aW9uLCBjcmVhdGUgdGlybSB3aXRoIFJlZ0V4IHRvIG1pbWljIG5hdGl2ZSB0cmltXG4gICAgICAgIGlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50cmltICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvL2FuZ3VsYXIgMS4yIGRvZXNuJ3Qgc3VwcG9ydCBhdHRyaWJ1dGVzIGVuZGluZyBpbiBcIi1zdGFydFwiLCBzbyB3ZSdyZVxuICAgICAgICAvL3N1cHBvcnRpbmcgYm90aCBcImF1dG9zdGFydFwiIGFuZCBcImF1dG8tc3RhcnRcIiBhcyBhIHNvbHV0aW9uIGZvclxuICAgICAgICAvL2JhY2t3YXJkIGFuZCBmb3J3YXJkIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICRzY29wZS5hdXRvU3RhcnQgPSAkYXR0cnMuYXV0b1N0YXJ0IHx8ICRhdHRycy5hdXRvc3RhcnQ7XG5cblxuICAgICAgICAkc2NvcGUubGFuZ3VhZ2UgPSAkc2NvcGUubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgICAgICAgJHNjb3BlLmZhbGxiYWNrID0gJHNjb3BlLmZhbGxiYWNrIHx8ICdlbic7XG5cbiAgICAgICAgLy9hbGxvdyB0byBjaGFuZ2UgdGhlIGxhbmd1YWdlIG9mIHRoZSBkaXJlY3RpdmUgd2hpbGUgYWxyZWFkeSBsYXVuY2hlZFxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdsYW5ndWFnZScsIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgaWYobmV3VmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGkxOG5TZXJ2aWNlLmluaXQobmV3VmFsLCAkc2NvcGUuZmFsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9pbml0IG1vbWVudEpTIGkxOG4sIGRlZmF1bHQgZW5nbGlzaFxuICAgICAgICB2YXIgaTE4blNlcnZpY2UgPSBuZXcgSTE4blNlcnZpY2UoKTtcbiAgICAgICAgaTE4blNlcnZpY2UuaW5pdCgkc2NvcGUubGFuZ3VhZ2UsICRzY29wZS5mYWxsYmFjayk7XG5cbiAgICAgICAgLy9wcm9ncmVzcyBiYXJcbiAgICAgICAgJHNjb3BlLmRpc3BsYXlQcm9ncmVzc0JhciA9IDA7XG4gICAgICAgICRzY29wZS5kaXNwbGF5UHJvZ3Jlc3NBY3RpdmUgPSAnYWN0aXZlJzsgLy9Cb290c3RyYXAgYWN0aXZlIGVmZmVjdCBmb3IgcHJvZ3Jlc3MgYmFyXG5cbiAgICAgICAgaWYgKCRlbGVtZW50Lmh0bWwoKS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKCRjb21waWxlKCc8c3Bhbj4nICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyAnbWlsbGlzJyArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArICc8L3NwYW4+JykoJHNjb3BlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKCRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5lbmRUaW1lID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICRzY29wZS5jb3VudGRvd24gPSBhbmd1bGFyLmlzTnVtYmVyKCRzY29wZS5jb3VudGRvd25hdHRyKSAmJiBwYXJzZUludCgkc2NvcGUuY291bnRkb3duYXR0ciwgMTApID49IDAgPyBwYXJzZUludCgkc2NvcGUuY291bnRkb3duYXR0ciwgMTApIDogdW5kZWZpbmVkO1xuICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAgICAgJHNjb3BlLiRvbigndGltZXItc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXJlc3VtZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUucmVzdW1lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXN0b3AnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLnN0b3AoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiRvbigndGltZXItY2xlYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXJlc2V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRzY29wZS5yZXNldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCd0aW1lci1zZXQtY291bnRkb3duJywgZnVuY3Rpb24gKGUsIGNvdW50ZG93bikge1xuICAgICAgICAgICRzY29wZS5jb3VudGRvd24gPSBjb3VudGRvd247XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0VGltZW91dCgpIHtcbiAgICAgICAgICBpZiAoJHNjb3BlLnRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCRzY29wZS50aW1lb3V0SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3N0YXJ0VGltZUF0dHInLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmICRzY29wZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICRzY29wZS5zdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnZW5kVGltZUF0dHInLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmICRzY29wZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICRzY29wZS5zdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRzY29wZS5zdGFydFRpbWUgPSAkc2NvcGUuc3RhcnRUaW1lQXR0ciA/IG1vbWVudCgkc2NvcGUuc3RhcnRUaW1lQXR0cikgOiBtb21lbnQoKTtcbiAgICAgICAgICAkc2NvcGUuZW5kVGltZSA9ICRzY29wZS5lbmRUaW1lQXR0ciA/IG1vbWVudCgkc2NvcGUuZW5kVGltZUF0dHIpIDogbnVsbDtcbiAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLmNvdW50ZG93bikpIHtcbiAgICAgICAgICAgICRzY29wZS5jb3VudGRvd24gPSBhbmd1bGFyLmlzTnVtYmVyKCRzY29wZS5jb3VudGRvd25hdHRyKSAmJiBwYXJzZUludCgkc2NvcGUuY291bnRkb3duYXR0ciwgMTApID4gMCA/IHBhcnNlSW50KCRzY29wZS5jb3VudGRvd25hdHRyLCAxMCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc2V0VGltZW91dCgpO1xuICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3RpbWVyLXN0YXJ0ZWQnLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6ICRzY29wZS50aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50ZG93bmF0dHIpIHtcbiAgICAgICAgICAgICRzY29wZS5jb3VudGRvd24gKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLnN0YXJ0VGltZSA9IG1vbWVudCgpLmRpZmYoKG1vbWVudCgkc2NvcGUuc3RvcHBlZFRpbWUpLmRpZmYobW9tZW50KCRzY29wZS5zdGFydFRpbWUpKSkpO1xuICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3RpbWVyLXN0YXJ0ZWQnLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6ICRzY29wZS50aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0b3AgPSAkc2NvcGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHRpbWVvdXRJZCA9ICRzY29wZS50aW1lb3V0SWQ7XG4gICAgICAgICAgJHNjb3BlLmNsZWFyKCk7XG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCd0aW1lci1zdG9wcGVkJywge1xuICAgICAgICAgICAgdGltZW91dElkOiB0aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIHNhbWUgYXMgc3RvcCBidXQgd2l0aG91dCB0aGUgZXZlbnQgYmVpbmcgdHJpZ2dlcmVkXG4gICAgICAgICAgJHNjb3BlLnN0b3BwZWRUaW1lID0gbW9tZW50KCk7XG4gICAgICAgICAgcmVzZXRUaW1lb3V0KCk7XG4gICAgICAgICAgJHNjb3BlLnRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUuc3RhcnRUaW1lID0gJHNjb3BlLnN0YXJ0VGltZUF0dHIgPyBtb21lbnQoJHNjb3BlLnN0YXJ0VGltZUF0dHIpIDogbW9tZW50KCk7XG4gICAgICAgICAgJHNjb3BlLmVuZFRpbWUgPSAkc2NvcGUuZW5kVGltZUF0dHIgPyBtb21lbnQoJHNjb3BlLmVuZFRpbWVBdHRyKSA6IG51bGw7XG4gICAgICAgICAgJHNjb3BlLmNvdW50ZG93biA9IGFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLmNvdW50ZG93bmF0dHIpICYmIHBhcnNlSW50KCRzY29wZS5jb3VudGRvd25hdHRyLCAxMCkgPiAwID8gcGFyc2VJbnQoJHNjb3BlLmNvdW50ZG93bmF0dHIsIDEwKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgJHNjb3BlLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICRzY29wZS5jbGVhcigpO1xuICAgICAgICAgICRzY29wZS4kZW1pdCgndGltZXItcmVzZXQnLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6IHRpbWVvdXRJZCxcbiAgICAgICAgICAgIG1pbGxpczogJHNjb3BlLm1pbGxpcyxcbiAgICAgICAgICAgIHNlY29uZHM6ICRzY29wZS5zZWNvbmRzLFxuICAgICAgICAgICAgbWludXRlczogJHNjb3BlLm1pbnV0ZXMsXG4gICAgICAgICAgICBob3VyczogJHNjb3BlLmhvdXJzLFxuICAgICAgICAgICAgZGF5czogJHNjb3BlLmRheXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkZWxlbWVudC5iaW5kKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICAkc2NvcGUuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlVGltZVVuaXRzKCkge1xuICAgICAgICAgIHZhciB0aW1lVW5pdHMgPSB7fTsgLy93aWxsIGNvbnRhaW5zIHRpbWUgd2l0aCB1bml0c1xuXG4gICAgICAgICAgaWYgKCRhdHRycy5zdGFydFRpbWUgIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAkc2NvcGUubWlsbGlzID0gbW9tZW50KCkuZGlmZihtb21lbnQoJHNjb3BlLnN0YXJ0VGltZUF0dHIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lVW5pdHMgPSBpMThuU2VydmljZS5nZXRUaW1lVW5pdHMoJHNjb3BlLm1pbGxpcyk7XG5cbiAgICAgICAgICAvLyBjb21wdXRlIHRpbWUgdmFsdWVzIGJhc2VkIG9uIG1heFRpbWVVbml0IHNwZWNpZmljYXRpb25cbiAgICAgICAgICBpZiAoISRzY29wZS5tYXhUaW1lVW5pdCB8fCAkc2NvcGUubWF4VGltZVVuaXQgPT09ICdkYXknKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IE1hdGguZmxvb3IoKCRzY29wZS5taWxsaXMgLyAxMDAwKSAlIDYwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoNjAwMDApKSAlIDYwKSk7XG4gICAgICAgICAgICAkc2NvcGUuaG91cnMgPSBNYXRoLmZsb29yKCgoJHNjb3BlLm1pbGxpcyAvICgzNjAwMDAwKSkgJSAyNCkpO1xuICAgICAgICAgICAgJHNjb3BlLmRheXMgPSBNYXRoLmZsb29yKCgoJHNjb3BlLm1pbGxpcyAvICgzNjAwMDAwKSkgLyAyNCkpO1xuICAgICAgICAgICAgJHNjb3BlLm1vbnRocyA9IDA7XG4gICAgICAgICAgICAkc2NvcGUueWVhcnMgPSAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm1heFRpbWVVbml0ID09PSAnc2Vjb25kJykge1xuICAgICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBNYXRoLmZsb29yKCRzY29wZS5taWxsaXMgLyAxMDAwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5ob3VycyA9IDA7XG4gICAgICAgICAgICAkc2NvcGUuZGF5cyA9IDA7XG4gICAgICAgICAgICAkc2NvcGUubW9udGhzID0gMDtcbiAgICAgICAgICAgICRzY29wZS55ZWFycyA9IDA7XG4gICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUubWF4VGltZVVuaXQgPT09ICdtaW51dGUnKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IE1hdGguZmxvb3IoKCRzY29wZS5taWxsaXMgLyAxMDAwKSAlIDYwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gTWF0aC5mbG9vcigkc2NvcGUubWlsbGlzIC8gNjAwMDApO1xuICAgICAgICAgICAgJHNjb3BlLmhvdXJzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5tb250aHMgPSAwO1xuICAgICAgICAgICAgJHNjb3BlLnllYXJzID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5tYXhUaW1lVW5pdCA9PT0gJ2hvdXInKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IE1hdGguZmxvb3IoKCRzY29wZS5taWxsaXMgLyAxMDAwKSAlIDYwKTtcbiAgICAgICAgICAgICRzY29wZS5taW51dGVzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoNjAwMDApKSAlIDYwKSk7XG4gICAgICAgICAgICAkc2NvcGUuaG91cnMgPSBNYXRoLmZsb29yKCRzY29wZS5taWxsaXMgLyAzNjAwMDAwKTtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gMDtcbiAgICAgICAgICAgICRzY29wZS5tb250aHMgPSAwO1xuICAgICAgICAgICAgJHNjb3BlLnllYXJzID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5tYXhUaW1lVW5pdCA9PT0gJ21vbnRoJykge1xuICAgICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBNYXRoLmZsb29yKCgkc2NvcGUubWlsbGlzIC8gMTAwMCkgJSA2MCk7XG4gICAgICAgICAgICAkc2NvcGUubWludXRlcyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDYwMDAwKSkgJSA2MCkpO1xuICAgICAgICAgICAgJHNjb3BlLmhvdXJzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpICUgMjQpKTtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpIC8gMjQpICUgMzApO1xuICAgICAgICAgICAgJHNjb3BlLm1vbnRocyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDM2MDAwMDApKSAvIDI0KSAvIDMwKTtcbiAgICAgICAgICAgICRzY29wZS55ZWFycyA9IDA7XG4gICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUubWF4VGltZVVuaXQgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBNYXRoLmZsb29yKCgkc2NvcGUubWlsbGlzIC8gMTAwMCkgJSA2MCk7XG4gICAgICAgICAgICAkc2NvcGUubWludXRlcyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDYwMDAwKSkgJSA2MCkpO1xuICAgICAgICAgICAgJHNjb3BlLmhvdXJzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpICUgMjQpKTtcbiAgICAgICAgICAgICRzY29wZS5kYXlzID0gTWF0aC5mbG9vcigoKCRzY29wZS5taWxsaXMgLyAoMzYwMDAwMCkpIC8gMjQpICUgMzApO1xuICAgICAgICAgICAgJHNjb3BlLm1vbnRocyA9IE1hdGguZmxvb3IoKCgkc2NvcGUubWlsbGlzIC8gKDM2MDAwMDApKSAvIDI0IC8gMzApICUgMTIpO1xuICAgICAgICAgICAgJHNjb3BlLnllYXJzID0gTWF0aC5mbG9vcigoJHNjb3BlLm1pbGxpcyAvICgzNjAwMDAwKSkgLyAyNCAvIDM2NSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHBsdXJhbCAtIHNpbmd1bGFyIHVuaXQgZGVjaXNpb24gKG9sZCBzeW50YXgsIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhbmQgRW5nbGlzaCBvbmx5LCBjb3VsZCBiZSBkZXByZWNhdGVkISlcbiAgICAgICAgICAkc2NvcGUuc2Vjb25kc1MgPSAoJHNjb3BlLnNlY29uZHMgPT09IDEpID8gJycgOiAncyc7XG4gICAgICAgICAgJHNjb3BlLm1pbnV0ZXNTID0gKCRzY29wZS5taW51dGVzID09PSAxKSA/ICcnIDogJ3MnO1xuICAgICAgICAgICRzY29wZS5ob3Vyc1MgPSAoJHNjb3BlLmhvdXJzID09PSAxKSA/ICcnIDogJ3MnO1xuICAgICAgICAgICRzY29wZS5kYXlzUyA9ICgkc2NvcGUuZGF5cyA9PT0gMSk/ICcnIDogJ3MnO1xuICAgICAgICAgICRzY29wZS5tb250aHNTID0gKCRzY29wZS5tb250aHMgPT09IDEpPyAnJyA6ICdzJztcbiAgICAgICAgICAkc2NvcGUueWVhcnNTID0gKCRzY29wZS55ZWFycyA9PT0gMSk/ICcnIDogJ3MnO1xuXG5cbiAgICAgICAgICAvLyBuZXcgcGx1cmFsLXNpbmd1bGFyIHVuaXQgZGVjaXNpb24gZnVuY3Rpb25zIChmb3IgY3VzdG9tIHVuaXRzIGFuZCBtdWx0aWxpbmd1YWwgc3VwcG9ydClcbiAgICAgICAgICAkc2NvcGUuc2Vjb25kVW5pdCA9IHRpbWVVbml0cy5zZWNvbmRzO1xuICAgICAgICAgICRzY29wZS5taW51dGVVbml0ID0gdGltZVVuaXRzLm1pbnV0ZXM7XG4gICAgICAgICAgJHNjb3BlLmhvdXJVbml0ID0gdGltZVVuaXRzLmhvdXJzO1xuICAgICAgICAgICRzY29wZS5kYXlVbml0ID0gdGltZVVuaXRzLmRheXM7XG4gICAgICAgICAgJHNjb3BlLm1vbnRoVW5pdCA9IHRpbWVVbml0cy5tb250aHM7XG4gICAgICAgICAgJHNjb3BlLnllYXJVbml0ID0gdGltZVVuaXRzLnllYXJzO1xuXG4gICAgICAgICAgLy9hZGQgbGVhZGluZyB6ZXJvIGlmIG51bWJlciBpcyBzbWFsbGVyIHRoYW4gMTBcbiAgICAgICAgICAkc2NvcGUuc3NlY29uZHMgPSAkc2NvcGUuc2Vjb25kcyA8IDEwID8gJzAnICsgJHNjb3BlLnNlY29uZHMgOiAkc2NvcGUuc2Vjb25kcztcbiAgICAgICAgICAkc2NvcGUubW1pbnV0ZXMgPSAkc2NvcGUubWludXRlcyA8IDEwID8gJzAnICsgJHNjb3BlLm1pbnV0ZXMgOiAkc2NvcGUubWludXRlcztcbiAgICAgICAgICAkc2NvcGUuaGhvdXJzID0gJHNjb3BlLmhvdXJzIDwgMTAgPyAnMCcgKyAkc2NvcGUuaG91cnMgOiAkc2NvcGUuaG91cnM7XG4gICAgICAgICAgJHNjb3BlLmRkYXlzID0gJHNjb3BlLmRheXMgPCAxMCA/ICcwJyArICRzY29wZS5kYXlzIDogJHNjb3BlLmRheXM7XG4gICAgICAgICAgJHNjb3BlLm1tb250aHMgPSAkc2NvcGUubW9udGhzIDwgMTAgPyAnMCcgKyAkc2NvcGUubW9udGhzIDogJHNjb3BlLm1vbnRocztcbiAgICAgICAgICAkc2NvcGUueXllYXJzID0gJHNjb3BlLnllYXJzIDwgMTAgPyAnMCcgKyAkc2NvcGUueWVhcnMgOiAkc2NvcGUueWVhcnM7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZGV0ZXJtaW5lIGluaXRpYWwgdmFsdWVzIG9mIHRpbWUgdW5pdHMgYW5kIGFkZCBBZGRTZWNvbmRzIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgaWYgKCRzY29wZS5jb3VudGRvd25hdHRyKSB7XG4gICAgICAgICAgJHNjb3BlLm1pbGxpcyA9ICRzY29wZS5jb3VudGRvd25hdHRyICogMTAwMDtcblxuICAgICAgICAgICRzY29wZS5hZGRDRFNlY29uZHMgPSBmdW5jdGlvbiAoZXh0cmFTZWNvbmRzKSB7XG4gICAgICAgICAgICAkc2NvcGUuY291bnRkb3duICs9IGV4dHJhU2Vjb25kcztcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmlzUnVubmluZykge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLiRvbigndGltZXItYWRkLWNkLXNlY29uZHMnLCBmdW5jdGlvbiAoZSwgZXh0cmFTZWNvbmRzKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFkZENEU2Vjb25kcyhleHRyYVNlY29uZHMpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHNjb3BlLiRvbigndGltZXItc2V0LWNvdW50ZG93bi1zZWNvbmRzJywgZnVuY3Rpb24gKGUsIGNvdW50ZG93blNlY29uZHMpIHtcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmlzUnVubmluZykge1xuICAgICAgICAgICAgICAkc2NvcGUuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmNvdW50ZG93biA9IGNvdW50ZG93blNlY29uZHM7XG4gICAgICAgICAgICAkc2NvcGUubWlsbGlzID0gY291bnRkb3duU2Vjb25kcyAqIDEwMDA7XG4gICAgICAgICAgICBjYWxjdWxhdGVUaW1lVW5pdHMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUubWlsbGlzID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYWxjdWxhdGVUaW1lVW5pdHMoKTtcblxuICAgICAgICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgICAgdmFyIHR5cGVUaW1lciA9IG51bGw7IC8vIGNvdW50ZG93biBvciBlbmRUaW1lQXR0clxuICAgICAgICAgICRzY29wZS5taWxsaXMgPSBtb21lbnQoKS5kaWZmKCRzY29wZS5zdGFydFRpbWUpO1xuICAgICAgICAgIHZhciBhZGp1c3RtZW50ID0gJHNjb3BlLm1pbGxpcyAlIDEwMDA7XG5cbiAgICAgICAgICBpZiAoJHNjb3BlLmVuZFRpbWVBdHRyKSB7XG4gICAgICAgICAgICB0eXBlVGltZXIgPSAkc2NvcGUuZW5kVGltZUF0dHI7XG4gICAgICAgICAgICAkc2NvcGUubWlsbGlzID0gbW9tZW50KCRzY29wZS5lbmRUaW1lKS5kaWZmKG1vbWVudCgpKTtcbiAgICAgICAgICAgIGFkanVzdG1lbnQgPSAkc2NvcGUuaW50ZXJ2YWwgLSAkc2NvcGUubWlsbGlzICUgMTAwMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50ZG93bmF0dHIpIHtcbiAgICAgICAgICAgIHR5cGVUaW1lciA9ICRzY29wZS5jb3VudGRvd25hdHRyO1xuICAgICAgICAgICAgJHNjb3BlLm1pbGxpcyA9ICRzY29wZS5jb3VudGRvd24gKiAxMDAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkc2NvcGUubWlsbGlzIDwgMCkge1xuICAgICAgICAgICAgJHNjb3BlLnN0b3AoKTtcbiAgICAgICAgICAgICRzY29wZS5taWxsaXMgPSAwO1xuICAgICAgICAgICAgY2FsY3VsYXRlVGltZVVuaXRzKCk7XG4gICAgICAgICAgICBpZigkc2NvcGUuZmluaXNoQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgJHNjb3BlLiRldmFsKCRzY29wZS5maW5pc2hDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGN1bGF0ZVRpbWVVbml0cygpO1xuXG4gICAgICAgICAgLy9XZSBhcmUgbm90IHVzaW5nICR0aW1lb3V0IGZvciBhIHJlYXNvbi4gUGxlYXNlIHJlYWQgaGVyZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zaWRkaWkvYW5ndWxhci10aW1lci9wdWxsLzVcbiAgICAgICAgICAkc2NvcGUudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgLy8gc2luY2UgeW91IGNob29zZSBub3QgdG8gdXNlICR0aW1lb3V0LCBhdCBsZWFzdCBwcmVzZXJ2ZSBhbmd1bGFyIGN5Y2xlIHR3byB3YXkgZGF0YSBiaW5kaW5nXG4gICAgICAgICAgICAgIC8vIGJ5IGNhbGxpbmcgJHNjb3BlLiRhcHBseSgpIGluc3RlYWQgb2YgJHNjb3BlLiRkaWdlc3QoKVxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgfSwgJHNjb3BlLmludGVydmFsIC0gYWRqdXN0bWVudCk7XG5cbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3RpbWVyLXRpY2snLCB7XG4gICAgICAgICAgICB0aW1lb3V0SWQ6ICRzY29wZS50aW1lb3V0SWQsXG4gICAgICAgICAgICBtaWxsaXM6ICRzY29wZS5taWxsaXMsXG4gICAgICAgICAgICBzZWNvbmRzOiAkc2NvcGUuc2Vjb25kcyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICRzY29wZS5taW51dGVzLFxuICAgICAgICAgICAgaG91cnM6ICRzY29wZS5ob3VycyxcbiAgICAgICAgICAgIGRheXM6ICRzY29wZS5kYXlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50ZG93biA+IDApIHtcbiAgICAgICAgICAgICRzY29wZS5jb3VudGRvd24tLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoJHNjb3BlLmNvdW50ZG93biA8PSAwKSB7XG4gICAgICAgICAgICAkc2NvcGUuc3RvcCgpO1xuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICRzY29wZS4kZXZhbCgkc2NvcGUuZmluaXNoQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKHR5cGVUaW1lciAhPT0gbnVsbCl7XG4gICAgICAgICAgICAvL2NhbGN1bGF0ZSBwcm9ncmVzcyBiYXJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzc0JhciA9IHByb2dyZXNzQmFyU2VydmljZS5jYWxjdWxhdGVQcm9ncmVzc0Jhcigkc2NvcGUuc3RhcnRUaW1lLCAkc2NvcGUubWlsbGlzLCAkc2NvcGUuZW5kVGltZSwgJHNjb3BlLmNvdW50ZG93bmF0dHIpO1xuXG4gICAgICAgICAgICBpZigkc2NvcGUucHJvZ3Jlc3NCYXIgPT09IDEwMCl7XG4gICAgICAgICAgICAgICRzY29wZS5kaXNwbGF5UHJvZ3Jlc3NBY3RpdmUgPSAnJzsgLy9ObyBtb3JlIEJvb3RzdHJhcCBhY3RpdmUgZWZmZWN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkc2NvcGUuYXV0b1N0YXJ0ID09PSB1bmRlZmluZWQgfHwgJHNjb3BlLmF1dG9TdGFydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICRzY29wZS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9XVxuICAgIH07XG4gIH1dKVxuICAuZGlyZWN0aXZlKCd0aW1lckNvbnRyb2xzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHRydWUsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudGltZXJTdGF0dXMgPSBcInJlc2V0XCI7XG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXN0YXJ0ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUudGltZXJTdGF0dXMgPSBcInN0YXJ0ZWRcIjtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXN0b3BwZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUudGltZXJTdGF0dXMgPSBcInN0b3BwZWRcIjtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS4kb24oJ3RpbWVyLXJlc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLnRpbWVyU3RhdHVzID0gXCJyZXNldFwiO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnRpbWVyU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndGltZXItc3RhcnQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnRpbWVyU3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1zdG9wJyk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS50aW1lclJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1yZXN1bWUnKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnRpbWVyVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoICgkc2NvcGUudGltZXJTdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydGVkXCI6XG4gICAgICAgICAgICAgICRzY29wZS50aW1lclN0b3AoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICAgICAgICAkc2NvcGUudGltZXJSZXN1bWUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgICAgICAgJHNjb3BlLnRpbWVyU3RhcnQoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudGltZXJBZGRDRFNlY29uZHMgPSBmdW5jdGlvbihleHRyYVNlY29uZHMpIHtcbiAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndGltZXItYWRkLWNkLXNlY29uZHMnLCBleHRyYVNlY29uZHMpO1xuICAgICAgICB9O1xuICAgICAgfV1cbiAgICB9O1xuICB9KTtcblxuLyogY29tbW9uanMgcGFja2FnZSBtYW5hZ2VyIHN1cHBvcnQgKGVnIGNvbXBvbmVudGpzKSAqL1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpe1xuICBtb2R1bGUuZXhwb3J0cyA9IHRpbWVyTW9kdWxlO1xufVxuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3RpbWVyJyk7XG5cbmFwcC5mYWN0b3J5KCdJMThuU2VydmljZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIEkxOG5TZXJ2aWNlID0gZnVuY3Rpb24oKSB7fTtcblxuICAgIEkxOG5TZXJ2aWNlLnByb3RvdHlwZS5sYW5ndWFnZSA9ICdlbic7XG4gICAgSTE4blNlcnZpY2UucHJvdG90eXBlLmZhbGxiYWNrID0gJ2VuJztcbiAgICBJMThuU2VydmljZS5wcm90b3R5cGUudGltZUh1bWFuaXplciA9IHt9O1xuXG4gICAgSTE4blNlcnZpY2UucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiBpbml0KGxhbmcsIGZhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdXBwb3J0ZWRfbGFuZ3VhZ2VzID0gaHVtYW5pemVEdXJhdGlvbi5nZXRTdXBwb3J0ZWRMYW5ndWFnZXMoKTtcblxuICAgICAgICB0aGlzLmZhbGxiYWNrID0gKGZhbGxiYWNrICE9PSB1bmRlZmluZWQpID8gZmFsbGJhY2sgOiAnZW4nO1xuICAgICAgICBpZiAoc3VwcG9ydGVkX2xhbmd1YWdlcy5pbmRleE9mKGZhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZmFsbGJhY2sgPSAnZW4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmc7XG4gICAgICAgIGlmIChzdXBwb3J0ZWRfbGFuZ3VhZ2VzLmluZGV4T2YobGFuZykgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5mYWxsYmFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSBoYW5kbGUgYnkgdGhlIHVzZXIncyBhcHBsaWNhdGlvbiBpdHNlbGYsIGFuZCBub3QgaW5zaWRlIHRoZSBkaXJlY3RpdmVcbiAgICAgICAgLy8gbW9tZW50IGluaXRcbiAgICAgICAgLy8gbW9tZW50LmxvY2FsZSh0aGlzLmxhbmd1YWdlKTtcblxuICAgICAgICAvL2h1bWFuIGR1cmF0aW9uIGluaXQsIHVzaW5nIGl0IGJlY2F1c2UgbW9tZW50anMgZG9lcyBub3QgYWxsb3cgYWNjdXJhdGUgdGltZSAoXG4gICAgICAgIC8vIG1vbWVudEpTOiBhIGZldyBtb21lbnQgYWdvLCBodW1hbiBkdXJhdGlvbiA6IDQgc2Vjb25kcyBhZ29cbiAgICAgICAgdGhpcy50aW1lSHVtYW5pemVyID0gaHVtYW5pemVEdXJhdGlvbi5odW1hbml6ZXIoe1xuICAgICAgICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2UsXG4gICAgICAgICAgICBoYWxmVW5pdDpmYWxzZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZ2V0IHRpbWUgd2l0aCB1bml0cyBmcm9tIG1vbWVudEpTIGkxOG5cbiAgICAgKiBAcGFyYW0ge2ludH0gbWlsbGlzXG4gICAgICogQHJldHVybnMge3ttaWxsaXM6IHN0cmluZywgc2Vjb25kczogc3RyaW5nLCBtaW51dGVzOiBzdHJpbmcsIGhvdXJzOiBzdHJpbmcsIGRheXM6IHN0cmluZywgbW9udGhzOiBzdHJpbmcsIHllYXJzOiBzdHJpbmd9fVxuICAgICAqL1xuICAgIEkxOG5TZXJ2aWNlLnByb3RvdHlwZS5nZXRUaW1lVW5pdHMgPSBmdW5jdGlvbiBnZXRUaW1lVW5pdHMobWlsbGlzKSB7XG4gICAgICAgIHZhciBkaWZmRnJvbUFsYXJtID0gTWF0aC5yb3VuZChtaWxsaXMvMTAwMCkgKiAxMDAwOyAvL3RpbWUgaW4gbWlsbGlzZWNvbmRzLCBnZXQgcmlkIG9mIHRoZSBsYXN0IDMgbXMgdmFsdWUgdG8gYXZvaWQgMi4xMiBzZWNvbmRzIGRpc3BsYXlcblxuICAgICAgICB2YXIgdGltZSA9IHt9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aW1lSHVtYW5pemVyICE9ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgIHRpbWUgPSB7XG4gICAgICAgICAgICAgICAgJ21pbGxpcycgOiB0aGlzLnRpbWVIdW1hbml6ZXIoZGlmZkZyb21BbGFybSwgeyB1bml0czogW1wibXNcIl0gfSksXG4gICAgICAgICAgICAgICAgJ3NlY29uZHMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcInNcIl0gfSksXG4gICAgICAgICAgICAgICAgJ21pbnV0ZXMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcIm1cIiwgXCJzXCJdIH0pICxcbiAgICAgICAgICAgICAgICAnaG91cnMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcImhcIiwgXCJtXCIsIFwic1wiXSB9KSAsXG4gICAgICAgICAgICAgICAgJ2RheXMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcImRcIiwgXCJoXCIsIFwibVwiLCBcInNcIl0gfSkgLFxuICAgICAgICAgICAgICAgICdtb250aHMnIDogdGhpcy50aW1lSHVtYW5pemVyKGRpZmZGcm9tQWxhcm0sIHsgdW5pdHM6IFtcIm1vXCIsIFwiZFwiLCBcImhcIiwgXCJtXCIsIFwic1wiXSB9KSAsXG4gICAgICAgICAgICAgICAgJ3llYXJzJyA6IHRoaXMudGltZUh1bWFuaXplcihkaWZmRnJvbUFsYXJtLCB7IHVuaXRzOiBbXCJ5XCIsIFwibW9cIiwgXCJkXCIsIFwiaFwiLCBcIm1cIiwgXCJzXCJdIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignaTE4blNlcnZpY2UgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLiBZb3UgbXVzdCBjYWxsIGkxOG5TZXJ2aWNlLmluaXQoXCJlblwiKSBmb3IgZXhhbXBsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfTtcblxuICAgIHJldHVybiBJMThuU2VydmljZTtcbn0pO1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3RpbWVyJyk7XG5cbmFwcC5mYWN0b3J5KCdwcm9ncmVzc0JhclNlcnZpY2UnLCBmdW5jdGlvbigpIHtcblxuICB2YXIgUHJvZ3Jlc3NCYXJTZXJ2aWNlID0gZnVuY3Rpb24oKSB7fTtcblxuICAvKipcbiAgICogY2FsY3VsYXRlIHRoZSByZW1haW5pbmcgdGltZSBpbiBhIHByb2dyZXNzIGJhciBpbiBwZXJjZW50YWdlXG4gICAqIEBwYXJhbSB7bW9tZW50anN9IHN0YXJ0VmFsdWUgaW4gc2Vjb25kc1xuICAgKiBAcGFyYW0ge2ludGVnZXJ9IGN1cnJlbnRDb3VudGRvd24sIHdoZXJlIGFyZSB3ZSBpbiB0aGUgY291bnRkb3duXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gcmVtYWluaW5nVGltZSwgcmVtYWluaW5nIG1pbGxpc2Vjb25kc1xuICAgKiBAcGFyYW0ge2ludGVnZXJ9IGVuZFRpbWUsIGVuZCB0aW1lLCBjYW4gYmUgdW5kZWZpbmVkXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gY291dGRvd24sIG9yaWdpbmFsIGNvdXRkb3duIHZhbHVlLCBjYW4gYmUgdW5kZWZpbmVkXG4gICAqXG4gICAqIGpva2UgOiBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWdFTlZCNnRqcV9NXG4gICAqIEByZXR1cm4ge2Zsb2F0fSAwIC0tPiAxMDBcbiAgICovXG4gIFByb2dyZXNzQmFyU2VydmljZS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiBjYWxjdWxhdGVQcm9ncmVzc0JhcihzdGFydFZhbHVlLCByZW1haW5pbmdUaW1lLCBlbmRUaW1lQXR0ciwgY291dGRvd24pIHtcbiAgICB2YXIgZGlzcGxheVByb2dyZXNzQmFyID0gMCxcbiAgICAgIGVuZFRpbWVWYWx1ZSxcbiAgICAgIGluaXRpYWxDb3VudGRvd247XG5cbiAgICByZW1haW5pbmdUaW1lID0gcmVtYWluaW5nVGltZSAvIDEwMDA7IC8vc2Vjb25kc1xuXG5cbiAgICBpZihlbmRUaW1lQXR0ciAhPT0gbnVsbCl7XG4gICAgICBlbmRUaW1lVmFsdWUgPSBtb21lbnQoZW5kVGltZUF0dHIpO1xuICAgICAgaW5pdGlhbENvdW50ZG93biA9IGVuZFRpbWVWYWx1ZS5kaWZmKHN0YXJ0VmFsdWUsICdzZWNvbmRzJyk7XG4gICAgICBkaXNwbGF5UHJvZ3Jlc3NCYXIgPSByZW1haW5pbmdUaW1lICogMTAwIC8gaW5pdGlhbENvdW50ZG93bjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkaXNwbGF5UHJvZ3Jlc3NCYXIgPSByZW1haW5pbmdUaW1lICogMTAwIC8gY291dGRvd247XG4gICAgfVxuXG4gICAgZGlzcGxheVByb2dyZXNzQmFyID0gMTAwIC0gZGlzcGxheVByb2dyZXNzQmFyOyAvL1RvIGhhdmUgMCB0byAxMDAgYW5kIG5vdCAxMDAgdG8gMFxuICAgIGRpc3BsYXlQcm9ncmVzc0JhciA9IE1hdGgucm91bmQoZGlzcGxheVByb2dyZXNzQmFyICogMTApIC8gMTA7IC8vbGVhcm4gbW9yZSB3aHkgOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU4ODAwNC9pcy1mbG9hdGluZy1wb2ludC1tYXRoLWJyb2tlblxuXG4gICAgaWYoZGlzcGxheVByb2dyZXNzQmFyID4gMTAwKXsgLy9zZWN1cml0eVxuICAgICAgZGlzcGxheVByb2dyZXNzQmFyID0gMTAwO1xuICAgIH1cblxuICAgIHJldHVybiBkaXNwbGF5UHJvZ3Jlc3NCYXI7XG4gIH07XG5cbiAgcmV0dXJuIG5ldyBQcm9ncmVzc0JhclNlcnZpY2UoKTtcbn0pO1xuIl19
