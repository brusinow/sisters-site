"use strict";angular.module("angular-parallax",[]).directive("parallax",["$window",function(t){return{restrict:"A",scope:{parallaxRatio:"@",parallaxVerticalOffset:"@",parallaxHorizontalOffset:"@"},link:function(e,r,n){var a=function(){e.parallaxHorizontalOffset||(e.parallaxHorizontalOffset="0");var n=t.pageYOffset*(e.parallaxRatio?e.parallaxRatio:1.1);if(n<=t.innerHeight){var a=n<e.parallaxVerticalOffset?e.parallaxVerticalOffset:n,i=e.parallaxHorizontalOffset.indexOf("%")===-1?e.parallaxHorizontalOffset+"px":e.parallaxHorizontalOffset;r.css("transform","translate("+i+", "+a+"px)")}};a(),angular.element(t).bind("scroll",a),angular.element(t).bind("touchmove",a)}}}]).directive("parallaxBackground",["$window",function(t){return{restrict:"A",transclude:!0,template:"<div ng-transclude></div>",scope:{parallaxRatio:"@",parallaxVerticalOffset:"@",parallaxStartPoint:"@"},link:function(e,r,n){var a=function(){var n=e.parallaxVerticalOffset/100*r[0].offsetHeight,a=(r.prop("offsetTop")-t.pageYOffset)*(e.parallaxRatio?e.parallaxRatio:1.1)-(n||0);a>=e.parallaxStartPoint&&(a=e.parallaxStartPoint),r.css("background-position","50% "+a+"px")};angular.element(t).bind("load",function(t){a(),e.$apply()}),angular.element(t).bind("scroll",a),angular.element(t).bind("touchmove",a)}}}]),angular.module("ngCart",["ngCart.directives"]).config([function(){}]).provider("$ngCart",function(){this.$get=function(){}}).run(["$rootScope","ngCart","ngCartItem","store",function(t,e,r,n){t.$on("ngCart:change",function(){e.$save()}),angular.isObject(n.get("cart"))?e.$restore(n.get("cart")):e.init()}]).service("ngCart",["$rootScope","$http","$location","$state","$window","ngCartItem","store",function(t,e,r,n,a,i,o){var s;this.init=function(){this.$cart={shipping:null,taxRate:null,tax:null,items:[]}},this.addItem=function(r,n,a,o,l,u,c){var p=this,f=6e4,d=this.getItemBySku(n);if("object"==typeof d){var g,h=d.getQuantity();if("ticket"===d._data.product_type){g=l-h;var u={ticketId:d.parent,ticketCount:g};e.post("/store/changeSessionTicket",u).then(function(){console.log("success"),clearTimeout(s),t.$broadcast("setTimer",!0),console.log("should be restarting timer"),s=setTimeout(function(){p.removeTickets(),t.$broadcast("setTimer",!1)},f),d.setQuantity(l,!1),t.$broadcast("ngCart:itemUpdated",d)},function(e){console.log(e),t.$broadcast("lowCount",{bool:!0,originalVal:h})})}else d.setQuantity(l,!1),t.$broadcast("ngCart:itemUpdated",d)}else{var m=new i(r,n,a,o,l,u,c);if("ticket"===m._data.product_type){console.log("A ticket was added! ",m);var u={ticketId:m.parent,ticketCount:m.quantity};e.post("/store/addSessionTicket",u).then(function(){t.$broadcast("setTimer",!0),s=setTimeout(function(){p.removeTickets(),t.$broadcast("setTimer",!1)},f)},function(t){console.log(t)})}this.$cart.items.push(m),t.$broadcast("ngCart:itemAdded",m)}t.$broadcast("ngCart:change",{})},this.addItemBtn=function(e,n,a,o,s,l){var u=0,c=JSON.parse(n);for(var p in c)console.log("prop: ",c[p]),u++;if(console.log("count is : ",u),u<2){var f=this.getItemBySku(n);if("object"==typeof f)f.setQuantity(s,!1),t.$broadcast("ngCart:itemUpdated",f);else{var d=new i(e,n,a,o,s,l);this.$cart.items.push(d),t.$broadcast("ngCart:itemAdded",d)}t.$broadcast("ngCart:change",{})}else r.url("/store/"+e)},this.changeQuantity=function(e,r){var n=this.getItemBySku(e);"object"==typeof n?(n.setQuantity(r,!0),t.$broadcast("ngCart:itemUpdated",n)):console.log("nothing there"),t.$broadcast("ngCart:change",{})},this.getItemById=function(t){var e=this.getCart().items,r=!1;return angular.forEach(e,function(e){e.getId()===t&&(r=e)}),r},this.getItemBySku=function(t){var e=this.getCart().items,r=!1;return angular.forEach(e,function(e){e.getSku()===t&&(r=e)}),r},this.setShipping=function(e){return this.$cart.shipping=e,t.$broadcast("ngCart:change",{}),this.getShipping()},this.getShipping=function(){return 0==this.getCart().items.length?0:this.getCart().shipping},this.setTaxRate=function(e){return this.$cart.taxRate=+parseFloat(e).toFixed(2),t.$broadcast("ngCart:change",{}),this.getTaxRate()},this.getTaxRate=function(){return this.$cart.taxRate},this.getTax=function(){return Math.round(this.getSubTotal()/100*this.getCart().taxRate)},this.setCart=function(t){return this.$cart=t,this.getCart()},this.getCart=function(){return this.$cart},this.getItems=function(){return this.getCart().items},this.getTotalItems=function(){var t=0,e=this.getItems();return angular.forEach(e,function(e){t+=e.getQuantity()}),t},this.getTotalUniqueItems=function(){return this.getCart().items.length},this.getCartTotal=function(){var t=0;return angular.forEach(this.getCart().items,function(e){t+=e.getTotal()}),parseFloat(t)},this.getSubTotal=function(){var t=0;angular.forEach(this.getCart().items,function(e){t+=e.getTotal()});var e=this.getShipping()||0;return t+=e,parseFloat(t)},this.removeTickets=function(){var t=this;angular.forEach(this.getCart().items,function(e,r){"ticket"===e._data.product_type&&t.removeItem(r)})},this.totalCost=function(){return+parseInt(this.getCartTotal()+this.getShipping()+this.getTax())},this.removeItem=function(e){var r=this.$cart.items.splice(e,1)[0]||{};t.$broadcast("ngCart:itemRemoved",r),t.$broadcast("ngCart:change",{})},this.removeItemById=function(e){var r,n=this.getCart();angular.forEach(n.items,function(t,r){t.getId()===e&&(t=n.items.splice(r,1)[0]||{})}),this.setCart(n),t.$broadcast("ngCart:itemRemoved",r),t.$broadcast("ngCart:change",{})},this.empty=function(){t.$broadcast("ngCart:change",{}),this.$cart.items=[],a.localStorage.removeItem("cart")},this.isEmpty=function(){return!(this.$cart.items.length>0)},this.toObject=function(){if(0===this.getItems().length)return!1;var t=[];return angular.forEach(this.getItems(),function(e){t.push(e.toObject())}),{shipping:this.getShipping(),tax:this.getTax(),taxRate:this.getTaxRate(),subTotal:this.getSubTotal(),totalCost:this.totalCost(),items:t}},this.$restore=function(t){var e=this;e.init(),e.$cart.shipping=t.shipping,e.$cart.taxRate=t.taxRate,e.$cart.tax=t.tax,angular.forEach(t.items,function(t){console.log("item: ",t),e.$cart.items.push(new i(t.parent,t.sku,t.description,t.amount,t.quantity,t._data,t.attr))}),this.$save()},this.$save=function(){return o.set("cart",angular.toJson(this.getCart()))}}]).factory("ngCartItem",["$rootScope","$log",function(t,e){var r=function(t,e,r,n,a,i,o){console.log("what is id? ",t),console.log("what is data? ",i),this.setId(t),this.setSku(e),this.setName(r),this.setPrice(n),this.setQuantity(a),this.setData(i),this.setAttr(o||i.attr)};return r.prototype.setId=function(t){t?this.parent=t:e.error("An ID must be provided")},r.prototype.setSku=function(t){t?this.sku=t:e.error("A sku must be provided")},r.prototype.getId=function(){return this.parent},r.prototype.getSku=function(){return this.sku},r.prototype.setName=function(t){t?this.description=t:e.error("A name must be provided")},r.prototype.getName=function(){return this.description},r.prototype.setPrice=function(t){var r=parseFloat(t);r?r<=0?e.error("A price must be over 0"):this.amount=r:e.error("A price must be provided")},r.prototype.getPrice=function(){return this.amount},r.prototype.setQuantity=function(t,r){var n=parseInt(t);n%1===0?(r===!0?this.quantity+=n:this.quantity=n,this.quantity<1&&(this.quantity=1)):(this.quantity=1,e.info("Quantity must be an integer and was defaulted to 1"))},r.prototype.getQuantity=function(){return this.quantity},r.prototype.setData=function(t){console.log("setting data"),t&&(this._data=t)},r.prototype.getData=function(){return this._data?this._data:void e.info("This item has no data")},r.prototype.setAttr=function(t){t&&(this.attr=t)},r.prototype.getAttr=function(){return!!this.attr&&this.attr},r.prototype.getTotal=function(){return+parseFloat(this.getQuantity()*this.getPrice()).toFixed(2)},r.prototype.toObject=function(){return{id:this.getId(),name:this.getName(),price:this.getPrice(),quantity:this.getQuantity(),data:this.getData(),total:this.getTotal()}},r}]).service("store",["$window",function(t){return{get:function(e){if(t.localStorage.getItem(e)){var r=angular.fromJson(t.localStorage.getItem(e));return JSON.parse(r)}return!1},set:function(e,r){return void 0===r?t.localStorage.removeItem(e):t.localStorage.setItem(e,angular.toJson(r)),t.localStorage.getItem(e)}}}]).controller("CartController",["$scope","$rootScope","ngCart","$timeout",function(t,e,r,n){t.loaded=!1,t.toggleCart=!1,t.ngCart=r,n(function(){t.loaded=!0});var a=r.getItems();console.log("items before filtering shippable: ",a);var i=[];angular.forEach(a,function(t){t._data.shippable===!0&&i.push(t)}),i.length>0?(console.log("should be set shippable!!!!"),t.shipBool=!0,t.$emit("setShippable",!0)):(console.log("should not be shippable!!!!"),t.shipBool=!1,t.$emit("setShippable",!1))}]).controller("CartBtnController",["$scope","ngCart","$timeout",function(t,e,r){t.loaded=!1,t.toggleCart=!1,t.ngCart=e,r(function(){t.loaded=!0})}]).value("version","1.0.0"),angular.module("ngCart.directives",["ngCart.fulfilment"]).controller("CartController",["$scope","ngCart",function(t,e){t.ngCart=e}]).directive("ngcartAddBtn",["ngCart",function(t){return{restrict:"E",controller:"CartBtnController",scope:{id:"@",sku:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/addtocartBtn.html":e.templateUrl},link:function(e,r,n){e.attrs=n,e.inCart=function(){return t.getItemBySku(n.sku)},e.inCart()?e.q=t.getItemBySku(n.sku).getQuantity():e.q=parseInt(e.quantity),e.qtyOpt=[];for(var a=1;a<=e.quantityMax;a++)e.qtyOpt.push(a)}}}]).directive("ngcartAddtocart",["ngCart",function(t){return{restrict:"E",controller:"CartController",scope:{id:"@",sku:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/addtocart.html":e.templateUrl},link:function(e,r,n){e.attrs=n,e.inCart=function(){return t.getItemBySku(n.sku)},e.inCart()?e.q=t.getItemBySku(n.sku).getQuantity():e.q=parseInt(e.quantity),e.qtyOpt=[];for(var a=1;a<=e.quantityMax;a++)e.qtyOpt.push(a)}}}]).directive("ngcartAddtocartProduct",["ngCart",function(t){return{restrict:"E",controller:"CartController",scope:{id:"@",sku:"@",name:"@",attr:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/addtocartProduct.html":e.templateUrl},link:function(e,r,n){e.attrs=n,e.inCart=function(){return t.getItemBySku(n.sku)},e.inCart()?e.q=t.getItemBySku(n.sku).getQuantity():e.q=parseInt(e.quantity),e.updateQ=function(t){console.log("count should be: ",t),e.qtyOpt=[];for(var r=1;r<=t;r++)e.qtyOpt.push(r)},e.updateQ(e.quantityMax),e.$on("changeQ",function(t,r){console.log("data in $on? ",r),console.log("updating in directive!"),e.updateQ(r.count)})}}}]).directive("ngcartCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/cart.html":e.templateUrl},link:function(t,e,r){}}}]).directive("ngcartSummary",[function(){return{restrict:"E",controller:"CartController",scope:{},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/summary.html":e.templateUrl}}}]).directive("ngcartCartConfirm",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/cart-confirm.html":e.templateUrl},link:function(t,e,r){}}}]).directive("ngcartSmallCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/small-cart.html":e.templateUrl},link:function(t,e,r){}}}]).directive("ngcartSmallCartCollapse",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"views/ngCart/small-cart-collapse.html":e.templateUrl},link:function(t,e,r){}}}]).directive("ngcartCheckout",[function(){return{restrict:"E",controller:["$rootScope","$scope","ngCart","fulfilmentProvider",function(t,e,r,n){e.ngCart=r,e.checkout=function(){n.setService(e.service),n.setSettings(e.settings),n.checkout().success(function(e,r,n,a){t.$broadcast("ngCart:checkout_succeeded",e)}).error(function(e,r,n,a){t.$broadcast("ngCart:checkout_failed",{statusCode:r,error:e})})}}],scope:{service:"@",settings:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"template/ngCart/checkout.html":e.templateUrl}}}]),angular.module("ngCart.fulfilment",[]).service("fulfilmentProvider",["$injector",function(t){this._obj={service:void 0,settings:void 0},this.setService=function(t){this._obj.service=t},this.setSettings=function(t){this._obj.settings=t},this.checkout=function(){var e=t.get("ngCart.fulfilment."+this._obj.service);return e.checkout(this._obj.settings)}}]).service("ngCart.fulfilment.log",["$q","$log","ngCart",function(t,e,r){this.checkout=function(){var n=t.defer();return e.info(r.toObject()),n.resolve({cart:r.toObject()}),n.promise}}]).service("ngCart.fulfilment.http",["$http","ngCart",function(t,e){this.checkout=function(r){return t.post(r.url,{data:e.toObject(),options:r.options})}}]).service("ngCart.fulfilment.paypal",["$http","ngCart",function(t,e){}]),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",r(1)]).factory("FileSaverUtils",[r(2)]).factory("Blob",["$window",r(3)]).factory("SaveAs",[r(5)])},function(t,e){t.exports=function(t,e,r){function n(t,n,a){try{e(t,n,a)}catch(t){r.handleErrors(t.message)}}return{saveAs:function(t,e,a){return r.isBlobInstance(t)||r.handleErrors("Data argument should be a blob instance"),r.isString(e)||r.handleErrors("Filename argument should be a string"),n(t,e,a)}}}},function(t,e){t.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return"undefined"==typeof t},isBlobInstance:function(t){return t instanceof Blob}}}},function(t,e,r){r(4),t.exports=function(t){return t.Blob}},function(t,e){!function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},r=function(){this.data=[]},n=function(t,e,r){this.data=t,this.size=t.length,this.type=e,this.encoding=r},a=r.prototype,i=n.prototype,o=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,p=c.createObjectURL,f=c.revokeObjectURL,d=c,g=t.btoa,h=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=i.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(d=t.URL=function(t){var e,r=document.createElementNS("http://www.w3.org/1999/xhtml","a");return r.href=t,"origin"in r||("data:"===r.protocol.toLowerCase()?r.origin=null:(e=t.match(y),r.origin=e&&e[1])),r}),d.createObjectURL=function(t){var e,r=t.type;return null===r&&(r="application/octet-stream"),t instanceof n?(e="data:"+r,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):g?e+";base64,"+g(t.data):e+","+encodeURIComponent(t.data)):p?p.call(c,t):void 0},d.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(c,t)},a.append=function(t){var r=this.data;if(v&&(t instanceof m||t instanceof v)){for(var a="",i=new v(t),l=0,u=i.length;l<u;l++)a+=String.fromCharCode(i[l]);r.push(a)}else if("Blob"===e(t)||"File"===e(t)){if(!o)throw new s("NOT_READABLE_ERR");var c=new o;r.push(c.readAsBinaryString(t))}else t instanceof n?"base64"===t.encoding&&h?r.push(h(t.data)):"URI"===t.encoding?r.push(decodeURIComponent(t.data)):"raw"===t.encoding&&r.push(t.data):("string"!=typeof t&&(t+=""),r.push(unescape(encodeURIComponent(t))))},a.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(""),t,"raw")},a.toString=function(){return"[object BlobBuilder]"},i.slice=function(t,e,r){var a=arguments.length;return a<3&&(r=null),new n(this.data.slice(t,a>1?e:this.data.length),r,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},r}(t);t.Blob=function(t,r){var n=r?r.type||"":"",a=new e;if(t)for(var i=0,o=t.length;i<o;i++)Uint8Array&&t[i]instanceof Uint8Array?a.append(t[i].buffer):a.append(t[i]);var s=a.getBlob(n);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var r=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=r(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e,r){t.exports=function(){return r(6).saveAs||function(){}}},function(t,e,r){var n,a,i=i||function(t){if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in n,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=4e4,p=function(t){var e=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};setTimeout(e,c)},f=function(t,e,r){e=[].concat(e);for(var n=e.length;n--;){var a=t["on"+e[n]];if("function"==typeof a)try{a.call(t,r||t)}catch(t){l(t)}}},d=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},g=function(e,l,c){c||(e=d(e));var g,h=this,m=e.type,v=m===u,y=function(){f(h,"writestart progress write writeend".split(" "))},b=function(){if((s||v&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;"),r=t.open(e,"_blank");r||(t.location.href=e),e=void 0,h.readyState=h.DONE,y()},n.readAsDataURL(e),void(h.readyState=h.INIT)}if(g||(g=r().createObjectURL(e)),v)t.location.href=g;else{var a=t.open(g,"_blank");a||(t.location.href=g)}h.readyState=h.DONE,y(),p(g)};return h.readyState=h.INIT,a?(g=r().createObjectURL(e),void setTimeout(function(){n.href=g,n.download=l,i(n),y(),p(g),h.readyState=h.DONE})):void b()},h=g.prototype,m=function(t,e,r){return new g(t,e||t.name||"download",r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,r){return e=e||t.name||"download",r||(t=d(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=i:null!==r(7)&&null!==r(8)&&(n=[],a=function(){return i}.apply(e,n),!(void 0!==a&&(t.exports=a)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}])});var uiroutermetatags;!function(t){function e(t,e,r,n){function a(t,e,r,a,i){n.prerenderReady=!1}function i(e,n){n.metaTags||t.debug('MetaTags - route: "'+n.name+'" does not contain any metatags'),r.update(n.metaTags)}function o(t,e,a,i,o,s){r.prerender.statusCode=500,n.prerenderReady=!0}function s(t,e,a){r.prerender.statusCode=404,n.prerenderReady=!0}e.MetaTags=r,e.$on("$stateChangeStart",a),e.$on("$stateChangeSuccess",i),e.$on("$stateChangeError",o),e.$on("$stateNotFound",s)}e.$inject=["$log","$rootScope","MetaTags","$window"];var r=angular.module("ui.router.metatags",["ui.router"]),n=function(){function t(){this.prefix="",this.suffix="",this.defaultTitle="",this.defaultDescription="",this.defaultKeywords="",this.defaultRobots="",this.staticProperties={},this.enableOGURL=!1}return t.prototype.setTitlePrefix=function(t){return this.prefix=t,this},t.prototype.setTitleSuffix=function(t){return this.suffix=t,this},t.prototype.setDefaultTitle=function(t){return this.defaultTitle=t,this},t.prototype.setDefaultDescription=function(t){return this.defaultDescription=t,this},t.prototype.setDefaultKeywords=function(t){return this.defaultKeywords=t,this},t.prototype.setDefaultRobots=function(t){return this.defaultRobots=t,this},t.prototype.setStaticProperties=function(t){return this.staticProperties=t,this},t.prototype.setOGURL=function(t){return this.enableOGURL=t,this},t.prototype.$get=function(){return{prefix:this.prefix,suffix:this.suffix,defaultTitle:this.defaultTitle,defaultDescription:this.defaultDescription,defaultKeywords:this.defaultKeywords,defaultRobots:this.defaultRobots,staticProperties:this.staticProperties,enableOGURL:this.enableOGURL}},t}();r.provider("UIRouterMetatags",n);var a=function(){function t(t,e,r,n,a,i,o){this.$log=t,this.UIRouterMetatags=e,this.$interpolate=r,this.$injector=n,this.$state=a,this.$location=i,this.$window=o,this.prerender={}}return t.$inject=["$log","UIRouterMetatags","$interpolate","$injector","$state","$location","$window"],t.prototype.update=function(t){var e=this;try{this.properties=angular.extend({},this.UIRouterMetatags.staticProperties),this.UIRouterMetatags.enableOGURL&&(this.properties["og:url"]=this.$location.absUrl()),t?(this.title=t.title?this.UIRouterMetatags.prefix+(this.getValue("title",t.title)||"")+this.UIRouterMetatags.suffix:this.UIRouterMetatags.defaultTitle,this.description=t.description?this.getValue("description",t.description):this.UIRouterMetatags.defaultDescription,this.keywords=t.keywords?this.getValue("keywords",t.keywords):this.UIRouterMetatags.defaultKeywords,this.robots=t.robots?this.getValue("robots",t.robots):this.UIRouterMetatags.defaultRobots,angular.forEach(t.properties,function(t,r){var n=e.getValue(r,t);n&&(e.properties[r]=n)})):(this.title=this.UIRouterMetatags.defaultTitle,this.description=this.UIRouterMetatags.defaultDescription,this.keywords=this.UIRouterMetatags.defaultKeywords,this.robots=this.UIRouterMetatags.defaultRobots),t&&t.prerender?(this.prerender.statusCode=t.prerender.statusCode?this.getValue("prerender.statusCode",t.prerender.statusCode):200,this.prerender.header=t.prerender.header?this.getValue("rerender.header",t.prerender.header):null):(this.prerender.statusCode=200,this.prerender.header=null),this.$window.prerenderReady=!0}catch(t){this.$log.error("error occured when extracting metatags:",t)}},t.prototype.getValue=function(t,e){try{return e?"number"==typeof e?e:"string"==typeof e&&0===e.trim().length?null:angular.isFunction(e)||Array.isArray(e)?this.$injector.invoke(e,this,this.$state.$current.locals.globals):this.$interpolate(e)(this.$state.$current.locals.globals):null}catch(e){return this.$log.error("error occured when trying to get the value of tag:",t,e),null}},t}();r.service("MetaTags",a),r.run(e)}(uiroutermetatags||(uiroutermetatags={}));var tableSortModule=angular.module("tableSort",[]);tableSortModule.provider("tableSortConfig",function(){this.filterTemplate="",this.filterFunction=void 0,this.paginationTemplate="",this.perPageOptions=[10,25,50,100],this.perPageDefault=this.perPageOptions[0],this.itemNameSingular="item",this.itemNamePlural=this.itemNameSingular+"s",this.noDataText="No "+this.itemNamePlural,this.wrappingElementClass="",isNaN(this.perPageDefault)||this.perPageOptions.indexOf(this.perPageDefault)!==-1||this.perPageOptions.push(this.perPageDefault),this.perPageOptions.sort(function(t,e){return t-e}),this.$get=function(){return this}}),tableSortModule.directive("tsWrapper",["$parse","$compile",function(t,e){function r(t,e){console.log("what is templateString? ",e);var r=e.replace(/FILTER_STRING/g,"filtering.filterString").replace(/CURRENT_PAGE_RANGE/g,"pagination.getPageRangeString(TOTAL_COUNT)").replace(/TOTAL_COUNT/g,t.itemsArrayExpression+".length").replace(/PER_PAGE_OPTIONS/g,"pagination.perPageOptions").replace(/ITEMS_PER_PAGE/g,"pagination.perPage").replace(/ITEM_NAME_SINGULAR/g,"itemNameSingular").replace(/ITEM_NAME_PLURAL/g,"itemNamePlural").replace(/FILTERED_COUNT/g,"filtering.filteredCount").replace(/CURRENT_PAGE_NUMBER/g,"pagination.currentPage");return console.log("newString: ",r),r}function n(){function t(t,e){return t>e?1:t<e?-1:0}var e=t,r=t;"object"==typeof Intl?e=new Intl.Collator((void 0),{sensitivity:"case"}).compare:"function"==typeof String.prototype.localeCompare&&(e=function(t,e){return(t+"").localeCompare(e,void 0,{sensitivity:"case"})});var n=function(t,n){return"number"==typeof t&&"number"==typeof n?r(t,n):t instanceof Date&&n instanceof Date?r(t.getTime(),n.getTime()):e(t,n)};return n}var a=n();return{scope:!0,controller:["$scope","tableSortConfig",function(e,r){e.pagination={template:r.paginationTemplate,perPageOptions:r.perPageOptions.concat(),perPage:r.perPageDefault,currentPage:1,getPageRangeString:function(t){var r=t!==e.filtering.filteredCount?e.filtering.filteredCount:t,n=Math.max((e.pagination.currentPage-1)*e.pagination.perPage+1,1),a=Math.min(e.pagination.currentPage*e.pagination.perPage,r);return 0===e.filtering.filteredCount?"":(a===r&&1===n?"":n+"-")+a}},console.log("what is pagination: ",e.pagination),e.filtering={template:r.filterTemplate,filterString:"",filterFunction:r.filterFunction,filteredCount:0,filterFields:[]},console.log("what is filtering: ",e.filtering),e.itemsArrayExpression="",e.itemNameSingular=r.itemNameSingular,e.itemNamePlural=r.itemNamePlural,e.noDataText=r.noDataText,e.wrappingElementClass=r.wrappingElementClass,e.sortExpression=[],e.headings=[];var n=function(e,r){return[t(e),null,!1,r?r:e]};this.setSortField=function(t,r,a,i){var o,s=n(t,a);if(s.push(i),1===e.sortExpression.length&&e.sortExpression[0][0]===s[0])e.sortExpression[0][2]?(r.removeClass("tablesort-desc"),r.addClass("tablesort-asc"),e.sortExpression[0][2]=!1):(r.removeClass("tablesort-asc"),r.addClass("tablesort-desc"),e.sortExpression[0][2]=!0),e.$emit("tablesort:sortOrder",[{name:e.sortExpression[0][3],order:e.sortExpression[0][2]}]);else{for(o=0;o<e.headings.length;o+=1)e.headings[o].removeClass("tablesort-desc").removeClass("tablesort-asc");r.addClass("tablesort-asc"),e.sortExpression=[s],e.$emit("tablesort:sortOrder",[{name:s[3],order:s[2]}])}},this.addSortField=function(t,r,a,i){var o,s=!1,l=n(t,a);for(l.push(i),o=0;o<e.sortExpression.length;o+=1)e.sortExpression[o][0]===l[0]&&(e.sortExpression[o][2]?(r.removeClass("tablesort-desc"),r.addClass("tablesort-asc"),e.sortExpression[o][2]=!1):(r.removeClass("tablesort-asc"),r.addClass("tablesort-desc"),e.sortExpression[o][2]=!0),s=!0);s||(r.addClass("tablesort-asc"),e.sortExpression.push(l)),e.$emit("tablesort:sortOrder",e.sortExpression.map(function(t){return{name:t[3],order:t[2]}}))},this.setTrackBy=function(t){e.trackBy=t},this.registerHeading=function(t){e.headings.push(t)},this.addFilterField=function(t,r){var a=n(t);e.filtering.filterFields.push(a)},this.setArrayExpr=function(t){e.itemsArrayExpression=t}}],link:function(n,i,o,s){if(o.tsItemName){var l="No "+n.itemNamePlural;n.itemNameSingular=o.tsItemName,o.tsItemNamePlural?n.itemNamePlural=o.tsItemNamePlural:n.itemNamePlural=o.tsItemName+"s",o.tsNoDataText||n.noDataText!==l||(n.noDataText="No "+n.itemNamePlural)}if(o.tsNoDataText&&(n.noDataText=o.tsNoDataText),o.tsWrappingElementClass&&(n.wrappingElementClass=o.tsWrappingElementClass),o.tsPerPageOptions&&(n.pagination.perPageOptions=n.$eval(o.tsPerPageOptions)),o.tsPerPageDefault){var u=n.$eval(o.tsPerPageDefault);isNaN(u)||(n.pagination.perPage=u,n.pagination.perPageOptions.indexOf(n.pagination.perPage)===-1&&(n.pagination.perPageOptions.push(n.pagination.perPage),n.pagination.perPageOptions.sort(function(t,e){return t-e})))}if(o.tsFilterFields)for(var c=o.tsFilterFields.split(",").filter(function(t){return t&&""!==t.trim()}),p=0;p<c.length;p+=1)s.addFilterField(c[p]);var f;if("false"!==o.tsDisplayFiltering&&""!==n.filtering.template&&n.filtering.filterFields.length>0){var d=r(n,n.filtering.template);f=e(d)(n),i.parent()[0].insertBefore(f[0],i[0])}o.tsFilterFunction&&(n.filtering.filterFunction=n.$eval(o.tsFilterFunction)),angular.isFunction(n.filtering.filterFunction)||(0===n.filtering.filterFields.length?n.filtering.filterFunction=function(t){return!0}:n.filtering.filterFunction=function(t){for(var e=!1,r=0;r<n.filtering.filterFields.length;r+=1)if(!e){var a=(n.filtering.filterFields[r][0](t)||"").toString().toLowerCase();e=a.indexOf(n.filtering.filterString.toLowerCase())>-1}return e}),n.filterLimitFun=function(t){if(!o.tsFilterFunction&&""===n.filtering.filterString)return n.filtering.filteredCount=t.length,t;var e=t.filter(n.filtering.filterFunction);return n.filtering.filteredCount=e.length,e},n.sortFun=function(t,e){var r,i,o,s,l,u;for(r=0;r<n.sortExpression.length;r+=1){if(i=n.sortExpression[r][0](t),o=n.sortExpression[r][0](e),l=e[n.sortExpression[r][1]],l&&(i=l(i),o=l(o)),void 0!==i&&null!==i||(i=""),void 0!==o&&null!==o||(o=""),s=n.sortExpression[r][2],u=(n.sortExpression[r][4]||a)(i,o),1===u)return s?-1:1;if(u===-1)return s?1:-1}if(n.trackBy){if(i=t[n.trackBy],o=e[n.trackBy],void 0!==i&&null!==i||(i=""),void 0!==o&&null!==o||(o=""),u=a(i,o),1===u)return s?-1:1;if(u===-1)return s?1:-1}return 0},n.pageLimitFun=function(t){if("false"===o.tsDisplayPagination||""===n.pagination.template)return t;for(var e=(n.pagination.currentPage-1)*n.pagination.perPage,r=n.pagination.currentPage*n.pagination.perPage,a=[],i=0;i<t.length;i++)i>=e&&i<r&&a.push(t[i]);return a};var g;if("false"!==o.tsDisplayPagination&&""!==n.pagination.template){var h=r(n,n.pagination.template);g=e(h)(n),i.after(g)}var m;if(n.wrappingElementClass&&""!==n.wrappingElementClass&&(m=i.wrap("<div class='"+n.wrappingElementClass+"' />")),o.tsGetTableDataFunction){var v=t(o.tsGetTableDataFunction),y=v.assign,b=function(e,r,a){var i=t(n.itemsArrayExpression)(n);return e&&(i=i.sort(n.sortFun)),r&&(i=n.filterLimitFun(i)),a&&(i=n.pageLimitFun(i)),i};y(n.$parent,b)}n.$on("$destroy",function(){f&&f.remove(),g&&g.remove(),m&&m.replaceWith(i)})}}}]),tableSortModule.directive("tsCriteria",function(){return{require:"^tsWrapper",scope:{tsOrderBy:"="},link:function(t,e,r,n){var a=function(a){t.$apply(function(){a.shiftKey?n.addSortField(r.tsCriteria,e,r.tsName,t.tsOrderBy):n.setSortField(r.tsCriteria,e,r.tsName,t.tsOrderBy)})};e.bind("click",a),e.addClass("tablesort-sortable"),"tsDefault"in r&&"0"!==r.tsDefault&&(n.addSortField(r.tsCriteria,e,r.tsName,t.tsOrderBy),"descending"===r.tsDefault&&n.addSortField(r.tsCriteria,e,r.tsName,t.tsOrderBy)),"tsFilter"in r&&n.addFilterField(r.tsCriteria,e),n.registerHeading(e)}}}),tableSortModule.directive("tsRepeat",["$compile","$interpolate",function(t,e){return{terminal:!0,multiElement:!0,require:"^tsWrapper",priority:1e6,link:function(r,n,a,i){for(var o=["ng-repeat","data-ng-repeat","ng-repeat-start","data-ng-repeat-start"],s=o[0],l="ts-repeat",u=0;u<o.length;u++)if(angular.isDefined(n.attr(o[u]))){s=o[u],l=s.replace(/^(data-)?ng/,"$1ts");break}var c="tablesortOrderBy:sortFun | tablesortLimit:filterLimitFun | tablesortLimit:pageLimitFun",p=n.attr(s),f=/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(\s+track\s+by\s+[\s\S]+?)?\s*$/,d=p.match(/\s+track\s+by\s+\S+?\.(\S+)/),g=p.match(f);if(d&&i.setTrackBy(d[1]),p.search(/tablesort/)!==-1?(p=p.replace(/tablesort/,c),
d&&(p=p.replace(d[0],"")+d[0])):p=p.replace(f,"$1 in $2 | "+c+"$3"),angular.isUndefined(a.tsHideNoData)){var h=e.startSymbol(),m=e.endSymbol(),v=angular.element(n[0]).clone();v.removeAttr(s),v.removeAttr(l),v.addClass("showIfLast"),v.children().remove(),v.append('<td colspan="'+n[0].childElementCount+'">'+h+"noDataText"+m+"</td>"),v=t(v)(r),n.parent().prepend(v)}i.setArrayExpr(g[2]),angular.element(n[0]).attr(s,p),t(n,null,1e6)(r)}}}]),tableSortModule.filter("tablesortLimit",function(){return function(t,e){if(t)return e(t)}}),tableSortModule.filter("tablesortOrderBy",function(){return function(t,e){if(t){var r=t.concat();return r.sort(e)}}}),tableSortModule.filter("parseInt",function(){return function(t){return parseInt(t)||null}}),tableSortModule.filter("parseFloat",function(){return function(t){return parseFloat(t)||null}}),tableSortModule.filter("parseDate",function(){return function(t){var e=Date.parse(t);return isNaN(e)?null:e}}),angular.module("picardy.fontawesome",[]).directive("fa",function(){return{restrict:"E",template:'<span class="fa" aria-hidden="true"></span>',replace:!0,link:function(t,e,r){function n(t,n){var a;r.$observe(t,function(){n=n||"fa-"+t,e.removeClass(i[t]),r[t]&&(a=[n,r[t]].join("-"),e.addClass(a),i[t]=a)})}function a(t,n){var a;r.$observe(t,function(){n=n||"fa-"+t,a=t in r&&"false"!==r[t]&&r[t]!==!1,e.toggleClass(n,a)})}var i={};n("name","fa"),n("rotate"),n("flip"),n("stack"),r.$observe("size",function(){var t;e.removeClass(i.size),"large"===r.size?t="fa-lg":isNaN(parseInt(r.size,10))||(t="fa-"+r.size+"x"),e.addClass(t),i.size=t}),r.$observe("stack",function(){var t;e.removeClass(i.stack),"large"===r.stack?t="fa-stack-lg":isNaN(parseInt(r.stack,10))||(t="fa-stack-"+r.stack+"x"),e.addClass(t),i.stack=t}),a("border"),a("fw"),a("inverse"),a("spin"),e.toggleClass("fa-li",e.parent()&&"LI"===e.parent().prop("tagName")&&e.parent().parent()&&e.parent().parent().hasClass("fa-ul")&&e.parent().children()[0]===e[0]&&"false"!==r.list&&r.list!==!1),r.$observe("alt",function(){var t=r.alt,n=e.next(),a="fa-alt-text";t?(e.removeAttr("alt"),n&&n.hasClass(a)||(e.after('<span class="sr-only fa-alt-text"></span>'),n=e.next()),n.text(t)):n&&n.hasClass(a)&&n.remove()})}}}).directive("faStack",function(){return{restrict:"E",transclude:!0,template:'<span ng-transclude class="fa-stack fa-lg"></span>',replace:!0,link:function(t,e,r){function n(t,n){var i;r.$observe(t,function(){n=n||"fa-"+t,e.removeClass(a[t]),r[t]&&(i=[n,r[t]].join("-"),e.addClass(i),a[t]=i)})}var a={};n("size"),r.$observe("size",function(){var t;e.removeClass(a.size),"large"===r.size?t="fa-lg":isNaN(parseInt(r.size,10))||(t="fa-"+r.size+"x"),e.addClass(t),a.size=t})}}}),function(t,e,r,n){function a(e,r){this.options=t.extend({},o,r),this._defaults=o,this._name=i,this.$element=t(e),this.init()}var i="menuButton",o={propertyName:"value"};a.prototype={constructor:a,init:function(){this.toggle()},toggle:function(t,e){"show"===this.$element.data("dropdown")?this.hideMenu():this.showMenu()},showMenu:function(){this.$element.data("dropdown","show"),this.$element.find("ul").show()},hideMenu:function(){this.$element.data("dropdown","hide"),this.$element.find("ul").hide()}},t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)?t.data(this,"plugin_"+i).toggle():t.data(this,"plugin_"+i,new a(this,e))})},t(r).on("click",function(e){t.each(t("[data-buttons=dropdown]"),function(r,n){t(e.target.offsetParent)[0]!=t(this)[0]&&t.data(this,"plugin_"+i)&&(t.data(this,"plugin_"+i).hideMenu(),t(this).find("ul").hide())})}),t(r).on("click","[data-buttons=dropdown]",function(e){var r=t(e.currentTarget);r.menuButton()}),t(r).on("click","[data-buttons=dropdown] > a",function(t){t.preventDefault()})}(jQuery,window,document),angular.module("angularPayments",[]),angular.module("angularPayments").factory("Common",[function(){var t={};return t.parseExpiry=function(t){var e,r,n,a;return t=t||"",t=t.replace(/\s/g,""),a=t.split("/",2),e=a[0],n=a[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(r=(new Date).getFullYear(),r=r.toString().slice(0,2),n=r+n),e=parseInt(e,10),n=parseInt(n,10),{month:e,year:n}},t}]),angular.module("angularPayments").factory("Cards",[function(){var t=/(\d{1,4})/g,e=/(?:^|\s)(\d{4})$/,r=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:t,inputFormat:e,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:t,inputFormat:e,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:t,inputFormat:e,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:t,inputFormat:e,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:t,inputFormat:e,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:t,inputFormat:e,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:t,inputFormat:e,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,inputFormat:/^(\d{4}|\d{4}\s\d{6})$/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:t,inputFormat:e,length:[13,14,15,16],cvcLength:[3],luhn:!0}],n=function(t){var e,n,a;for(t=(t+"").replace(/\D/g,""),n=0,a=r.length;n<a;n++)if(e=r[n],e.pattern.test(t))return e},a=function(t){var e,n,a;for(n=0,a=r.length;n<a;n++)if(e=r[n],e.type===t)return e};return{fromNumber:function(t){return n(t)},fromType:function(t){return a(t)},defaultFormat:function(){return t},defaultInputFormat:function(){return e}}}]),angular.module("angularPayments").factory("_Format",["Cards","Common","$filter",function(t,e,r){var n={},a=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")||!("undefined"==typeof document||null===document||null==(e=document.selection)||"function"!=typeof e.createRange||!e.createRange().text)},i=function(e){var r,n,a,i,o,s,l;if(a=String.fromCharCode(e.which),r=angular.element(e.currentTarget),l=r.val(),n=t.fromNumber(l+a),i=(l.replace(/\D/g,"")+a).length,s=16,n&&(s=n.length[n.length.length-1]),!(i>=s)){if(!/^\d+$/.test(a)&&!e.meta&&e.keyCode>=46)return void e.preventDefault();if(null==r.prop("selectionStart")||r.prop("selectionStart")===l.length)return o=t.defaultInputFormat(),n&&(o=n.inputFormat),o.test(l)?(e.preventDefault(),r.val(l+" "+a)):o.test(l+a)?(e.preventDefault(),r.val(l+a+" ")):void 0}},o=function(e){var r,n,i,o;r=angular.element(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&(a(r)||(o=(r.val()+i).replace(/\D/g,""),n=t.fromNumber(o),n?o.length<=n.length[n.length.length-1]||e.preventDefault():o.length<=16||e.preventDefault()))},s=function(t){var e,r;if(e=angular.element(t.currentTarget),r=e.val(),!t.meta&&8===t.which&&(null==e.prop("selectionStart")||e.prop("selectionStart")===r.length))return/\d\s$/.test(r)&&!t.meta&&t.keyCode>=46?(t.preventDefault(),e.val(r.replace(/\d\s$/,""))):/\s\d?$/.test(r)?(t.preventDefault(),e.val(r.replace(/\s\d?$/,""))):void 0},l=function(e){var r,n,a,i;return(r=t.fromNumber(e))?(a=r.length[r.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+a+1||9e9),r.format.global?null!=(i=e.match(r.format))?i.join(" "):void 0:(n=r.format.exec(e),null!=n&&n.shift(),null!=n?n.join(" "):void 0)):e},u=function(t){return setTimeout(function(){var e,r;return e=angular.element(t.target),r=e.val(),r=l(r),e.val(r)})},c=function(t){return null!=t?t.replace(/\s/g,""):t};n.card=function(t,e){t.bind("keypress",o),t.bind("keypress",i),t.bind("keydown",s),t.bind("paste",u),e.$parsers.push(c),e.$formatters.push(l)},_formatCVC=function(t){return $target=angular.element(t.currentTarget),digit=String.fromCharCode(t.which),!/^\d+$/.test(digit)&&!t.meta&&t.keyCode>=46?void t.preventDefault():(val=$target.val()+digit,val.length<=4?void 0:void t.preventDefault())},n.cvc=function(t){t.bind("keypress",_formatCVC)},_restrictExpiry=function(t){var e,r,n;return e=angular.element(t.currentTarget),r=String.fromCharCode(t.which),!/^\d+$/.test(r)&&!t.meta&&t.keyCode>=46?void t.preventDefault():a(e)?void 0:(n=e.val()+r,n=n.replace(/\D/g,""),n.length>6?void t.preventDefault():void 0)},_formatExpiry=function(t){var e,r,n;return r=String.fromCharCode(t.which),!/^\d+$/.test(r)&&!t.meta&&t.keyCode>=46?void t.preventDefault():(e=angular.element(t.currentTarget),n=e.val()+r,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(t.preventDefault(),e.val("0"+n+" / ")):/^\d\d$/.test(n)?(t.preventDefault(),e.val(""+n+" / ")):void 0)},_formatForwardExpiry=function(t){var e,r,n;if(r=String.fromCharCode(t.which),/^\d+$/.test(r)||t.meta||!(t.keyCode>=46))return e=angular.element(t.currentTarget),n=e.val(),/^\d\d$/.test(n)?e.val(""+n+" / "):void 0},_formatForwardSlash=function(t){var e,r,n;if(r=String.fromCharCode(t.which),"/"===r)return e=angular.element(t.currentTarget),n=e.val(),/^\d$/.test(n)&&"0"!==n?e.val("0"+n+" / "):void 0},_formatBackExpiry=function(t){var e,r;if(!t.meta&&(e=angular.element(t.currentTarget),r=e.val(),8===t.which&&(null==e.prop("selectionStart")||e.prop("selectionStart")===r.length)))return/\d(\s|\/)+$/.test(r)?(t.preventDefault(),e.val(r.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(r)?(t.preventDefault(),e.val(r.replace(/\s\/\s?\d?$/,""))):void 0};var p=function(t){if(null!=t){var n=e.parseExpiry(t),a=new Date(n.year,n.month-1);return r("date")(a,"MM/yyyy")}return null},f=function(t){if(null!=t){var n=e.parseExpiry(t),a=new Date(n.year,n.month-1);return r("date")(a,"MM / yyyy")}return null};return n.expiry=function(t,e){t.bind("keypress",_restrictExpiry),t.bind("keypress",_formatExpiry),t.bind("keypress",_formatForwardSlash),t.bind("keypress",_formatForwardExpiry),t.bind("keydown",_formatBackExpiry),e.$parsers.push(p),e.$formatters.push(f)},function(t,e,r){if(!n[t])throw types=Object.keys(n),errstr='Unknown type for formatting: "'+t+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return n[t](e,r)}}]).directive("paymentsFormat",["$window","_Format",function(t,e){return{restrict:"A",require:"ngModel",link:function(t,r,n,a){e(n.paymentsFormat,r,a)}}}]),angular.module("angularPayments").factory("_Validate",["Cards","Common","$parse",function(t,e,r){var n=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t){var e,r,n,a,i,o;for(n=!0,a=0,r=(t+"").split("").reverse(),i=0,o=r.length;i<o;i++)e=r[i],e=parseInt(e,10),(n=!n)&&(e*=2),e>9&&(e-=9),a+=e;return a%10===0},i={};return i.cvc=function(e,a,i,o){var s,l;if(null==e||0==e.length)return!0;if(!/^\d+$/.test(e))return!1;var u;if(o.paymentsTypeModel){var c=r(o.paymentsTypeModel);u=c(i)}return u?(s=e.length,n.call(null!=(l=t.fromType(u))?l.cvcLength:void 0,s)>=0):e.length>=3&&e.length<=4},i.card=function(e,i,o,s){var l,u,c;s.paymentsTypeModel&&(c=r(s.paymentsTypeModel));var p=function(){c&&c.assign(o,null),i.$card=null};return null==e||0==e.length?(p(),!0):(e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)&&(l=t.fromNumber(e))?(i.$card=angular.copy(l),c&&c.assign(o,l.type),ret=(u=e.length,n.call(l.length,u)>=0&&(l.luhn===!1||a(e))),ret):(p(),!1))},i.expiry=function(t){if(null==t||0==t.length)return!0;obj=e.parseExpiry(t),month=obj.month,year=obj.year;var r,n,a;return!(!month||!year)&&(!!/^\d+$/.test(month)&&(!!/^\d+$/.test(year)&&(parseInt(month,10)<=12&&(2===year.length&&(a=(new Date).getFullYear(),a=a.toString().slice(0,2),year=a+year),n=new Date(year,month),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>r))))},function(t,e,r,n,a){if(!i[t])throw types=Object.keys(i),errstr='Unknown type for validation: "'+t+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return i[t](e,r,n,a)}}]).factory("_ValidateWatch",["_Validate",function(t){var e={};return e.cvc=function(e,r,n,a){a.paymentsTypeModel&&n.$watch(a.paymentsTypeModel,function(i,o){if(i!=o){var s=t(e,r.$modelValue,r,n,a);r.$setValidity(e,s)}})},function(t,r,n,a){if(e[t])return e[t](t,r,n,a)}}]).directive("paymentsValidate",["$window","_Validate","_ValidateWatch",function(t,e,r){return{restrict:"A",require:"ngModel",link:function(t,n,a,i){var o=a.paymentsValidate;r(o,i,t,a);var s=function(r){var n=e(o,r,i,t,a);return i.$setValidity(o,n),n?r:void 0};i.$formatters.push(s),i.$parsers.push(s)}}}]),angular.module("angularPayments").directive("stripeForm",["$window","$parse","Common",function(t,e,r){return _getDataToSend=function(t){var e=["number","expMonth","expYear","cvc","name","addressLine1","addressLine2","addressCity","addressState","addressZip","addressCountry"],r=function(t){return t.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})},n={};for(i in e)t.hasOwnProperty(e[i])&&(n[r(e[i])]=angular.copy(t[e[i]]));return n.number=(n.number||"").replace(/ /g,""),n},{restrict:"A",link:function(e,n,a){if(!t.Stripe)throw"stripeForm requires that you have stripe.js installed. Include https://js.stripe.com/v2/ into your html.";var i=angular.element(n);i.bind("submit",function(){expMonthUsed=!!e.expMonth,expYearUsed=!!e.expYear,expMonthUsed&&expYearUsed||(exp=r.parseExpiry(e.expiry),e.expMonth=exp.month,e.expYear=exp.year);var n=i.find("button");n.prop("disabled",!0),i.hasClass("ng-valid")?t.Stripe.createToken(_getDataToSend(e),function(){var t=arguments;e.$apply(function(){e[a.stripeForm].apply(e,t)}),n.prop("disabled",!1)}):(e.$apply(function(){e[a.stripeForm].apply(e,[400,{error:"Invalid form submitted."}])}),n.prop("disabled",!1)),e.expMonth=null,e.expYear=null})}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItcGFyYWxsYXguanMiLCJuZ0NhcnQuanMiLCJhbmd1bGFyLWZpbGUtc2F2ZXIuYnVuZGxlLmpzIiwidWktcm91dGVyLW1ldGF0YWdzLmpzIiwiYW5ndWxhci10YWJsZXNvcnQuanMiLCJhbmd1bGFyLWZvbnRhd2Vzb21lLmpzIiwiYnV0dG9ucy5qcyIsImFuZ3VsYXItcGF5bWVudHMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSIsIiR3aW5kb3ciLCJyZXN0cmljdCIsInNjb3BlIiwicGFyYWxsYXhSYXRpbyIsInBhcmFsbGF4VmVydGljYWxPZmZzZXQiLCJwYXJhbGxheEhvcml6b250YWxPZmZzZXQiLCJsaW5rIiwiJHNjb3BlIiwiZWxlbSIsImF0dHJzIiwic2V0UG9zaXRpb24iLCJjYWxjVmFsWSIsInBhZ2VZT2Zmc2V0IiwiaW5uZXJIZWlnaHQiLCJ0b3BWYWwiLCJob3pWYWwiLCJpbmRleE9mIiwiY3NzIiwiZWxlbWVudCIsImJpbmQiLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGUiLCJwYXJhbGxheFN0YXJ0UG9pbnQiLCJvZmZzZXQiLCJvZmZzZXRIZWlnaHQiLCJwcm9wIiwiZSIsIiRhcHBseSIsImNvbmZpZyIsInByb3ZpZGVyIiwidGhpcyIsIiRnZXQiLCJydW4iLCIkcm9vdFNjb3BlIiwibmdDYXJ0IiwibmdDYXJ0SXRlbSIsInN0b3JlIiwiJG9uIiwiJHNhdmUiLCJpc09iamVjdCIsImdldCIsIiRyZXN0b3JlIiwiaW5pdCIsInNlcnZpY2UiLCIkaHR0cCIsIiRsb2NhdGlvbiIsIiRzdGF0ZSIsIm15VGltZW91dCIsIiRjYXJ0Iiwic2hpcHBpbmciLCJ0YXhSYXRlIiwidGF4IiwiaXRlbXMiLCJhZGRJdGVtIiwiaWQiLCJza3UiLCJuYW1lIiwicHJpY2UiLCJxdWFudGl0eSIsImRhdGEiLCJhdHRyIiwidGhhdCIsInRpbWVyQW1vdW50IiwiaW5DYXJ0IiwiZ2V0SXRlbUJ5U2t1IiwiZGlmZiIsImluQ2FydFEiLCJnZXRRdWFudGl0eSIsIl9kYXRhIiwicHJvZHVjdF90eXBlIiwidGlja2V0SWQiLCJwYXJlbnQiLCJ0aWNrZXRDb3VudCIsInBvc3QiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNsZWFyVGltZW91dCIsIiRicm9hZGNhc3QiLCJzZXRUaW1lb3V0IiwicmVtb3ZlVGlja2V0cyIsInNldFF1YW50aXR5IiwiZXJyIiwiYm9vbCIsIm9yaWdpbmFsVmFsIiwibmV3SXRlbSIsInB1c2giLCJhZGRJdGVtQnRuIiwiY291bnQiLCJza3VQYXJzZWQiLCJKU09OIiwicGFyc2UiLCJ1cmwiLCJjaGFuZ2VRdWFudGl0eSIsImdldEl0ZW1CeUlkIiwiaXRlbUlkIiwiZ2V0Q2FydCIsImJ1aWxkIiwiZm9yRWFjaCIsIml0ZW0iLCJnZXRJZCIsIml0ZW1Ta3UiLCJnZXRTa3UiLCJzZXRTaGlwcGluZyIsImdldFNoaXBwaW5nIiwibGVuZ3RoIiwic2V0VGF4UmF0ZSIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiZ2V0VGF4UmF0ZSIsImdldFRheCIsIk1hdGgiLCJyb3VuZCIsImdldFN1YlRvdGFsIiwic2V0Q2FydCIsImNhcnQiLCJnZXRJdGVtcyIsImdldFRvdGFsSXRlbXMiLCJnZXRUb3RhbFVuaXF1ZUl0ZW1zIiwiZ2V0Q2FydFRvdGFsIiwidG90YWwiLCJnZXRUb3RhbCIsIl9zZWxmIiwiaSIsInJlbW92ZUl0ZW0iLCJ0b3RhbENvc3QiLCJwYXJzZUludCIsImluZGV4Iiwic3BsaWNlIiwicmVtb3ZlSXRlbUJ5SWQiLCJlbXB0eSIsImxvY2FsU3RvcmFnZSIsImlzRW1wdHkiLCJ0b09iamVjdCIsInN1YlRvdGFsIiwic3RvcmVkQ2FydCIsImRlc2NyaXB0aW9uIiwiYW1vdW50Iiwic2V0IiwidG9Kc29uIiwiZmFjdG9yeSIsIiRsb2ciLCJzZXRJZCIsInNldFNrdSIsInNldE5hbWUiLCJzZXRQcmljZSIsInNldERhdGEiLCJzZXRBdHRyIiwicHJvdG90eXBlIiwiZXJyb3IiLCJnZXROYW1lIiwicHJpY2VGbG9hdCIsImdldFByaWNlIiwicmVsYXRpdmUiLCJxdWFudGl0eUludCIsImluZm8iLCJnZXREYXRhIiwiYXR0cmlidXRlcyIsImdldEF0dHIiLCJrZXkiLCJnZXRJdGVtIiwiZnJvbUpzb24iLCJ2YWwiLCJ1bmRlZmluZWQiLCJzZXRJdGVtIiwiY29udHJvbGxlciIsIiR0aW1lb3V0IiwibG9hZGVkIiwidG9nZ2xlQ2FydCIsImZpbHRlcmVkIiwic2hpcHBhYmxlIiwic2hpcEJvb2wiLCIkZW1pdCIsInZhbHVlIiwicXVhbnRpdHlNYXgiLCJ0ZW1wbGF0ZVVybCIsInEiLCJxdHlPcHQiLCJ1cGRhdGVRIiwiZXZlbnQiLCJmdWxmaWxtZW50UHJvdmlkZXIiLCJjaGVja291dCIsInNldFNlcnZpY2UiLCJzZXRTZXR0aW5ncyIsInNldHRpbmdzIiwic3VjY2VzcyIsInN0YXR1cyIsImhlYWRlcnMiLCJzdGF0dXNDb2RlIiwiJGluamVjdG9yIiwiX29iaiIsIiRxIiwiZGVmZXJyZWQiLCJkZWZlciIsInJlc29sdmUiLCJwcm9taXNlIiwib3B0aW9ucyIsInJvb3QiLCJleHBvcnRzIiwiZGVmaW5lIiwiYW1kIiwiYSIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwicCIsIkJsb2IiLCJTYXZlQXMiLCJGaWxlU2F2ZXJVdGlscyIsInNhdmUiLCJibG9iIiwiZmlsZW5hbWUiLCJkaXNhYmxlQXV0b0JPTSIsImhhbmRsZUVycm9ycyIsIm1lc3NhZ2UiLCJzYXZlQXMiLCJpc0Jsb2JJbnN0YW5jZSIsImlzU3RyaW5nIiwibXNnIiwiRXJyb3IiLCJvYmoiLCJTdHJpbmciLCJpc1VuZGVmaW5lZCIsInZpZXciLCJVUkwiLCJ3ZWJraXRVUkwiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJnZXRfY2xhc3MiLCJvYmplY3QiLCJPYmplY3QiLCJ0b1N0cmluZyIsIm1hdGNoIiwiRmFrZUJsb2JCdWlsZGVyIiwiRmFrZUJsb2IiLCJ0eXBlIiwiZW5jb2RpbmciLCJzaXplIiwiRkJCX3Byb3RvIiwiRkJfcHJvdG8iLCJGaWxlUmVhZGVyU3luYyIsIkZpbGVFeGNlcHRpb24iLCJjb2RlIiwiZmlsZV9leF9jb2RlcyIsInNwbGl0IiwiZmlsZV9leF9jb2RlIiwicmVhbF9VUkwiLCJyZWFsX2NyZWF0ZV9vYmplY3RfVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVhbF9yZXZva2Vfb2JqZWN0X1VSTCIsInJldm9rZU9iamVjdFVSTCIsImJ0b2EiLCJhdG9iIiwiQXJyYXlCdWZmZXIiLCJVaW50OEFycmF5Iiwib3JpZ2luIiwiZmFrZSIsInVyaSIsInVyaV9vcmlnaW4iLCJ1cmlfaW5mbyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiaHJlZiIsInByb3RvY29sIiwidG9Mb3dlckNhc2UiLCJkYXRhX1VSSV9oZWFkZXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvYmplY3RfVVJMIiwic3Vic3RyaW5nIiwiYXBwZW5kIiwiYmIiLCJzdHIiLCJidWYiLCJidWZfbGVuIiwiZnJvbUNoYXJDb2RlIiwiZnIiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJ1bmVzY2FwZSIsImdldEJsb2IiLCJhcmd1bWVudHMiLCJqb2luIiwic2xpY2UiLCJzdGFydCIsImVuZCIsImFyZ3MiLCJjbG9zZSIsImJsb2JQYXJ0cyIsImJ1aWxkZXIiLCJsZW4iLCJidWZmZXIiLCJ3ZWJraXRTbGljZSIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwic2VsZiIsIndpbmRvdyIsImNvbnRlbnQiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJuYXZpZ2F0b3IiLCJ0ZXN0IiwidXNlckFnZW50IiwiZG9jIiwiZ2V0X1VSTCIsInNhdmVfbGluayIsImNhbl91c2Vfc2F2ZV9saW5rIiwiY2xpY2siLCJub2RlIiwiTW91c2VFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJpc19zYWZhcmkiLCJIVE1MRWxlbWVudCIsImlzX2Nocm9tZV9pb3MiLCJ0aHJvd19vdXRzaWRlIiwiZXgiLCJzZXRJbW1lZGlhdGUiLCJmb3JjZV9zYXZlYWJsZV90eXBlIiwiYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0IiwicmV2b2tlIiwiZmlsZSIsInJldm9rZXIiLCJyZW1vdmUiLCJkaXNwYXRjaCIsImZpbGVzYXZlciIsImV2ZW50X3R5cGVzIiwiY29uY2F0IiwibGlzdGVuZXIiLCJhdXRvX2JvbSIsIkZpbGVTYXZlciIsIm5vX2F1dG9fYm9tIiwib2JqZWN0X3VybCIsImZvcmNlIiwiZGlzcGF0Y2hfYWxsIiwiZnNfZXJyb3IiLCJGaWxlUmVhZGVyIiwicmVhZGVyIiwib25sb2FkZW5kIiwicmVzdWx0IiwicmVwbGFjZSIsInBvcHVwIiwib3BlbiIsImxvY2F0aW9uIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJyZWFkQXNEYXRhVVJMIiwiSU5JVCIsIm9wZW5lZCIsImRvd25sb2FkIiwiRlNfcHJvdG8iLCJtc1NhdmVPck9wZW5CbG9iIiwiYWJvcnQiLCJXUklUSU5HIiwib253cml0ZXN0YXJ0Iiwib25wcm9ncmVzcyIsIm9ud3JpdGUiLCJvbmFib3J0Iiwib25lcnJvciIsIm9ud3JpdGVlbmQiLCJhcHBseSIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwidWlyb3V0ZXJtZXRhdGFncyIsInJ1bkJsb2NrIiwiTWV0YVRhZ3MiLCJzdGF0ZUNoYW5nZVN0YXJ0IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbSIsImZyb21QYXJhbXMiLCJwcmVyZW5kZXJSZWFkeSIsInN0YXRlQ2hhbmdlU3VjY2VzcyIsIm1ldGFUYWdzIiwiZGVidWciLCJ1cGRhdGUiLCJzdGF0ZUNoYW5nZUVycm9yIiwiZnJvbVN0YXRlIiwicHJlcmVuZGVyIiwic3RhdGVOb3RGb3VuZCIsInVuZm91bmRTdGF0ZSIsIiRpbmplY3QiLCJhcHBNb2R1bGUiLCJVSVJvdXRlck1ldGF0YWdzIiwicHJlZml4Iiwic3VmZml4IiwiZGVmYXVsdFRpdGxlIiwiZGVmYXVsdERlc2NyaXB0aW9uIiwiZGVmYXVsdEtleXdvcmRzIiwiZGVmYXVsdFJvYm90cyIsInN0YXRpY1Byb3BlcnRpZXMiLCJlbmFibGVPR1VSTCIsInNldFRpdGxlUHJlZml4Iiwic2V0VGl0bGVTdWZmaXgiLCJzZXREZWZhdWx0VGl0bGUiLCJ0aXRsZSIsInNldERlZmF1bHREZXNjcmlwdGlvbiIsInNldERlZmF1bHRLZXl3b3JkcyIsImtleXdvcmRzIiwic2V0RGVmYXVsdFJvYm90cyIsInJvYm90cyIsInNldFN0YXRpY1Byb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwic2V0T0dVUkwiLCJlbmFibGVkIiwiJGludGVycG9sYXRlIiwidGFncyIsIl90aGlzIiwiZXh0ZW5kIiwiYWJzVXJsIiwiZ2V0VmFsdWUiLCJ2IiwiaGVhZGVyIiwidGFnVHlwZSIsInRhZyIsInRyaW0iLCJpc0Z1bmN0aW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiaW52b2tlIiwiJGN1cnJlbnQiLCJsb2NhbHMiLCJnbG9iYWxzIiwidGFibGVTb3J0TW9kdWxlIiwiZmlsdGVyVGVtcGxhdGUiLCJmaWx0ZXJGdW5jdGlvbiIsInBhZ2luYXRpb25UZW1wbGF0ZSIsInBlclBhZ2VPcHRpb25zIiwicGVyUGFnZURlZmF1bHQiLCJpdGVtTmFtZVNpbmd1bGFyIiwiaXRlbU5hbWVQbHVyYWwiLCJub0RhdGFUZXh0Iiwid3JhcHBpbmdFbGVtZW50Q2xhc3MiLCJpc05hTiIsInNvcnQiLCJiIiwiJHBhcnNlIiwiJGNvbXBpbGUiLCJyZXBsYWNlVGVtcGxhdGVUb2tlbnMiLCJ0ZW1wbGF0ZVN0cmluZyIsIm5ld1N0cmluZyIsIml0ZW1zQXJyYXlFeHByZXNzaW9uIiwiY3JlYXRlRGVmYXVsdENvbXBhcmVyIiwiX2RlZmF1bHRDb21wYXJlciIsInN0cmluZ0NvbXBhcmVyIiwibnVtZXJpY0NvbXBhcmVyIiwiSW50bCIsIkNvbGxhdG9yIiwic2Vuc2l0aXZpdHkiLCJjb21wYXJlIiwibG9jYWxlQ29tcGFyZSIsImNvbXBhcmVyRm4iLCJEYXRlIiwiZ2V0VGltZSIsImRlZmF1bHRDb21wYXJlciIsInRhYmxlU29ydENvbmZpZyIsInBhZ2luYXRpb24iLCJwZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJnZXRQYWdlUmFuZ2VTdHJpbmciLCJtYXhPblBhZ2UiLCJmaWx0ZXJpbmciLCJmaWx0ZXJlZENvdW50Iiwic3RhcnRQYWdlIiwibWF4IiwiZW5kUGFnZSIsIm1pbiIsImZpbHRlclN0cmluZyIsImZpbHRlckZpZWxkcyIsInNvcnRFeHByZXNzaW9uIiwiaGVhZGluZ3MiLCJwYXJzZV9zb3J0ZXhwciIsImV4cHIiLCJzZXRTb3J0RmllbGQiLCJzb3J0ZXhwciIsInNvcnRCeSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJvcmRlciIsImFkZFNvcnRGaWVsZCIsInRvZ2dsZV9vcmRlciIsIm1hcCIsInNldFRyYWNrQnkiLCJ0cmFja0J5IiwicmVnaXN0ZXJIZWFkaW5nIiwiaGVhZGluZ2VsZW1lbnQiLCJhZGRGaWx0ZXJGaWVsZCIsInNldEFycmF5RXhwciIsImRhdGFBcnJheUV4cCIsIiRlbGVtZW50IiwiJGF0dHJzIiwidHNXcmFwcGVyQ3RybCIsInRzSXRlbU5hbWUiLCJvcmlnaW5hbE5vRGF0YVRleHQiLCJ0c0l0ZW1OYW1lUGx1cmFsIiwidHNOb0RhdGFUZXh0IiwidHNXcmFwcGluZ0VsZW1lbnRDbGFzcyIsInRzUGVyUGFnZU9wdGlvbnMiLCIkZXZhbCIsInRzUGVyUGFnZURlZmF1bHQiLCJkZWZhdWx0UGVyUGFnZSIsInRzRmlsdGVyRmllbGRzIiwiZmlsdGVyIiwiJGZpbHRlckh0bWwiLCJ0c0Rpc3BsYXlGaWx0ZXJpbmciLCJpbnNlcnRCZWZvcmUiLCJ0c0ZpbHRlckZ1bmN0aW9uIiwic2hvdWxkSW5jbHVkZSIsImZpbHRlckxpbWl0RnVuIiwiYXJyYXkiLCJmaWx0ZXJlZEFyciIsInNvcnRGdW4iLCJhdmFsIiwiYnZhbCIsImRlc2NlbmRpbmciLCJmaWx0ZXJGdW4iLCJjb21wUmVzdWx0IiwicGFnZUxpbWl0RnVuIiwidHNEaXNwbGF5UGFnaW5hdGlvbiIsImJlZ2luIiwiZmluYWwiLCIkcGFnaW5hdGlvbkh0bWwiLCJwYWdlclN0cmluZyIsImFmdGVyIiwiJHdyYXBwaW5nRWxlbWVudCIsIndyYXAiLCJ0c0dldFRhYmxlRGF0YUZ1bmN0aW9uIiwiZ2V0dGVyIiwic2V0dGVyIiwiYXNzaWduIiwiZm4iLCJzaG91bGRBcHBseVNvcnRpbmciLCJzaG91bGRBcHBseUZpbHRlcmluZyIsImxpbWl0VG9DdXJyZW50UGFnZU9ubHkiLCJhcnIiLCIkcGFyZW50IiwicmVwbGFjZVdpdGgiLCJyZXF1aXJlIiwidHNPcmRlckJ5IiwiY2xpY2tpbmdDYWxsYmFjayIsInNoaWZ0S2V5IiwidHNDcml0ZXJpYSIsInRzTmFtZSIsInRzRGVmYXVsdCIsInRlcm1pbmFsIiwibXVsdGlFbGVtZW50IiwicHJpb3JpdHkiLCJyZXBlYXRBdHRycyIsIm5nUmVwZWF0RGlyZWN0aXZlIiwidHNSZXBlYXREaXJlY3RpdmUiLCJpc0RlZmluZWQiLCJ0c0V4cHIiLCJyZXBlYXRFeHByIiwicmVwZWF0RXhwclJlZ2V4IiwidHJhY2tCeU1hdGNoIiwicmVwZWF0SW5NYXRjaCIsInNlYXJjaCIsInRzSGlkZU5vRGF0YSIsInN0YXJ0U3ltIiwic3RhcnRTeW1ib2wiLCJlbmRTeW0iLCJlbmRTeW1ib2wiLCJub0RhdGFSb3ciLCJjbG9uZSIsInJlbW92ZUF0dHIiLCJjaGlsZHJlbiIsImNoaWxkRWxlbWVudENvdW50IiwicHJlcGVuZCIsImxpbWl0RnVuIiwic29ydGZ1biIsImFycmF5Q29weSIsImlucHV0IiwidGltZXN0YW1wIiwiX29ic2VydmVTdHJpbmdBdHRyIiwiYmFzZUNsYXNzIiwiY2xhc3NOYW1lIiwiJG9ic2VydmUiLCJjdXJyZW50Q2xhc3NlcyIsIl9vYnNlcnZlQm9vbGVhbkF0dHIiLCJ0b2dnbGVDbGFzcyIsInN0YWNrIiwiaGFzQ2xhc3MiLCJsaXN0IiwiYWx0VGV4dCIsImFsdCIsImFsdEVsZW0iLCJuZXh0IiwiYWx0RWxlbUNsYXNzIiwidGV4dCIsIiQiLCJQbHVnaW4iLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsInByb3BlcnR5TmFtZSIsImNvbnN0cnVjdG9yIiwidG9nZ2xlIiwiZWwiLCJoaWRlTWVudSIsInNob3dNZW51IiwiZmluZCIsInNob3ciLCJoaWRlIiwiZWFjaCIsIm9uIiwidGFyZ2V0Iiwib2Zmc2V0UGFyZW50IiwiJGRyb3Bkb3duIiwiY3VycmVudFRhcmdldCIsIm1lbnVCdXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsImpRdWVyeSIsInJldCIsIm1vbnRoIiwieWVhciIsIl9yZWYiLCJnZXRGdWxsWWVhciIsImRlZmF1bHRGb3JtYXQiLCJkZWZhdWx0SW5wdXRGb3JtYXQiLCJjYXJkcyIsInBhdHRlcm4iLCJmb3JtYXQiLCJpbnB1dEZvcm1hdCIsImN2Y0xlbmd0aCIsImx1aG4iLCJfZnJvbU51bWJlciIsIm51bSIsImNhcmQiLCJfZnJvbVR5cGUiLCJmcm9tTnVtYmVyIiwiZnJvbVR5cGUiLCJDYXJkcyIsIkNvbW1vbiIsIiRmaWx0ZXIiLCJfZm9ybWF0cyIsIl9oYXNUZXh0U2VsZWN0ZWQiLCIkdGFyZ2V0IiwicmVmIiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJfZm9ybWF0Q2FyZE51bWJlciIsImRpZ2l0IiwicmUiLCJ1cHBlckxlbmd0aCIsIndoaWNoIiwibWV0YSIsImtleUNvZGUiLCJfcmVzdHJpY3RDYXJkTnVtYmVyIiwiX2Zvcm1hdEJhY2tDYXJkTnVtYmVyIiwiX2dldEZvcm1hdHRlZENhcmROdW1iZXIiLCJncm91cHMiLCJnbG9iYWwiLCJleGVjIiwic2hpZnQiLCJfcmVGb3JtYXRDYXJkTnVtYmVyIiwiX3BhcnNlQ2FyZE51bWJlciIsImN0cmwiLCIkcGFyc2VycyIsIiRmb3JtYXR0ZXJzIiwiX2Zvcm1hdENWQyIsIl9yZXN0cmljdEV4cGlyeSIsIl9mb3JtYXRFeHBpcnkiLCJfZm9ybWF0Rm9yd2FyZEV4cGlyeSIsIl9mb3JtYXRGb3J3YXJkU2xhc2giLCJzbGFzaCIsIl9mb3JtYXRCYWNrRXhwaXJ5IiwiX3BhcnNlRXhwaXJ5IiwicGFyc2VFeHBpcnkiLCJleHBpcnkiLCJfZ2V0Rm9ybWF0dGVkRXhwaXJ5IiwidHlwZXMiLCJrZXlzIiwiZXJyc3RyIiwiX0Zvcm1hdCIsInBheW1lbnRzRm9ybWF0IiwiX19pbmRleE9mIiwibCIsIl9sdWhuQ2hlY2siLCJkaWdpdHMiLCJvZGQiLCJzdW0iLCJyZXZlcnNlIiwiX3ZhbGlkYXRvcnMiLCJjdmMiLCJyZWYxIiwicGF5bWVudHNUeXBlTW9kZWwiLCJ0eXBlTW9kZWwiLCJjbGVhckNhcmQiLCIkY2FyZCIsImNvcHkiLCJjdXJyZW50VGltZSIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJfVmFsaWRhdGUiLCJfdmFsaWRhdG9yV2F0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbCIsIm9sZFZhbCIsInZhbGlkIiwiJG1vZGVsVmFsdWUiLCIkc2V0VmFsaWRpdHkiLCJfVmFsaWRhdGVXYXRjaCIsInBheW1lbnRzVmFsaWRhdGUiLCJ2YWxpZGF0ZUZuIiwiX2dldERhdGFUb1NlbmQiLCJwb3NzaWJsZUtleXMiLCJjYW1lbFRvU25ha2UiLCJoYXNPd25Qcm9wZXJ0eSIsIlN0cmlwZSIsImZvcm0iLCJleHBNb250aFVzZWQiLCJleHBNb250aCIsImV4cFllYXJVc2VkIiwiZXhwWWVhciIsImV4cCIsImJ1dHRvbiIsImNyZWF0ZVRva2VuIiwic3RyaXBlRm9ybSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQUEsU0FBQUMsT0FBQSx1QkFDQUMsVUFBQSxZQUFBLFVBQUEsU0FBQUMsR0FDQSxPQUNBQyxTQUFBLElBQ0FDLE9BQ0FDLGNBQUEsSUFDQUMsdUJBQUEsSUFDQUMseUJBQUEsS0FFQUMsS0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUEsV0FDQUgsRUFBQUYsMkJBQUFFLEVBQUFGLHlCQUFBLElBQ0EsSUFBQU0sR0FBQVgsRUFBQVksYUFBQUwsRUFB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QXFHLEdBQUFOLEVBQUE3RyxLQUFBLFNBQ0FtSCxHQUFBcnJCLEtBQUEsWUFBQSxHQUVBK3FCLEVBQUFqSSxTQUFBLFlBR0F2a0IsRUFBQXVzQixPQUFBUSxZQUFBWixlQUFBanNCLEdBQUEsV0FDQSxHQUFBZ1MsR0FBQUwsU0FDQTNSLEdBQUF5QixPQUFBLFdBQ0F6QixFQUFBMEQsRUFBQW9wQixZQUFBclcsTUFBQXpXLEVBQUFnUyxLQUVBNGEsRUFBQXJyQixLQUFBLFlBQUEsTUFLQXZCLEVBQUF5QixPQUFBLFdBQ0F6QixFQUFBMEQsRUFBQW9wQixZQUFBclcsTUFBQXpXLEdBQUEsS0FBQW1KLE1BQUEsK0JBRUF5akIsRUFBQXJyQixLQUFBLFlBQUEsSUFHQXZCLEVBQUF3c0IsU0FBQSxLQUNBeHNCLEVBQUEwc0IsUUFBQSIsImZpbGUiOiJsaWJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYW5ndWxhci1wYXJhbGxheCcsIFtcbl0pLmRpcmVjdGl2ZSgncGFyYWxsYXgnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyYWxsYXhSYXRpbzogJ0AnLFxuICAgICAgcGFyYWxsYXhWZXJ0aWNhbE9mZnNldDogJ0AnLFxuICAgICAgcGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0OiAnQCcsXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICB2YXIgc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKCEkc2NvcGUucGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0KSAkc2NvcGUucGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0ID0gJzAnO1xuICAgICAgICB2YXIgY2FsY1ZhbFkgPSAkd2luZG93LnBhZ2VZT2Zmc2V0ICogKCRzY29wZS5wYXJhbGxheFJhdGlvID8gJHNjb3BlLnBhcmFsbGF4UmF0aW8gOiAxLjEgKTtcbiAgICAgICAgaWYgKGNhbGNWYWxZIDw9ICR3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICB2YXIgdG9wVmFsID0gKGNhbGNWYWxZIDwgJHNjb3BlLnBhcmFsbGF4VmVydGljYWxPZmZzZXQgPyAkc2NvcGUucGFyYWxsYXhWZXJ0aWNhbE9mZnNldCA6IGNhbGNWYWxZKTtcbiAgICAgICAgICB2YXIgaG96VmFsID0gKCRzY29wZS5wYXJhbGxheEhvcml6b250YWxPZmZzZXQuaW5kZXhPZihcIiVcIikgPT09IC0xID8gJHNjb3BlLnBhcmFsbGF4SG9yaXpvbnRhbE9mZnNldCArICdweCcgOiAkc2NvcGUucGFyYWxsYXhIb3Jpem9udGFsT2Zmc2V0KTtcbiAgICAgICAgICBlbGVtLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgaG96VmFsICsgJywgJyArIHRvcFZhbCArICdweCknKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2V0UG9zaXRpb24oKTtcblxuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIiwgc2V0UG9zaXRpb24pO1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJ0b3VjaG1vdmVcIiwgc2V0UG9zaXRpb24pO1xuICAgIH0gIC8vIGxpbmsgZnVuY3Rpb25cbiAgfTtcbn1dKS5kaXJlY3RpdmUoJ3BhcmFsbGF4QmFja2dyb3VuZCcsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+JyxcbiAgICBzY29wZToge1xuICAgICAgcGFyYWxsYXhSYXRpbzogJ0AnLFxuICAgICAgcGFyYWxsYXhWZXJ0aWNhbE9mZnNldDogJ0AnLFxuICAgICAgcGFyYWxsYXhTdGFydFBvaW50OiAnQCdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBzZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9ICgkc2NvcGUucGFyYWxsYXhWZXJ0aWNhbE9mZnNldC8xMDApICogZWxlbVswXS5vZmZzZXRIZWlnaHQ7IFxuICAgICAgICB2YXIgY2FsY1ZhbFkgPSAoZWxlbS5wcm9wKCdvZmZzZXRUb3AnKSAtICR3aW5kb3cucGFnZVlPZmZzZXQpICogKCRzY29wZS5wYXJhbGxheFJhdGlvID8gJHNjb3BlLnBhcmFsbGF4UmF0aW8gOiAxLjEpIC0gKG9mZnNldCB8fCAwKTtcbiAgICAgICAgLy8gaG9yaXpvbnRhbCBwb3NpdGlvbmluZ1xuICAgICAgICBpZiAoY2FsY1ZhbFkgPj0gJHNjb3BlLnBhcmFsbGF4U3RhcnRQb2ludCl7XG4gICAgICAgICAgY2FsY1ZhbFkgPSAkc2NvcGUucGFyYWxsYXhTdGFydFBvaW50O1xuICAgICAgICB9XG4gICAgICAgIGVsZW0uY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgXCI1MCUgXCIgKyBjYWxjVmFsWSArIFwicHhcIik7XG4gICAgICB9O1xuXG4gICAgICAvLyBzZXQgb3VyIGluaXRpYWwgcG9zaXRpb24gLSBmaXhlcyB3ZWJraXQgYmFja2dyb3VuZCByZW5kZXIgYnVnXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgnbG9hZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2V0UG9zaXRpb24oKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKFwic2Nyb2xsXCIsIHNldFBvc2l0aW9uKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKFwidG91Y2htb3ZlXCIsIHNldFBvc2l0aW9uKTtcbiAgICB9ICAvLyBsaW5rIGZ1bmN0aW9uXG4gIH07XG59XSk7XG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ25nQ2FydCcsIFsnbmdDYXJ0LmRpcmVjdGl2ZXMnXSlcclxuXHJcbiAgICAuY29uZmlnKFtmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLnByb3ZpZGVyKCckbmdDYXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuXHJcbiAgICAucnVuKFsnJHJvb3RTY29wZScsICduZ0NhcnQnLCduZ0NhcnRJdGVtJywgJ3N0b3JlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsIG5nQ2FydCwgbmdDYXJ0SXRlbSwgc3RvcmUpIHtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ25nQ2FydDpjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBuZ0NhcnQuJHNhdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3Qoc3RvcmUuZ2V0KCdjYXJ0JykpKSB7XHJcbiAgICAgICAgICAgIG5nQ2FydC4kcmVzdG9yZShzdG9yZS5nZXQoJ2NhcnQnKSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5nQ2FydC5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1dKVxyXG5cclxuICAgIC5zZXJ2aWNlKCduZ0NhcnQnLCBbJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckd2luZG93JywgJ25nQ2FydEl0ZW0nLCAnc3RvcmUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgJHN0YXRlLCAkd2luZG93LCBuZ0NhcnRJdGVtLCBzdG9yZSkge1xyXG4gICAgICAgIHZhciBteVRpbWVvdXQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuJGNhcnQgPSB7XHJcbiAgICAgICAgICAgICAgICBzaGlwcGluZyA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0YXhSYXRlIDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRheCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtID0gZnVuY3Rpb24gKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSwgYXR0cikge1xyXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciB0aW1lckFtb3VudCA9IDYwMDAwO1xyXG4gICAgICAgICAgICB2YXIgaW5DYXJ0ID0gdGhpcy5nZXRJdGVtQnlTa3Uoc2t1KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5DYXJ0ID09PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgICAgICAvL1VwZGF0ZSBxdWFudGl0eSBvZiBhbiBpdGVtIGlmIGl0J3MgYWxyZWFkeSBpbiB0aGUgY2FydFxyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmY7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5DYXJ0USA9IGluQ2FydC5nZXRRdWFudGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluQ2FydC5fZGF0YS5wcm9kdWN0X3R5cGUgPT09IFwidGlja2V0XCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpZmYgPSBxdWFudGl0eSAtIGluQ2FydFE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldElkOiBpbkNhcnQucGFyZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRDb3VudDogZGlmZlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCcvc3RvcmUvY2hhbmdlU2Vzc2lvblRpY2tldCcsIGRhdGEpLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobXlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdzZXRUaW1lcicsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNob3VsZCBiZSByZXN0YXJ0aW5nIHRpbWVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBteVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW1vdmVUaWNrZXRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3NldFRpbWVyJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aW1lckFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQ2FydC5zZXRRdWFudGl0eShxdWFudGl0eSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtVXBkYXRlZCcsIGluQ2FydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaWRuJ3Qgd29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2xvd0NvdW50Jywge2Jvb2w6IHRydWUsIG9yaWdpbmFsVmFsOiBpbkNhcnRRfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluQ2FydC5zZXRRdWFudGl0eShxdWFudGl0eSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6aXRlbVVwZGF0ZWQnLCBpbkNhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdJdGVtID0gbmV3IG5nQ2FydEl0ZW0oaWQsIHNrdSwgbmFtZSwgcHJpY2UsIHF1YW50aXR5LCBkYXRhLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdJdGVtLl9kYXRhLnByb2R1Y3RfdHlwZSA9PT0gXCJ0aWNrZXRcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIHRpY2tldCB3YXMgYWRkZWQhIFwiLG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRJZDogbmV3SXRlbS5wYXJlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldENvdW50OiBuZXdJdGVtLnF1YW50aXR5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLnBvc3QoJy9zdG9yZS9hZGRTZXNzaW9uVGlja2V0JywgZGF0YSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnc2V0VGltZXInLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBteVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZVRpY2tldHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdzZXRUaW1lcicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aW1lckFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpZG4ndCB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuJGNhcnQuaXRlbXMucHVzaChuZXdJdGVtKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0Oml0ZW1BZGRlZCcsIG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGFuZ2UnLCB7fSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtQnRuID0gZnVuY3Rpb24gKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgc2t1UGFyc2VkID0gSlNPTi5wYXJzZShza3UpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNrdVBhcnNlZCl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInByb3A6IFwiLHNrdVBhcnNlZFtwcm9wXSk7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY291bnQgaXMgOiBcIixjb3VudCk7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA8IDIpe1xyXG4gICAgICAgICAgICB2YXIgaW5DYXJ0ID0gdGhpcy5nZXRJdGVtQnlTa3Uoc2t1KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5DYXJ0ID09PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgICAgICAvL1VwZGF0ZSBxdWFudGl0eSBvZiBhbiBpdGVtIGlmIGl0J3MgYWxyZWFkeSBpbiB0aGUgY2FydFxyXG4gICAgICAgICAgICAgICAgaW5DYXJ0LnNldFF1YW50aXR5KHF1YW50aXR5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtVXBkYXRlZCcsIGluQ2FydCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbSA9IG5ldyBuZ0NhcnRJdGVtKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRjYXJ0Lml0ZW1zLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtQWRkZWQnLCBuZXdJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnVybCgnL3N0b3JlLycrIGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZVF1YW50aXR5ID0gZnVuY3Rpb24gKHNrdSwgcXVhbnRpdHkpe1xyXG4gICAgICAgICAgICB2YXIgaW5DYXJ0ID0gdGhpcy5nZXRJdGVtQnlTa3Uoc2t1KTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbkNhcnQgPT09ICdvYmplY3QnKXtcclxuICAgICAgICAgICAgaW5DYXJ0LnNldFF1YW50aXR5KHF1YW50aXR5LCB0cnVlKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6aXRlbVVwZGF0ZWQnLCBpbkNhcnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3RoaW5nIHRoZXJlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLmdldEl0ZW1CeUlkID0gZnVuY3Rpb24gKGl0ZW1JZCkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLmdldENhcnQoKS5pdGVtcztcclxuICAgICAgICAgICAgdmFyIGJ1aWxkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAgKGl0ZW0uZ2V0SWQoKSA9PT0gaXRlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVpbGQgPSBpdGVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICB0aGlzLmdldEl0ZW1CeVNrdSA9IGZ1bmN0aW9uIChpdGVtU2t1KSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0Q2FydCgpLml0ZW1zO1xyXG4gICAgICAgICAgICB2YXIgYnVpbGQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmICAoaXRlbS5nZXRTa3UoKSA9PT0gaXRlbVNrdSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkID0gaXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBidWlsZDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldFNoaXBwaW5nID0gZnVuY3Rpb24oc2hpcHBpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLiRjYXJ0LnNoaXBwaW5nID0gc2hpcHBpbmc7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2hpcHBpbmcoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFNoaXBwaW5nID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q2FydCgpLml0ZW1zLmxlbmd0aCA9PSAwKSByZXR1cm4gMDtcclxuICAgICAgICAgICAgcmV0dXJuICB0aGlzLmdldENhcnQoKS5zaGlwcGluZztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldFRheFJhdGUgPSBmdW5jdGlvbih0YXhSYXRlKXtcclxuICAgICAgICAgICAgdGhpcy4kY2FydC50YXhSYXRlID0gK3BhcnNlRmxvYXQodGF4UmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hhbmdlJywge30pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUYXhSYXRlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRUYXhSYXRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNhcnQudGF4UmF0ZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VGF4ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKCh0aGlzLmdldFN1YlRvdGFsKCkvMTAwKSAqIHRoaXMuZ2V0Q2FydCgpLnRheFJhdGUgKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDYXJ0ID0gZnVuY3Rpb24gKGNhcnQpIHtcclxuICAgICAgICAgICAgdGhpcy4kY2FydCA9IGNhcnQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENhcnQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldENhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kY2FydDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldEl0ZW1zID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FydCgpLml0ZW1zO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VG90YWxJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5nZXRJdGVtcygpO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCArPSBpdGVtLmdldFF1YW50aXR5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRUb3RhbFVuaXF1ZUl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDYXJ0KCkuaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Q2FydFRvdGFsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ2V0Q2FydCgpLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdG90YWwgKz0gaXRlbS5nZXRUb3RhbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodG90YWwpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0U3ViVG90YWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgdG90YWwgPSAwO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5nZXRDYXJ0KCkuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBpdGVtLmdldFRvdGFsKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc2hpcHBpbmcgPSB0aGlzLmdldFNoaXBwaW5nKCkgfHwgMDtcclxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHNoaXBwaW5nO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0b3RhbCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXRzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ2V0Q2FydCgpLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uX2RhdGEucHJvZHVjdF90eXBlID09PSBcInRpY2tldFwiKXtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5yZW1vdmVJdGVtKGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsQ29zdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICtwYXJzZUludCh0aGlzLmdldENhcnRUb3RhbCgpICsgdGhpcy5nZXRTaGlwcGluZygpICsgdGhpcy5nZXRUYXgoKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy4kY2FydC5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpWzBdIHx8IHt9O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtUmVtb3ZlZCcsIGl0ZW0pO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGFuZ2UnLCB7fSk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbUJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgIHZhciBjYXJ0ID0gdGhpcy5nZXRDYXJ0KCk7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjYXJ0Lml0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uZ2V0SWQoKSA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gY2FydC5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpWzBdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDYXJ0KGNhcnQpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDppdGVtUmVtb3ZlZCcsIGl0ZW0pO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ25nQ2FydDpjaGFuZ2UnLCB7fSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5lbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoYW5nZScsIHt9KTtcclxuICAgICAgICAgICAgdGhpcy4kY2FydC5pdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjYXJ0Jyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuJGNhcnQuaXRlbXMubGVuZ3RoID4gMCA/IGZhbHNlIDogdHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudG9PYmplY3QgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEl0ZW1zKCkubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ2V0SXRlbXMoKSwgZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoIChpdGVtLnRvT2JqZWN0KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzaGlwcGluZzogdGhpcy5nZXRTaGlwcGluZygpLFxyXG4gICAgICAgICAgICAgICAgdGF4OiB0aGlzLmdldFRheCgpLFxyXG4gICAgICAgICAgICAgICAgdGF4UmF0ZTogdGhpcy5nZXRUYXhSYXRlKCksXHJcbiAgICAgICAgICAgICAgICBzdWJUb3RhbDogdGhpcy5nZXRTdWJUb3RhbCgpLFxyXG4gICAgICAgICAgICAgICAgdG90YWxDb3N0OiB0aGlzLnRvdGFsQ29zdCgpLFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6aXRlbXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB0aGlzLiRyZXN0b3JlID0gZnVuY3Rpb24oc3RvcmVkQ2FydCl7XHJcbiAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIF9zZWxmLmluaXQoKTtcclxuICAgICAgICAgICAgX3NlbGYuJGNhcnQuc2hpcHBpbmcgPSBzdG9yZWRDYXJ0LnNoaXBwaW5nO1xyXG4gICAgICAgICAgICBfc2VsZi4kY2FydC50YXhSYXRlID0gc3RvcmVkQ2FydC50YXhSYXRlO1xyXG4gICAgICAgICAgICBfc2VsZi4kY2FydC50YXggPSBzdG9yZWRDYXJ0LnRheDtcclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzdG9yZWRDYXJ0Lml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpdGVtOiBcIixpdGVtKTtcclxuICAgICAgICAgICAgICAgIF9zZWxmLiRjYXJ0Lml0ZW1zLnB1c2gobmV3IG5nQ2FydEl0ZW0oaXRlbS5wYXJlbnQsIGl0ZW0uc2t1LCBpdGVtLmRlc2NyaXB0aW9uLCBpdGVtLmFtb3VudCwgaXRlbS5xdWFudGl0eSwgaXRlbS5fZGF0YSwgaXRlbS5hdHRyKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRzYXZlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLiRzYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RvcmUuc2V0KCdjYXJ0JywgYW5ndWxhci50b0pzb24odGhpcy5nZXRDYXJ0KCkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfV0pXHJcblxyXG4gICAgLmZhY3RvcnkoJ25nQ2FydEl0ZW0nLCBbJyRyb290U2NvcGUnLCAnJGxvZycsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkbG9nKSB7XHJcblxyXG4gICAgICAgIHZhciBpdGVtID0gZnVuY3Rpb24gKGlkLCBza3UsIG5hbWUsIHByaWNlLCBxdWFudGl0eSwgZGF0YSwgYXR0cikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgaWQ/IFwiLGlkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIGRhdGE/IFwiLGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKG15RGF0YS5wcm9kdWN0X3R5cGUgPT09ICd0aWNrZXQnKXtcclxuICAgICAgICAgICAgLy8gICAgIG15RGF0YS51bml4ID0gZGF0YS5kYXRlO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2UgaWYgKG15RGF0YS5wcm9kdWN0X3R5cGUgPT09ICdzaGlwcGFibGUnKXtcclxuICAgICAgICAgICAgLy8gICAgIG15RGF0YS5zaGlwX2RldGFpbHMgPSBkYXRhLnNoaXBfZGV0YWlscztcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zZXRJZChpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2t1KHNrdSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TmFtZShuYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcmljZShwcmljZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UXVhbnRpdHkocXVhbnRpdHkpO1xyXG4gICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cihhdHRyIHx8IGRhdGEuYXR0cik7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldElkID0gZnVuY3Rpb24oaWQpe1xyXG4gICAgICAgICAgICBpZiAoaWQpICB0aGlzLnBhcmVudCA9IGlkO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ0FuIElEIG11c3QgYmUgcHJvdmlkZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldFNrdSA9IGZ1bmN0aW9uKHNrdSl7XHJcbiAgICAgICAgICAgIGlmIChza3UpICB0aGlzLnNrdSA9IHNrdTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdBIHNrdSBtdXN0IGJlIHByb3ZpZGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXRJZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXRTa3UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5za3U7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldE5hbWUgPSBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICAgICAgaWYgKG5hbWUpICB0aGlzLmRlc2NyaXB0aW9uID0gbmFtZTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdBIG5hbWUgbXVzdCBiZSBwcm92aWRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb247XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuc2V0UHJpY2UgPSBmdW5jdGlvbihwcmljZSl7XHJcbiAgICAgICAgICAgIHZhciBwcmljZUZsb2F0ID0gcGFyc2VGbG9hdChwcmljZSk7XHJcbiAgICAgICAgICAgIGlmIChwcmljZUZsb2F0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJpY2VGbG9hdCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcignQSBwcmljZSBtdXN0IGJlIG92ZXIgMCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFtb3VudCA9IChwcmljZUZsb2F0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ0EgcHJpY2UgbXVzdCBiZSBwcm92aWRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXRQcmljZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFtb3VudDtcclxuICAgICAgICB9O1xyXG5cclxuICAgIFxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldFF1YW50aXR5ID0gZnVuY3Rpb24ocXVhbnRpdHksIHJlbGF0aXZlKXtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgcXVhbnRpdHlJbnQgPSBwYXJzZUludChxdWFudGl0eSk7XHJcbiAgICAgICAgICAgIGlmIChxdWFudGl0eUludCAlIDEgPT09IDApe1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlID09PSB0cnVlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YW50aXR5ICArPSBxdWFudGl0eUludDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFudGl0eSA9IHF1YW50aXR5SW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVhbnRpdHkgPCAxKSB0aGlzLnF1YW50aXR5ID0gMTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTtcclxuICAgICAgICAgICAgICAgICRsb2cuaW5mbygnUXVhbnRpdHkgbXVzdCBiZSBhbiBpbnRlZ2VyIGFuZCB3YXMgZGVmYXVsdGVkIHRvIDEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuZ2V0UXVhbnRpdHkgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWFudGl0eTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2V0dGluZyBkYXRhXCIpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXRhKSByZXR1cm4gdGhpcy5fZGF0YTtcclxuICAgICAgICAgICAgZWxzZSAkbG9nLmluZm8oJ1RoaXMgaXRlbSBoYXMgbm8gZGF0YScpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0ucHJvdG90eXBlLnNldEF0dHIgPSBmdW5jdGlvbihhdHRyaWJ1dGVzKXtcclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMpIHRoaXMuYXR0ciA9IGF0dHJpYnV0ZXM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUuZ2V0QXR0ciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dHIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cjtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuXHJcblxyXG5cclxuICAgICAgICBpdGVtLnByb3RvdHlwZS5nZXRUb3RhbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiArcGFyc2VGbG9hdCh0aGlzLmdldFF1YW50aXR5KCkgKiB0aGlzLmdldFByaWNlKCkpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaXRlbS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmdldElkKCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmdldE5hbWUoKSxcclxuICAgICAgICAgICAgICAgIHByaWNlOiB0aGlzLmdldFByaWNlKCksXHJcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogdGhpcy5nZXRRdWFudGl0eSgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy5nZXRUb3RhbCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuXHJcbiAgICB9XSlcclxuXHJcbiAgICAuc2VydmljZSgnc3RvcmUnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSApICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcnQgPSBhbmd1bGFyLmZyb21Kc29uKCAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgKSA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY2FydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGtleSwgdmFsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCBrZXksIGFuZ3VsYXIudG9Kc29uKHZhbCkgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XSlcclxuXHJcbiAgICAuY29udHJvbGxlcignQ2FydENvbnRyb2xsZXInLFsnJHNjb3BlJywnJHJvb3RTY29wZScsICduZ0NhcnQnLCckdGltZW91dCcsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgbmdDYXJ0LCAkdGltZW91dCkge1xyXG4gICAgICAgICRzY29wZS5sb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUudG9nZ2xlQ2FydCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5uZ0NhcnQgPSBuZ0NhcnQ7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICB2YXIgaXRlbXMgPSBuZ0NhcnQuZ2V0SXRlbXMoKTtcclxuICAgICAgICAgICAgLy8gbG9vcCB0byBkZXRlcm1pbmUgaWYgYW55IGl0ZW1zIGFyZSBzaGlwcGFibGVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpdGVtcyBiZWZvcmUgZmlsdGVyaW5nIHNoaXBwYWJsZTogXCIsaXRlbXMpO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5fZGF0YS5zaGlwcGFibGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaG91bGQgYmUgc2V0IHNoaXBwYWJsZSEhISFcIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hpcEJvb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRTaGlwcGFibGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hvdWxkIG5vdCBiZSBzaGlwcGFibGUhISEhXCIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNoaXBCb29sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldFNoaXBwYWJsZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuXHJcbiAgICB9XSlcclxuXHJcbiAgICAuY29udHJvbGxlcignQ2FydEJ0bkNvbnRyb2xsZXInLFsnJHNjb3BlJywgJ25nQ2FydCcsJyR0aW1lb3V0JywgZnVuY3Rpb24oJHNjb3BlLCBuZ0NhcnQsICR0aW1lb3V0KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLmxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS50b2dnbGVDYXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLm5nQ2FydCA9IG5nQ2FydDtcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1dKVxyXG5cclxuICAgIC52YWx1ZSgndmVyc2lvbicsICcxLjAuMCcpO1xyXG47J3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCduZ0NhcnQuZGlyZWN0aXZlcycsIFsnbmdDYXJ0LmZ1bGZpbG1lbnQnXSlcclxuXHJcbiAgICAuY29udHJvbGxlcignQ2FydENvbnRyb2xsZXInLFsnJHNjb3BlJywgJ25nQ2FydCcsIGZ1bmN0aW9uKCRzY29wZSwgbmdDYXJ0KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLm5nQ2FydCA9IG5nQ2FydDtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XSlcclxuXHJcbiAgICAgICAgICAuZGlyZWN0aXZlKCduZ2NhcnRBZGRCdG4nLCBbJ25nQ2FydCcsIGZ1bmN0aW9uKG5nQ2FydCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydEJ0bkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgaWQ6J0AnLFxyXG4gICAgICAgICAgICAgICAgc2t1OiAnQCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5OidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5TWF4OidAJyxcclxuICAgICAgICAgICAgICAgIHByaWNlOidAJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6Jz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvYWRkdG9jYXJ0QnRuLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pbkNhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAgbmdDYXJ0LmdldEl0ZW1CeVNrdShhdHRycy5za3UpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW5DYXJ0KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnEgPSBuZ0NhcnQuZ2V0SXRlbUJ5U2t1KGF0dHJzLnNrdSkuZ2V0UXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzY29wZS5xdHlPcHQgPSAgW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBzY29wZS5xdWFudGl0eU1heDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucXR5T3B0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgICAuZGlyZWN0aXZlKCduZ2NhcnRBZGR0b2NhcnQnLCBbJ25nQ2FydCcsIGZ1bmN0aW9uKG5nQ2FydCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgaWQ6J0AnLFxyXG4gICAgICAgICAgICAgICAgc2t1OiAnQCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5OidAJyxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5TWF4OidAJyxcclxuICAgICAgICAgICAgICAgIHByaWNlOidAJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6Jz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvYWRkdG9jYXJ0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pbkNhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAgbmdDYXJ0LmdldEl0ZW1CeVNrdShhdHRycy5za3UpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW5DYXJ0KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnEgPSBuZ0NhcnQuZ2V0SXRlbUJ5U2t1KGF0dHJzLnNrdSkuZ2V0UXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgc2NvcGUucXR5T3B0ID0gIFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gc2NvcGUucXVhbnRpdHlNYXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnF0eU9wdC5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0QWRkdG9jYXJ0UHJvZHVjdCcsIFsnbmdDYXJ0JywgZnVuY3Rpb24obmdDYXJ0KXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBpZDonQCcsXHJcbiAgICAgICAgICAgICAgICBza3U6ICdAJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6J0AnLFxyXG4gICAgICAgICAgICAgICAgYXR0cjogJ0AnLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6J0AnLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHlNYXg6J0AnLFxyXG4gICAgICAgICAgICAgICAgcHJpY2U6J0AnLFxyXG4gICAgICAgICAgICAgICAgZGF0YTonPSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9hZGR0b2NhcnRQcm9kdWN0Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pbkNhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAgbmdDYXJ0LmdldEl0ZW1CeVNrdShhdHRycy5za3UpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW5DYXJ0KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnEgPSBuZ0NhcnQuZ2V0SXRlbUJ5U2t1KGF0dHJzLnNrdSkuZ2V0UXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucSA9IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzY29wZS51cGRhdGVRID0gZnVuY3Rpb24oY291bnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY291bnQgc2hvdWxkIGJlOiBcIixjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucXR5T3B0ID0gIFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucXR5T3B0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2NvcGUudXBkYXRlUShzY29wZS5xdWFudGl0eU1heCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCdjaGFuZ2VRJyxmdW5jdGlvbihldmVudCwgZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkYXRhIGluICRvbj8gXCIsZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGluZyBpbiBkaXJlY3RpdmUhXCIpXHJcbiAgICAgICAgICAgICAgICBzY29wZS51cGRhdGVRKGRhdGEuY291bnQpOyBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG5cclxuXHJcbiAgICAuZGlyZWN0aXZlKCduZ2NhcnRDYXJ0JywgW2Z1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvY2FydC5odG1sJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuICAgIC5kaXJlY3RpdmUoJ25nY2FydFN1bW1hcnknLCBbZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdCA6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdDYXJ0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZXdzL25nQ2FydC9zdW1tYXJ5Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgIC5kaXJlY3RpdmUoJ25nY2FydENhcnRDb25maXJtJywgW2Z1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvY2FydC1jb25maXJtLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLmRpcmVjdGl2ZSgnbmdjYXJ0U21hbGxDYXJ0JywgW2Z1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvc21hbGwtY2FydC5odG1sJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuICAgIC5kaXJlY3RpdmUoJ25nY2FydFNtYWxsQ2FydENvbGxhcHNlJywgW2Z1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnQ2FydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgYXR0cnMudGVtcGxhdGVVcmwgPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWV3cy9uZ0NhcnQvc21hbGwtY2FydC1jb2xsYXBzZS5odG1sJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuICAgIC5kaXJlY3RpdmUoJ25nY2FydENoZWNrb3V0JywgW2Z1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3QgOiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAoJ0NhcnRDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICduZ0NhcnQnLCAnZnVsZmlsbWVudFByb3ZpZGVyJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCBuZ0NhcnQsIGZ1bGZpbG1lbnRQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5nQ2FydCA9IG5nQ2FydDtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVsZmlsbWVudFByb3ZpZGVyLnNldFNlcnZpY2UoJHNjb3BlLnNlcnZpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGZpbG1lbnRQcm92aWRlci5zZXRTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGZpbG1lbnRQcm92aWRlci5jaGVja291dCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCduZ0NhcnQ6Y2hlY2tvdXRfc3VjY2VlZGVkJywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbmdDYXJ0OmNoZWNrb3V0X2ZhaWxlZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfV0pLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgc2VydmljZTonQCcsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczonPSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBhdHRycy50ZW1wbGF0ZVVybCA9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RlbXBsYXRlL25nQ2FydC9jaGVja291dC5odG1sJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuO1xyXG5hbmd1bGFyLm1vZHVsZSgnbmdDYXJ0LmZ1bGZpbG1lbnQnLCBbXSlcclxuICAgIC5zZXJ2aWNlKCdmdWxmaWxtZW50UHJvdmlkZXInLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcil7XHJcblxyXG4gICAgICAgIHRoaXMuX29iaiA9IHtcclxuICAgICAgICAgICAgc2VydmljZSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgc2V0dGluZ3MgOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldFNlcnZpY2UgPSBmdW5jdGlvbihzZXJ2aWNlKXtcclxuICAgICAgICAgICAgdGhpcy5fb2JqLnNlcnZpY2UgPSBzZXJ2aWNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2V0dGluZ3MgPSBmdW5jdGlvbihzZXR0aW5ncyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29iai5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSAkaW5qZWN0b3IuZ2V0KCduZ0NhcnQuZnVsZmlsbWVudC4nICsgdGhpcy5fb2JqLnNlcnZpY2UpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBwcm92aWRlci5jaGVja291dCh0aGlzLl9vYmouc2V0dGluZ3MpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfV0pXHJcblxyXG5cclxuLnNlcnZpY2UoJ25nQ2FydC5mdWxmaWxtZW50LmxvZycsIFsnJHEnLCAnJGxvZycsICduZ0NhcnQnLCBmdW5jdGlvbigkcSwgJGxvZywgbmdDYXJ0KXtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja291dCA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAgICAgJGxvZy5pbmZvKG5nQ2FydC50b09iamVjdCgpKTtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICBjYXJ0Om5nQ2FydC50b09iamVjdCgpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiB9XSlcclxuXHJcbi5zZXJ2aWNlKCduZ0NhcnQuZnVsZmlsbWVudC5odHRwJywgWyckaHR0cCcsICduZ0NhcnQnLCBmdW5jdGlvbigkaHR0cCwgbmdDYXJ0KXtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja291dCA9IGZ1bmN0aW9uKHNldHRpbmdzKXtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3Qoc2V0dGluZ3MudXJsLFxyXG4gICAgICAgICAgICAgICAgeyBkYXRhOiBuZ0NhcnQudG9PYmplY3QoKSwgb3B0aW9uczogc2V0dGluZ3Mub3B0aW9uc30pO1xyXG4gICAgICAgIH1cclxuIH1dKVxyXG5cclxuXHJcbi5zZXJ2aWNlKCduZ0NhcnQuZnVsZmlsbWVudC5wYXlwYWwnLCBbJyRodHRwJywgJ25nQ2FydCcsIGZ1bmN0aW9uKCRodHRwLCBuZ0NhcnQpe1xyXG5cclxuXHJcbn1dKTtcclxuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8qXG5cdCpcblx0KiBBIEFuZ3VsYXJKUyBtb2R1bGUgdGhhdCBpbXBsZW1lbnRzIHRoZSBIVE1MNSBXM0Mgc2F2ZUFzKCkgaW4gYnJvd3NlcnMgdGhhdFxuXHQqIGRvIG5vdCBuYXRpdmVseSBzdXBwb3J0IGl0XG5cdCpcblx0KiAoYykgMjAxNSBQaGlsaXBwIEFsZmVyb3Zcblx0KiBMaWNlbnNlOiBNSVRcblx0KlxuXHQqL1xuXG5cdG1vZHVsZS5leHBvcnRzID0gJ25nRmlsZVNhdmVyJztcblxuXHRhbmd1bGFyLm1vZHVsZSgnbmdGaWxlU2F2ZXInLCBbXSlcblx0ICAuZmFjdG9yeSgnRmlsZVNhdmVyJywgWydCbG9iJywgJ1NhdmVBcycsICdGaWxlU2F2ZXJVdGlscycsIF9fd2VicGFja19yZXF1aXJlX18oMSldKVxuXHQgIC5mYWN0b3J5KCdGaWxlU2F2ZXJVdGlscycsIFtfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSlcblx0ICAuZmFjdG9yeSgnQmxvYicsIFsnJHdpbmRvdycsIF9fd2VicGFja19yZXF1aXJlX18oMyldKVxuXHQgIC5mYWN0b3J5KCdTYXZlQXMnLCBbX193ZWJwYWNrX3JlcXVpcmVfXyg1KV0pO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBGaWxlU2F2ZXIoQmxvYiwgU2F2ZUFzLCBGaWxlU2F2ZXJVdGlscykge1xuXG5cdCAgZnVuY3Rpb24gc2F2ZShibG9iLCBmaWxlbmFtZSwgZGlzYWJsZUF1dG9CT00pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIFNhdmVBcyhibG9iLCBmaWxlbmFtZSwgZGlzYWJsZUF1dG9CT00pO1xuXHQgICAgfSBjYXRjaChlcnIpIHtcblx0ICAgICAgRmlsZVNhdmVyVXRpbHMuaGFuZGxlRXJyb3JzKGVyci5tZXNzYWdlKTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4ge1xuXG5cdCAgICAvKipcblx0ICAgICogc2F2ZUFzXG5cdCAgICAqIEltbWVkaWF0ZWx5IHN0YXJ0cyBzYXZpbmcgYSBmaWxlLCByZXR1cm5zIHVuZGVmaW5lZC5cblx0ICAgICpcblx0ICAgICogQG5hbWUgc2F2ZUFzXG5cdCAgICAqIEBmdW5jdGlvblxuXHQgICAgKiBAcGFyYW0ge0Jsb2J9IGRhdGEgQSBCbG9iIGluc3RhbmNlXG5cdCAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxlbmFtZSBDdXN0b20gZmlsZW5hbWUgKGV4dGVuc2lvbiBpcyBvcHRpb25hbClcblx0ICAgICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlQXV0b0JPTSBEaXNhYmxlIGF1dG9tYXRpY2FsbHkgcHJvdmlkZWQgVW5pY29kZVxuXHQgICAgKiB0ZXh0IGVuY29kaW5nIGhpbnRzXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1VuZGVmaW5lZH1cblx0ICAgICovXG5cblx0ICAgIHNhdmVBczogZnVuY3Rpb24oZGF0YSwgZmlsZW5hbWUsIGRpc2FibGVBdXRvQk9NKSB7XG5cblx0ICAgICAgaWYgKCFGaWxlU2F2ZXJVdGlscy5pc0Jsb2JJbnN0YW5jZShkYXRhKSkge1xuXHQgICAgICAgIEZpbGVTYXZlclV0aWxzLmhhbmRsZUVycm9ycygnRGF0YSBhcmd1bWVudCBzaG91bGQgYmUgYSBibG9iIGluc3RhbmNlJyk7XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoIUZpbGVTYXZlclV0aWxzLmlzU3RyaW5nKGZpbGVuYW1lKSkge1xuXHQgICAgICAgIEZpbGVTYXZlclV0aWxzLmhhbmRsZUVycm9ycygnRmlsZW5hbWUgYXJndW1lbnQgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gc2F2ZShkYXRhLCBmaWxlbmFtZSwgZGlzYWJsZUF1dG9CT00pO1xuXHQgICAgfVxuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEZpbGVTYXZlclV0aWxzKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBoYW5kbGVFcnJvcnM6IGZ1bmN0aW9uKG1zZykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcblx0ICAgIH0sXG5cdCAgICBpc1N0cmluZzogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fCBvYmogaW5zdGFuY2VvZiBTdHJpbmc7XG5cdCAgICB9LFxuXHQgICAgaXNVbmRlZmluZWQ6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCc7XG5cdCAgICB9LFxuXHQgICAgaXNCbG9iSW5zdGFuY2U6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgQmxvYjtcblx0ICAgIH1cblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEJsb2IoJHdpbmRvdykge1xuXHQgIHJldHVybiAkd2luZG93LkJsb2I7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIEJsb2IuanNcblx0ICogQSBCbG9iIGltcGxlbWVudGF0aW9uLlxuXHQgKiAyMDE0LTA3LTI0XG5cdCAqXG5cdCAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cblx0ICogQnkgRGV2aW4gU2FtYXJpbiwgaHR0cHM6Ly9naXRodWIuY29tL2RzYW1hcmluXG5cdCAqIExpY2Vuc2U6IFgxMS9NSVRcblx0ICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvQmxvYi5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5cdCAqL1xuXG5cdC8qZ2xvYmFsIHNlbGYsIHVuZXNjYXBlICovXG5cdC8qanNsaW50IGJpdHdpc2U6IHRydWUsIHJlZ2V4cDogdHJ1ZSwgY29uZnVzaW9uOiB0cnVlLCBlczU6IHRydWUsIHZhcnM6IHRydWUsIHdoaXRlOiB0cnVlLFxuXHQgIHBsdXNwbHVzOiB0cnVlICovXG5cblx0LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0Jsb2IuanMvYmxvYi9tYXN0ZXIvQmxvYi5qcyAqL1xuXG5cdChmdW5jdGlvbiAodmlldykge1xuXHRcdFwidXNlIHN0cmljdFwiO1xuXG5cdFx0dmlldy5VUkwgPSB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTDtcblxuXHRcdGlmICh2aWV3LkJsb2IgJiYgdmlldy5VUkwpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdG5ldyBCbG9iO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblxuXHRcdC8vIEludGVybmFsbHkgd2UgdXNlIGEgQmxvYkJ1aWxkZXIgaW1wbGVtZW50YXRpb24gdG8gYmFzZSBCbG9iIG9mZiBvZlxuXHRcdC8vIGluIG9yZGVyIHRvIHN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgdGhhdCBvbmx5IGhhdmUgQmxvYkJ1aWxkZXJcblx0XHR2YXIgQmxvYkJ1aWxkZXIgPSB2aWV3LkJsb2JCdWlsZGVyIHx8IHZpZXcuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgdmlldy5Nb3pCbG9iQnVpbGRlciB8fCAoZnVuY3Rpb24odmlldykge1xuXHRcdFx0dmFyXG5cdFx0XHRcdCAgZ2V0X2NsYXNzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpLm1hdGNoKC9eXFxbb2JqZWN0XFxzKC4qKVxcXSQvKVsxXTtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIEZha2VCbG9iQnVpbGRlciA9IGZ1bmN0aW9uIEJsb2JCdWlsZGVyKCkge1xuXHRcdFx0XHRcdHRoaXMuZGF0YSA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCwgRmFrZUJsb2IgPSBmdW5jdGlvbiBCbG9iKGRhdGEsIHR5cGUsIGVuY29kaW5nKSB7XG5cdFx0XHRcdFx0dGhpcy5kYXRhID0gZGF0YTtcblx0XHRcdFx0XHR0aGlzLnNpemUgPSBkYXRhLmxlbmd0aDtcblx0XHRcdFx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcblx0XHRcdFx0fVxuXHRcdFx0XHQsIEZCQl9wcm90byA9IEZha2VCbG9iQnVpbGRlci5wcm90b3R5cGVcblx0XHRcdFx0LCBGQl9wcm90byA9IEZha2VCbG9iLnByb3RvdHlwZVxuXHRcdFx0XHQsIEZpbGVSZWFkZXJTeW5jID0gdmlldy5GaWxlUmVhZGVyU3luY1xuXHRcdFx0XHQsIEZpbGVFeGNlcHRpb24gPSBmdW5jdGlvbih0eXBlKSB7XG5cdFx0XHRcdFx0dGhpcy5jb2RlID0gdGhpc1t0aGlzLm5hbWUgPSB0eXBlXTtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIGZpbGVfZXhfY29kZXMgPSAoXG5cdFx0XHRcdFx0ICBcIk5PVF9GT1VORF9FUlIgU0VDVVJJVFlfRVJSIEFCT1JUX0VSUiBOT1RfUkVBREFCTEVfRVJSIEVOQ09ESU5HX0VSUiBcIlxuXHRcdFx0XHRcdCsgXCJOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlIgSU5WQUxJRF9TVEFURV9FUlIgU1lOVEFYX0VSUlwiXG5cdFx0XHRcdCkuc3BsaXQoXCIgXCIpXG5cdFx0XHRcdCwgZmlsZV9leF9jb2RlID0gZmlsZV9leF9jb2Rlcy5sZW5ndGhcblx0XHRcdFx0LCByZWFsX1VSTCA9IHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXdcblx0XHRcdFx0LCByZWFsX2NyZWF0ZV9vYmplY3RfVVJMID0gcmVhbF9VUkwuY3JlYXRlT2JqZWN0VVJMXG5cdFx0XHRcdCwgcmVhbF9yZXZva2Vfb2JqZWN0X1VSTCA9IHJlYWxfVVJMLnJldm9rZU9iamVjdFVSTFxuXHRcdFx0XHQsIFVSTCA9IHJlYWxfVVJMXG5cdFx0XHRcdCwgYnRvYSA9IHZpZXcuYnRvYVxuXHRcdFx0XHQsIGF0b2IgPSB2aWV3LmF0b2JcblxuXHRcdFx0XHQsIEFycmF5QnVmZmVyID0gdmlldy5BcnJheUJ1ZmZlclxuXHRcdFx0XHQsIFVpbnQ4QXJyYXkgPSB2aWV3LlVpbnQ4QXJyYXlcblxuXHRcdFx0XHQsIG9yaWdpbiA9IC9eW1xcdy1dKzpcXC8qXFxbP1tcXHdcXC46LV0rXFxdPyg/OjpbMC05XSspPy9cblx0XHRcdDtcblx0XHRcdEZha2VCbG9iLmZha2UgPSBGQl9wcm90by5mYWtlID0gdHJ1ZTtcblx0XHRcdHdoaWxlIChmaWxlX2V4X2NvZGUtLSkge1xuXHRcdFx0XHRGaWxlRXhjZXB0aW9uLnByb3RvdHlwZVtmaWxlX2V4X2NvZGVzW2ZpbGVfZXhfY29kZV1dID0gZmlsZV9leF9jb2RlICsgMTtcblx0XHRcdH1cblx0XHRcdC8vIFBvbHlmaWxsIFVSTFxuXHRcdFx0aWYgKCFyZWFsX1VSTC5jcmVhdGVPYmplY3RVUkwpIHtcblx0XHRcdFx0VVJMID0gdmlldy5VUkwgPSBmdW5jdGlvbih1cmkpIHtcblx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdCAgdXJpX2luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxuXHRcdFx0XHRcdFx0LCB1cmlfb3JpZ2luXG5cdFx0XHRcdFx0O1xuXHRcdFx0XHRcdHVyaV9pbmZvLmhyZWYgPSB1cmk7XG5cdFx0XHRcdFx0aWYgKCEoXCJvcmlnaW5cIiBpbiB1cmlfaW5mbykpIHtcblx0XHRcdFx0XHRcdGlmICh1cmlfaW5mby5wcm90b2NvbC50b0xvd2VyQ2FzZSgpID09PSBcImRhdGE6XCIpIHtcblx0XHRcdFx0XHRcdFx0dXJpX2luZm8ub3JpZ2luID0gbnVsbDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHVyaV9vcmlnaW4gPSB1cmkubWF0Y2gob3JpZ2luKTtcblx0XHRcdFx0XHRcdFx0dXJpX2luZm8ub3JpZ2luID0gdXJpX29yaWdpbiAmJiB1cmlfb3JpZ2luWzFdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdXJpX2luZm87XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRVUkwuY3JlYXRlT2JqZWN0VVJMID0gZnVuY3Rpb24oYmxvYikge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHQgIHR5cGUgPSBibG9iLnR5cGVcblx0XHRcdFx0XHQsIGRhdGFfVVJJX2hlYWRlclxuXHRcdFx0XHQ7XG5cdFx0XHRcdGlmICh0eXBlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0dHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGJsb2IgaW5zdGFuY2VvZiBGYWtlQmxvYikge1xuXHRcdFx0XHRcdGRhdGFfVVJJX2hlYWRlciA9IFwiZGF0YTpcIiArIHR5cGU7XG5cdFx0XHRcdFx0aWYgKGJsb2IuZW5jb2RpbmcgPT09IFwiYmFzZTY0XCIpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhX1VSSV9oZWFkZXIgKyBcIjtiYXNlNjQsXCIgKyBibG9iLmRhdGE7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChibG9iLmVuY29kaW5nID09PSBcIlVSSVwiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCIsXCIgKyBkZWNvZGVVUklDb21wb25lbnQoYmxvYi5kYXRhKTtcblx0XHRcdFx0XHR9IGlmIChidG9hKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCI7YmFzZTY0LFwiICsgYnRvYShibG9iLmRhdGEpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCIsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoYmxvYi5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAocmVhbF9jcmVhdGVfb2JqZWN0X1VSTCkge1xuXHRcdFx0XHRcdHJldHVybiByZWFsX2NyZWF0ZV9vYmplY3RfVVJMLmNhbGwocmVhbF9VUkwsIGJsb2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTCA9IGZ1bmN0aW9uKG9iamVjdF9VUkwpIHtcblx0XHRcdFx0aWYgKG9iamVjdF9VUkwuc3Vic3RyaW5nKDAsIDUpICE9PSBcImRhdGE6XCIgJiYgcmVhbF9yZXZva2Vfb2JqZWN0X1VSTCkge1xuXHRcdFx0XHRcdHJlYWxfcmV2b2tlX29iamVjdF9VUkwuY2FsbChyZWFsX1VSTCwgb2JqZWN0X1VSTCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRGQkJfcHJvdG8uYXBwZW5kID0gZnVuY3Rpb24oZGF0YS8qLCBlbmRpbmdzKi8pIHtcblx0XHRcdFx0dmFyIGJiID0gdGhpcy5kYXRhO1xuXHRcdFx0XHQvLyBkZWNvZGUgZGF0YSB0byBhIGJpbmFyeSBzdHJpbmdcblx0XHRcdFx0aWYgKFVpbnQ4QXJyYXkgJiYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcblx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdCAgc3RyID0gXCJcIlxuXHRcdFx0XHRcdFx0LCBidWYgPSBuZXcgVWludDhBcnJheShkYXRhKVxuXHRcdFx0XHRcdFx0LCBpID0gMFxuXHRcdFx0XHRcdFx0LCBidWZfbGVuID0gYnVmLmxlbmd0aFxuXHRcdFx0XHRcdDtcblx0XHRcdFx0XHRmb3IgKDsgaSA8IGJ1Zl9sZW47IGkrKykge1xuXHRcdFx0XHRcdFx0c3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YmIucHVzaChzdHIpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGdldF9jbGFzcyhkYXRhKSA9PT0gXCJCbG9iXCIgfHwgZ2V0X2NsYXNzKGRhdGEpID09PSBcIkZpbGVcIikge1xuXHRcdFx0XHRcdGlmIChGaWxlUmVhZGVyU3luYykge1xuXHRcdFx0XHRcdFx0dmFyIGZyID0gbmV3IEZpbGVSZWFkZXJTeW5jO1xuXHRcdFx0XHRcdFx0YmIucHVzaChmci5yZWFkQXNCaW5hcnlTdHJpbmcoZGF0YSkpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBhc3luYyBGaWxlUmVhZGVyIHdvbid0IHdvcmsgYXMgQmxvYkJ1aWxkZXIgaXMgc3luY1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEZpbGVFeGNlcHRpb24oXCJOT1RfUkVBREFCTEVfRVJSXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgRmFrZUJsb2IpIHtcblx0XHRcdFx0XHRpZiAoZGF0YS5lbmNvZGluZyA9PT0gXCJiYXNlNjRcIiAmJiBhdG9iKSB7XG5cdFx0XHRcdFx0XHRiYi5wdXNoKGF0b2IoZGF0YS5kYXRhKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhLmVuY29kaW5nID09PSBcIlVSSVwiKSB7XG5cdFx0XHRcdFx0XHRiYi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChkYXRhLmRhdGEpKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEuZW5jb2RpbmcgPT09IFwicmF3XCIpIHtcblx0XHRcdFx0XHRcdGJiLnB1c2goZGF0YS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0XHRkYXRhICs9IFwiXCI7IC8vIGNvbnZlcnQgdW5zdXBwb3J0ZWQgdHlwZXMgdG8gc3RyaW5nc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBkZWNvZGUgVVRGLTE2IHRvIGJpbmFyeSBzdHJpbmdcblx0XHRcdFx0XHRiYi5wdXNoKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0RkJCX3Byb3RvLmdldEJsb2IgPSBmdW5jdGlvbih0eXBlKSB7XG5cdFx0XHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHR5cGUgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuZXcgRmFrZUJsb2IodGhpcy5kYXRhLmpvaW4oXCJcIiksIHR5cGUsIFwicmF3XCIpO1xuXHRcdFx0fTtcblx0XHRcdEZCQl9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gXCJbb2JqZWN0IEJsb2JCdWlsZGVyXVwiO1xuXHRcdFx0fTtcblx0XHRcdEZCX3Byb3RvLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgdHlwZSkge1xuXHRcdFx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdFx0XHRcdGlmIChhcmdzIDwgMykge1xuXHRcdFx0XHRcdHR5cGUgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuZXcgRmFrZUJsb2IoXG5cdFx0XHRcdFx0ICB0aGlzLmRhdGEuc2xpY2Uoc3RhcnQsIGFyZ3MgPiAxID8gZW5kIDogdGhpcy5kYXRhLmxlbmd0aClcblx0XHRcdFx0XHQsIHR5cGVcblx0XHRcdFx0XHQsIHRoaXMuZW5jb2Rpbmdcblx0XHRcdFx0KTtcblx0XHRcdH07XG5cdFx0XHRGQl9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gXCJbb2JqZWN0IEJsb2JdXCI7XG5cdFx0XHR9O1xuXHRcdFx0RkJfcHJvdG8uY2xvc2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5zaXplID0gMDtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuZGF0YTtcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gRmFrZUJsb2JCdWlsZGVyO1xuXHRcdH0odmlldykpO1xuXG5cdFx0dmlldy5CbG9iID0gZnVuY3Rpb24oYmxvYlBhcnRzLCBvcHRpb25zKSB7XG5cdFx0XHR2YXIgdHlwZSA9IG9wdGlvbnMgPyAob3B0aW9ucy50eXBlIHx8IFwiXCIpIDogXCJcIjtcblx0XHRcdHZhciBidWlsZGVyID0gbmV3IEJsb2JCdWlsZGVyKCk7XG5cdFx0XHRpZiAoYmxvYlBhcnRzKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBibG9iUGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoVWludDhBcnJheSAmJiBibG9iUGFydHNbaV0gaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG5cdFx0XHRcdFx0XHRidWlsZGVyLmFwcGVuZChibG9iUGFydHNbaV0uYnVmZmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRidWlsZGVyLmFwcGVuZChibG9iUGFydHNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dmFyIGJsb2IgPSBidWlsZGVyLmdldEJsb2IodHlwZSk7XG5cdFx0XHRpZiAoIWJsb2Iuc2xpY2UgJiYgYmxvYi53ZWJraXRTbGljZSkge1xuXHRcdFx0XHRibG9iLnNsaWNlID0gYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBibG9iO1xuXHRcdH07XG5cblx0XHR2YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24ob2JqZWN0KSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fXztcblx0XHR9O1xuXHRcdHZpZXcuQmxvYi5wcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihuZXcgdmlldy5CbG9iKCkpO1xuXHR9KHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYgfHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cgfHwgdGhpcy5jb250ZW50IHx8IHRoaXMpKTtcblxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gU2F2ZUFzKCkge1xuXHQgIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLnNhdmVBcyB8fCBmdW5jdGlvbigpIHt9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyogRmlsZVNhdmVyLmpzXG5cdCAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuXHQgKiAxLjMuMlxuXHQgKiAyMDE2LTA2LTE2IDE4OjI1OjE5XG5cdCAqXG5cdCAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cblx0ICogTGljZW5zZTogTUlUXG5cdCAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5cdCAqL1xuXG5cdC8qZ2xvYmFsIHNlbGYgKi9cblx0Lypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cblxuXHQvKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvRmlsZVNhdmVyLmpzL2Jsb2IvbWFzdGVyL0ZpbGVTYXZlci5qcyAqL1xuXG5cdHZhciBzYXZlQXMgPSBzYXZlQXMgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcblx0XHRcInVzZSBzdHJpY3RcIjtcblx0XHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRcdGlmICh0eXBlb2YgdmlldyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFsxLTldXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhclxuXHRcdFx0ICBkb2MgPSB2aWV3LmRvY3VtZW50XG5cdFx0XHQgIC8vIG9ubHkgZ2V0IFVSTCB3aGVuIG5lY2Vzc2FyeSBpbiBjYXNlIEJsb2IuanMgaGFzbid0IG92ZXJyaWRkZW4gaXQgeWV0XG5cdFx0XHQsIGdldF9VUkwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XG5cdFx0XHR9XG5cdFx0XHQsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxuXHRcdFx0LCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcblx0XHRcdCwgY2xpY2sgPSBmdW5jdGlvbihub2RlKSB7XG5cdFx0XHRcdHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7XG5cdFx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHR9XG5cdFx0XHQsIGlzX3NhZmFyaSA9IC9jb25zdHJ1Y3Rvci9pLnRlc3Qodmlldy5IVE1MRWxlbWVudClcblx0XHRcdCwgaXNfY2hyb21lX2lvcyA9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cdFx0XHQsIHRocm93X291dHNpZGUgPSBmdW5jdGlvbihleCkge1xuXHRcdFx0XHQodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdFx0fSwgMCk7XG5cdFx0XHR9XG5cdFx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG5cdFx0XHQvLyB0aGUgQmxvYiBBUEkgaXMgZnVuZGFtZW50YWxseSBicm9rZW4gYXMgdGhlcmUgaXMgbm8gXCJkb3dubG9hZGZpbmlzaGVkXCIgZXZlbnQgdG8gc3Vic2NyaWJlIHRvXG5cdFx0XHQsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCA9IDEwMDAgKiA0MCAvLyBpbiBtc1xuXHRcdFx0LCByZXZva2UgPSBmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdHZhciByZXZva2VyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBmaWxlID09PSBcInN0cmluZ1wiKSB7IC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxuXHRcdFx0XHRcdFx0Z2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcblx0XHRcdFx0XHR9IGVsc2UgeyAvLyBmaWxlIGlzIGEgRmlsZVxuXHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcblx0XHRcdH1cblx0XHRcdCwgZGlzcGF0Y2ggPSBmdW5jdGlvbihmaWxlc2F2ZXIsIGV2ZW50X3R5cGVzLCBldmVudCkge1xuXHRcdFx0XHRldmVudF90eXBlcyA9IFtdLmNvbmNhdChldmVudF90eXBlcyk7XG5cdFx0XHRcdHZhciBpID0gZXZlbnRfdHlwZXMubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0dmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dfb3V0c2lkZShleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQsIGF1dG9fYm9tID0gZnVuY3Rpb24oYmxvYikge1xuXHRcdFx0XHQvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuXHRcdFx0XHQvLyBub3RlOiB5b3VyIGJyb3dzZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgVVRGLTE2IFUrRkVGRiB0byBFRiBCQiBCRlxuXHRcdFx0XHRpZiAoL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweEZFRkYpLCBibG9iXSwge3R5cGU6IGJsb2IudHlwZX0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBibG9iO1xuXHRcdFx0fVxuXHRcdFx0LCBGaWxlU2F2ZXIgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdCAgZmlsZXNhdmVyID0gdGhpc1xuXHRcdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHRcdCwgZm9yY2UgPSB0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlXG5cdFx0XHRcdFx0LCBvYmplY3RfdXJsXG5cdFx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0XHRcdCwgZnNfZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICgoaXNfY2hyb21lX2lvcyB8fCAoZm9yY2UgJiYgaXNfc2FmYXJpKSkgJiYgdmlldy5GaWxlUmVhZGVyKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgdXJsc1xuXHRcdFx0XHRcdFx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdFx0XHRcdFx0cmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciB1cmwgPSBpc19jaHJvbWVfaW9zID8gcmVhZGVyLnJlc3VsdCA6IHJlYWRlci5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LywgJ2RhdGE6YXR0YWNobWVudC9maWxlOycpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwb3B1cCA9IHZpZXcub3Blbih1cmwsICdfYmxhbmsnKTtcblx0XHRcdFx0XHRcdFx0XHRpZighcG9wdXApIHZpZXcubG9jYXRpb24uaHJlZiA9IHVybDtcblx0XHRcdFx0XHRcdFx0XHR1cmw9dW5kZWZpbmVkOyAvLyByZWxlYXNlIHJlZmVyZW5jZSBiZWZvcmUgZGlzcGF0Y2hpbmdcblx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcblx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gZG9uJ3QgY3JlYXRlIG1vcmUgb2JqZWN0IFVSTHMgdGhhbiBuZWVkZWRcblx0XHRcdFx0XHRcdGlmICghb2JqZWN0X3VybCkge1xuXHRcdFx0XHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChmb3JjZSkge1xuXHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmFyIG9wZW5lZCA9IHZpZXcub3BlbihvYmplY3RfdXJsLCBcIl9ibGFua1wiKTtcblx0XHRcdFx0XHRcdFx0aWYgKCFvcGVuZWQpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBBcHBsZSBkb2VzIG5vdCBhbGxvdyB3aW5kb3cub3Blbiwgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3NhZmFyaS9kb2N1bWVudGF0aW9uL1Rvb2xzL0NvbmNlcHR1YWwvU2FmYXJpRXh0ZW5zaW9uR3VpZGUvV29ya2luZ3dpdGhXaW5kb3dzYW5kVGFicy9Xb3JraW5nd2l0aFdpbmRvd3NhbmRUYWJzLmh0bWxcblx0XHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQ7XG5cdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cblx0XHRcdFx0aWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XG5cdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRcdHNhdmVfbGluay5kb3dubG9hZCA9IG5hbWU7XG5cdFx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHR9XG5cdFx0XHQsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxuXHRcdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lIHx8IGJsb2IubmFtZSB8fCBcImRvd25sb2FkXCIsIG5vX2F1dG9fYm9tKTtcblx0XHRcdH1cblx0XHQ7XG5cdFx0Ly8gSUUgMTArIChuYXRpdmUgc2F2ZUFzKVxuXHRcdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdFx0bmFtZSA9IG5hbWUgfHwgYmxvYi5uYW1lIHx8IFwiZG93bmxvYWRcIjtcblxuXHRcdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBuYW1lKTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbigpe307XG5cdFx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRcdEZTX3Byb3RvLldSSVRJTkcgPSAxO1xuXHRcdEZTX3Byb3RvLkRPTkUgPSAyO1xuXG5cdFx0RlNfcHJvdG8uZXJyb3IgPVxuXHRcdEZTX3Byb3RvLm9ud3JpdGVzdGFydCA9XG5cdFx0RlNfcHJvdG8ub25wcm9ncmVzcyA9XG5cdFx0RlNfcHJvdG8ub253cml0ZSA9XG5cdFx0RlNfcHJvdG8ub25hYm9ydCA9XG5cdFx0RlNfcHJvdG8ub25lcnJvciA9XG5cdFx0RlNfcHJvdG8ub253cml0ZWVuZCA9XG5cdFx0XHRudWxsO1xuXG5cdFx0cmV0dXJuIHNhdmVBcztcblx0fShcblx0XHQgICB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmXG5cdFx0fHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcblx0XHR8fCB0aGlzLmNvbnRlbnRcblx0KSk7XG5cdC8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XG5cdC8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuXHQvLyB3aXRoIGFuIGF0dHJpYnV0ZSBgY29udGVudGAgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgd2luZG93XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XG5cdH0gZWxzZSBpZiAoKFwiZnVuY3Rpb25cIiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpICE9PSBudWxsKSAmJiAoX193ZWJwYWNrX3JlcXVpcmVfXyg4KSAhPT0gbnVsbCkpIHtcblx0ICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBzYXZlQXM7XG5cdCAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oX193ZWJwYWNrX2FtZF9vcHRpb25zX18pIHttb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xyXG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIHt9KSlcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuOyIsIi8qKlxuICogTWV0YXRhZ3MgZm9yIGFuZ3VsYXItdWktcm91dGVyXG4gKi9cbnZhciB1aXJvdXRlcm1ldGF0YWdzO1xuKGZ1bmN0aW9uICh1aXJvdXRlcm1ldGF0YWdzKSB7XG4gICAgcnVuQmxvY2suJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkcm9vdFNjb3BlXCIsIFwiTWV0YVRhZ3NcIiwgXCIkd2luZG93XCJdO1xuICAgIHZhciBhcHBNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLm1ldGF0YWdzJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgdmFyIFVJUm91dGVyTWV0YXRhZ3MgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgZnVuY3Rpb24gVUlSb3V0ZXJNZXRhdGFncygpIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4ID0gJyc7XG4gICAgICAgICAgICB0aGlzLnN1ZmZpeCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0VGl0bGUgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdERlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRLZXl3b3JkcyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0Um9ib3RzID0gJyc7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlT0dVUkwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXRUaXRsZVByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4ID0gcHJlZml4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldFRpdGxlU3VmZml4ID0gZnVuY3Rpb24gKHN1ZmZpeCkge1xuICAgICAgICAgICAgdGhpcy5zdWZmaXggPSBzdWZmaXg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0RGVmYXVsdFRpdGxlID0gZnVuY3Rpb24gKHRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRUaXRsZSA9IHRpdGxlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFVJUm91dGVyTWV0YXRhZ3MucHJvdG90eXBlLnNldERlZmF1bHREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXREZWZhdWx0S2V5d29yZHMgPSBmdW5jdGlvbiAoa2V5d29yZHMpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEtleXdvcmRzID0ga2V5d29yZHM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0RGVmYXVsdFJvYm90cyA9IGZ1bmN0aW9uIChyb2JvdHMpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFJvYm90cyA9IHJvYm90cztcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBVSVJvdXRlck1ldGF0YWdzLnByb3RvdHlwZS5zZXRTdGF0aWNQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuc2V0T0dVUkwgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVPR1VSTCA9IGVuYWJsZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVUlSb3V0ZXJNZXRhdGFncy5wcm90b3R5cGUuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJlZml4OiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgICAgICBzdWZmaXg6IHRoaXMuc3VmZml4LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRUaXRsZTogdGhpcy5kZWZhdWx0VGl0bGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdERlc2NyaXB0aW9uOiB0aGlzLmRlZmF1bHREZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0S2V5d29yZHM6IHRoaXMuZGVmYXVsdEtleXdvcmRzLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRSb2JvdHM6IHRoaXMuZGVmYXVsdFJvYm90cyxcbiAgICAgICAgICAgICAgICBzdGF0aWNQcm9wZXJ0aWVzOiB0aGlzLnN0YXRpY1Byb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgZW5hYmxlT0dVUkw6IHRoaXMuZW5hYmxlT0dVUkxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBVSVJvdXRlck1ldGF0YWdzO1xuICAgIH0pKCk7XG4gICAgYXBwTW9kdWxlLnByb3ZpZGVyKCdVSVJvdXRlck1ldGF0YWdzJywgVUlSb3V0ZXJNZXRhdGFncyk7XG4gICAgdmFyIE1ldGFUYWdzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogQG5nSW5qZWN0ICovXG4gICAgICAgIE1ldGFUYWdzLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiVUlSb3V0ZXJNZXRhdGFnc1wiLCBcIiRpbnRlcnBvbGF0ZVwiLCBcIiRpbmplY3RvclwiLCBcIiRzdGF0ZVwiLCBcIiRsb2NhdGlvblwiLCBcIiR3aW5kb3dcIl07XG4gICAgICAgIGZ1bmN0aW9uIE1ldGFUYWdzKCRsb2csIFVJUm91dGVyTWV0YXRhZ3MsICRpbnRlcnBvbGF0ZSwgJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHdpbmRvdykge1xuICAgICAgICAgICAgdGhpcy4kbG9nID0gJGxvZztcbiAgICAgICAgICAgIHRoaXMuVUlSb3V0ZXJNZXRhdGFncyA9IFVJUm91dGVyTWV0YXRhZ3M7XG4gICAgICAgICAgICB0aGlzLiRpbnRlcnBvbGF0ZSA9ICRpbnRlcnBvbGF0ZTtcbiAgICAgICAgICAgIHRoaXMuJGluamVjdG9yID0gJGluamVjdG9yO1xuICAgICAgICAgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG4gICAgICAgICAgICB0aGlzLnByZXJlbmRlciA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIE1ldGFUYWdzLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodGFncykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gYW5ndWxhci5leHRlbmQoe30sIHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5zdGF0aWNQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5VSVJvdXRlck1ldGF0YWdzLmVuYWJsZU9HVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllc1snb2c6dXJsJ10gPSB0aGlzLiRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRhZ3MudGl0bGUgPyB0aGlzLlVJUm91dGVyTWV0YXRhZ3MucHJlZml4ICsgKHRoaXMuZ2V0VmFsdWUoJ3RpdGxlJywgdGFncy50aXRsZSkgfHwgJycpICsgdGhpcy5VSVJvdXRlck1ldGF0YWdzLnN1ZmZpeCA6IHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5kZWZhdWx0VGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSB0YWdzLmRlc2NyaXB0aW9uID8gdGhpcy5nZXRWYWx1ZSgnZGVzY3JpcHRpb24nLCB0YWdzLmRlc2NyaXB0aW9uKSA6IHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5kZWZhdWx0RGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2V5d29yZHMgPSB0YWdzLmtleXdvcmRzID8gdGhpcy5nZXRWYWx1ZSgna2V5d29yZHMnLCB0YWdzLmtleXdvcmRzKSA6IHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5kZWZhdWx0S2V5d29yZHM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9ib3RzID0gdGFncy5yb2JvdHMgPyB0aGlzLmdldFZhbHVlKCdyb2JvdHMnLCB0YWdzLnJvYm90cykgOiB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdFJvYm90cztcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRhZ3MucHJvcGVydGllcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gX3RoaXMuZ2V0VmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BlcnRpZXNba2V5XSA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMuVUlSb3V0ZXJNZXRhdGFncy5kZWZhdWx0VGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdERlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXdvcmRzID0gdGhpcy5VSVJvdXRlck1ldGF0YWdzLmRlZmF1bHRLZXl3b3JkcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2JvdHMgPSB0aGlzLlVJUm91dGVyTWV0YXRhZ3MuZGVmYXVsdFJvYm90cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhZ3MgJiYgdGFncy5wcmVyZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVyZW5kZXIuc3RhdHVzQ29kZSA9IHRhZ3MucHJlcmVuZGVyLnN0YXR1c0NvZGUgPyB0aGlzLmdldFZhbHVlKCdwcmVyZW5kZXIuc3RhdHVzQ29kZScsIHRhZ3MucHJlcmVuZGVyLnN0YXR1c0NvZGUpIDogMjAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXJlbmRlci5oZWFkZXIgPSB0YWdzLnByZXJlbmRlci5oZWFkZXIgPyB0aGlzLmdldFZhbHVlKCdyZXJlbmRlci5oZWFkZXInLCB0YWdzLnByZXJlbmRlci5oZWFkZXIpIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcmVuZGVyLnN0YXR1c0NvZGUgPSAyMDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcmVuZGVyLmhlYWRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuJHdpbmRvdy5wcmVyZW5kZXJSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbG9nLmVycm9yKCdlcnJvciBvY2N1cmVkIHdoZW4gZXh0cmFjdGluZyBtZXRhdGFnczonLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBNZXRhVGFncy5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAodGFnVHlwZSwgdGFnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJyAmJiB0YWcudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRhZykgfHwgQXJyYXkuaXNBcnJheSh0YWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRpbmplY3Rvci5pbnZva2UodGFnLCB0aGlzLCB0aGlzLiRzdGF0ZS4kY3VycmVudC5sb2NhbHMuZ2xvYmFscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kaW50ZXJwb2xhdGUodGFnKSh0aGlzLiRzdGF0ZS4kY3VycmVudC5sb2NhbHMuZ2xvYmFscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuJGxvZy5lcnJvcignZXJyb3Igb2NjdXJlZCB3aGVuIHRyeWluZyB0byBnZXQgdGhlIHZhbHVlIG9mIHRhZzonLCB0YWdUeXBlLCBlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTWV0YVRhZ3M7XG4gICAgfSkoKTtcbiAgICBhcHBNb2R1bGUuc2VydmljZSgnTWV0YVRhZ3MnLCBNZXRhVGFncyk7XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcnVuQmxvY2soJGxvZywgJHJvb3RTY29wZSwgTWV0YVRhZ3MsICR3aW5kb3cpIHtcbiAgICAgICAgJHJvb3RTY29wZS5NZXRhVGFncyA9IE1ldGFUYWdzO1xuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBzdGF0ZUNoYW5nZVN0YXJ0KTtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBzdGF0ZUNoYW5nZVN1Y2Nlc3MpO1xuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBzdGF0ZUNoYW5nZUVycm9yKTtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZU5vdEZvdW5kJywgc3RhdGVOb3RGb3VuZCk7XG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlU3RhcnQoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tLCBmcm9tUGFyYW1zKSB7XG4gICAgICAgICAgICAkd2luZG93LnByZXJlbmRlclJlYWR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RhdGVDaGFuZ2VTdWNjZXNzKGV2ZW50LCB0b1N0YXRlKSB7XG4gICAgICAgICAgICBpZiAoIXRvU3RhdGUubWV0YVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiTWV0YVRhZ3MgLSByb3V0ZTogXFxcIlwiICsgdG9TdGF0ZS5uYW1lICsgXCJcXFwiIGRvZXMgbm90IGNvbnRhaW4gYW55IG1ldGF0YWdzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWV0YVRhZ3MudXBkYXRlKHRvU3RhdGUubWV0YVRhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlRXJyb3IoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgICAgICAgICBNZXRhVGFncy5wcmVyZW5kZXIuc3RhdHVzQ29kZSA9IDUwMDtcbiAgICAgICAgICAgICR3aW5kb3cucHJlcmVuZGVyUmVhZHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlTm90Rm91bmQoZXZlbnQsIHVuZm91bmRTdGF0ZSwgZnJvbVN0YXRlKSB7XG4gICAgICAgICAgICBNZXRhVGFncy5wcmVyZW5kZXIuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICR3aW5kb3cucHJlcmVuZGVyUmVhZHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcE1vZHVsZS5ydW4ocnVuQmxvY2spO1xufSkodWlyb3V0ZXJtZXRhdGFncyB8fCAodWlyb3V0ZXJtZXRhdGFncyA9IHt9KSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVpLXJvdXRlci1tZXRhdGFncy5qcy5tYXBcbiIsIi8qXG5hbmd1bGFyLXRhYmxlc29ydCB2MS40LjBcbihjKSAyMDEzLTIwMTYgTWF0dGlhcyBIb2xtbHVuZCwgaHR0cDovL21hdHRpYXNoLmdpdGh1Yi5pby9hbmd1bGFyLXRhYmxlc29ydFxuTGljZW5zZTogTUlUXG4qL1xuXG52YXIgdGFibGVTb3J0TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoICd0YWJsZVNvcnQnLCBbXSApO1xuXG50YWJsZVNvcnRNb2R1bGUucHJvdmlkZXIoICd0YWJsZVNvcnRDb25maWcnLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maWx0ZXJUZW1wbGF0ZSA9ICcnOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ObyBmaWx0ZXJpbmcgYnkgZGVmYXVsdCB1bmxlc3MgYSB0ZW1wbGF0ZSBpcyBwcm92aWRlZFxuICAgIHRoaXMuZmlsdGVyRnVuY3Rpb24gPSB1bmRlZmluZWQ7ICAgICAgICAgICAgICAgICAgIC8vRW1wdHkgYnkgZGVmYXVsdCAtIHVzZSB0aGUgYnVpbHQgaW4gZmlsdGVyIGZ1bmN0aW9uIHdoZW4gbGVmdCBibGFua1xuICAgIHRoaXMucGFnaW5hdGlvblRlbXBsYXRlID0gJyc7ICAgICAgICAgICAgICAgICAgICAgIC8vTm8gcGFnaW5hdGlvbiBieSBkZWZhdWx0IHVubGVzcyBhIHRlbXBsYXRlIGlzIHByb3ZpZGVkXG5cbiAgICAvL1RoZSBiZWxvdyBvcHRpb25zIGNhbiBhbGwgYmUgb3ZlcnJpZGRlbiBvbiBhIHBlci10YWJsZSBiYXNpc1xuICAgIHRoaXMucGVyUGFnZU9wdGlvbnMgPSBbMTAsIDI1LCA1MCwgMTAwXTsgICAgICAgICAgIC8vRGVmYXVsdCBwYWdpbmF0aW9uIG9wdGlvbnNcbiAgICB0aGlzLnBlclBhZ2VEZWZhdWx0ID0gdGhpcy5wZXJQYWdlT3B0aW9uc1swXTsgICAgICAvL1NlbGVjdCB0aGUgZmlyc3Qgb3B0aW9uIGJ5IGRlZmF1bHRcbiAgICB0aGlzLml0ZW1OYW1lU2luZ3VsYXIgPSAnaXRlbSc7ICAgICAgICAgICAgICAgICAgICAvL0RlZmF1bHQgbmFtZVxuICAgIHRoaXMuaXRlbU5hbWVQbHVyYWwgPSB0aGlzLml0ZW1OYW1lU2luZ3VsYXIgKyAncyc7IC8vRGVmYXVsdCB3YXkgdG8gbWFrZSBhbiBpdGVtIHBsdXJhbCBmb3IgRW5nbGlzaFxuICAgIHRoaXMubm9EYXRhVGV4dCA9ICdObyAnICsgdGhpcy5pdGVtTmFtZVBsdXJhbDsgICAgIC8vRGVmYXVsdCB0ZXh0IHRvIHNob3cgdGhhdCB0aGVyZSBhcmUgbm8gaXRlbXNcbiAgICB0aGlzLndyYXBwaW5nRWxlbWVudENsYXNzID0gXCJcIjsgICAgICAgICAgICAgICAgICAgIC8vRW1wdHkgYnkgZGVmYXVsdFxuXG4gICAgaWYoICFpc05hTih0aGlzLnBlclBhZ2VEZWZhdWx0KSAmJiB0aGlzLnBlclBhZ2VPcHRpb25zLmluZGV4T2YodGhpcy5wZXJQYWdlRGVmYXVsdCkgPT09IC0xICkge1xuICAgICAgICAvL0lmIGEgZGVmYXVsdCBwZXItcGFnZSBvcHRpb24gd2FzIGFkZGVkIHRoYXQgaXNuJ3QgaW4gdGhlIGFycmF5LCBhZGQgaXQgYXQgdGhlIGVuZFxuICAgICAgICB0aGlzLnBlclBhZ2VPcHRpb25zLnB1c2godGhpcy5wZXJQYWdlRGVmYXVsdCk7XG4gICAgfVxuXG4gICAgLy9Tb3J0IHRoZSBwZXItcGFnZSBvcHRpb25zIGFycmF5XG4gICAgdGhpcy5wZXJQYWdlT3B0aW9ucy5zb3J0KGZ1bmN0aW9uIChhLGIpIHtyZXR1cm4gYSAtIGI7fSk7XG5cbiAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbn0pO1xuXG50YWJsZVNvcnRNb2R1bGUuZGlyZWN0aXZlKCAndHNXcmFwcGVyJywgWyckcGFyc2UnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiggJHBhcnNlLCAkY29tcGlsZSApIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlVGVtcGxhdGVUb2tlbnMoJHNjb3BlLCB0ZW1wbGF0ZVN0cmluZykge1xuICAgICAgICAvL1JlcGxhY2Ugc29tZSBzdHJpbmdzIHdpdGggdGhlIHByb3BlciBleHByZXNzaW9ucyB0byBiZSBjb21waWxlZFxuICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgdGVtcGxhdGVTdHJpbmc/IFwiLHRlbXBsYXRlU3RyaW5nKTtcblxuICAgICAgICB2YXIgbmV3U3RyaW5nID0gdGVtcGxhdGVTdHJpbmdcbiAgICAgICAgICAgIC5yZXBsYWNlKC9GSUxURVJfU1RSSU5HL2csICdmaWx0ZXJpbmcuZmlsdGVyU3RyaW5nJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9DVVJSRU5UX1BBR0VfUkFOR0UvZywgJ3BhZ2luYXRpb24uZ2V0UGFnZVJhbmdlU3RyaW5nKFRPVEFMX0NPVU5UKScpXG4gICAgICAgICAgICAucmVwbGFjZSgvVE9UQUxfQ09VTlQvZywgJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uICsgJy5sZW5ndGgnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1BFUl9QQUdFX09QVElPTlMvZywgJ3BhZ2luYXRpb24ucGVyUGFnZU9wdGlvbnMnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0lURU1TX1BFUl9QQUdFL2csICdwYWdpbmF0aW9uLnBlclBhZ2UnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0lURU1fTkFNRV9TSU5HVUxBUi9nLCAnaXRlbU5hbWVTaW5ndWxhcicpXG4gICAgICAgICAgICAucmVwbGFjZSgvSVRFTV9OQU1FX1BMVVJBTC9nLCAnaXRlbU5hbWVQbHVyYWwnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0ZJTFRFUkVEX0NPVU5UL2csICdmaWx0ZXJpbmcuZmlsdGVyZWRDb3VudCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvQ1VSUkVOVF9QQUdFX05VTUJFUi9nLCAncGFnaW5hdGlvbi5jdXJyZW50UGFnZScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJuZXdTdHJpbmc6IFwiLG5ld1N0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RyaW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRDb21wYXJlcigpIHtcblxuICAgICAgICBmdW5jdGlvbiBfZGVmYXVsdENvbXBhcmVyKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYSA8IGIpIHJldHVybiAtMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzdHJpbmdDb21wYXJlciA9IF9kZWZhdWx0Q29tcGFyZXI7XG4gICAgICAgIHZhciBudW1lcmljQ29tcGFyZXIgPSBfZGVmYXVsdENvbXBhcmVyO1xuXG4gICAgICAgIGlmKHR5cGVvZiBJbnRsID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc3RyaW5nQ29tcGFyZXIgPSBuZXcgSW50bC5Db2xsYXRvcih1bmRlZmluZWQsIHtzZW5zaXRpdml0eTogJ2Nhc2UnfSkuY29tcGFyZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLmxvY2FsZUNvbXBhcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0cmluZ0NvbXBhcmVyID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYSArICcnKS5sb2NhbGVDb21wYXJlKGIsIHVuZGVmaW5lZCwge3NlbnNpdGl2aXR5OiAnY2FzZSd9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29tcGFyZXJGbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtZXJpY0NvbXBhcmVyKGEsIGIpO1xuXG4gICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIERhdGUgJiYgYiBpbnN0YW5jZW9mIERhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWVyaWNDb21wYXJlcihhLmdldFRpbWUoKSwgYi5nZXRUaW1lKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nQ29tcGFyZXIoYSwgYik7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGNvbXBhcmVyRm47XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRDb21wYXJlciA9IGNyZWF0ZURlZmF1bHRDb21wYXJlcigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ3RhYmxlU29ydENvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgdGFibGVTb3J0Q29uZmlnICkge1xuICAgICAgICAgICAgLy9sb2NhbCBzY29wZSB2YXJzIGZvciB0aGlzIGRpcmVjdGl2ZVxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRhYmxlU29ydENvbmZpZy5wYWdpbmF0aW9uVGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgcGVyUGFnZU9wdGlvbnM6IHRhYmxlU29ydENvbmZpZy5wZXJQYWdlT3B0aW9ucy5jb25jYXQoKSwgLy9jb3B5IHRoZSBhcnJheSwgbm90IGEgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgcGVyUGFnZTogdGFibGVTb3J0Q29uZmlnLnBlclBhZ2VEZWZhdWx0LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgICAgICAgIGdldFBhZ2VSYW5nZVN0cmluZzogZnVuY3Rpb24odG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBGb3JtYXQgdGhlc2UgbnVtYmVycywgcGVyaGFwcyBvcHRpb25hbGx5XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhPblBhZ2UgPSB0b3RhbCAhPT0gJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50ID8gJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50IDogdG90YWw7XG4gICAgICAgICAgICAgICAgICAgIC8vVGhpcyBrZWVwcyB0aGUgZmlyc3QgcGFnZSBsYWJlbGVkIGFzIDEsIG5vdCAwXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFBhZ2UgPSBNYXRoLm1heCgoJHNjb3BlLnBhZ2luYXRpb24uY3VycmVudFBhZ2UgLSAxKSAqICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UgKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFBhZ2UgPSBNYXRoLm1pbigkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAqICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UsIG1heE9uUGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vVGhpcyBwcmV2ZW50cyB0aGUgcmFuZ2UgZnJvbSBzaG93aW5nIHdoZW4gdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyBjYW4gYmUgc2hvd24gb24gYSBzaW5nbGUgcGFnZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50ID09PSAwID8gJycgOiAoZW5kUGFnZSA9PT0gbWF4T25QYWdlICYmIHN0YXJ0UGFnZSA9PT0gMSA/ICcnIDogc3RhcnRQYWdlICsgJy0nKSArIGVuZFBhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid2hhdCBpcyBwYWdpbmF0aW9uOiBcIiwkc2NvcGUucGFnaW5hdGlvbik7XG5cbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcgPSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRhYmxlU29ydENvbmZpZy5maWx0ZXJUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJTdHJpbmc6ICcnLFxuICAgICAgICAgICAgICAgIGZpbHRlckZ1bmN0aW9uOiB0YWJsZVNvcnRDb25maWcuZmlsdGVyRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRDb3VudDogMCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGaWVsZHM6IFtdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgZmlsdGVyaW5nOiBcIiwkc2NvcGUuZmlsdGVyaW5nKTtcblxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uID0gJyc7IC8vdGhpcyB3aWxsIGNvbnRhaW4gdGhlIHN0cmluZyBleHByZXNzaW9uIGZvciB0aGUgYXJyYXkgb2YgaXRlbXMgaW4gdGhlIHRhYmxlXG4gICAgICAgICAgICAkc2NvcGUuaXRlbU5hbWVTaW5ndWxhciA9IHRhYmxlU29ydENvbmZpZy5pdGVtTmFtZVNpbmd1bGFyO1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1OYW1lUGx1cmFsID0gdGFibGVTb3J0Q29uZmlnLml0ZW1OYW1lUGx1cmFsO1xuICAgICAgICAgICAgJHNjb3BlLm5vRGF0YVRleHQgPSB0YWJsZVNvcnRDb25maWcubm9EYXRhVGV4dDtcbiAgICAgICAgICAgICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyA9IHRhYmxlU29ydENvbmZpZy53cmFwcGluZ0VsZW1lbnRDbGFzcztcbiAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvbiA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmhlYWRpbmdzID0gW107XG5cbiAgICAgICAgICAgIHZhciBwYXJzZV9zb3J0ZXhwciA9IGZ1bmN0aW9uKCBleHByLCBuYW1lICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbJHBhcnNlKCBleHByICksIG51bGwsIGZhbHNlLCBuYW1lID8gbmFtZSA6IGV4cHJdO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZXRTb3J0RmllbGQgPSBmdW5jdGlvbiggc29ydGV4cHIsIGVsZW1lbnQsIG5hbWUsIHNvcnRCeSApIHtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHBhcnNlX3NvcnRleHByKCBzb3J0ZXhwciwgbmFtZSApO1xuICAgICAgICAgICAgICAgIGV4cHIucHVzaChzb3J0QnkpO1xuICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUuc29ydEV4cHJlc3Npb24ubGVuZ3RoID09PSAxICYmICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVswXSA9PT0gZXhwclswXSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVsyXSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRFeHByZXNzaW9uWzBdWzJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvblswXVsyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCAndGFibGVzb3J0OnNvcnRPcmRlcicsIFt7XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLnNvcnRFeHByZXNzaW9uWzBdWzNdLFxuICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiAkc2NvcGUuc29ydEV4cHJlc3Npb25bMF1bMl1cbiAgICAgICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciggaT0wOyBpPCRzY29wZS5oZWFkaW5ncy5sZW5ndGg7IGk9aSsxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhlYWRpbmdzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCAndGFibGVzb3J0LWRlc2MnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtYXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb24gPSBbZXhwcl07XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCggJ3RhYmxlc29ydDpzb3J0T3JkZXInLCBbe1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGV4cHJbM10sXG4gICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGV4cHJbMl1cbiAgICAgICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkU29ydEZpZWxkID0gZnVuY3Rpb24oIHNvcnRleHByLCBlbGVtZW50LCBuYW1lLCBzb3J0QnkgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHRvZ2dsZV9vcmRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBleHByID0gcGFyc2Vfc29ydGV4cHIoIHNvcnRleHByLCBuYW1lICk7XG4gICAgICAgICAgICAgICAgZXhwci5wdXNoKHNvcnRCeSk7XG4gICAgICAgICAgICAgICAgZm9yKCBpPTA7IGk8JHNjb3BlLnNvcnRFeHByZXNzaW9uLmxlbmd0aDsgaT1pKzEgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMF0gPT09IGV4cHJbMF0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzJdICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoICd0YWJsZXNvcnQtZGVzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyggJ3RhYmxlc29ydC1hc2MnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyggJ3RhYmxlc29ydC1kZXNjJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVsyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVfb3JkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAhdG9nZ2xlX29yZGVyICkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCAndGFibGVzb3J0LWFzYycgKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRFeHByZXNzaW9uLnB1c2goIGV4cHIgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoICd0YWJsZXNvcnQ6c29ydE9yZGVyJywgJHNjb3BlLnNvcnRFeHByZXNzaW9uLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYVszXSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGFbMl1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnNldFRyYWNrQnkgPSBmdW5jdGlvbiggdHJhY2tCeSApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhY2tCeSA9IHRyYWNrQnk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVySGVhZGluZyA9IGZ1bmN0aW9uKCBoZWFkaW5nZWxlbWVudCApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGVhZGluZ3MucHVzaCggaGVhZGluZ2VsZW1lbnQgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkRmlsdGVyRmllbGQgPSBmdW5jdGlvbiggc29ydGV4cHIsIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cHIgPSBwYXJzZV9zb3J0ZXhwciggc29ydGV4cHIgKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZpZWxkcy5wdXNoKCBleHByICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnNldEFycmF5RXhwciA9IGZ1bmN0aW9uKCBkYXRhQXJyYXlFeHAgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uID0gZGF0YUFycmF5RXhwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgdHNXcmFwcGVyQ3RybCkge1xuXG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzSXRlbU5hbWUgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsTm9EYXRhVGV4dCA9ICdObyAnICsgJHNjb3BlLml0ZW1OYW1lUGx1cmFsO1xuXG4gICAgICAgICAgICAgICAgLy9pZiB0aGUgdGFibGUgYXR0cmlidXRlcyBoYXMgYW4gaXRlbSBuYW1lIG9uIGl0LCB0aGlzIHRha2VzIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1OYW1lU2luZ3VsYXIgPSAkYXR0cnMudHNJdGVtTmFtZTtcblxuICAgICAgICAgICAgICAgIGlmKCAkYXR0cnMudHNJdGVtTmFtZVBsdXJhbCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBhIHBsdXJhbCBuYW1lIHdhcyBzcGVjaWZpZWQsIHVzZSB0aGF0XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pdGVtTmFtZVBsdXJhbCA9ICRhdHRycy50c0l0ZW1OYW1lUGx1cmFsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vb3RoZXJ3aXNlIGp1c3QgYWRkICdzJyB0byB0aGUgc2luZ3VsYXIgbmFtZVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXRlbU5hbWVQbHVyYWwgPSAkYXR0cnMudHNJdGVtTmFtZSArICdzJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggISRhdHRycy50c05vRGF0YVRleHQgJiYgJHNjb3BlLm5vRGF0YVRleHQgPT09IG9yaWdpbmFsTm9EYXRhVGV4dCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgbm9EYXRhVGV4dCB3YXMgTk9UIHNwZWNpZmllZCBBTkQgaXQncyBpbiB0aGUgc2FtZSAnTm8gSVRFTVMnIGZvcm1hdCBhcyB0aGUgZGVmYXVsdCAsIHVwZGF0ZSBpdCB0byBjb250YWluIHRoZSBuZXcgaXRlbSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ub0RhdGFUZXh0ID0gJ05vICcgKyAkc2NvcGUuaXRlbU5hbWVQbHVyYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzTm9EYXRhVGV4dCApIHtcbiAgICAgICAgICAgICAgICAvL0lmIHRoZSBub0RhdGFUZXh0IHdhcyBzcGVjaWZpZWQsIHVwZGF0ZSBpdFxuICAgICAgICAgICAgICAgICRzY29wZS5ub0RhdGFUZXh0ID0gJGF0dHJzLnRzTm9EYXRhVGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c1dyYXBwaW5nRWxlbWVudENsYXNzICkge1xuICAgICAgICAgICAgICAgIC8vSWYgdGhlIHdyYXBwaW5nRWxlbWVudENsYXNzIHdhcyBzcGVjaWZpZWQsIHVwZGF0ZSBpdFxuICAgICAgICAgICAgICAgICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyA9ICRhdHRycy50c1dyYXBwaW5nRWxlbWVudENsYXNzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2xvY2FsIGF0dHJpYnV0ZSB1c2FnZXMgb2YgdGhlIHBhZ2luYXRpb24vZmlsdGVyaW5nIG9wdGlvbnMgd2lsbCBvdmVycmlkZSB0aGUgZ2xvYmFsIGNvbmZpZ1xuICAgICAgICAgICAgaWYoICRhdHRycy50c1BlclBhZ2VPcHRpb25zICkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zID0gJHNjb3BlLiRldmFsKCRhdHRycy50c1BlclBhZ2VPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c1BlclBhZ2VEZWZhdWx0ICkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0UGVyUGFnZSA9ICRzY29wZS4kZXZhbCgkYXR0cnMudHNQZXJQYWdlRGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgaWYoICFpc05hTihkZWZhdWx0UGVyUGFnZSkgKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2UgPSBkZWZhdWx0UGVyUGFnZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zLmluZGV4T2YoJHNjb3BlLnBhZ2luYXRpb24ucGVyUGFnZSkgPT09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBhIGRlZmF1bHQgcGVyLXBhZ2Ugb3B0aW9uIHdhcyBhZGRlZCB0aGF0IGlzbid0IGluIHRoZSBhcnJheSwgYWRkIGl0IGFuZCBzb3J0IHRoZSBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24ucGVyUGFnZU9wdGlvbnMucHVzaCgkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2VPcHRpb25zLnNvcnQoZnVuY3Rpb24gKGEsYikge3JldHVybiBhIC0gYjt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c0ZpbHRlckZpZWxkcyApIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyRmllbGRzID0gJGF0dHJzLnRzRmlsdGVyRmllbGRzLnNwbGl0KCcsJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAmJiBpdGVtLnRyaW0oKSAhPT0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvciggdmFyIGk9MDsgaTxmaWx0ZXJGaWVsZHMubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5hZGRGaWx0ZXJGaWVsZChmaWx0ZXJGaWVsZHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRmaWx0ZXJIdG1sO1xuICAgICAgICAgICAgaWYoICRhdHRycy50c0Rpc3BsYXlGaWx0ZXJpbmcgIT09ICdmYWxzZScgJiYgJHNjb3BlLmZpbHRlcmluZy50ZW1wbGF0ZSAhPT0gJycgJiYgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHMubGVuZ3RoPjAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlclN0cmluZyA9IHJlcGxhY2VUZW1wbGF0ZVRva2Vucygkc2NvcGUsICRzY29wZS5maWx0ZXJpbmcudGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICRmaWx0ZXJIdG1sID0gJGNvbXBpbGUoZmlsdGVyU3RyaW5nKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgIC8vQWRkIGZpbHRlcmluZyBIVE1MIEJFRk9SRSB0aGUgdGFibGVcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5wYXJlbnQoKVswXS5pbnNlcnRCZWZvcmUoJGZpbHRlckh0bWxbMF0sICRlbGVtZW50WzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoICRhdHRycy50c0ZpbHRlckZ1bmN0aW9uICkge1xuICAgICAgICAgICAgICAgIC8vaWYgdGhlIHRhYmxlIGF0dHJpYnV0ZXMgaGFzIGEgZmlsdGVyIGZ1bmN0aW9uIG9uIGl0LCB0aGlzIHRha2VzIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGdW5jdGlvbiA9ICRzY29wZS4kZXZhbCgkYXR0cnMudHNGaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCAhYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRnVuY3Rpb24pICkge1xuICAgICAgICAgICAgICAgIC8vTm8gY3VzdG9tIGZpbHRlciB3YXMgcHJvdmlkZWQuLi5cbiAgICAgICAgICAgICAgICBpZiggJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGaWVsZHMubGVuZ3RoPT09MCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UaGVyZSBhcmUgbm8gZmlsdGVyIGZpZWxkcywgc28gYWx3YXlzIHJldHVybiBldmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyRnVuY3Rpb24gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL1RoaXMgaXMgdGhlIGRlZmF1bHQgZmlsdGVyIGZ1bmN0aW9uLiBJdCBkb2VzIGEgbG93ZXJjYXNlIHN0cmluZyBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZ1bmN0aW9uID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3VsZEluY2x1ZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGk9MDsgaTwkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZpZWxkcy5sZW5ndGg7IGk9aSsxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhc2hvdWxkSW5jbHVkZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9ICgkc2NvcGUuZmlsdGVyaW5nLmZpbHRlckZpZWxkc1tpXVswXShpdGVtKSB8fCAnJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOyAvL3BhcnNlIHRoZSBpdGVtJ3MgcHJvcGVydHkgdXNpbmcgdGhlIGB0cy1jcml0ZXJpYWAgdmFsdWUgJiBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSW5jbHVkZSA9IHN0ci5pbmRleE9mKCRzY29wZS5maWx0ZXJpbmcuZmlsdGVyU3RyaW5nLnRvTG93ZXJDYXNlKCkpID4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZEluY2x1ZGU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyTGltaXRGdW4gPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAgICAgIGlmKCAhJGF0dHJzLnRzRmlsdGVyRnVuY3Rpb24gJiYgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJTdHJpbmcgPT09ICcnICkge1xuICAgICAgICAgICAgICAgICAgICAvL1JldHVybiB1bmZpbHRlcmVkIHdoZW4gTk9UIHVzaW5nIGEgY3VzdG9tIGZpbHRlciBmdW5jdGlvbiBhbmQgd2hlbiBub3RoaW5nIGlzIGJlaW5nIHNlYXJjaGVkXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJpbmcuZmlsdGVyZWRDb3VudCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRBcnIgPSBhcnJheS5maWx0ZXIoJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmluZy5maWx0ZXJlZENvdW50ID0gZmlsdGVyZWRBcnIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEFycjtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zb3J0RnVuID0gZnVuY3Rpb24oIGEsIGIgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGF2YWwsIGJ2YWwsIGRlc2NlbmRpbmcsIGZpbHRlckZ1biwgY29tcFJlc3VsdDtcbiAgICAgICAgICAgICAgICBmb3IoIGk9MDsgaTwkc2NvcGUuc29ydEV4cHJlc3Npb24ubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhbCA9ICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVswXShhKTtcbiAgICAgICAgICAgICAgICAgICAgYnZhbCA9ICRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVswXShiKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnVuID0gYlskc2NvcGUuc29ydEV4cHJlc3Npb25baV1bMV1dO1xuICAgICAgICAgICAgICAgICAgICBpZiggZmlsdGVyRnVuICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXZhbCA9IGZpbHRlckZ1biggYXZhbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnZhbCA9IGZpbHRlckZ1biggYnZhbCApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFsID09PSB1bmRlZmluZWQgfHwgYXZhbCA9PT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggYnZhbCA9PT0gdW5kZWZpbmVkIHx8IGJ2YWwgPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kaW5nID0gJHNjb3BlLnNvcnRFeHByZXNzaW9uW2ldWzJdO1xuICAgICAgICAgICAgICAgICAgICBjb21wUmVzdWx0ID0gKCRzY29wZS5zb3J0RXhwcmVzc2lvbltpXVs0XSB8fCBkZWZhdWx0Q29tcGFyZXIpKGF2YWwsIGJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiggY29tcFJlc3VsdCA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjZW5kaW5nID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGNvbXBSZXN1bHQgPT09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NlbmRpbmcgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGhlIHNvcnQgZmllbGRzIHdlcmUgZXF1YWwuIElmIHRoZXJlIGlzIGEgJ3RyYWNrIGJ5JycgZXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhhdCBhcyBhIHRpZWJyZWFrZXIgdG8gbWFrZSB0aGUgc29ydCByZXN1bHQgc3RhYmxlLlxuICAgICAgICAgICAgICAgIGlmKCAkc2NvcGUudHJhY2tCeSApIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhbCA9IGFbJHNjb3BlLnRyYWNrQnldO1xuICAgICAgICAgICAgICAgICAgICBidmFsID0gYlskc2NvcGUudHJhY2tCeV07XG4gICAgICAgICAgICAgICAgICAgIGlmKCBhdmFsID09PSB1bmRlZmluZWQgfHwgYXZhbCA9PT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggYnZhbCA9PT0gdW5kZWZpbmVkIHx8IGJ2YWwgPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidmFsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29tcFJlc3VsdCA9IGRlZmF1bHRDb21wYXJlcihhdmFsLCBidmFsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbXBSZXN1bHQgPT09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY2VuZGluZyA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjb21wUmVzdWx0ID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjZW5kaW5nID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnBhZ2VMaW1pdEZ1biA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYoICRhdHRycy50c0Rpc3BsYXlQYWdpbmF0aW9uID09PSAnZmFsc2UnIHx8ICRzY29wZS5wYWdpbmF0aW9uLnRlbXBsYXRlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvL3BhZ2luYXRpb24gaXMgZGlzYWJsZWQgb24gdGhpcyB0YWJsZSBvciB0aGVyZSBpcyBubyB0ZW1wbGF0ZSwgc28gcmV0dXJuIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL09ubHkgcmV0dXJuIHRoZSBpdGVtcyB0aGF0IGFyZSBpbiB0aGUgY29ycmVjdCBpbmRleCByYW5nZSBmb3IgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwYWdlXG4gICAgICAgICAgICAgICAgdmFyIGJlZ2luID0gKCRzY29wZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnaW5hdGlvbi5wZXJQYWdlO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSAkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAqICRzY29wZS5wYWdpbmF0aW9uLnBlclBhZ2U7XG4gICAgICAgICAgICAgICAgdmFyIGZpbmFsPVtdO1xuICAgICAgICAgICAgICAgIGZvciggdmFyIGk9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICBpZiggaSA+PSBiZWdpbiAmJiBpIDwgZW5kICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwucHVzaChhcnJheVtpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyICRwYWdpbmF0aW9uSHRtbDtcbiAgICAgICAgICAgIGlmKCAkYXR0cnMudHNEaXNwbGF5UGFnaW5hdGlvbiAhPT0gJ2ZhbHNlJyAmJiAkc2NvcGUucGFnaW5hdGlvbi50ZW1wbGF0ZSAhPT0gJycgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VyU3RyaW5nID0gcmVwbGFjZVRlbXBsYXRlVG9rZW5zKCRzY29wZSwgJHNjb3BlLnBhZ2luYXRpb24udGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uSHRtbCA9ICRjb21waWxlKHBhZ2VyU3RyaW5nKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgIC8vQWRkIHBhZ2luYXRpb24gSFRNTCBBRlRFUiB0aGUgdGFibGVcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5hZnRlcigkcGFnaW5hdGlvbkh0bWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgdmFyICR3cmFwcGluZ0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiggJHNjb3BlLndyYXBwaW5nRWxlbWVudENsYXNzICYmICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyAhPT0gXCJcIiApIHtcbiAgICAgICAgICAgICAgICAvL1RoaXMgc2hvdWxkIGhhcHBlbiBBRlRFUiB0aGUgZmlsdGVyaW5nIGFuZCBwYWdpbmF0aW9uIEhUTUwgYXJlIHNldFxuICAgICAgICAgICAgICAgICR3cmFwcGluZ0VsZW1lbnQgPSAkZWxlbWVudC53cmFwKFwiPGRpdiBjbGFzcz0nXCIrICRzY29wZS53cmFwcGluZ0VsZW1lbnRDbGFzcyArXCInIC8+XCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggJGF0dHJzLnRzR2V0VGFibGVEYXRhRnVuY3Rpb24gKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldHRlciA9ICRwYXJzZSgkYXR0cnMudHNHZXRUYWJsZURhdGFGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG5cbiAgICAgICAgICAgICAgICAvL0lmIHRoaXMgYXR0cmlidXRlIGhhcyBhIHZhbHVlLCB0aGVuIHdlIHdhbnQgdG8gdHVybiBpdCBpbnRvIGEgZnVuY3Rpb24gb24gdGhlIHBhcmVudCBzY29wZVxuICAgICAgICAgICAgICAgIC8vc28gdGhhdCBpdCBjYW4gYmUgcGFzc2VkIGludG8gb3RoZXIgZnVuY3Rpb25zIGFuZCBydW4gb24gdGhlIHBhcmVudCBjb250cm9sbGVycyBhcyBuZWVkZWRcbiAgICAgICAgICAgICAgICB2YXIgZm4gID0gZnVuY3Rpb24oIHNob3VsZEFwcGx5U29ydGluZywgc2hvdWxkQXBwbHlGaWx0ZXJpbmcsIGxpbWl0VG9DdXJyZW50UGFnZU9ubHkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSAkcGFyc2UoJHNjb3BlLml0ZW1zQXJyYXlFeHByZXNzaW9uKSgkc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzaG91bGRBcHBseVNvcnRpbmcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIgPSBhcnIuc29ydCgkc2NvcGUuc29ydEZ1bik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggc2hvdWxkQXBwbHlGaWx0ZXJpbmcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIgPSAkc2NvcGUuZmlsdGVyTGltaXRGdW4oYXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBsaW1pdFRvQ3VycmVudFBhZ2VPbmx5ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyID0gJHNjb3BlLnBhZ2VMaW1pdEZ1bihhcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgc2V0dGVyKCRzY29wZS4kcGFyZW50LCBmbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oICckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vV2hlbiB0aGUgZGlyZWN0aXZlIGlzIGRlc3Ryb3llZCwgYWxzbyByZW1vdmUgdGhlIGZpbHRlciAmIHBhZ2luYXRpb24gSFRNTFxuICAgICAgICAgICAgICAgIGlmKCAkZmlsdGVySHRtbCApIHtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckh0bWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAkcGFnaW5hdGlvbkh0bWwgKSB7XG4gICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uSHRtbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoICR3cmFwcGluZ0VsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdW4td3JhcCB0aGUgdGFibGUgZnJvbSB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgJHdyYXBwaW5nRWxlbWVudC5yZXBsYWNlV2l0aCgkZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuXG50YWJsZVNvcnRNb2R1bGUuZGlyZWN0aXZlKCAndHNDcml0ZXJpYScsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6IFwiXnRzV3JhcHBlclwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHRzT3JkZXJCeTogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdHNXcmFwcGVyQ3RybCkge1xuICAgICAgICAgICAgdmFyIGNsaWNraW5nQ2FsbGJhY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCBldmVudC5zaGlmdEtleSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuYWRkU29ydEZpZWxkKGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuc2V0U29ydEZpZWxkKGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoICdjbGljaycsIGNsaWNraW5nQ2FsbGJhY2sgKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoICd0YWJsZXNvcnQtc29ydGFibGUnICk7XG4gICAgICAgICAgICBpZiggJ3RzRGVmYXVsdCcgaW4gYXR0cnMgJiYgYXR0cnMudHNEZWZhdWx0ICE9PSAnMCcgKSB7XG4gICAgICAgICAgICAgICAgdHNXcmFwcGVyQ3RybC5hZGRTb3J0RmllbGQoIGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQsIGF0dHJzLnRzTmFtZSwgc2NvcGUudHNPcmRlckJ5ICk7XG4gICAgICAgICAgICAgICAgaWYoIGF0dHJzLnRzRGVmYXVsdCA9PT0gJ2Rlc2NlbmRpbmcnICkge1xuICAgICAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLmFkZFNvcnRGaWVsZCggYXR0cnMudHNDcml0ZXJpYSwgZWxlbWVudCwgYXR0cnMudHNOYW1lLCBzY29wZS50c09yZGVyQnkgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiggJ3RzRmlsdGVyJyBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIHRzV3JhcHBlckN0cmwuYWRkRmlsdGVyRmllbGQoIGF0dHJzLnRzQ3JpdGVyaWEsIGVsZW1lbnQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRzV3JhcHBlckN0cmwucmVnaXN0ZXJIZWFkaW5nKCBlbGVtZW50ICk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5cbnRhYmxlU29ydE1vZHVsZS5kaXJlY3RpdmUoICd0c1JlcGVhdCcsIFsnJGNvbXBpbGUnLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24oJGNvbXBpbGUsICRpbnRlcnBvbGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmU6ICdedHNXcmFwcGVyJyxcbiAgICAgICAgcHJpb3JpdHk6IDEwMDAwMDAsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdHNXcmFwcGVyQ3RybCkge1xuICAgICAgICAgICAgdmFyIHJlcGVhdEF0dHJzID0gWyduZy1yZXBlYXQnLCAnZGF0YS1uZy1yZXBlYXQnLCAnbmctcmVwZWF0LXN0YXJ0JywgJ2RhdGEtbmctcmVwZWF0LXN0YXJ0J107XG4gICAgICAgICAgICB2YXIgbmdSZXBlYXREaXJlY3RpdmUgPSByZXBlYXRBdHRyc1swXTtcbiAgICAgICAgICAgIHZhciB0c1JlcGVhdERpcmVjdGl2ZSA9ICd0cy1yZXBlYXQnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXBlYXRBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChlbGVtZW50LmF0dHIocmVwZWF0QXR0cnNbaV0pKSkge1xuICAgICAgICAgICAgICAgICAgICBuZ1JlcGVhdERpcmVjdGl2ZSA9IHJlcGVhdEF0dHJzW2ldO1xuICAgICAgICAgICAgICAgICAgICB0c1JlcGVhdERpcmVjdGl2ZSA9IG5nUmVwZWF0RGlyZWN0aXZlLnJlcGxhY2UoL14oZGF0YS0pP25nLywgJyQxdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHNFeHByID0gJ3RhYmxlc29ydE9yZGVyQnk6c29ydEZ1biB8IHRhYmxlc29ydExpbWl0OmZpbHRlckxpbWl0RnVuIHwgdGFibGVzb3J0TGltaXQ6cGFnZUxpbWl0RnVuJztcbiAgICAgICAgICAgIHZhciByZXBlYXRFeHByID0gZWxlbWVudC5hdHRyKG5nUmVwZWF0RGlyZWN0aXZlKTtcbiAgICAgICAgICAgIHZhciByZXBlYXRFeHByUmVnZXggPSAvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKFxccyt0cmFja1xccytieVxccytbXFxzXFxTXSs/KT9cXHMqJC87XG4gICAgICAgICAgICB2YXIgdHJhY2tCeU1hdGNoID0gcmVwZWF0RXhwci5tYXRjaCgvXFxzK3RyYWNrXFxzK2J5XFxzK1xcUys/XFwuKFxcUyspLyk7XG4gICAgICAgICAgICB2YXIgcmVwZWF0SW5NYXRjaCA9IHJlcGVhdEV4cHIubWF0Y2gocmVwZWF0RXhwclJlZ2V4KTtcbiAgICAgICAgICAgIGlmICh0cmFja0J5TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB0c1dyYXBwZXJDdHJsLnNldFRyYWNrQnkodHJhY2tCeU1hdGNoWzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9MaW1pdCBTb3J0IHRoZSByZXN1bHRzLCB0aGVuIGxpbWl0IHRoZW0gdG8gb25seSBpbmNsdWRlIHdoYXQgbWF0Y2hlcyB0aGUgZmlsdGVyLCB0aGVuIG9ubHkgd2hhdCdzIG9uIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIGlmIChyZXBlYXRFeHByLnNlYXJjaCgvdGFibGVzb3J0LykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVwZWF0RXhwciA9IHJlcGVhdEV4cHIucmVwbGFjZSgvdGFibGVzb3J0LywgdHNFeHByKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tCeU1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vTW92ZSB0aGUgJ3RyYWNrIGJ5Jycgc3RhdGVtZW50IHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0RXhwciA9IHJlcGVhdEV4cHIucmVwbGFjZSh0cmFja0J5TWF0Y2hbMF0sICcnKSArIHRyYWNrQnlNYXRjaFswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcGVhdEV4cHIgPSByZXBlYXRFeHByLnJlcGxhY2UocmVwZWF0RXhwclJlZ2V4LCAnJDEgaW4gJDIgfCAnICsgdHNFeHByICsgJyQzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGF0dHJzLnRzSGlkZU5vRGF0YSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5vRGF0YVJvdyA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdKS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG5vRGF0YVJvdy5yZW1vdmVBdHRyKG5nUmVwZWF0RGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cucmVtb3ZlQXR0cih0c1JlcGVhdERpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93LmFkZENsYXNzKCAnc2hvd0lmTGFzdCcgKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBub0RhdGFSb3cuYXBwZW5kKCAnPHRkIGNvbHNwYW49XCInICsgZWxlbWVudFswXS5jaGlsZEVsZW1lbnRDb3VudCArICdcIj4nICsgc3RhcnRTeW0gKyAnbm9EYXRhVGV4dCcgKyBlbmRTeW0gKyAnPC90ZD4nICk7XG4gICAgICAgICAgICAgICAgbm9EYXRhUm93ID0gJGNvbXBpbGUobm9EYXRhUm93KShzY29wZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5wcmVwZW5kKG5vRGF0YVJvdyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vcGFzcyB0aGUgYGl0ZW1zTGlzdGAgZnJvbSBgaXRlbSBpbiBpdGVtc0xpc3RgIHRvIHRoZSBtYXN0ZXIgZGlyZWN0aXZlIGFzIGEgc3RyaW5nIHNvIGl0IGNhbiBiZSB1c2VkIGluIGV4cHJlc3Npb25zXG4gICAgICAgICAgICB0c1dyYXBwZXJDdHJsLnNldEFycmF5RXhwcihyZXBlYXRJbk1hdGNoWzJdKTtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0pLmF0dHIobmdSZXBlYXREaXJlY3RpdmUsIHJlcGVhdEV4cHIpO1xuICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudCwgbnVsbCwgMTAwMDAwMCkoc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcblxudGFibGVTb3J0TW9kdWxlLmZpbHRlciggJ3RhYmxlc29ydExpbWl0JywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBsaW1pdEZ1bikge1xuICAgIGlmKCFhcnJheSkgcmV0dXJuO1xuICAgIHJldHVybiBsaW1pdEZ1bihhcnJheSk7XG4gICAgfTtcbn0gKTtcblxudGFibGVTb3J0TW9kdWxlLmZpbHRlciggJ3RhYmxlc29ydE9yZGVyQnknLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHNvcnRmdW4gKSB7XG4gICAgICAgIGlmKCFhcnJheSkgcmV0dXJuO1xuICAgICAgICB2YXIgYXJyYXlDb3B5ID0gYXJyYXkuY29uY2F0KCk7XG4gICAgICAgIHJldHVybiBhcnJheUNvcHkuc29ydCggc29ydGZ1biApO1xuICAgIH07XG59ICk7XG5cbnRhYmxlU29ydE1vZHVsZS5maWx0ZXIoICdwYXJzZUludCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoIGlucHV0ICkgfHwgbnVsbDtcbiAgICB9O1xufSApO1xuXG50YWJsZVNvcnRNb2R1bGUuZmlsdGVyKCAncGFyc2VGbG9hdCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCggaW5wdXQgKSB8fCBudWxsO1xuICAgIH07XG59ICk7XG5cbnRhYmxlU29ydE1vZHVsZS5maWx0ZXIoICdwYXJzZURhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBpc05hTih0aW1lc3RhbXApID8gbnVsbCA6IHRpbWVzdGFtcDtcbiAgICB9O1xufSApO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGljYXJkeS5mb250YXdlc29tZScsIFtdKVxuICAuZGlyZWN0aXZlKCdmYScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJmYVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj4nLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgICAvKioqIFNUUklORyBBVFRSUyAqKiovXG4gICAgICAgIC8vIGtlZXAgYSBzdGF0ZSBvZiB0aGUgY3VycmVudCBhdHRycyBzbyB0aGF0IHdoZW4gdGhleSBjaGFuZ2UsXG4gICAgICAgIC8vIHdlIGNhbiByZW1vdmUgdGhlIG9sZCBhdHRycyBiZWZvcmUgYWRkaW5nIHRoZSBuZXcgb25lcy5cbiAgICAgICAgdmFyIGN1cnJlbnRDbGFzc2VzID0ge307XG5cbiAgICAgICAgLy8gZ2VuZXJpYyBmdW5jdGlvbiB0byBiaW5kIHN0cmluZyBhdHRyc1xuICAgICAgICBmdW5jdGlvbiBfb2JzZXJ2ZVN0cmluZ0F0dHIgKGF0dHIsIGJhc2VDbGFzcykge1xuICAgICAgICAgIHZhciBjbGFzc05hbWU7XG5cbiAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShhdHRyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiYXNlQ2xhc3MgPSBiYXNlQ2xhc3MgfHwgJ2ZhLScgKyBhdHRyO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3Nlc1thdHRyXSk7XG4gICAgICAgICAgICBpZiAoYXR0cnNbYXR0cl0pIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gW2Jhc2VDbGFzcywgYXR0cnNbYXR0cl1dLmpvaW4oJy0nKTtcbiAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgICAgICBjdXJyZW50Q2xhc3Nlc1thdHRyXSA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vYnNlcnZlU3RyaW5nQXR0cignbmFtZScsICdmYScpO1xuICAgICAgICBfb2JzZXJ2ZVN0cmluZ0F0dHIoJ3JvdGF0ZScpO1xuICAgICAgICBfb2JzZXJ2ZVN0cmluZ0F0dHIoJ2ZsaXAnKTtcbiAgICAgICAgX29ic2VydmVTdHJpbmdBdHRyKCdzdGFjaycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzaXplIGNhbiBiZSBwYXNzZWQgXCJsYXJnZVwiIG9yIGFuIGludGVnZXJcbiAgICAgICAgICovXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBjbGFzc05hbWU7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3Nlcy5zaXplKTtcblxuICAgICAgICAgIGlmIChhdHRycy5zaXplID09PSAnbGFyZ2UnKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtbGcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHBhcnNlSW50KGF0dHJzLnNpemUsIDEwKSkpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdmYS0nICsgYXR0cnMuc2l6ZSArICd4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgY3VycmVudENsYXNzZXMuc2l6ZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0YWNrIGNhbiBiZSBwYXNzZWQgXCJsYXJnZVwiIG9yIGFuIGludGVnZXJcbiAgICAgICAgICovXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdzdGFjaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXMuc3RhY2spO1xuXG4gICAgICAgICAgaWYgKGF0dHJzLnN0YWNrID09PSAnbGFyZ2UnKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtc3RhY2stbGcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHBhcnNlSW50KGF0dHJzLnN0YWNrLCAxMCkpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtc3RhY2stJyArIGF0dHJzLnN0YWNrICsgJ3gnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICBjdXJyZW50Q2xhc3Nlcy5zdGFjayA9IGNsYXNzTmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqKiBCT09MRUFOIEFUVFJTICoqKi9cbiAgICAgICAgLy8gZ2VuZXJpYyBmdW5jdGlvbiB0byBiaW5kIGJvb2xlYW4gYXR0cnNcbiAgICAgICAgZnVuY3Rpb24gX29ic2VydmVCb29sZWFuQXR0ciAoYXR0ciwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICdmYS0nICsgYXR0cjtcbiAgICAgICAgICAgIHZhbHVlID0gYXR0ciBpbiBhdHRycyAmJiBhdHRyc1thdHRyXSAhPT0gJ2ZhbHNlJyAmJiBhdHRyc1thdHRyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX29ic2VydmVCb29sZWFuQXR0cignYm9yZGVyJyk7XG4gICAgICAgIF9vYnNlcnZlQm9vbGVhbkF0dHIoJ2Z3Jyk7XG4gICAgICAgIF9vYnNlcnZlQm9vbGVhbkF0dHIoJ2ludmVyc2UnKTtcbiAgICAgICAgX29ic2VydmVCb29sZWFuQXR0cignc3BpbicpO1xuXG4gICAgICAgIC8qKiogQ09ORElUSU9OQUwgQVRUUlMgKioqL1xuICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgcG9wdWxhdGUgZmEtbGkgaWYgRE9NIHN0cnVjdHVyZSBpbmRpY2F0ZXNcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcygnZmEtbGknLFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCgpLnByb3AoJ3RhZ05hbWUnKSA9PT0gJ0xJJyAmJlxuICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkucGFyZW50KCkgJiZcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCgpLnBhcmVudCgpLmhhc0NsYXNzKCdmYS11bCcpICYmXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpWzBdID09PSBlbGVtZW50WzBdICYmXG4gICAgICAgICAgYXR0cnMubGlzdCAhPT0gJ2ZhbHNlJyAmJlxuICAgICAgICAgIGF0dHJzLmxpc3QgIT09IGZhbHNlXG4gICAgICAgICk7XG5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2FsdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgYWx0VGV4dCA9IGF0dHJzLmFsdCxcbiAgICAgICAgICAgICAgYWx0RWxlbSA9IGVsZW1lbnQubmV4dCgpLFxuICAgICAgICAgICAgICBhbHRFbGVtQ2xhc3MgPSAnZmEtYWx0LXRleHQnO1xuXG4gICAgICAgICAgaWYgKGFsdFRleHQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cignYWx0Jyk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgYWx0IGVsZW0gaWYgb25lIGRvZXMgbm90IGV4aXN0XG4gICAgICAgICAgICBpZiAoIWFsdEVsZW0gfHwgIWFsdEVsZW0uaGFzQ2xhc3MoYWx0RWxlbUNsYXNzKSkge1xuICAgICAgICAgICAgICBlbGVtZW50LmFmdGVyKCc8c3BhbiBjbGFzcz1cInNyLW9ubHkgZmEtYWx0LXRleHRcIj48L3NwYW4+Jyk7XG4gICAgICAgICAgICAgIGFsdEVsZW0gPSBlbGVtZW50Lm5leHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWx0RWxlbS50ZXh0KGFsdFRleHQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYWx0RWxlbSAmJiBhbHRFbGVtLmhhc0NsYXNzKGFsdEVsZW1DbGFzcykpIHtcbiAgICAgICAgICAgIC8vIGtpbGwgdGhlIGFsdCBlbGVtIGlmIHdlIHVzZWQgdG8gaGF2ZSBhbHQgdGV4dCwgYnV0IG5vdyB3ZSBkb24ndFxuICAgICAgICAgICAgYWx0RWxlbS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pXG4gIC5kaXJlY3RpdmUoJ2ZhU3RhY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICc8c3BhbiBuZy10cmFuc2NsdWRlIGNsYXNzPVwiZmEtc3RhY2sgZmEtbGdcIj48L3NwYW4+JyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgLyoqKiBTVFJJTkcgQVRUUlMgKioqL1xuICAgICAgICAvLyBrZWVwIGEgc3RhdGUgb2YgdGhlIGN1cnJlbnQgYXR0cnMgc28gdGhhdCB3aGVuIHRoZXkgY2hhbmdlLFxuICAgICAgICAvLyB3ZSBjYW4gcmVtb3ZlIHRoZSBvbGQgYXR0cnMgYmVmb3JlIGFkZGluZyB0aGUgbmV3IG9uZXMuXG4gICAgICAgIHZhciBjdXJyZW50Q2xhc3NlcyA9IHt9O1xuXG4gICAgICAgIC8vIGdlbmVyaWMgZnVuY3Rpb24gdG8gYmluZCBzdHJpbmcgYXR0cnNcbiAgICAgICAgZnVuY3Rpb24gX29ic2VydmVTdHJpbmdBdHRyIChhdHRyLCBiYXNlQ2xhc3MpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmFzZUNsYXNzID0gYmFzZUNsYXNzIHx8ICdmYS0nICsgYXR0cjtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzZXNbYXR0cl0pO1xuICAgICAgICAgICAgaWYgKGF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IFtiYXNlQ2xhc3MsIGF0dHJzW2F0dHJdXS5qb2luKCctJyk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgY3VycmVudENsYXNzZXNbYXR0cl0gPSBjbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfb2JzZXJ2ZVN0cmluZ0F0dHIoJ3NpemUnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2l6ZSBjYW4gYmUgcGFzc2VkIFwibGFyZ2VcIiBvciBhbiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lO1xuXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3Nlcy5zaXplKTtcblxuICAgICAgICAgIGlmIChhdHRycy5zaXplID09PSAnbGFyZ2UnKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnZmEtbGcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHBhcnNlSW50KGF0dHJzLnNpemUsIDEwKSkpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdmYS0nICsgYXR0cnMuc2l6ZSArICd4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgY3VycmVudENsYXNzZXMuc2l6ZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7IiwiLyohIEBsaWNlbnNlXG4gKiAgUHJvamVjdDogQnV0dG9uc1xuICogIERlc2NyaXB0aW9uOiBBIGhpZ2hseSBjdXN0b21pemFibGUgQ1NTIGJ1dHRvbiBsaWJyYXJ5IGJ1aWx0IHdpdGggU2FzcyBhbmQgQ29tcGFzc1xuICogIEF1dGhvcjogQWxleCBXb2xmZVxuICogIExpY2Vuc2U6IEFwYWNoZSBMaWNlbnNlIHYyLjBcbiAqL1xuXG4vLyB0aGUgc2VtaS1jb2xvbiBiZWZvcmUgZnVuY3Rpb24gaW52b2NhdGlvbiBpcyBhIHNhZmV0eSBuZXQgYWdhaW5zdCBjb25jYXRlbmF0ZWRcbi8vIHNjcmlwdHMgYW5kL29yIG90aGVyIHBsdWdpbnMgd2hpY2ggbWF5IG5vdCBiZSBjbG9zZWQgcHJvcGVybHkuXG47KGZ1bmN0aW9uICggJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIHVuZGVmaW5lZCBpcyB1c2VkIGhlcmUgYXMgdGhlIHVuZGVmaW5lZCBnbG9iYWwgdmFyaWFibGUgaW4gRUNNQVNjcmlwdCAzIGlzXG4gICAgLy8gbXV0YWJsZSAoaWUuIGl0IGNhbiBiZSBjaGFuZ2VkIGJ5IHNvbWVvbmUgZWxzZSkuIHVuZGVmaW5lZCBpc24ndCByZWFsbHkgYmVpbmdcbiAgICAvLyBwYXNzZWQgaW4gc28gd2UgY2FuIGVuc3VyZSB0aGUgdmFsdWUgb2YgaXQgaXMgdHJ1bHkgdW5kZWZpbmVkLiBJbiBFUzUsIHVuZGVmaW5lZFxuICAgIC8vIGNhbiBubyBsb25nZXIgYmUgbW9kaWZpZWQuXG5cbiAgICAvLyB3aW5kb3cgYW5kIGRvY3VtZW50IGFyZSBwYXNzZWQgdGhyb3VnaCBhcyBsb2NhbCB2YXJpYWJsZSByYXRoZXIgdGhhbiBnbG9iYWxcbiAgICAvLyBhcyB0aGlzIChzbGlnaHRseSkgcXVpY2tlbnMgdGhlIHJlc29sdXRpb24gcHJvY2VzcyBhbmQgY2FuIGJlIG1vcmUgZWZmaWNpZW50bHlcbiAgICAvLyBtaW5pZmllZCAoZXNwZWNpYWxseSB3aGVuIGJvdGggYXJlIHJlZ3VsYXJseSByZWZlcmVuY2VkIGluIHlvdXIgcGx1Z2luKS5cblxuICAgIC8vIENyZWF0ZSB0aGUgZGVmYXVsdHMgb25jZVxuICAgIHZhciBwbHVnaW5OYW1lID0gXCJtZW51QnV0dG9uXCI7XG4gICAgdmFyIG1lbnVDbGFzcyA9IFwiLmJ1dHRvbi1kcm9wZG93blwiO1xuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgcHJvcGVydHlOYW1lOiBcInZhbHVlXCJcbiAgICB9O1xuXG4gICAgLy8gVGhlIGFjdHVhbCBwbHVnaW4gY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBQbHVnaW4oIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgLy9TRVQgT1BUSU9OU1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCgge30sIGRlZmF1bHRzLCBvcHRpb25zICk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwbHVnaW5OYW1lO1xuXG4gICAgICAgIC8vUkVHSVNURVIgRUxFTUVOVFxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcblxuICAgICAgICAvL0lOSVRJQUxJWkVcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgUGx1Z2luLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IFBsdWdpbixcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFdFIERPTidUIFNUT1AgUFJPUEdBVElPTiBTTyBDTElDS1MgV0lMTCBBVVRPTUFUSUNBTExZXG4gICAgICAgICAgICAvLyBUT0dHTEUgQU5EIFJFTU9WRSBUSEUgRFJPUERPV05cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgaWYodGhpcy4kZWxlbWVudC5kYXRhKCdkcm9wZG93bicpID09PSAnc2hvdycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVNZW51KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZW51KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvd01lbnU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5kYXRhKCdkcm9wZG93bicsICdzaG93Jyk7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ3VsJykuc2hvdygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGVNZW51OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJvcGRvd24nLCAnaGlkZScpO1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCd1bCcpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBIHJlYWxseSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yLFxuICAgIC8vIHByZXZlbnRpbmcgYWdhaW5zdCBtdWx0aXBsZSBpbnN0YW50aWF0aW9uc1xuICAgICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvLyBUT0dHTEUgQlVUVE9OIElGIElUIEVYSVNUU1xuICAgICAgICAgICAgaWYgKCQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkudG9nZ2xlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPVEhFUldJU0UgQ1JFQVRFIEEgTkVXIElOU1RBTkNFXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lLCBuZXcgUGx1Z2luKCB0aGlzLCBvcHRpb25zICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy9DTE9TRSBPUEVOIERST1BET1dOIE1FTlVTIElGIENMSUNLRUQgU09NRVdIRVJFIEVMU0VcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICQuZWFjaCgkKCdbZGF0YS1idXR0b25zPWRyb3Bkb3duXScpLCBmdW5jdGlvbihpLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCQoZS50YXJnZXQub2Zmc2V0UGFyZW50KVswXSAhPSAkKHRoaXMpWzBdKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpLmhpZGVNZW51KCk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgndWwnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vREVMRUdBVEUgQ0xJQ0sgRVZFTlQgRk9SIERST1BET1dOIE1FTlVTXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWJ1dHRvbnM9ZHJvcGRvd25dJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgJGRyb3Bkb3duID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAkZHJvcGRvd24ubWVudUJ1dHRvbigpO1xuICAgIH0pO1xuXG4gICAgLy9JR05PUkUgQ0xJQ0sgRVZFTlRTIEZST00gRElTUExBWSBCVVRUT04gSU4gRFJPUERPV05cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtYnV0dG9ucz1kcm9wZG93bl0gPiBhJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbn0pKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpOyIsImFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUGF5bWVudHMnLCBbXSk7YW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQYXltZW50cycpXG5cbi5mYWN0b3J5KCdDb21tb24nLCBbZnVuY3Rpb24oKXtcblxuICB2YXIgcmV0ID0ge307XG5cblxuICAvLyBleHBpcnkgaXMgYSBzdHJpbmcgXCJtbSAvIHl5W3l5XVwiXG4gIHJldFsncGFyc2VFeHBpcnknXSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICB2YXIgbW9udGgsIHByZWZpeCwgeWVhciwgX3JlZjtcblxuICAgIHZhbHVlID0gdmFsdWUgfHwgJydcblxuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICBfcmVmID0gdmFsdWUuc3BsaXQoJy8nLCAyKSwgbW9udGggPSBfcmVmWzBdLCB5ZWFyID0gX3JlZlsxXTtcblxuICAgIGlmICgoeWVhciAhPSBudWxsID8geWVhci5sZW5ndGggOiB2b2lkIDApID09PSAyICYmIC9eXFxkKyQvLnRlc3QoeWVhcikpIHtcbiAgICAgIHByZWZpeCA9IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHByZWZpeCA9IHByZWZpeC50b1N0cmluZygpLnNsaWNlKDAsIDIpO1xuICAgICAgeWVhciA9IHByZWZpeCArIHllYXI7XG4gICAgfVxuXG4gICAgbW9udGggPSBwYXJzZUludChtb250aCwgMTApO1xuICAgIHllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgIHllYXI6IHllYXJcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHJldDtcblxufV0pO2FuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUGF5bWVudHMnKVxuXG4uZmFjdG9yeSgnQ2FyZHMnLCBbZnVuY3Rpb24oKXtcblxuICB2YXIgZGVmYXVsdEZvcm1hdCA9IC8oXFxkezEsNH0pL2c7XG4gIHZhciBkZWZhdWx0SW5wdXRGb3JtYXQgPSAgLyg/Ol58XFxzKShcXGR7NH0pJC87XG5cbiAgICAgICAgdmFyIGNhcmRzID0gW1xuICAgIHtcbiAgICAgIHR5cGU6ICdtYWVzdHJvJyxcbiAgICAgIHBhdHRlcm46IC9eKDUwMTh8NTAyMHw1MDM4fDYzMDR8Njc1OXw2NzZbMS0zXSkvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOV0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnZGluZXJzY2x1YicsXG4gICAgICBwYXR0ZXJuOiAvXigzNnwzOHwzMFswLTVdKS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBpbnB1dEZvcm1hdDogZGVmYXVsdElucHV0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTRdLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ2xhc2VyJyxcbiAgICAgIHBhdHRlcm46IC9eKDY3MDZ8Njc3MXw2NzA5KS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBpbnB1dEZvcm1hdDogZGVmYXVsdElucHV0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTYsIDE3LCAxOCwgMTldLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ2pjYicsXG4gICAgICBwYXR0ZXJuOiAvXjM1LyxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGlucHV0Rm9ybWF0OiBkZWZhdWx0SW5wdXRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAndW5pb25wYXknLFxuICAgICAgcGF0dGVybjogL142Mi8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBpbnB1dEZvcm1hdDogZGVmYXVsdElucHV0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTYsIDE3LCAxOCwgMTldLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdkaXNjb3ZlcicsXG4gICAgICBwYXR0ZXJuOiAvXig2MDExfDY1fDY0WzQtOV18NjIyKS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBpbnB1dEZvcm1hdDogZGVmYXVsdElucHV0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTZdLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ21hc3RlcmNhcmQnLFxuICAgICAgcGF0dGVybjogL141WzEtNV0vLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdhbWV4JyxcbiAgICAgIHBhdHRlcm46IC9eM1s0N10vLFxuICAgICAgZm9ybWF0OiAvKFxcZHsxLDR9KShcXGR7MSw2fSk/KFxcZHsxLDV9KT8vLFxuICAgICAgaW5wdXRGb3JtYXQ6IC9eKFxcZHs0fXxcXGR7NH1cXHNcXGR7Nn0pJC8sXG4gICAgICBsZW5ndGg6IFsxNV0sXG4gICAgICBjdmNMZW5ndGg6IFszLCA0XSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAndmlzYScsXG4gICAgICBwYXR0ZXJuOiAvXjQvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgaW5wdXRGb3JtYXQ6IGRlZmF1bHRJbnB1dEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzEzLCAxNCwgMTUsIDE2XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH1cbiAgXTtcblxuXG4gIHZhciBfZnJvbU51bWJlciA9IGZ1bmN0aW9uKG51bSl7XG4gICAgICB2YXIgY2FyZCwgaSwgbGVuO1xuXG4gICAgICBudW0gPSAobnVtICsgJycpLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNhcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cbiAgICAgICAgY2FyZCA9IGNhcmRzW2ldO1xuXG4gICAgICAgIGlmIChjYXJkLnBhdHRlcm4udGVzdChudW0pKSB7XG4gICAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICAgIH1cblxuICAgICAgfVxuICB9XG5cbiAgdmFyIF9mcm9tVHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBjYXJkLCBpLCBsZW47XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNhcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cbiAgICAgICAgY2FyZCA9IGNhcmRzW2ldO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNhcmQudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgICAgZnJvbU51bWJlcjogZnVuY3Rpb24odmFsKSB7IHJldHVybiBfZnJvbU51bWJlcih2YWwpIH0sXG4gICAgICBmcm9tVHlwZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiBfZnJvbVR5cGUodmFsKSB9LFxuICAgICAgZGVmYXVsdEZvcm1hdDogZnVuY3Rpb24oKSB7IHJldHVybiBkZWZhdWx0Rm9ybWF0O30sXG4gICAgICBkZWZhdWx0SW5wdXRGb3JtYXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVmYXVsdElucHV0Rm9ybWF0O31cbiAgfVxuXG59XSk7YW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQYXltZW50cycpXG5cblxuLmZhY3RvcnkoJ19Gb3JtYXQnLFsnQ2FyZHMnLCAnQ29tbW9uJywgJyRmaWx0ZXInLCBmdW5jdGlvbihDYXJkcywgQ29tbW9uLCAkZmlsdGVyKXtcblxuICB2YXIgX2Zvcm1hdHMgPSB7fVxuXG4gIHZhciBfaGFzVGV4dFNlbGVjdGVkID0gZnVuY3Rpb24oJHRhcmdldCkge1xuICAgICAgdmFyIHJlZjtcbiAgICAgIFxuICAgICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvbkVuZCcpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQgIT09IG51bGwgPyAocmVmID0gZG9jdW1lbnQuc2VsZWN0aW9uKSAhPSBudWxsID8gdHlwZW9mIHJlZi5jcmVhdGVSYW5nZSA9PT0gXCJmdW5jdGlvblwiID8gcmVmLmNyZWF0ZVJhbmdlKCkudGV4dCA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAvLyBjYXJkIGZvcm1hdHRpbmdcblxuICB2YXIgX2Zvcm1hdENhcmROdW1iZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRhcmdldCwgY2FyZCwgZGlnaXQsIGxlbmd0aCwgcmUsIHVwcGVyTGVuZ3RoLCB2YWx1ZTtcbiAgICAgIFxuICAgICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgICAgJHRhcmdldCA9IGFuZ3VsYXIuZWxlbWVudChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgY2FyZCA9IENhcmRzLmZyb21OdW1iZXIodmFsdWUgKyBkaWdpdCk7XG4gICAgICBsZW5ndGggPSAodmFsdWUucmVwbGFjZSgvXFxEL2csICcnKSArIGRpZ2l0KS5sZW5ndGg7XG4gICAgICBcbiAgICAgIHVwcGVyTGVuZ3RoID0gMTY7XG4gICAgICBcbiAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgIHVwcGVyTGVuZ3RoID0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChsZW5ndGggPj0gdXBwZXJMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpICYmICFlLm1ldGEgJiYgZS5rZXlDb2RlID49IDQ2KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlID0gQ2FyZHMuZGVmYXVsdElucHV0Rm9ybWF0KCk7XG4gICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgIHJlID0gY2FyZC5pbnB1dEZvcm1hdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgJyAnICsgZGlnaXQpO1xuXG4gICAgICB9IGVsc2UgaWYgKHJlLnRlc3QodmFsdWUgKyBkaWdpdCkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUgKyBkaWdpdCArICcgJyk7XG5cbiAgICAgIH1cbiAgfTtcblxuICB2YXIgX3Jlc3RyaWN0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGFyZ2V0LCBjYXJkLCBkaWdpdCwgdmFsdWU7XG4gICAgICBcbiAgICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICAgIFxuICAgICAgaWYoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYoX2hhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhbHVlID0gKCR0YXJnZXQudmFsKCkgKyBkaWdpdCkucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgIGNhcmQgPSBDYXJkcy5mcm9tTnVtYmVyKHZhbHVlKTtcbiAgICAgIFxuICAgICAgaWYoY2FyZCkge1xuICAgICAgICBpZighKHZhbHVlLmxlbmd0aCA8PSBjYXJkLmxlbmd0aFtjYXJkLmxlbmd0aC5sZW5ndGggLSAxXSkpe1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYoISh2YWx1ZS5sZW5ndGggPD0gMTYpKXtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfTtcblxuICB2YXIgX2Zvcm1hdEJhY2tDYXJkTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICAgXG4gICAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gICAgICBcbiAgICAgIGlmKGUubWV0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmKGUud2hpY2ggIT09IDgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZigoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYoL1xcZFxccyQvLnRlc3QodmFsdWUpICYmICFlLm1ldGEgJiYgZS5rZXlDb2RlID49IDQ2KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZFxccyQvLCAnJykpO1xuICAgICAgfSBlbHNlIGlmICgvXFxzXFxkPyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcc1xcZD8kLywgJycpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIHZhciBfZ2V0Rm9ybWF0dGVkQ2FyZE51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICAgICAgdmFyIGNhcmQsIGdyb3VwcywgdXBwZXJMZW5ndGgsIHJlZjtcbiAgICAgIFxuICAgICAgY2FyZCA9IENhcmRzLmZyb21OdW1iZXIobnVtKTtcbiAgICAgIFxuICAgICAgaWYgKCFjYXJkKSB7XG4gICAgICAgIHJldHVybiBudW07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHVwcGVyTGVuZ3RoID0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV07XG4gICAgICBudW0gPSBudW0ucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgIG51bSA9IG51bS5zbGljZSgwLCArdXBwZXJMZW5ndGggKyAxIHx8IDllOSk7XG4gICAgICBcbiAgICAgIGlmKGNhcmQuZm9ybWF0Lmdsb2JhbCkge1xuICAgICAgICByZXR1cm4gKHJlZiA9IG51bS5tYXRjaChjYXJkLmZvcm1hdCkpICE9IG51bGwgPyByZWYuam9pbignICcpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXBzID0gY2FyZC5mb3JtYXQuZXhlYyhudW0pO1xuICAgICAgICAgIFxuICAgICAgICBpZiAoZ3JvdXBzICE9IG51bGwpIHtcbiAgICAgICAgICBncm91cHMuc2hpZnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncm91cHMgIT0gbnVsbCA/IGdyb3Vwcy5qb2luKCcgJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcblxuICB2YXIgX3JlRm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS50YXJnZXQpO1xuICAgIFxuICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgdmFsdWUgPSBfZ2V0Rm9ybWF0dGVkQ2FyZE51bWJlcih2YWx1ZSk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBfcGFyc2VDYXJkTnVtYmVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLnJlcGxhY2UoL1xccy9nLCAnJykgOiB2YWx1ZTtcbiAgfTtcblxuICBfZm9ybWF0c1snY2FyZCddID0gZnVuY3Rpb24oZWxlbSwgY3RybCl7XG4gICAgZWxlbS5iaW5kKCdrZXlwcmVzcycsIF9yZXN0cmljdENhcmROdW1iZXIpO1xuICAgIGVsZW0uYmluZCgna2V5cHJlc3MnLCBfZm9ybWF0Q2FyZE51bWJlcik7XG4gICAgZWxlbS5iaW5kKCdrZXlkb3duJywgX2Zvcm1hdEJhY2tDYXJkTnVtYmVyKTtcbiAgICBlbGVtLmJpbmQoJ3Bhc3RlJywgX3JlRm9ybWF0Q2FyZE51bWJlcik7XG5cbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goX3BhcnNlQ2FyZE51bWJlcik7XG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKF9nZXRGb3JtYXR0ZWRDYXJkTnVtYmVyKTtcbiAgfVxuXG5cbiAgLy8gY3ZjXG5cbiAgX2Zvcm1hdENWQyA9IGZ1bmN0aW9uKGUpe1xuICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgXG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSAmJiAhZS5tZXRhICYmIGUua2V5Q29kZSA+PSA0Nikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhbCA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICBcbiAgICBpZih2YWwubGVuZ3RoIDw9IDQpe1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgX2Zvcm1hdHNbJ2N2YyddID0gZnVuY3Rpb24oZWxlbSl7XG4gICAgZWxlbS5iaW5kKCdrZXlwcmVzcycsIF9mb3JtYXRDVkMpXG4gIH1cblxuICAvLyBleHBpcnlcblxuICBfcmVzdHJpY3RFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIGRpZ2l0LCB2YWx1ZTtcbiAgICBcbiAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIFxuICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkgJiYgIWUubWV0YSAmJiBlLmtleUNvZGUgPj0gNDYpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYoX2hhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgXG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDYpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBfZm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBkaWdpdCwgdmFsO1xuICAgIFxuICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICBcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpICYmICFlLm1ldGEgJiYgZS5rZXlDb2RlID49IDQ2KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpICsgZGlnaXQ7XG4gICAgXG4gICAgaWYgKC9eXFxkJC8udGVzdCh2YWwpICYmICh2YWwgIT09ICcwJyAmJiB2YWwgIT09ICcxJykpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIjBcIiArIHZhbCArIFwiIC8gXCIpO1xuXG4gICAgfSBlbHNlIGlmICgvXlxcZFxcZCQvLnRlc3QodmFsKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiXCIgKyB2YWwgKyBcIiAvIFwiKTtcblxuICAgIH1cbiAgfTtcblxuICBfZm9ybWF0Rm9yd2FyZEV4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgICBcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgXG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSAmJiAhZS5tZXRhICYmIGUua2V5Q29kZSA+PSA0Nikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAkdGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsID0gJHRhcmdldC52YWwoKTtcbiAgICBcbiAgICBpZiAoL15cXGRcXGQkLy50ZXN0KHZhbCkpIHtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIlwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgfVxuICB9O1xuXG4gIF9mb3JtYXRGb3J3YXJkU2xhc2ggPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIHNsYXNoLCB2YWw7XG4gICAgXG4gICAgc2xhc2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIFxuICAgIGlmIChzbGFzaCAhPT0gJy8nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIFxuICAgIGlmICgvXlxcZCQvLnRlc3QodmFsKSAmJiB2YWwgIT09ICcwJykge1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiMFwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgfVxuICB9O1xuXG4gIF9mb3JtYXRCYWNrRXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICBcbiAgICBpZiAoZS5tZXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgICR0YXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gICAgXG4gICAgaWYgKGUud2hpY2ggIT09IDgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKC9cXGQoXFxzfFxcLykrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZS5yZXBsYWNlKC9cXGQoXFxzfFxcLykqJC8sICcnKSk7XG5cbiAgICB9IGVsc2UgaWYgKC9cXHNcXC9cXHM/XFxkPyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUucmVwbGFjZSgvXFxzXFwvXFxzP1xcZD8kLywgJycpKTtcblxuICAgIH1cbiAgfTtcblxuICB2YXIgX3BhcnNlRXhwaXJ5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZih2YWx1ZSAhPSBudWxsKSB7XG4gICAgICB2YXIgb2JqID0gQ29tbW9uLnBhcnNlRXhwaXJ5KHZhbHVlKTtcbiAgICAgIHZhciBleHBpcnkgPSBuZXcgRGF0ZShvYmoueWVhciwgb2JqLm1vbnRoLTEpO1xuICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShleHBpcnksICdNTS95eXl5Jyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfZ2V0Rm9ybWF0dGVkRXhwaXJ5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZih2YWx1ZSAhPSBudWxsKSB7XG4gICAgICB2YXIgb2JqID0gQ29tbW9uLnBhcnNlRXhwaXJ5KHZhbHVlKTtcbiAgICAgIHZhciBleHBpcnkgPSBuZXcgRGF0ZShvYmoueWVhciwgb2JqLm1vbnRoLTEpO1xuICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShleHBpcnksICdNTSAvIHl5eXknKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cblxuICBfZm9ybWF0c1snZXhwaXJ5J10gPSBmdW5jdGlvbihlbGVtLCBjdHJsKXtcbiAgICBlbGVtLmJpbmQoJ2tleXByZXNzJywgX3Jlc3RyaWN0RXhwaXJ5KTtcbiAgICBlbGVtLmJpbmQoJ2tleXByZXNzJywgX2Zvcm1hdEV4cGlyeSk7XG4gICAgZWxlbS5iaW5kKCdrZXlwcmVzcycsIF9mb3JtYXRGb3J3YXJkU2xhc2gpO1xuICAgIGVsZW0uYmluZCgna2V5cHJlc3MnLCBfZm9ybWF0Rm9yd2FyZEV4cGlyeSk7XG4gICAgZWxlbS5iaW5kKCdrZXlkb3duJywgX2Zvcm1hdEJhY2tFeHBpcnkpO1xuXG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKF9wYXJzZUV4cGlyeSk7XG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKF9nZXRGb3JtYXR0ZWRFeHBpcnkpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUsIGVsZW0sIGN0cmwpe1xuICAgIGlmKCFfZm9ybWF0c1t0eXBlXSl7XG5cbiAgICAgIHR5cGVzID0gT2JqZWN0LmtleXMoX2Zvcm1hdHMpO1xuXG4gICAgICBlcnJzdHIgID0gJ1Vua25vd24gdHlwZSBmb3IgZm9ybWF0dGluZzogXCInK3R5cGUrJ1wiLiAnO1xuICAgICAgZXJyc3RyICs9ICdTaG91bGQgYmUgb25lIG9mOiBcIicrdHlwZXMuam9pbignXCIsIFwiJykrJ1wiJztcblxuICAgICAgdGhyb3cgZXJyc3RyO1xuICAgIH1cbiAgICByZXR1cm4gX2Zvcm1hdHNbdHlwZV0oZWxlbSwgY3RybCk7XG4gIH1cblxufV0pXG5cbi5kaXJlY3RpdmUoJ3BheW1lbnRzRm9ybWF0JywgWyckd2luZG93JywgJ19Gb3JtYXQnLCBmdW5jdGlvbigkd2luZG93LCBfRm9ybWF0KXtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyLCBjdHJsKXtcbiAgICAgICAgX0Zvcm1hdChhdHRyLnBheW1lbnRzRm9ybWF0LCBlbGVtLCBjdHJsKTtcbiAgICAgIH1cbiAgICB9XG59XSk7YW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQYXltZW50cycpXG5cblxuXG4uZmFjdG9yeSgnX1ZhbGlkYXRlJywgWydDYXJkcycsICdDb21tb24nLCAnJHBhcnNlJywgZnVuY3Rpb24oQ2FyZHMsIENvbW1vbiwgJHBhcnNlKXtcblxuICB2YXIgX19pbmRleE9mID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbihpdGVtKSB7IGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsgaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSByZXR1cm4gaTsgfSByZXR1cm4gLTE7IH1cblxuICB2YXIgX2x1aG5DaGVjayA9IGZ1bmN0aW9uKG51bSkge1xuICAgIHZhciBkaWdpdCwgZGlnaXRzLCBvZGQsIHN1bSwgaSwgbGVuO1xuXG4gICAgb2RkID0gdHJ1ZTtcbiAgICBzdW0gPSAwO1xuICAgIGRpZ2l0cyA9IChudW0gKyAnJykuc3BsaXQoJycpLnJldmVyc2UoKTtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGRpZ2l0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXG4gICAgICBkaWdpdCA9IGRpZ2l0c1tpXTtcbiAgICAgIGRpZ2l0ID0gcGFyc2VJbnQoZGlnaXQsIDEwKTtcblxuICAgICAgaWYgKChvZGQgPSAhb2RkKSkge1xuICAgICAgICBkaWdpdCAqPSAyO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlnaXQgPiA5KSB7XG4gICAgICAgIGRpZ2l0IC09IDk7XG4gICAgICB9XG5cbiAgICAgIHN1bSArPSBkaWdpdDtcblxuICAgIH1cblxuICAgIHJldHVybiBzdW0gJSAxMCA9PT0gMDtcbiAgfTtcblxuICB2YXIgX3ZhbGlkYXRvcnMgPSB7fVxuXG4gIF92YWxpZGF0b3JzWydjdmMnXSA9IGZ1bmN0aW9uKGN2YywgY3RybCwgc2NvcGUsIGF0dHIpe1xuICAgICAgdmFyIHJlZiwgcmVmMTtcblxuICAgICAgLy8gdmFsaWQgaWYgZW1wdHkgLSBsZXQgbmctcmVxdWlyZWQgaGFuZGxlIGVtcHR5XG4gICAgICBpZihjdmMgPT0gbnVsbCB8fCBjdmMubGVuZ3RoID09IDApIHJldHVybiB0cnVlO1xuXG4gICAgICBpZiAoIS9eXFxkKyQvLnRlc3QoY3ZjKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB0eXBlO1xuICAgICAgaWYoYXR0ci5wYXltZW50c1R5cGVNb2RlbCkge1xuICAgICAgICAgIHZhciB0eXBlTW9kZWwgPSAkcGFyc2UoYXR0ci5wYXltZW50c1R5cGVNb2RlbCk7XG4gICAgICAgICAgdHlwZSA9IHR5cGVNb2RlbChzY29wZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIHJldHVybiByZWYgPSBjdmMubGVuZ3RoLCBfX2luZGV4T2YuY2FsbCgocmVmMSA9IENhcmRzLmZyb21UeXBlKHR5cGUpKSAhPSBudWxsID8gcmVmMS5jdmNMZW5ndGggOiB2b2lkIDAsIHJlZikgPj0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjdmMubGVuZ3RoID49IDMgJiYgY3ZjLmxlbmd0aCA8PSA0O1xuICAgICAgfVxuICB9XG5cbiAgX3ZhbGlkYXRvcnNbJ2NhcmQnXSA9IGZ1bmN0aW9uKG51bSwgY3RybCwgc2NvcGUsIGF0dHIpe1xuICAgICAgdmFyIGNhcmQsIHJlZiwgdHlwZU1vZGVsO1xuXG4gICAgICBpZihhdHRyLnBheW1lbnRzVHlwZU1vZGVsKSB7XG4gICAgICAgICAgdHlwZU1vZGVsID0gJHBhcnNlKGF0dHIucGF5bWVudHNUeXBlTW9kZWwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xlYXJDYXJkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBpZih0eXBlTW9kZWwpIHtcbiAgICAgICAgICAgICAgdHlwZU1vZGVsLmFzc2lnbihzY29wZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0cmwuJGNhcmQgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgLy8gdmFsaWQgaWYgZW1wdHkgLSBsZXQgbmctcmVxdWlyZWQgaGFuZGxlIGVtcHR5XG4gICAgICBpZihudW0gPT0gbnVsbCB8fCBudW0ubGVuZ3RoID09IDApe1xuICAgICAgICBjbGVhckNhcmQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIG51bSA9IChudW0gKyAnJykucmVwbGFjZSgvXFxzK3wtL2csICcnKTtcblxuICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KG51bSkpIHtcbiAgICAgICAgY2xlYXJDYXJkKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY2FyZCA9IENhcmRzLmZyb21OdW1iZXIobnVtKTtcblxuICAgICAgaWYoIWNhcmQpIHtcbiAgICAgICAgY2xlYXJDYXJkKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY3RybC4kY2FyZCA9IGFuZ3VsYXIuY29weShjYXJkKTtcblxuICAgICAgaWYodHlwZU1vZGVsKSB7XG4gICAgICAgICAgdHlwZU1vZGVsLmFzc2lnbihzY29wZSwgY2FyZC50eXBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0ID0gKHJlZiA9IG51bS5sZW5ndGgsIF9faW5kZXhPZi5jYWxsKGNhcmQubGVuZ3RoLCByZWYpID49IDApICYmIChjYXJkLmx1aG4gPT09IGZhbHNlIHx8IF9sdWhuQ2hlY2sobnVtKSk7XG5cbiAgICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBfdmFsaWRhdG9yc1snZXhwaXJ5J10gPSBmdW5jdGlvbih2YWwpe1xuICAgIC8vIHZhbGlkIGlmIGVtcHR5IC0gbGV0IG5nLXJlcXVpcmVkIGhhbmRsZSBlbXB0eVxuICAgIGlmKHZhbCA9PSBudWxsIHx8IHZhbC5sZW5ndGggPT0gMCkgcmV0dXJuIHRydWU7XG5cbiAgICBvYmogPSBDb21tb24ucGFyc2VFeHBpcnkodmFsKTtcblxuICAgIG1vbnRoID0gb2JqLm1vbnRoO1xuICAgIHllYXIgPSBvYmoueWVhcjtcblxuICAgIHZhciBjdXJyZW50VGltZSwgZXhwaXJ5LCBwcmVmaXg7XG5cbiAgICBpZiAoIShtb250aCAmJiB5ZWFyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghL15cXGQrJC8udGVzdChtb250aCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoeWVhcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIShwYXJzZUludChtb250aCwgMTApIDw9IDEyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh5ZWFyLmxlbmd0aCA9PT0gMikge1xuICAgICAgcHJlZml4ID0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO1xuICAgICAgcHJlZml4ID0gcHJlZml4LnRvU3RyaW5nKCkuc2xpY2UoMCwgMik7XG4gICAgICB5ZWFyID0gcHJlZml4ICsgeWVhcjtcbiAgICB9XG5cbiAgICBleHBpcnkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCk7XG4gICAgY3VycmVudFRpbWUgPSBuZXcgRGF0ZTtcbiAgICBleHBpcnkuc2V0TW9udGgoZXhwaXJ5LmdldE1vbnRoKCkgLSAxKTtcbiAgICBleHBpcnkuc2V0TW9udGgoZXhwaXJ5LmdldE1vbnRoKCkgKyAxLCAxKTtcblxuICAgIHJldHVybiBleHBpcnkgPiBjdXJyZW50VGltZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbih0eXBlLCB2YWwsIGN0cmwsIHNjb3BlLCBhdHRyKXtcbiAgICBpZighX3ZhbGlkYXRvcnNbdHlwZV0pe1xuXG4gICAgICB0eXBlcyA9IE9iamVjdC5rZXlzKF92YWxpZGF0b3JzKTtcblxuICAgICAgZXJyc3RyICA9ICdVbmtub3duIHR5cGUgZm9yIHZhbGlkYXRpb246IFwiJyt0eXBlKydcIi4gJztcbiAgICAgIGVycnN0ciArPSAnU2hvdWxkIGJlIG9uZSBvZjogXCInK3R5cGVzLmpvaW4oJ1wiLCBcIicpKydcIic7XG5cbiAgICAgIHRocm93IGVycnN0cjtcbiAgICB9XG4gICAgcmV0dXJuIF92YWxpZGF0b3JzW3R5cGVdKHZhbCwgY3RybCwgc2NvcGUsIGF0dHIpO1xuICB9XG59XSlcblxuXG4uZmFjdG9yeSgnX1ZhbGlkYXRlV2F0Y2gnLCBbJ19WYWxpZGF0ZScsIGZ1bmN0aW9uKF9WYWxpZGF0ZSl7XG5cbiAgICB2YXIgX3ZhbGlkYXRvcldhdGNoZXMgPSB7fVxuXG4gICAgX3ZhbGlkYXRvcldhdGNoZXNbJ2N2YyddID0gZnVuY3Rpb24odHlwZSwgY3RybCwgc2NvcGUsIGF0dHIpe1xuICAgICAgICBpZihhdHRyLnBheW1lbnRzVHlwZU1vZGVsKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5wYXltZW50c1R5cGVNb2RlbCwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgICAgICBpZihuZXdWYWwgIT0gb2xkVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IF9WYWxpZGF0ZSh0eXBlLCBjdHJsLiRtb2RlbFZhbHVlLCBjdHJsLCBzY29wZSwgYXR0cik7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KHR5cGUsIHZhbGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCBjdHJsLCBzY29wZSwgYXR0cil7XG4gICAgICAgIGlmKF92YWxpZGF0b3JXYXRjaGVzW3R5cGVdKXtcbiAgICAgICAgICAgIHJldHVybiBfdmFsaWRhdG9yV2F0Y2hlc1t0eXBlXSh0eXBlLCBjdHJsLCBzY29wZSwgYXR0cik7XG4gICAgICAgIH1cbiAgICB9XG59XSlcblxuLmRpcmVjdGl2ZSgncGF5bWVudHNWYWxpZGF0ZScsIFsnJHdpbmRvdycsICdfVmFsaWRhdGUnLCAnX1ZhbGlkYXRlV2F0Y2gnLCBmdW5jdGlvbigkd2luZG93LCBfVmFsaWRhdGUsIF9WYWxpZGF0ZVdhdGNoKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0ciwgY3RybCl7XG5cbiAgICAgIHZhciB0eXBlID0gYXR0ci5wYXltZW50c1ZhbGlkYXRlO1xuXG4gICAgICBfVmFsaWRhdGVXYXRjaCh0eXBlLCBjdHJsLCBzY29wZSwgYXR0cik7XG5cbiAgICAgIHZhciB2YWxpZGF0ZUZuID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgdmFyIHZhbGlkID0gX1ZhbGlkYXRlKHR5cGUsIHZhbCwgY3RybCwgc2NvcGUsIGF0dHIpO1xuICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KHR5cGUsIHZhbGlkKTtcbiAgICAgICAgICByZXR1cm4gdmFsaWQgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2godmFsaWRhdGVGbik7XG4gICAgICBjdHJsLiRwYXJzZXJzLnB1c2godmFsaWRhdGVGbik7XG4gICAgfVxuICB9XG59XSlcbjthbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBheW1lbnRzJylcblxuLmRpcmVjdGl2ZSgnc3RyaXBlRm9ybScsIFsnJHdpbmRvdycsICckcGFyc2UnLCAnQ29tbW9uJywgZnVuY3Rpb24oJHdpbmRvdywgJHBhcnNlLCBDb21tb24pIHtcbiAgICBcbiAgLy8gZGlyZWN0aXZlIGludGVyY2VwdHMgZm9ybS1zdWJtaXNzaW9uLCBvYnRhaW5zIFN0cmlwZSdzIGNhcmRUb2tlbiB1c2luZyBzdHJpcGUuanNcbiAgLy8gYW5kIHRoZW4gcGFzc2VzIHRoYXQgdG8gY2FsbGJhY2sgcHJvdmlkZWQgaW4gc3RyaXBlRm9ybSwgYXR0cmlidXRlLlxuXG4gIC8vIGRhdGEgdGhhdCBpcyBzZW50IHRvIHN0cmlwZSBpcyBmaWx0ZXJlZCBmcm9tIHNjb3BlLCBsb29raW5nIGZvciB2YWxpZCB2YWx1ZXMgdG9cbiAgLy8gc2VuZCBhbmQgY29udmVydGluZyBjYW1lbENhc2UgdG8gc25ha2VfY2FzZSwgZS5nIGV4cE1vbnRoIC0+IGV4cF9tb250aFxuXG5cbiAgLy8gZmlsdGVyIHZhbGlkIHN0cmlwZS12YWx1ZXMgZnJvbSBzY29wZSBhbmQgY29udmVydCB0aGVtIGZyb20gY2FtZWxDYXNlIHRvIHNuYWtlX2Nhc2VcbiAgX2dldERhdGFUb1NlbmQgPSBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgXG4gICAgdmFyIHBvc3NpYmxlS2V5cyA9IFsnbnVtYmVyJywgJ2V4cE1vbnRoJywgJ2V4cFllYXInLCBcbiAgICAgICAgICAgICAgICAgICAgJ2N2YycsICduYW1lJywnYWRkcmVzc0xpbmUxJywgXG4gICAgICAgICAgICAgICAgICAgICdhZGRyZXNzTGluZTInLCAnYWRkcmVzc0NpdHknLFxuICAgICAgICAgICAgICAgICAgICAnYWRkcmVzc1N0YXRlJywgJ2FkZHJlc3NaaXAnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkcmVzc0NvdW50cnknXVxuICAgIFxuICAgIHZhciBjYW1lbFRvU25ha2UgPSBmdW5jdGlvbihzdHIpe1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKG0pe1xuICAgICAgICByZXR1cm4gXCJfXCIrbS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHJldCA9IHt9O1xuXG4gICAgZm9yKGkgaW4gcG9zc2libGVLZXlzKXtcbiAgICAgICAgaWYoZGF0YS5oYXNPd25Qcm9wZXJ0eShwb3NzaWJsZUtleXNbaV0pKXtcbiAgICAgICAgICAgIHJldFtjYW1lbFRvU25ha2UocG9zc2libGVLZXlzW2ldKV0gPSBhbmd1bGFyLmNvcHkoZGF0YVtwb3NzaWJsZUtleXNbaV1dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldFsnbnVtYmVyJ10gPSAocmV0WydudW1iZXInXSB8fCAnJykucmVwbGFjZSgvIC9nLCcnKTtcblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIpIHtcblxuICAgICAgaWYoISR3aW5kb3cuU3RyaXBlKXtcbiAgICAgICAgICB0aHJvdyAnc3RyaXBlRm9ybSByZXF1aXJlcyB0aGF0IHlvdSBoYXZlIHN0cmlwZS5qcyBpbnN0YWxsZWQuIEluY2x1ZGUgaHR0cHM6Ly9qcy5zdHJpcGUuY29tL3YyLyBpbnRvIHlvdXIgaHRtbC4nO1xuICAgICAgfVxuXG4gICAgICB2YXIgZm9ybSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtKTtcblxuICAgICAgZm9ybS5iaW5kKCdzdWJtaXQnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICBleHBNb250aFVzZWQgPSBzY29wZS5leHBNb250aCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgZXhwWWVhclVzZWQgPSBzY29wZS5leHBZZWFyID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIGlmKCEoZXhwTW9udGhVc2VkICYmIGV4cFllYXJVc2VkKSl7XG4gICAgICAgICAgZXhwID0gQ29tbW9uLnBhcnNlRXhwaXJ5KHNjb3BlLmV4cGlyeSlcbiAgICAgICAgICBzY29wZS5leHBNb250aCA9IGV4cC5tb250aFxuICAgICAgICAgIHNjb3BlLmV4cFllYXIgPSBleHAueWVhclxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1dHRvbiA9IGZvcm0uZmluZCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG4gICAgICAgIGlmKGZvcm0uaGFzQ2xhc3MoJ25nLXZhbGlkJykpIHtcbiAgICAgICAgICBcblxuICAgICAgICAgICR3aW5kb3cuU3RyaXBlLmNyZWF0ZVRva2VuKF9nZXREYXRhVG9TZW5kKHNjb3BlKSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2NvcGVbYXR0ci5zdHJpcGVGb3JtXS5hcHBseShzY29wZSwgYXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGVbYXR0ci5zdHJpcGVGb3JtXS5hcHBseShzY29wZSwgWzQwMCwge2Vycm9yOiAnSW52YWxpZCBmb3JtIHN1Ym1pdHRlZC4nfV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLmV4cE1vbnRoID0gbnVsbDtcbiAgICAgICAgc2NvcGUuZXhwWWVhciAgPSBudWxsO1xuXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1dKTtcbiJdfQ==
