var authWait=["Auth",function(e){return e.$waitForSignIn()}],authRequire=["Auth",function(e){return e.$requireSignIn()}];angular.module("SistersApp",["SistersCtrls","SistersDirectives","ui.router","ui.bootstrap","firebase","angularMoment","ngCart","ngStorage","angularPayments","ngAnimate","picardy.fontawesome","textAngular","ui.router.metatags","angular-parallax"]).run(["$rootScope","$state","$location","$window","MetaTags",function(e,t,o,a,r){e.MetaTags=r,e.$on("$stateChangeError",function(e,o,a,r,n,s){"AUTH_REQUIRED"===s&&t.go("login")}),e.$on("$stateChangeSuccess",function(e){document.body.scrollTop=document.documentElement.scrollTop=0,a.ga&&a.ga("send","pageview",{page:o.path()})})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","UIRouterMetatagsProvider","$provide",function(e,t,o,a,r){a.setDefaultTitle("SISTERS").setDefaultDescription('Seattle duo. "Drink Champagne", the debut album, coming soon!').setStaticProperties({"og:site_name":"SISTERS"}).setOGURL(!0),t.otherwise("/"),e.state("home",{url:"/",metaTags:{title:"SISTERS",description:'Seattle duo. "Drink Champagne", the debut album, coming soon!'},templateUrl:"/views/home.html",controller:"HomeCtrl"}).state("about",{url:"/about",templateUrl:"/views/about.html",controller:"AboutCtrl"}).state("download",{url:"/download/:id",resolve:{downloadKey:["DownloadKeyService","$stateParams",function(e,t){return e(t.id).$loaded()}]},onEnter:["$state","$stateParams","$timeout","downloadKey",function(e,t,o,a){a===!0?o(function(){console.log("success!")},0):o(function(){console.log("failed!")},0)}]}).state("blog",{templateUrl:"/views/blog/blog.html",controller:"BlogMasterCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}]}}).state("blog-new",{url:"/blog/new",templateUrl:"/views/blog/newBlogPost.html",controller:"NewBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}]}}).state("blog-edit",{url:"/blog/edit/:slug",templateUrl:"/views/blog/editBlogPost.html",controller:"EditBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}],thisPost:["$stateParams","ThisPostService",function(e,t){return t(e.slug).$loaded()}]}}).state("blog-tags-edit",{url:"/blog/editTags/",templateUrl:"/views/blog/editTags.html",controller:"EditBlogTagsCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}]}}).state("blog.main",{url:"/blog",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.page",{url:"/blog/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.archive",{url:"/blog/archives/:year/:month",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(e,t){return t(e.year,e.month).$loaded()}]}}).state("blog.archivePage",{url:"/blog/archives/:year/:month/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(e,t){return t(e.year,e.month).$loaded()}]}}).state("blog.tags",{url:"/blog/tags/:tagName",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogTagsCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],TagsShow:["$stateParams","TagsShowService",function(e,t){return t(e.tagName).$loaded()}]}}).state("blog.show",{url:"/blog/show/:slug",templateUrl:"/views/blog/blog-content.html",controller:"BlogShowCtrl",resolve:{currentAuth:authWait,thisPost:["$stateParams","ThisPostService",function(e,t){return t(e.slug).$loaded()}],Blog:["BlogPosts",function(e){return e().$loaded()}]},metaTags:{title:function(e){console.log("what is Blog? ",e);var t="SISTERS - "+e[0].postTitle;return t},description:function(e){return e[0].postBody}}}).state("shows",{url:"/shows",metaTags:{title:"SISTERS - Shows",description:"Upcoming shows for Seattle duo SISTERS."},templateUrl:"/views/shows/shows.html",controller:"ShowsCtrl",resolve:{currentAuth:authWait,getShows:["GetShows",function(e){return console.log("app resolve entered"),e().$loaded()}]}}).state("store",{url:"/store",metaTags:{title:"SISTERS - Store",description:"The official store for Seattle duo SISTERS."},templateUrl:"/views/store/store.html",controller:"StoreCtrl",resolve:{currentAuth:authWait,allProducts:["ProductsService",function(e){return e.allProducts().$loaded()}]}}).state("storeCart",{url:"/store/cart",templateUrl:"/views/store/cart.html",controller:"StoreCartCtrl",resolve:{currentAuth:authWait}}).state("storeShow",{url:"/store/:id",templateUrl:"/views/store/storeShow.html",controller:"StoreShowCtrl",resolve:{currentAuth:authWait,oneProduct:["ProductsService","$stateParams",function(e,t){return e.oneProduct(t.id)}]}}).state("checkout",{templateUrl:"/views/store/checkoutTemplate.html",controller:"CheckoutTemplateCtrl",resolve:{currentAuth:authWait}}).state("checkout.address",{url:"/store/checkout/address",templateUrl:"/views/store/checkoutAddress.html",controller:"StoreAddressCtrl",resolve:{currentAuth:authWait}}).state("checkout.payment",{url:"/store/checkout/payment",templateUrl:"/views/store/checkoutPayment.html",controller:"StorePaymentCtrl",resolve:{currentAuth:authWait,currentOrder:["CurrentOrderService",function(e){return e.get()}]}}).state("checkout.confirm",{url:"/store/checkout/confirm",templateUrl:"/views/store/checkoutConfirm.html",controller:"StoreConfirmCtrl",resolve:{currentAuth:authWait}}).state("login",{url:"/login",templateUrl:"/views/login.html",controller:"LoginCtrl"}),o.html5Mode(!0)}]).filter("cut",function(){return function(e,t,o,a,r){var n=angular.element("<div/>").html(e);console.log("source: ",n);var s=n.text().length;console.log("length: ",s)}}).filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl("http://www.youtube.com/embed/"+t)}}]).filter("MomentFilter",["moment",function(e){return function(t){return e(t).format("dddd, MMMM Do, YYYY")}}]).filter("tooOld",function(){return function(e){var t=moment().unix(),o=[];return angular.forEach(e,function(e){var a=e.unixDate/1e3;t-a<=86400&&o.push(e)}),o}}).filter("DeliveryEstDate",["moment",function(e){return function(t){return e(t).format("dddd, MMMM Do")}}]).filter("timeAgo",["moment",function(){return function(e){return moment(e).fromNow()}}]).filter("centsToDollars",function(){return function(e){return e/100}}),angular.module("SistersCtrls",["SistersServices"]).controller("MainCtrl",["$scope","$state","$timeout","$http",function(e,t,o,a){e.$on("loadMainContainer",function(t,o){"loaded"===o?e.mainLoaded=!0:e.mainLoaded=!1})}]).controller("HomeCtrl",["$scope","$state","$timeout","$http","LoadedService",function(e,t,o,a,r){var n=document.getElementById("main");n.style.backgroundColor="rgba(247, 237, 245, 0)",n.style.width="",n.style.padding="",e.loaded=r.get();var s=window.innerWidth;!e.loaded&&s>806?o(function(){e.$emit("loadMainContainer","loaded"),e.fadeHome=!0,r.set(!0)},2500):o(function(){e.$emit("loadMainContainer","loaded"),e.fadeHome=!0,r.set(!0)},2500),e.mailchimpSubmit=function(t,r,n){if(t.$valid){e.isPopup=!1;var s="//sisterstheband.us14.list-manage.com/subscribe/post-json?u=bc38720b0bcc7a32641bb572c&amp;id=242f4adc89&EMAIL="+r+"&c=JSON_CALLBACK";a.jsonp(s).then(function(t){e.user={},n&&(e.mailConfirm=!0,o(function(){e.mailConfirm=!1,console.log("mail confirm reset")},7e3))},function(e){console.log(e)})}}}]).controller("AboutCtrl",["$scope","$state","$timeout",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(255, 255, 255, 1)",a.style.padding="0",a.style.width="100%",e.$emit("loadMainContainer","loaded")}]),angular.module("SistersCtrls").controller("LoginCtrl",["$scope","$state","Auth",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.submitted=!1,e.logged=!1,o.$onAuthStateChanged(function(o){o?(e.logged=!0,t.go("home")):console.log("Not logged in.")}),e.user={},e.login=function(){e.submitted=!0,e.firebaseUser=null,o.$signInWithEmailAndPassword(e.user.email,e.user.password).then(function(t){e.firebaseUser=t}).catch(function(e){console.error("Authentication failed:",e)})}}]),angular.module("SistersCtrls").controller("NewBlogCtrl",["$scope","$state","$http","Auth","BlogPosts","AllTags","HelperService","SubmitImage","moment",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.BlogPosts=r(),e.tags=n,e.checkedTags={},e.data={},e.resetMedia=function(){e.data.youtube="",e.data.image=""},e.submit=function(){console.log("submit clicked"),console.log("what is post? ",e.post),"image"===e.data.mediaSelect?l(e.post,e.BlogPosts,e.data.image,u):"youtube"===e.data.mediaSelect&&(e.data.youtube=s.parseYouTube(e.data.youtube),u(e.post,e.BlogPosts,null,e.data.youtube))},e.addTag=function(){e.tags.$add({name:e.data.newTag}).then(function(t){e.postId=t.key,console.log("what is post id? ",t.key),e.data.newTag=""})},e.resizeImg=function(e){s.imgResize(e)},e.deleteTag=function(t){e.tags.$remove(t).then(function(e){e.key===t.$id})};var u=function(o,a,r,n){var l=s.slugify(o.title),c=(new Date).getTime(),u=i(c).format("YYYY"),d=i(c).format("MMMM"),g={};for(var m in e.checkedTags)g[m]=e.checkedTags[m];var h={postTitle:o.title,slug:l,postBody:o.postBody,youtube:n?n:null,img:r?r:null,tags:g,timestamp:c};console.log("thisPost: ",h),a.$add(h).then(function(e){var o=e.key,a={key:o};firebase.database().ref("archives/"+u+"/"+d+"/"+o).set(a),t.go("blog.main")})}}]).controller("EditBlogCtrl",["$scope","$state","$timeout","$stateParams","SendDataService","AllTags","thisPost","HelperService","SubmitImage","$uibModal","$log","BlogPosts",function(e,t,o,a,r,n,s,l,i,c,u,d){var g=document.getElementById("main");if(g.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.data={},e.postArray=s,e.post=s[0],e.originalTags=angular.copy(e.post.tags),e.tags=n,e.post.youtube){console.log(e.post.youtube);var m=e.post.youtube;e.data.youtube="https://www.youtube.com/watch?v="+m}e.confirmBlogDelete=function(e){var t=c.open({animation:!0,backdrop:!0,templateUrl:"/views/blog/deleteBlogConfirmModal.html",controller:"DeleteBlogConfirmCtrl",size:"sm",resolve:{Post:e}});t.result.then(function(){console.log("submitted modal")},function(){u.info("Modal dismissed at: "+new Date)})},e.addTag=function(){e.tags.$add({name:e.data.newTag}).then(function(t){e.postId=t.key,console.log("what is post id? ",t.key),e.data.newTag=""})},e.deleteTag=function(t){e.tags.$remove(t).then(function(e){e.key===t.$id})},e.resetMedia=function(){e.data.youtube="",e.data.image=""},e.submit=function(){"image"===e.data.mediaSelect&&e.data.image?i(e.post,e.postArray,e.data.image,h):"image"!==e.data.mediaSelect||e.data.image?"youtube"===e.data.mediaSelect&&(e.data.youtube=l.parseYouTube(e.data.youtube),h(e.post,e.BlogPosts,null,e.data.youtube)):h(e.post,e.BlogPosts,e.post.img,null)};var h=function(a,r,n,s){var i=l.slugify(a.postTitle);console.log(i);var c=moment(a.timestamp).format("YYYY"),u=moment(a.timestamp).format("MMMM"),d={};for(var g in a.tags)d[g]=a.tags[g];a.slug=i,a.tags=d,a.youtube=s?s:null,a.img=n?n:null;var m={postTitle:a.postTitle,slug:i,postBody:a.postBody,youtube:a.youtube,img:a.img,tags:d,timestamp:a.timestamp};e.postArray.$save(a).then(function(a){var r=a.key;firebase.database().ref("archives/"+c+"/"+u+"/"+r).remove(),firebase.database().ref("archives/"+c+"/"+u+"/"+r).set(m);for(g in e.originalTags)if(e.originalTags[g]===!0){var n="tags/"+g+"/posts/"+r;firebase.database().ref(n).remove().then(function(e){}).catch(function(e){console.log("Remove failed: "+e.message)})}else console.log(g+" not a tag for old edit!");o(function(){for(g in m.tags)m.tags[g]===!0?firebase.database().ref("tags/"+g+"/posts/"+r).set(m):console.log(g+" not a tag for new edit!")},100),t.go("blog.main")})}}]).controller("EditBlogTagsCtrl",["$scope","$uibModalInstance","tag","Blog",function(e,t,o,a){e.prompted=!1,e.tag=angular.copy(o),console.log(o),e.ok=function(o){var a={name:e.tag.name};firebase.database().ref("/tags/"+e.tag.$id).update(a),t.close()},e.cancel=function(){t.dismiss("cancel")},e.deletePrompt=function(){e.prompted=!0},e.delete=function(o){if("no"===o)e.prompted=!1;else if("yes"===o){firebase.database().ref("/tags/"+e.tag.$id).remove();for(var r=0;r<a.length;r++){var n=a[r].tags;n[e.tag.$id]===!0&&(n[e.tag.$id]=null,firebase.database().ref("/blog_posts/"+a[r].$id+"/tags").update(n))}t.close()}}}]).controller("DeleteBlogConfirmCtrl",["$scope","$uibModalInstance","Post","moment","$location",function(e,t,o,a,r){console.log(o),e.yes=function(){var e=a(o.timestamp).format("YYYY"),n=a(o.timestamp).format("MMMM");console.log(n+" of "+e),firebase.database().ref("blog_posts/"+o.$id).remove(),firebase.database().ref("archives/"+e+"/"+n+"/"+o.$id).remove(),t.close(),r.url("/blog")},e.no=function(){t.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("BlogMasterCtrl",["$scope","$state","$http","$timeout","$location","$stateParams","Auth","Blog","HelperService","InstagramFactory","AllTagsService","TwitterFactory",function(e,t,o,a,r,n,s,l,i,c,u,d){e.loadedInsta=!1,e.loadedTwitter=!1,e.$emit("loadMainContainer","loaded"),c.then(function(t){e.photos=t.data,e.loadedInsta=!0,e.loadedTwitter&&(e.loaded=!0)}),d.then(function(t){console.log(t),e.tweetDate=t.allTweetData.created_at,e.twitterUser=t.allTweetData.user.name,e.twitterHandle=t.allTweetData.user.screen_name,e.tweetId=t.allTweetData.id_str,e.tweet=t.tweetBody,e.favorites=t.favorites,e.retweets=t.retweets,e.loadedTwitter=!0,e.loadedInsta&&(e.loaded=!0)}),e.enable=!0,e.auth=s,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t})}]).controller("BlogCtrl",["$scope","$state","$http","$timeout","$location","$stateParams","Auth","Blog","HelperService","InstagramFactory","AllTagsService",function(e,t,o,a,r,n,s,l,i,c,u){var d=document.getElementById("main");d.style.backgroundColor="",d.style.width="",d.style.padding="",e.$emit("loadMainContainer","loaded"),e.allTags=u(),e.location=r.$$path,c.then(function(t){e.photos=t.data,e.loaded=!0}),e.enable=!0,e.parseTitle=i.titleToURL,e.allPosts=l,e.page=n.page||0,e.pageUp="/blog/"+(parseInt(e.page)+1),e.pageDown="/blog/"+i.pageDown(e.page),e.length=l.length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,e.posts=l.slice(e.first,e.last),e.editPost=function(e){r.url("/blog/edit/"+e)}}]).controller("BlogArchiveCtrl",["$scope","$state","$timeout","$stateParams","$location","Blog","Archive","Auth","HelperService","AllTagsService",function(e,t,o,a,r,n,s,l,i,c){e.$emit("loadMainContainer","notLoaded"),e.location=r.$$path,e.allTags=c(),e.enable=!0,e.fullBlog=n;for(var u=[],d=0;d<s.length;d++)for(var g=s[d].$id,m=0;m<n.length;m++){var h=n[m].$id;g===h&&u.push(n[m])}e.allPosts=u,e.params=a,e.parseTitle=i.titleToURL,e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.page=a.page||0,e.pageUp="/blog/archives/"+a.year+"/"+a.month+"/"+(parseInt(e.page)+1),e.pageDown="/blog/archives/"+a.year+"/"+a.month+"/"+i.pageDown(e.page),e.length=e.allPosts.length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,e.posts=e.allPosts.slice(e.first,e.last),o(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0}),e.editPost=function(e){var t=i.titleToURL(e.postTitle);r.url("/blog/edit/"+t)}}]).controller("BlogTagsCtrl",["$scope","$state","$stateParams","$location","$timeout","Blog","TagsShow","Auth","HelperService","AllTagsService",function(e,t,o,a,r,n,s,l,i,c){e.$emit("loadMainContainer","notLoaded"),e.location=a.$$path,e.allTags=c(),e.enable=!0,e.tagName=s[0].name;for(var u=s[0].$id,d=[],g=0;g<n.length;g++){var m=n[g].tags;m[u]&&d.push(n[g])}e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.page=o.page||0,e.pageUp="/blog/tags/"+o.tagName+"/"+(parseInt(e.page)+1),e.pageDown="/blog/tags/"+o.tagName+"/"+i.pageDown(e.page),e.length=length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,console.log("Last: ",e.last),e.posts=d.slice(e.first,e.last),console.log(e.posts),r(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0}),e.editPost=function(e){var t=i.titleToURL(e.postTitle);a.url("/blog/edit/"+t)}}]).controller("BlogShowCtrl",["$scope","$state","$stateParams","$location","$timeout","thisPost","Blog","AllTagsService",function(e,t,o,a,r,n,s,l){e.$emit("loadMainContainer","notLoaded"),e.location=a.$$path,e.allTags=l(),e.enable=!1,e.recentPosts=s,console.log(e.recentPosts),e.posts=n,e.allPosts=n,r(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0})}]).controller("BlogSidebarCtrl",["$scope","$state","$stateParams","$timeout","ArchiveService","AllTagsService","BlogPosts","HelperService","$uibModal","$log",function(e,t,o,a,r,n,s,l,i,c){e.recentPosts=s(),e.parseTitle=l.titleToURL,e.years=r.years(),e.years.$loaded().then(function(){}),e.allTags=n(),e.newBlogPost=function(){t.go("blog-new")},e.editTag=function(e){var t=i.open({animation:!0,backdrop:!0,templateUrl:"/views/blog/editTagsModal.html",controller:"EditBlogTagsCtrl",size:"lg",resolve:{Blog:["BlogPosts",function(e){return e().$loaded()}],tag:e}});t.result.then(function(){console.log("submitted modal")},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("SistersCtrls").controller("editModalCtrl",["$scope","$uibModalInstance","editShow","index","$firebaseArray",function(e,t,o,a,r){e.shows=o,e.show=o[a],console.log("index is ",a),e.dateObj=new Date(1e3*e.show.unix),console.log(e.dateObj),e.ok=function(){e.show.date=moment(e.dateObj).format("ddd, MMMM Do"),e.show.unix=e.dateObj.getTime()/1e3,e.shows.$save(e.show).then(function(e){console.log("success")},function(e){console.log("Error:",e)}),t.close()},e.cancel=function(){t.dismiss("cancel")},e.delete=function(){e.shows.$remove(e.show).then(function(e){console.log("successful delete: ",e)},function(e){console.log("error: ",e)}),t.close()}}]).controller("newModalCtrl",["$scope","$uibModalInstance","$firebaseArray",function(e,t,o){e.show={};var a=firebase.database().ref("shows");e.showsArray=o(a),e.ok=function(){var o=moment(e.show.showDate).format("dd, MMMM Do"),a=e.show.showDate.getTime()/1e3;console.log(o);var r={date:o,unix:a,location:e.show.showLocation,venue:e.show.venue,venueLink:e.show.venueLink||"",ticketLink:e.show.ticketLink||""};console.log(r),e.showsArray.$add(r),t.close()},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("NavCtrl",["$scope","$timeout","$log","$uibModal","$http","Auth","$state","$sessionStorage","$location","$window",function(e,t,o,a,r,n,s,l,i,c){e.auth=n,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.user={},e.mailConfirm=!1;var u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e.height=d;var g=document.getElementById("mobile-background-div");u<900?g.style.height=d+"px":g.style.height="0px",!e.loaded&&u>806?e.mobileWidth=!1:e.mobileWidth=!0,t(function(){if(u>=678&&null===e.firebaseUser&&"/login"!==i.$$path){if(console.log("entering popup"),!document.getElementById("overlayMail")){var t=document.createElement("div");t.id="overlayMail",t.className="overlay-start";var o=document.body,a=document.querySelector("#pop-up");console.log(o.scrollHeight),t.style.height=o.scrollHeight+"px",a.appendChild(t);var r=document.querySelector("#overlayMail");r.classList.add("active")}e.isPopup=!0}},6e3),e.closePopup=function(){e.isPopup=!1},e.toStore=function(){e.isPopup=!1,s.go("store")},e.toggle=!0;var m=window.innerWidth;m>806?t(function(){e.fade=!0},100):e.fade=!0}]).controller("FooterCtrl",["$scope","$timeout","$log","$uibModal","$http","Auth","$state","$sessionStorage",function(e,t,o,a,r,n,s,l){e.auth=n,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.logout=function(){n.$signOut()},e.login=function(){s.go("login")};var i=window.innerWidth;i>806?t(function(){e.fade=!0},100):e.fade=!0}]).controller("MailModalCtrl",["$scope","$timeout","$uibModal","$uibModalInstance","$http","Auth","$state","$sessionStorage",function(e,t,o,a,r,n,s,l){e.close=function(){a.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("ShowsCtrl",["$scope","$state","currentAuth","$uibModal","$log","$firebaseArray","moment","Auth","getShows",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="",c.style.width="",c.style.padding="",e.$emit("loadMainContainer","loaded"),e.shows=i,e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.open=function(t,o){var n=a.open({animation:!0,backdrop:!0,templateUrl:"/views/shows/"+t+"ShowModal.html",controller:t+"ModalCtrl",size:"lg",resolve:{editShow:function(){return e.shows},index:o}});n.result.then(function(t){e.selected=t},function(){r.info("Modal dismissed at: "+new Date)})}}]),angular.module("SistersCtrls").controller("StoreCtrl",["$scope","$state","$http","$timeout","$location","$sessionStorage","allProducts","ProductsService",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="",i.style.width="",i.style.padding="",e.loaded=!1,e.products=s,console.log(s),e.showProduct=function(e){t.go("storeShow",{id:e})},a(function(){e.loaded=!0,e.$emit("loadMainContainer","loaded")})}]).controller("StoreCartCtrl",["$scope","$state","$http","$timeout","$location","$sessionStorage",function(e,t,o,a,r,n){var s=document.getElementById("main");s.style.backgroundColor="",e.$emit("loadMainContainer","loaded"),e.toCheckout=function(){r.url("/store/checkout/address")},e.continue=function(){r.url("/store")}}]).controller("StoreShowCtrl",["$scope","$stateParams","$state","$http","$timeout","$location","$sessionStorage","oneProduct",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="",e.$emit("loadMainContainer","loaded"),e.product=l,e.images=l.images;var c=e.images[0];e.skus=e.product.skus.data,e.data={},e.data.selected=e.product.skus.data[0];var u=document.querySelector(".main-product-photo img");u.src=e.images[0],e.isActiveImg=function(){return this.img===c},e.changeActive=function(){c=this.img,u.src=this.img}}]).controller("CheckoutTemplateCtrl",["$scope","$state","$http","$timeout","$location","$localStorage",function(e,t,o,a,r,n){e.$emit("loadMainContainer","loaded"),e.$storage=n,e.$on("cartChange",function(t,o){e.showPath=o}),e.showPath||(e.showPath=e.$storage.pathCount)}]).controller("StoreAddressCtrl",["$scope","$state","$window","$timeout","$http","$location","$localStorage","ngCart","$rootScope","CurrentOrderService",function(e,t,o,a,r,n,s,l,i,c){var u=document.getElementById("main");u.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),e.$storage=s,e.cartItems=l.getItems(),i.path=n.$$path,(!e.$storage.pathCount||e.$storage.pathCount<1)&&(e.$storage.pathCount=0,e.$emit("cartChange",e.$storage.pathCount)),e.loaded=[],e.data={shipping:{country:{}},billing:{country:{}}},e.mailingListAdd=!0,e.shippingSameBool=!1,r.get("/js/JSON/countries.json").success(function(t){e.countries=t,e.data.shipping.country=e.countries[0],e.data.billing.country=e.countries[0],e.loaded.push("go")}),r.get("/js/JSON/states.json").success(function(t){e.states=t,e.loaded.push("go")}),r.get("/js/JSON/provinces.json").success(function(t){e.provinces=t,e.loaded.push("go")}),e.isShippingSame=function(){e.data.shippingSame?(e.data.billing=e.data.shipping,e.shippingSameBool=!0):(e.data.billing={},e.shippingSameBool=!1)},e.countryChange=function(t){"US"===t.code?e.shippingType=e.shipRates.domestic:e.shippingType=e.shipRates.international},e.submitForm=function(t){if(t.$valid){e.loaded=[];var o=e.data.shipping;e.data.billing;e.$storage.billingAddress=e.data.billing;var a={url:"/stripe/createOrder",method:"POST",params:{order:{currency:"usd",items:e.cartItems,shipping:{name:o.name,address:{line1:o.address1,line2:o.address2||null,city:o.city,state:o.stateProvince.short||null,country:o.country.code,postal_code:o.postalCode}},email:o.email,metadata:{taxRate:l.getTaxRate()}}}};r(a).then(function(t){"created"===t.data.status?(e.$storage.mailingList=e.mailingListAdd,e.$storage.addressSubmit||(e.$storage.pathCount++,e.$emit("cartChange",e.$storage.pathCount)),e.$storage.addressSubmit=!0,e.$storage.orderData=t,e.$evalAsync(function(){n.url("/store/checkout/payment")})):(e.loaded=[1,2,3],console.log(t.data),e.errorMessage=t.data.message)},function(e){console.log("error ",e)})}else console.log("form invalid!!")},e.getTaxRate=function(e,t,a){if("US"===e.code&&"WA"===t.short&&a)if(o.localStorage.currentWaRate){var n=parseFloat(o.localStorage.currentWaRate);l.setTaxRate(n)}else{var s={url:"/taxRate",method:"GET",params:{country:"usa",postal:a}};r(s).then(function(e){l.setTaxRate(e.data.totalRate),o.localStorage.currentWaRate=e.data.totalRate},function(e){console.log("error ",e)})}else"US"===e.code&&"WA"!==t.short?l.setTaxRate(0):"US"!==e.code&&l.setTaxRate(0)}}]).controller("StorePaymentCtrl",["$scope","$state","$http","$timeout","$location","$localStorage","ngCart","$rootScope","currentOrder",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),l.path=r.$$path,e.$storage=n,e.pathCount=parseInt(e.$storage.pathCount),e.shipOptions=e.$storage.orderData.data.shipping_methods,e.savedSelectedShip=e.$storage.orderData.data.selected_shipping_method;for(var u=0;u<e.shipOptions.length;u++)if(e.shipOptions[u].id===e.savedSelectedShip){e.selectedShip=e.shipOptions[u];break}e.$watch("selectedShip",function(t,o,a){s.setShipping(e.selectedShip.amount)},!1),a(function(){e.loaded=!0}),e.submitForm=function(t){e.loaded=!1,Stripe.card.createToken({number:e.number,cvc:e.cvc,exp:e.expiry,name:e.$storage.billingAddress.name,address_line1:e.$storage.billingAddress.address1,address_line2:e.$storage.billingAddress.address2||null,address_city:e.$storage.billingAddress.city,address_state:e.$storage.billingAddress.stateProvince.short||null,address_zip:e.$storage.billingAddress.postalCode,address_country:e.$storage.billingAddress.country.code},d)};var d=function(t,a){if(a.error);else{token=a;var n={url:"/stripe/updateShipping",method:"POST",params:{token:token,orderId:e.$storage.orderData.data.id,selectedShip:e.selectedShip.id}};o(n).then(function(t){e.$storage.paymentSubmit||(e.$storage.pathCount++,e.$emit("cartChange",e.$storage.pathCount)),e.$storage.paymentSubmit=!0,e.$storage.orderData=t,e.$storage.tokenData=token,r.url("/store/checkout/confirm")},function(t){e.loaded=!0,console.log("error ",t)})}}}]).controller("StoreConfirmCtrl",["$scope","$state","$http","$timeout","$location","$localStorage","ngCart","$rootScope",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),e.$storage=n,e.pathCount=parseInt(e.$storage.pathCount),e.orderComplete=!1,l.path=r.$$path,e.ngCart=s,e.token=e.$storage.tokenData,e.order=e.$storage.orderData.data;for(var c=e.order.items,u=0;u<c.length;u++)"shipping"===c[u].type&&(e.shipService=c[u].description);a(function(){e.loaded=!0}),e.createCharge=function(){e.loaded=!1;var t={url:"/stripe/orderComplete",method:"POST",params:{orderId:e.order.id,token:e.token.id}};o(t).then(function(t){e.orderComplete=!0,e.$storage.mailingList&&d(),s.setTaxRate(),s.setShipping(),s.empty(),n.$reset()},function(t){e.loaded=!0,console.log("error ",t)})};var d=function(){var t="//sisterstheband.us14.list-manage.com/subscribe/post-json?u=bc38720b0bcc7a32641bb572c&amp;id=242f4adc89&EMAIL="+e.$storage.orderData.data.email+"&c=JSON_CALLBACK";o.jsonp(t).then(function(e){},function(e){console.log(e)})}}]),angular.module("SistersDirectives",[]).directive("fileread",[function(){return{scope:{fileread:"="},link:function(e,t,o){t.bind("change",function(t){var o=new FileReader;o.onload=function(t){e.$apply(function(){e.fileread=t.target.result})},o.readAsDataURL(t.target.files[0])})}}}]).directive("countryName",["$http",function(e){return{template:"<span>{{name}}</span>",scope:{countryCode:"="},link:function(t){e.get("/js/JSON/countries.json").then(function(e){for(var o=e.data,a=0;a<o.length;a++)if(o[a].code===t.countryCode){t.name=o[a].name;break}},function(e){t.name="unknown"})}}}]),angular.module("SistersServices",["ngResource"]).factory("LoadedService",function(){function e(e){o=e}function t(){return o}var o=!1;return{set:e,get:t}}).factory("Auth",["$firebaseAuth",function(e){return e()}]).factory("GetShows",["$firebaseArray","moment",function(e,t){var o=t().unix();return function(){var t=firebase.database().ref("shows").orderByChild("unix").startAt(o);return e(t)}}]).factory("ProductsService",["$http","$q","$firebaseArray",function(e,t,o){return{allProducts:function(){var e=firebase.database().ref("products");return o(e)},oneProduct:function(o){var a=t.defer(),r={method:"GET",url:"/stripe/oneProduct",params:{productId:o}};return e(r).success(function(e){a.resolve(e)}),a.promise}}}]).service("InstagramFactory",["$http","$q",function(e,t){var o=t.defer();return e({method:"GET",url:"/instagram",cache:!0}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}]).service("TwitterFactory",["$http","$q",function(e,t){var o=t.defer();return e({method:"GET",url:"/twitter",cache:!0}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}]).factory("DownloadKeyService",function(){return function(e){console.log("hash is "+e),firebase.database().ref("downloadKeys/"+e).once("value").then(function(e){var t=e.val();console.log(t)})}}).factory("GetShows",["$firebaseArray","moment",function(e,t){var o=t().unix();return function(){var t=firebase.database().ref("shows").orderByChild("unix").startAt(o);return e(t)}}]).factory("BlogPosts",["$firebaseArray",function(e){return function(){var t=firebase.database().ref("blog_posts").orderByChild("timestamp");return e(t)}}]).factory("ThisPostService",["$firebaseArray",function(e){return function(t){var o=firebase.database().ref("blog_posts"),a=o.orderByChild("slug").equalTo(t);return e(a)}}]).factory("AllTagsService",["$firebaseArray",function(e){return function(){var t=firebase.database().ref("tags");return e(t)}}]).factory("TagsShowService",["$firebaseArray",function(e){return function(t){var o=firebase.database().ref("tags"),a=o.orderByChild("name").equalTo(t);return e(a)}}]).factory("ArchiveService",["$firebaseArray",function(e){return{years:function(){var t=firebase.database().ref("archives");return e(t)},months:function(t){var o=firebase.database().ref("archives/"+t);return e(o)}}}]).factory("ArchiveShowService",["$firebaseArray",function(e){return function(t,o){var a=firebase.database().ref("archives/"+t+"/"+o);return e(a)}}]).factory("SendDataService",function(){function e(e){o=e}function t(){return o}var o={};return{set:e,get:t}}).factory("CurrentOrderService",["$window",function(e){function t(t){e.localStorage.setItem("orderData",angular.toJson(t))}function o(){var t=angular.fromJson(e.localStorage.getItem("orderData"));return JSON.parse(t)}return{set:t,get:o
}}]).factory("HelperService",["moment","$q",function(e,t){return{parseYouTube:function(e){var t=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=t?t[1]:void console.log("The youtube url is not valid.")},base64MimeType:function(e){var t=null;if("string"!=typeof e)return t;var o=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return o&&o.length&&(t=o[1]),console.log("image type is ",t),t},getBase64Image:function(e){var t=e.replace(/^data:image\/(png|jpeg);base64,/,"");return t},b64toBlob:function(e,t,o){t=t||"",o=o||512;for(var a=atob(e),r=[],n=0;n<a.length;n+=o){for(var s=a.slice(n,n+o),l=new Array(s.length),i=0;i<s.length;i++)l[i]=s.charCodeAt(i);var c=new Uint8Array(l);r.push(c)}var u=new Blob(r,{type:t});return u},pageDown:function(e){return e<2?"":e-1},findFirst:function(e,t){var o=e-4*(1+t);return o>=0?o:0},titleToURL:function(e){return e.split(" ").join("-")},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},imgResize:function(e){console.log("inside resize!!");var o=t.defer(),a=new Image;return a.src=e,a.onload=function(){console.log(this.width+" "+this.height);var e=a.width/a.height;console.log("WHAT IS RATIO??? ",e);var t=document.createElement("canvas");if(e>=1.776&&a.height>=500){console.log("loadIMG: ",a);var r=(a.height-500)/a.height;t.height=500,t.width=a.width-a.width*r}else if(e<1.776&&a.width>=889){console.log("loadIMG: ",a);var r=(a.width-889)/a.width;t.width=889,t.height=a.height-a.height*r}else console.log("loadIMG: ",a),console.log("image is not big enough!");var n=t.getContext("2d");n.drawImage(a,0,0,t.width,t.height);var s=t.toDataURL("image/jpeg");o.resolve(s)},o.promise}}}]).factory("SubmitImage",["HelperService",function(e){return function(t,o,a,r){e.imgResize(a).then(function(a){var n=e.base64MimeType(a);console.log("TYPE IS ",n);var s=e.getBase64Image(a),l=e.b64toBlob(s,n),i={contentType:n},c=(1e32*Math.random()).toString(36),u=firebase.storage().ref(),d=u.child("blog-images/"+c).put(l,i);d.on(firebase.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){switch(e.code){case"storage/unauthorized":break;case"storage/canceled":break;case"storage/unknown":}},function(){console.log("upload finished");var e=d.snapshot.downloadURL;r(t,o,e,null)})})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIjAwIGhvbWVfY29udHJvbGxlci5qcyIsIjAxIGF1dGhfY29udHJvbGxlci5qcyIsIjAyIGJsb2dfYWRtaW5fY29udHJvbGxlci5qcyIsIjAzIGJsb2dfY29udHJvbGxlci5qcyIsIjA0IG1vZGFsX2NvbnRyb2xsZXIuanMiLCIwNSBuYXZfY29udHJvbGxlci5qcyIsIjA2IHNob3dfY29udHJvbGxlci5qcyIsIjA3IHN0b3JlX2NvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmVzLmpzIiwic2VydmljZXMuanMiXSwibmFtZXMiOlsiYXV0aFdhaXQiLCJBdXRoIiwiJHdhaXRGb3JTaWduSW4iLCJhdXRoUmVxdWlyZSIsIiRyZXF1aXJlU2lnbkluIiwiYW5ndWxhciIsIm1vZHVsZSIsInJ1biIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCIkbG9jYXRpb24iLCIkd2luZG93IiwiTWV0YVRhZ3MiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJlcnJvciIsImdvIiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2EiLCJwYWdlIiwicGF0aCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJVSVJvdXRlck1ldGF0YWdzUHJvdmlkZXIiLCIkcHJvdmlkZSIsInNldERlZmF1bHRUaXRsZSIsInNldERlZmF1bHREZXNjcmlwdGlvbiIsInNldFN0YXRpY1Byb3BlcnRpZXMiLCJvZzpzaXRlX25hbWUiLCJzZXRPR1VSTCIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwibWV0YVRhZ3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsImRvd25sb2FkS2V5IiwiRG93bmxvYWRLZXlTZXJ2aWNlIiwiJHN0YXRlUGFyYW1zIiwiaWQiLCIkbG9hZGVkIiwib25FbnRlciIsIiR0aW1lb3V0IiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRBdXRoIiwiQmxvZyIsIkJsb2dQb3N0cyIsIkFsbFRhZ3MiLCJBbGxUYWdzU2VydmljZSIsInRoaXNQb3N0IiwiVGhpc1Bvc3RTZXJ2aWNlIiwic2x1ZyIsIkFyY2hpdmUiLCJBcmNoaXZlU2hvd1NlcnZpY2UiLCJ5ZWFyIiwibW9udGgiLCJUYWdzU2hvdyIsIlRhZ3NTaG93U2VydmljZSIsInRhZ05hbWUiLCJwb3N0VGl0bGUiLCJwb3N0Qm9keSIsImdldFNob3dzIiwiR2V0U2hvd3MiLCJhbGxQcm9kdWN0cyIsIlByb2R1Y3RzU2VydmljZSIsIm9uZVByb2R1Y3QiLCJjdXJyZW50T3JkZXIiLCJDdXJyZW50T3JkZXJTZXJ2aWNlIiwiZ2V0IiwiaHRtbDVNb2RlIiwiZmlsdGVyIiwidmFsdWUiLCJlbmFibGUiLCJ3b3Jkd2lzZSIsIm1heCIsInRhaWwiLCJzb3VyY2UiLCJlbGVtZW50IiwiaHRtbCIsImxlbmd0aCIsInRleHQiLCIkc2NlIiwidmFsIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwibW9tZW50IiwiZm9ybWF0IiwiZXZlbnRzIiwiY3VycmVudERheSIsInVuaXgiLCJmaWx0ZXJlZCIsImZvckVhY2giLCJ0aGlzRXZlbnQiLCJ1bml4RGF0ZSIsInB1c2giLCJmcm9tTm93IiwiJHNjb3BlIiwiJGh0dHAiLCJkYXRhIiwibWFpbkxvYWRlZCIsIkxvYWRlZFNlcnZpY2UiLCJtYWluIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIndpZHRoIiwicGFkZGluZyIsImxvYWRlZCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCIkZW1pdCIsImZhZGVIb21lIiwic2V0IiwibWFpbGNoaW1wU3VibWl0IiwiZm9ybSIsImVtYWlsIiwiaXNOYXYiLCIkdmFsaWQiLCJpc1BvcHVwIiwianNvbnAiLCJ0aGVuIiwicmVzIiwidXNlciIsIm1haWxDb25maXJtIiwic3VibWl0dGVkIiwibG9nZ2VkIiwiJG9uQXV0aFN0YXRlQ2hhbmdlZCIsImZpcmViYXNlVXNlciIsImxvZ2luIiwiJHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwicGFzc3dvcmQiLCJjYXRjaCIsIkhlbHBlclNlcnZpY2UiLCJTdWJtaXRJbWFnZSIsInRhZ3MiLCJjaGVja2VkVGFncyIsInJlc2V0TWVkaWEiLCJ5b3V0dWJlIiwiaW1hZ2UiLCJzdWJtaXQiLCJwb3N0IiwibWVkaWFTZWxlY3QiLCJhZGRQb3N0IiwicGFyc2VZb3VUdWJlIiwiYWRkVGFnIiwiJGFkZCIsIm5hbWUiLCJuZXdUYWciLCJyZWYiLCJwb3N0SWQiLCJrZXkiLCJyZXNpemVJbWciLCJpbWciLCJpbWdSZXNpemUiLCJkZWxldGVUYWciLCJpdGVtIiwiJHJlbW92ZSIsIiRpZCIsInBvc3RBcnJheSIsInNsdWdpZnkiLCJwb3N0RGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwibmV3VGFncyIsInByb3AiLCJ0aW1lc3RhbXAiLCJhcmNoaXZlUG9zdCIsImZpcmViYXNlIiwiZGF0YWJhc2UiLCJTZW5kRGF0YVNlcnZpY2UiLCIkdWliTW9kYWwiLCIkbG9nIiwib3JpZ2luYWxUYWdzIiwiY29weSIsInlvdXR1YmVJZCIsImNvbmZpcm1CbG9nRGVsZXRlIiwibW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJhbmltYXRpb24iLCJiYWNrZHJvcCIsInNpemUiLCJQb3N0IiwicmVzdWx0IiwiaW5mbyIsInVwZGF0ZVBvc3QiLCIkc2F2ZSIsInJlbW92ZSIsIm1lc3NhZ2UiLCIkdWliTW9kYWxJbnN0YW5jZSIsInRhZyIsInByb21wdGVkIiwib2siLCJuZXdOYW1lIiwidXBkYXRlIiwiY2xvc2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwiZGVsZXRlUHJvbXB0IiwiZGVsZXRlIiwicmVzcG9uc2UiLCJpIiwidGhpc1Bvc3RUYWdzIiwieWVzIiwibm8iLCJJbnN0YWdyYW1GYWN0b3J5IiwiVHdpdHRlckZhY3RvcnkiLCJsb2FkZWRJbnN0YSIsImxvYWRlZFR3aXR0ZXIiLCJwaG90b3MiLCJ0d2VldERhdGUiLCJhbGxUd2VldERhdGEiLCJjcmVhdGVkX2F0IiwidHdpdHRlclVzZXIiLCJ0d2l0dGVySGFuZGxlIiwic2NyZWVuX25hbWUiLCJ0d2VldElkIiwiaWRfc3RyIiwidHdlZXQiLCJ0d2VldEJvZHkiLCJmYXZvcml0ZXMiLCJyZXR3ZWV0cyIsImF1dGgiLCJhbGxUYWdzIiwibG9jYXRpb24iLCIkJHBhdGgiLCJwYXJzZVRpdGxlIiwidGl0bGVUb1VSTCIsImFsbFBvc3RzIiwicGFnZVVwIiwicGFyc2VJbnQiLCJwYWdlRG93biIsImZpcnN0IiwiZmluZEZpcnN0IiwibGFzdCIsInBvc3RzIiwic2xpY2UiLCJlZGl0UG9zdCIsImZ1bGxCbG9nIiwiaiIsImJsb2dLZXkiLCJwYXJhbXMiLCJ0aXRsZVBhcnNlZCIsInRoaXNUYWciLCJzZWxlY3RQb3N0cyIsInJlY2VudFBvc3RzIiwiQXJjaGl2ZVNlcnZpY2UiLCJ5ZWFycyIsIm5ld0Jsb2dQb3N0IiwiZWRpdFRhZyIsImVkaXRTaG93IiwiaW5kZXgiLCIkZmlyZWJhc2VBcnJheSIsInNob3dzIiwic2hvdyIsImRhdGVPYmoiLCJkYXRlIiwic2hvd3NSZWYiLCJzaG93c0FycmF5IiwidGhpc0RhdGUiLCJzaG93RGF0ZSIsInRoaXNVbml4Iiwib2JqZWN0Iiwic2hvd0xvY2F0aW9uIiwidmVudWUiLCJ2ZW51ZUxpbmsiLCJ0aWNrZXRMaW5rIiwiJHNlc3Npb25TdG9yYWdlIiwidyIsImNsaWVudFdpZHRoIiwiaCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaGVpZ2h0IiwibW9iaWxlQkciLCJtb2JpbGVXaWR0aCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJwb3BVcCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxIZWlnaHQiLCJhcHBlbmRDaGlsZCIsIm92ZXJsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbG9zZVBvcHVwIiwidG9TdG9yZSIsInRvZ2dsZSIsImZhZGUiLCJsb2dvdXQiLCIkc2lnbk91dCIsIndoaWNoUGFnZSIsInNlbGVjdGVkSXRlbSIsInNlbGVjdGVkIiwicHJvZHVjdHMiLCJzaG93UHJvZHVjdCIsInRvQ2hlY2tvdXQiLCJjb250aW51ZSIsInByb2R1Y3QiLCJpbWFnZXMiLCJjdXJyZW50QWN0aXZlU3JjIiwic2t1cyIsIm1haW5JbWciLCJzcmMiLCJpc0FjdGl2ZUltZyIsInRoaXMiLCJjaGFuZ2VBY3RpdmUiLCIkbG9jYWxTdG9yYWdlIiwiJHN0b3JhZ2UiLCJzaG93UGF0aCIsInBhdGhDb3VudCIsIm5nQ2FydCIsImNhcnRJdGVtcyIsImdldEl0ZW1zIiwic2hpcHBpbmciLCJjb3VudHJ5IiwiYmlsbGluZyIsIm1haWxpbmdMaXN0QWRkIiwic2hpcHBpbmdTYW1lQm9vbCIsInN1Y2Nlc3MiLCJjb3VudHJpZXMiLCJzdGF0ZXMiLCJwcm92aW5jZXMiLCJpc1NoaXBwaW5nU2FtZSIsInNoaXBwaW5nU2FtZSIsImNvdW50cnlDaGFuZ2UiLCJjb2RlIiwic2hpcHBpbmdUeXBlIiwic2hpcFJhdGVzIiwiZG9tZXN0aWMiLCJpbnRlcm5hdGlvbmFsIiwic3VibWl0Rm9ybSIsInNoaXAiLCJiaWxsaW5nQWRkcmVzcyIsInJlcSIsIm1ldGhvZCIsIm9yZGVyIiwiY3VycmVuY3kiLCJpdGVtcyIsImFkZHJlc3MiLCJsaW5lMSIsImFkZHJlc3MxIiwibGluZTIiLCJhZGRyZXNzMiIsImNpdHkiLCJzdGF0ZVByb3ZpbmNlIiwic2hvcnQiLCJwb3N0YWxfY29kZSIsInBvc3RhbENvZGUiLCJtZXRhZGF0YSIsInRheFJhdGUiLCJnZXRUYXhSYXRlIiwic3RhdHVzIiwibWFpbGluZ0xpc3QiLCJhZGRyZXNzU3VibWl0Iiwib3JkZXJEYXRhIiwiJGV2YWxBc3luYyIsImVycm9yTWVzc2FnZSIsImxvY2FsU3RvcmFnZSIsImN1cnJlbnRXYVJhdGUiLCJwYXJzZWRUYXgiLCJwYXJzZUZsb2F0Iiwic2V0VGF4UmF0ZSIsInBvc3RhbCIsInRvdGFsUmF0ZSIsInNoaXBPcHRpb25zIiwic2hpcHBpbmdfbWV0aG9kcyIsInNhdmVkU2VsZWN0ZWRTaGlwIiwic2VsZWN0ZWRfc2hpcHBpbmdfbWV0aG9kIiwic2VsZWN0ZWRTaGlwIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsInNjb3BlIiwic2V0U2hpcHBpbmciLCJhbW91bnQiLCJTdHJpcGUiLCJjYXJkIiwiY3JlYXRlVG9rZW4iLCJudW1iZXIiLCJjdmMiLCJleHAiLCJleHBpcnkiLCJhZGRyZXNzX2xpbmUxIiwiYWRkcmVzc19saW5lMiIsImFkZHJlc3NfY2l0eSIsImFkZHJlc3Nfc3RhdGUiLCJhZGRyZXNzX3ppcCIsImFkZHJlc3NfY291bnRyeSIsImhhbmRsZVN0cmlwZSIsInRva2VuIiwib3JkZXJJZCIsInBheW1lbnRTdWJtaXQiLCJ0b2tlbkRhdGEiLCJvcmRlckNvbXBsZXRlIiwidHlwZSIsInNoaXBTZXJ2aWNlIiwiY3JlYXRlQ2hhcmdlIiwiZW1wdHkiLCIkcmVzZXQiLCJkaXJlY3RpdmUiLCJmaWxlcmVhZCIsImxpbmsiLCJhdHRyaWJ1dGVzIiwiYmluZCIsImNoYW5nZUV2ZW50IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImxvYWRFdmVudCIsIiRhcHBseSIsInRhcmdldCIsInJlYWRBc0RhdGFVUkwiLCJmaWxlcyIsInRlbXBsYXRlIiwiY291bnRyeUNvZGUiLCJlcnIiLCJmYWN0b3J5IiwiJGZpcmViYXNlQXV0aCIsIm9yZGVyQnlDaGlsZCIsInN0YXJ0QXQiLCIkcSIsImFsbFByb2R1Y3RzUmVmIiwicHJvZHVjdElkIiwiZGVmZXJyZWQiLCJkZWZlciIsInByb21pc2UiLCJzZXJ2aWNlIiwiY2FjaGUiLCJtc2ciLCJyZWplY3QiLCJoYXNoIiwib25jZSIsInNuYXBzaG90Iiwic25hcCIsImJsb2dSZWYiLCJwb3N0UmVmIiwidGhpc1Bvc3RSZWYiLCJlcXVhbFRvIiwidGFnUmVmIiwiJGZpcmViYXNlT2JqZWN0IiwidGFnU2hvd1JlZiIsInllYXJSZWYiLCJtb250aHMiLCJtb250aFJlZiIsImFyY2hpdmVSZWYiLCJzYXZlZERhdGEiLCJzZXRJdGVtIiwidG9Kc29uIiwiZnJvbUpzb24iLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwidmlkZW9pZCIsIm1hdGNoIiwiYmFzZTY0TWltZVR5cGUiLCJlbmNvZGVkIiwibWltZSIsImdldEJhc2U2NEltYWdlIiwiZGF0YVVSTCIsImJhc2U2NCIsInJlcGxhY2UiLCJiNjR0b0Jsb2IiLCJiNjREYXRhIiwiY29udGVudFR5cGUiLCJzbGljZVNpemUiLCJieXRlQ2hhcmFjdGVycyIsImF0b2IiLCJieXRlQXJyYXlzIiwib2Zmc2V0IiwiYnl0ZU51bWJlcnMiLCJBcnJheSIsImNoYXJDb2RlQXQiLCJieXRlQXJyYXkiLCJVaW50OEFycmF5IiwiYmxvYiIsIkJsb2IiLCJjdXJyZW50UGFnZSIsImNhbGNGaXJzdCIsInNwbGl0Iiwiam9pbiIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJsb2FkSU1HIiwiSW1hZ2UiLCJhc3BlY3RSYXRpbyIsImNhbnZhcyIsInBlcmNlbnRDaGFuZ2UiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicmVzaXplZFJlc3VsdCIsInRvRGF0YVVSTCIsImNhbGxiYWNrIiwibmV3SW1hZ2UiLCJiYXNlNjRyZXN1bHQiLCJmaWxlIiwicGhvdG9JZCIsIk1hdGgiLCJyYW5kb20iLCJzdG9yYWdlUmVmIiwic3RvcmFnZSIsInVwbG9hZFRhc2siLCJjaGlsZCIsInB1dCIsIm9uIiwiVGFza0V2ZW50IiwiU1RBVEVfQ0hBTkdFRCIsInByb2dyZXNzIiwiYnl0ZXNUcmFuc2ZlcnJlZCIsInRvdGFsQnl0ZXMiLCJUYXNrU3RhdGUiLCJQQVVTRUQiLCJSVU5OSU5HIiwiZG93bmxvYWRVUkwiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLFdBQUEsT0FBQSxTQUFBQyxHQUFBLE1BQUFBLEdBQUFDLG1CQUNBQyxhQUFBLE9BQUEsU0FBQUYsR0FBQSxNQUFBQSxHQUFBRyxrQkFFQUMsU0FBQUMsT0FBQSxjQUFBLGVBQUEsb0JBQUEsWUFB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QUE0RSxpQkFBQTVFLEVBQUE2RSxXQUFBLEdBRUEsUUFEQW5kLFFBQUFDLElBQUEsYUFBQWdkLEVBQUEsVUFDQTNFLEVBQUFyWixPQUNBLElBQUEySSxVQUFBOFUsUUFBQVUsVUFBQUMsT0FDQXJkLFFBQUFDLElBQUEsbUJBQ0EsTUFDQSxLQUFBMkgsVUFBQThVLFFBQUFVLFVBQUFFLFFBQ0F0ZCxRQUFBQyxJQUFBLHVCQUdBLFNBQUFyQyxHQUNBLE9BQUFBLEVBQUErVCxNQUNBLElBQUEsdUJBQ0EsS0FDQSxLQUFBLG1CQUVBLEtBQ0EsS0FBQSxxQkFJQSxXQUNBM1IsUUFBQUMsSUFBQSxrQkFDQSxJQUFBc2QsR0FBQVosRUFBQXJFLFNBQUFpRixXQUNBckIsR0FBQWpXLEVBQUFrQixFQUFBb1csRUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXV0aFdhaXQgPSBbXCJBdXRoXCIsIGZ1bmN0aW9uKEF1dGgpIHsgcmV0dXJuIEF1dGguJHdhaXRGb3JTaWduSW4oKTsgfV1cbnZhciBhdXRoUmVxdWlyZSA9IFtcIkF1dGhcIiwgZnVuY3Rpb24oQXV0aCkgeyByZXR1cm4gQXV0aC4kcmVxdWlyZVNpZ25JbigpOyB9XVxuXG5hbmd1bGFyLm1vZHVsZShcIlNpc3RlcnNBcHBcIiwgWydTaXN0ZXJzQ3RybHMnLCdTaXN0ZXJzRGlyZWN0aXZlcycsJ3VpLnJvdXRlcicsJ3VpLmJvb3RzdHJhcCcsJ2ZpcmViYXNlJywnYW5ndWxhck1vbWVudCcsJ25nQ2FydCcsJ25nU3RvcmFnZScsJ2FuZ3VsYXJQYXltZW50cycsJ25nQW5pbWF0ZScsJ3BpY2FyZHkuZm9udGF3ZXNvbWUnLCd0ZXh0QW5ndWxhcicsJ3VpLnJvdXRlci5tZXRhdGFncycsJ2FuZ3VsYXItcGFyYWxsYXgnXSlcblxuXG5cbi5ydW4oW1wiJHJvb3RTY29wZVwiLCBcIiRzdGF0ZVwiLFwiJGxvY2F0aW9uXCIsXCIkd2luZG93XCIsJ01ldGFUYWdzJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHN0YXRlLCAkbG9jYXRpb24sICR3aW5kb3csTWV0YVRhZ3MpIHtcbiAgJHJvb3RTY29wZS5NZXRhVGFncyA9IE1ldGFUYWdzO1xuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZUVycm9yXCIsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuICAgIC8vIFdlIGNhbiBjYXRjaCB0aGUgZXJyb3IgdGhyb3duIHdoZW4gdGhlICRyZXF1aXJlU2lnbkluIHByb21pc2UgaXMgcmVqZWN0ZWRcbiAgICAvLyBhbmQgcmVkaXJlY3QgdGhlIHVzZXIgYmFjayB0byB0aGUgaG9tZSBwYWdlXG4gICAgaWYgKGVycm9yID09PSBcIkFVVEhfUkVRVUlSRURcIikge1xuICAgICAgJHN0YXRlLmdvKFwibG9naW5cIik7XG4gICAgfVxuICB9KTtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCkge1xuICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICghJHdpbmRvdy5nYSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuIFxuICAgICAgICAgICAgICAgICR3aW5kb3cuZ2EoJ3NlbmQnLCAncGFnZXZpZXcnLCB7IHBhZ2U6ICRsb2NhdGlvbi5wYXRoKCkgfSk7XG5cblxuICB9KTtcblxufV0pXG5cblxuXG5cbi5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCckbG9jYXRpb25Qcm92aWRlcicsJ1VJUm91dGVyTWV0YXRhZ3NQcm92aWRlcicsJyRwcm92aWRlJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlciwgVUlSb3V0ZXJNZXRhdGFnc1Byb3ZpZGVyLCAkcHJvdmlkZSl7XG4gIFVJUm91dGVyTWV0YXRhZ3NQcm92aWRlclxuICAgICAgICAuc2V0RGVmYXVsdFRpdGxlKCdTSVNURVJTJylcbiAgICAgICAgLnNldERlZmF1bHREZXNjcmlwdGlvbignU2VhdHRsZSBkdW8uIFwiRHJpbmsgQ2hhbXBhZ25lXCIsIHRoZSBkZWJ1dCBhbGJ1bSwgY29taW5nIHNvb24hJylcbiAgICAgICAgLnNldFN0YXRpY1Byb3BlcnRpZXMoe1xuICAgICAgICAgICAgICAgICdvZzpzaXRlX25hbWUnOiAnU0lTVEVSUydcbiAgICAgICAgICAgIH0pXG4gICAgICAgIC5zZXRPR1VSTCh0cnVlKTtcblxuXG5cbiAgXG4gIFxuICBcbiAgXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuICAkc3RhdGVQcm92aWRlclxuICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgdXJsOiAnLycsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2VhdHRsZSBkdW8uIFwiRHJpbmsgQ2hhbXBhZ25lXCIsIHRoZSBkZWJ1dCBhbGJ1bSwgY29taW5nIHNvb24hJ1xuICAgICAgICAgICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ob21lLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdIb21lQ3RybCdcbiAgfSlcbiAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICB1cmw6ICcvYWJvdXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Fib3V0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdBYm91dEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdkb3dubG9hZCcsIHtcbiAgICB1cmw6ICcvZG93bmxvYWQvOmlkJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImRvd25sb2FkS2V5XCI6IGZ1bmN0aW9uKERvd25sb2FkS2V5U2VydmljZSwgJHN0YXRlUGFyYW1zKXtcbiAgICAgICAgcmV0dXJuIERvd25sb2FkS2V5U2VydmljZSgkc3RhdGVQYXJhbXMuaWQpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRW50ZXI6IGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkdGltZW91dCwgZG93bmxvYWRLZXkpIHtcbiAgICAgIGlmIChkb3dubG9hZEtleSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzIVwiKTtcbiAgICAgICAgICAgICAgICAgIC8vICRzdGF0ZS5nbygnZG93bmxvYWRDb25maXJtJyk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkIVwiKTtcbiAgICAgICAgICAgICAgICAgIC8vICRzdGF0ZS5nbygnZG93bmxvYWRGYWlsZWQnKTtcbiAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG5cbiAgLnN0YXRlKCdibG9nJywge1xuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ01hc3RlckN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBcIkJsb2dcIjogZnVuY3Rpb24oQmxvZ1Bvc3RzKXtcbiAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgIH0gICAgICBcbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdibG9nLW5ldycsIHtcbiAgICB1cmw6ICcvYmxvZy9uZXcnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvbmV3QmxvZ1Bvc3QuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ05ld0Jsb2dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhSZXF1aXJlLFxuICAgICAgXCJBbGxUYWdzXCI6IGZ1bmN0aW9uKEFsbFRhZ3NTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIEFsbFRhZ3NTZXJ2aWNlKCkuJGxvYWRlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdibG9nLWVkaXQnLCB7XG4gICAgdXJsOiAnL2Jsb2cvZWRpdC86c2x1ZycsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9lZGl0QmxvZ1Bvc3QuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0VkaXRCbG9nQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoUmVxdWlyZSxcbiAgICAgIFwiQWxsVGFnc1wiOiBmdW5jdGlvbihBbGxUYWdzU2VydmljZSl7XG4gICAgICAgIHJldHVybiBBbGxUYWdzU2VydmljZSgpLiRsb2FkZWQoKTtcbiAgICAgIH0sXG4gICAgICBcInRoaXNQb3N0XCI6IGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVGhpc1Bvc3RTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIFRoaXNQb3N0U2VydmljZSgkc3RhdGVQYXJhbXMuc2x1ZykuJGxvYWRlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdibG9nLXRhZ3MtZWRpdCcsIHtcbiAgICB1cmw6ICcvYmxvZy9lZGl0VGFncy8nLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvZWRpdFRhZ3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0VkaXRCbG9nVGFnc0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFJlcXVpcmUsXG4gICAgICBcIkFsbFRhZ3NcIjogZnVuY3Rpb24oQWxsVGFnc1NlcnZpY2Upe1xuICAgICAgICByZXR1cm4gQWxsVGFnc1NlcnZpY2UoKS4kbG9hZGVkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIC5zdGF0ZSgnYmxvZy5tYWluJywge1xuICAgIHVybDogJy9ibG9nJyxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gQmxvZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZXMsIG5ld3MsIGFuZCBjb21tZW50YXJ5IGZyb20gU2VhdHRsZSBiYW5kIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy1jb250ZW50Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdCbG9nQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdFxuICAgIH1cbiAgfSlcbiAgICAuc3RhdGUoJ2Jsb2cucGFnZScsIHtcbiAgICB1cmw6ICcvYmxvZy86cGFnZScsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUyAtIEJsb2cnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVcGRhdGVzLCBuZXdzLCBhbmQgY29tbWVudGFyeSBmcm9tIFNlYXR0bGUgYmFuZCBTSVNURVJTLidcbiAgICAgICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2Jsb2ctY29udGVudC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQgICAgIFxuICAgIH1cbiAgfSlcblxuICAgICAuc3RhdGUoJ2Jsb2cuYXJjaGl2ZScsIHtcbiAgICB1cmw6ICcvYmxvZy9hcmNoaXZlcy86eWVhci86bW9udGgnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBCbG9nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlcywgbmV3cywgYW5kIGNvbW1lbnRhcnkgZnJvbSBTZWF0dGxlIGJhbmQgU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dBcmNoaXZlQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgfSxcbiAgICAgIFwiQXJjaGl2ZVwiOiBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEFyY2hpdmVTaG93U2VydmljZSl7XG4gICAgICAgIHJldHVybiBBcmNoaXZlU2hvd1NlcnZpY2UoJHN0YXRlUGFyYW1zLnllYXIsICRzdGF0ZVBhcmFtcy5tb250aCkuJGxvYWRlZCgpO1xuICAgICAgfSAgICAgIFxuICAgIH1cbiAgfSlcblxuICAgIC5zdGF0ZSgnYmxvZy5hcmNoaXZlUGFnZScsIHtcbiAgICAgIHVybDogJy9ibG9nL2FyY2hpdmVzLzp5ZWFyLzptb250aC86cGFnZScsXG4gICAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gQmxvZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZXMsIG5ld3MsIGFuZCBjb21tZW50YXJ5IGZyb20gU2VhdHRsZSBiYW5kIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnQmxvZ0FyY2hpdmVDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgICAgXCJCbG9nXCI6IGZ1bmN0aW9uKEJsb2dQb3N0cyl7XG4gICAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJBcmNoaXZlXCI6IGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQXJjaGl2ZVNob3dTZXJ2aWNlKXtcbiAgICAgICAgICByZXR1cm4gQXJjaGl2ZVNob3dTZXJ2aWNlKCRzdGF0ZVBhcmFtcy55ZWFyLCAkc3RhdGVQYXJhbXMubW9udGgpLiRsb2FkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfSlcblxuICAgIC5zdGF0ZSgnYmxvZy50YWdzJywge1xuICAgIHVybDogJy9ibG9nL3RhZ3MvOnRhZ05hbWUnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBCbG9nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlcywgbmV3cywgYW5kIGNvbW1lbnRhcnkgZnJvbSBTZWF0dGxlIGJhbmQgU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dUYWdzQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgfSxcbiAgICAgIFwiVGFnc1Nob3dcIjogZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUYWdzU2hvd1NlcnZpY2Upe1xuICAgICAgICByZXR1cm4gVGFnc1Nob3dTZXJ2aWNlKCRzdGF0ZVBhcmFtcy50YWdOYW1lKS4kbG9hZGVkKCk7XG4gICAgICB9ICAgICAgXG4gICAgfVxuICB9KVxuXG5cblxuICAuc3RhdGUoJ2Jsb2cuc2hvdycsIHtcbiAgICB1cmw6ICcvYmxvZy9zaG93LzpzbHVnJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2Jsb2ctY29udGVudC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ1Nob3dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgXCJ0aGlzUG9zdFwiOiBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFRoaXNQb3N0U2VydmljZSl7ICAgICAgICBcbiAgICAgICAgcmV0dXJuIFRoaXNQb3N0U2VydmljZSgkc3RhdGVQYXJhbXMuc2x1ZykuJGxvYWRlZCgpO1xuICAgICAgfSxcbiAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgfSAgICAgICBcbiAgICB9LFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogZnVuY3Rpb24odGhpc1Bvc3Qpe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgQmxvZz8gXCIsdGhpc1Bvc3QpO1xuICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBcIlNJU1RFUlMgLSBcIiArIHRoaXNQb3N0WzBdLnBvc3RUaXRsZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmdW5jdGlvbih0aGlzUG9zdCl7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzUG9zdFswXS5wb3N0Qm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgfSlcbiAgXG5cblxuICAuc3RhdGUoJ3Nob3dzJywge1xuICAgIHVybDogJy9zaG93cycsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUyAtIFNob3dzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBjb21pbmcgc2hvd3MgZm9yIFNlYXR0bGUgZHVvIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3Nob3dzL3Nob3dzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTaG93c0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBnZXRTaG93czogZnVuY3Rpb24oR2V0U2hvd3Mpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImFwcCByZXNvbHZlIGVudGVyZWRcIik7XG4gICAgICAgIHJldHVybiBHZXRTaG93cygpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdzdG9yZScsIHtcbiAgICB1cmw6ICcvc3RvcmUnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBTdG9yZScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBvZmZpY2lhbCBzdG9yZSBmb3IgU2VhdHRsZSBkdW8gU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvc3RvcmUuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwiYWxsUHJvZHVjdHNcIjogZnVuY3Rpb24oUHJvZHVjdHNTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIFByb2R1Y3RzU2VydmljZS5hbGxQcm9kdWN0cygpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdzdG9yZUNhcnQnLCB7XG4gICAgdXJsOiAnL3N0b3JlL2NhcnQnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NhcnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlQ2FydEN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXRcbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdzdG9yZVNob3cnLCB7XG4gICAgdXJsOiAnL3N0b3JlLzppZCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvc3RvcmVTaG93Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTdG9yZVNob3dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgXCJvbmVQcm9kdWN0XCI6IGZ1bmN0aW9uKFByb2R1Y3RzU2VydmljZSwgJHN0YXRlUGFyYW1zKXtcbiAgICAgICAgcmV0dXJuIFByb2R1Y3RzU2VydmljZS5vbmVQcm9kdWN0KCRzdGF0ZVBhcmFtcy5pZCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuICAuc3RhdGUoJ2NoZWNrb3V0Jywge1xuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NoZWNrb3V0VGVtcGxhdGUuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0NoZWNrb3V0VGVtcGxhdGVDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdjaGVja291dC5hZGRyZXNzJywge1xuICAgIHVybDogJy9zdG9yZS9jaGVja291dC9hZGRyZXNzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9zdG9yZS9jaGVja291dEFkZHJlc3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlQWRkcmVzc0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXRcbiAgICB9XG4gIH0pXG4gIC5zdGF0ZSgnY2hlY2tvdXQucGF5bWVudCcsIHtcbiAgICB1cmw6ICcvc3RvcmUvY2hlY2tvdXQvcGF5bWVudCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvY2hlY2tvdXRQYXltZW50Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTdG9yZVBheW1lbnRDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgY3VycmVudE9yZGVyOiBmdW5jdGlvbihDdXJyZW50T3JkZXJTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIEN1cnJlbnRPcmRlclNlcnZpY2UuZ2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gICAuc3RhdGUoJ2NoZWNrb3V0LmNvbmZpcm0nLCB7XG4gICAgdXJsOiAnL3N0b3JlL2NoZWNrb3V0L2NvbmZpcm0nLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NoZWNrb3V0Q29uZmlybS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnU3RvcmVDb25maXJtQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdFxuICAgIH1cbiAgfSlcbiAgXG4gIFxuICAuc3RhdGUoJ2xvZ2luJywge1xuICAgIHVybDogJy9sb2dpbicsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvbG9naW4uaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcbiAgfSlcblxuICBcbiAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG59XSlcblxuLmZpbHRlcignY3V0JywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBlbmFibGUsIHdvcmR3aXNlLCBtYXgsIHRhaWwpIHtcbiAgICB2YXIgc291cmNlID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2Lz4nKS5odG1sKHZhbHVlKTtcbiAgICBjb25zb2xlLmxvZyhcInNvdXJjZTogXCIsc291cmNlKTtcbiAgICB2YXIgbGVuZ3RoID0gc291cmNlLnRleHQoKS5sZW5ndGg7XG4gICAgY29uc29sZS5sb2coXCJsZW5ndGg6IFwiLGxlbmd0aCk7XG4gICAgLy8gaWYgKCFwbGFpblRleHQpIHJldHVybiAnJztcbiAgICAvLyBpZiAocGxhaW5UZXh0ICYmICFlbmFibGUpIHtcbiAgICAvLyAgIHJldHVybiB2YWx1ZTtcbiAgICAvLyB9IGVsc2UgaWYgKHBsYWluVGV4dCAmJiBlbmFibGUpe1xuICAgIC8vICAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gICAgLy8gICBpZiAoIW1heCkge1xuICAgIC8vICAgICByZXR1cm4gdmFsdWU7XG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAocGxhaW5UZXh0Lmxlbmd0aCA8PSBtYXgpe1xuICAgIC8vICAgICByZXR1cm4gdmFsdWU7XG4gICAgLy8gICB9IFxuICAgIC8vICAgZWxlbWVudFswXS5pbm5lclRleHQgPSBwbGFpblRleHQuc3Vic3RyKDAsIG1heCk7XG4gICAgLy8gICBpZiAod29yZHdpc2UpIHtcbiAgICAvLyAgICAgdmFyIGxhc3RzcGFjZSA9IHBsYWluVGV4dC5sYXN0SW5kZXhPZignICcpO1xuICAgIC8vICAgICBpZiAobGFzdHNwYWNlICE9IC0xKSB7XG4gICAgLy8gICAgICAgLy9BbHNvIHJlbW92ZSAuIGFuZCAsIHNvIGl0cyBnaXZlcyBhIGNsZWFuZXIgcmVzdWx0LlxuICAgIC8vICAgICAgIGlmIChwbGFpblRleHQuY2hhckF0KGxhc3RzcGFjZS0xKSA9PSAnLicgfHwgdmFsdWUuY2hhckF0KGxhc3RzcGFjZS0xKSA9PSAnLCcpIHtcbiAgICAvLyAgICAgICAgIGxhc3RzcGFjZSA9IGxhc3RzcGFjZSAtIDE7XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICAgIGVsZW1lbnRbMF0uaW5uZXJUZXh0ID0gdmFsdWUuc3Vic3RyKDAsIGxhc3RzcGFjZSk7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgICAgXG4gICAgLy8gLy8gICBjb25zb2xlLmxvZyhcInZhbHVlOiBcIix2YWx1ZSk7XG4gICAgLy8gLy8gICByZXR1cm4gZWxlbWVudFswXS5vdXRlckhUTUwgKyAodGFpbCB8fCAn4oCmJyk7XG4gICAgLy8gfVxuICB9O1xufSlcblxuLmZpbHRlcigndHJ1c3RBc1Jlc291cmNlVXJsJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuICRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKCdodHRwOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycrdmFsKTtcbiAgfTtcbn1dKVxuXG5cbi5maWx0ZXIoJ01vbWVudEZpbHRlcicsIFsnbW9tZW50JywgZnVuY3Rpb24obW9tZW50KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuICBtb21lbnQodmFsKS5mb3JtYXQoJ2RkZGQsIE1NTU0gRG8sIFlZWVknKTtcbiAgfVxufV0pXG5cbi5maWx0ZXIoJ3Rvb09sZCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnRzKSB7XG4gICAgdmFyIGN1cnJlbnREYXkgPSBtb21lbnQoKS51bml4KClcbiAgICB2YXIgZmlsdGVyZWQgPSBbXTtcbiAgICBhbmd1bGFyLmZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIHRoaXNFdmVudCA9IGV2ZW50LnVuaXhEYXRlLzEwMDA7XG4gICAgICBpZiAoKGN1cnJlbnREYXkgLSB0aGlzRXZlbnQpIDw9IDg2NDAwKSB7XG4gICAgICAgIGZpbHRlcmVkLnB1c2goZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfTtcbn0pXG5cbi5maWx0ZXIoJ0RlbGl2ZXJ5RXN0RGF0ZScsIFsnbW9tZW50JywgZnVuY3Rpb24obW9tZW50KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuICBtb21lbnQodmFsKS5mb3JtYXQoJ2RkZGQsIE1NTU0gRG8nKTtcbiAgfVxufV0pXG5cbi5maWx0ZXIoJ3RpbWVBZ28nLCBbJ21vbWVudCcsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbih2YWwpe1xuICAgIHJldHVybiBtb21lbnQodmFsKS5mcm9tTm93KCk7XG4gIH1cbn1dKVxuXG5cblxuXG4uZmlsdGVyKCdjZW50c1RvRG9sbGFycycsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbih2YWwpe1xuICAgIHJldHVybiAgdmFsLzEwMDtcbiAgfVxufSk7XG5cblxuXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycsIFsnU2lzdGVyc1NlcnZpY2VzJ10pXG5cblxuLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHRpbWVvdXQnLCckaHR0cCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCwkaHR0cCkge1xuJHNjb3BlLiRvbignbG9hZE1haW5Db250YWluZXInLCBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gXCJsb2FkZWRcIil7XG4gICAgICAkc2NvcGUubWFpbkxvYWRlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5tYWluTG9hZGVkID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuXG59XSlcblxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHRpbWVvdXQnLCckaHR0cCcsJ0xvYWRlZFNlcnZpY2UnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsJGh0dHAsTG9hZGVkU2VydmljZSkge1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyNDcsIDIzNywgMjQ1LCAwKSc7XG4gIG1haW4uc3R5bGUud2lkdGggPSAnJztcbiAgbWFpbi5zdHlsZS5wYWRkaW5nID0gXCJcIjtcbiAgXG4gICRzY29wZS5sb2FkZWQgPSBMb2FkZWRTZXJ2aWNlLmdldCgpO1xuICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgaWYgKCEkc2NvcGUubG9hZGVkICYmIHdpZHRoID4gODA2KXsgXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgICAgICRzY29wZS5mYWRlSG9tZSA9IHRydWU7XG4gICAgICBMb2FkZWRTZXJ2aWNlLnNldCh0cnVlKTtcbiAgICB9LCAyNTAwKTtcbiAgfSBlbHNlIHtcbiAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgICAgICRzY29wZS5mYWRlSG9tZSA9IHRydWU7XG4gICAgICBMb2FkZWRTZXJ2aWNlLnNldCh0cnVlKTtcbiAgICB9LCAyNTAwKTtcbiAgfSBcblxuXG4gICAgJHNjb3BlLm1haWxjaGltcFN1Ym1pdCA9IGZ1bmN0aW9uKGZvcm0sIGVtYWlsLCBpc05hdil7XG4gICAgaWYoZm9ybS4kdmFsaWQpe1xuICAgICAkc2NvcGUuaXNQb3B1cCA9IGZhbHNlO1xuICAgIHZhciB1cmwgPSBcIi8vc2lzdGVyc3RoZWJhbmQudXMxNC5saXN0LW1hbmFnZS5jb20vc3Vic2NyaWJlL3Bvc3QtanNvbj91PWJjMzg3MjBiMGJjYzdhMzI2NDFiYjU3MmMmYW1wO2lkPTI0MmY0YWRjODkmRU1BSUw9XCIrZW1haWwrXCImYz1KU09OX0NBTExCQUNLXCJcbiAgICAkaHR0cC5qc29ucCh1cmwpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpe1xuICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcbiAgICAgICAgaWYoaXNOYXYpe1xuICAgICAgICAkc2NvcGUubWFpbENvbmZpcm0gPSB0cnVlO1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUubWFpbENvbmZpcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibWFpbCBjb25maXJtIHJlc2V0XCIpO1xuICAgICAgICAgIH0sNzAwMCk7XG4gICAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiBlcnJvcihyZXMpe1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KTtcblxuICAgIH1cbiAgfVxuXG5cbn1dKVxuXG4uY29udHJvbGxlcignQWJvdXRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0KXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMSknO1xuICBtYWluLnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcbiAgbWFpbi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbn0pOyAiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJ0F1dGgnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgQXV0aCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDApJztcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgJHNjb3BlLnN1Ym1pdHRlZCA9IGZhbHNlO1xuICAkc2NvcGUubG9nZ2VkID0gZmFsc2U7XG5cblxuICBBdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgaWYgKGZpcmViYXNlVXNlcikge1xuICAgICAgJHNjb3BlLmxvZ2dlZCA9IHRydWU7XG4gICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vdCBsb2dnZWQgaW4uXCIpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvLyBiaW5kIGZvcm0gZGF0YSB0byB1c2VyIG1vZGVsXG4gICRzY29wZS51c2VyID0ge31cblxuXG4gICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zdWJtaXR0ZWQgPSB0cnVlO1xuICAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBudWxsO1xuICAgIEF1dGguJHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKCRzY29wZS51c2VyLmVtYWlsLCAkc2NvcGUudXNlci5wYXNzd29yZCkudGhlbihmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBmaXJlYmFzZVVzZXI7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdXRoZW50aWNhdGlvbiBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICB9KVxuICB9O1xuXG5cbn1dKSAiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuXG5cbi5jb250cm9sbGVyKCdOZXdCbG9nQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyRodHRwJywnQXV0aCcsJ0Jsb2dQb3N0cycsJ0FsbFRhZ3MnLCdIZWxwZXJTZXJ2aWNlJywnU3VibWl0SW1hZ2UnLCdtb21lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsIEF1dGgsIEJsb2dQb3N0cywgQWxsVGFncywgSGVscGVyU2VydmljZSwgU3VibWl0SW1hZ2UsIG1vbWVudCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDApJztcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgJHNjb3BlLkJsb2dQb3N0cyA9IEJsb2dQb3N0cygpO1xuICAkc2NvcGUudGFncyA9IEFsbFRhZ3M7XG4gICRzY29wZS5jaGVja2VkVGFncyA9IHt9O1xuICAkc2NvcGUuZGF0YSA9IHt9O1xuXG4gICRzY29wZS5yZXNldE1lZGlhID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuZGF0YS55b3V0dWJlID0gXCJcIjtcbiAgICAkc2NvcGUuZGF0YS5pbWFnZSA9IFwiXCI7XG4gIH1cblxuICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZyhcInN1Ym1pdCBjbGlja2VkXCIpO1xuICAgIGNvbnNvbGUubG9nKFwid2hhdCBpcyBwb3N0PyBcIiwkc2NvcGUucG9zdCk7XG4gICAgaWYgKCRzY29wZS5kYXRhLm1lZGlhU2VsZWN0ID09PSAnaW1hZ2UnKXtcbiAgICAgIFN1Ym1pdEltYWdlKCRzY29wZS5wb3N0LCAkc2NvcGUuQmxvZ1Bvc3RzLCAkc2NvcGUuZGF0YS5pbWFnZSwgYWRkUG9zdCk7XG4gICAgfSBlbHNlIGlmICgkc2NvcGUuZGF0YS5tZWRpYVNlbGVjdCA9PT0gJ3lvdXR1YmUnKXtcbiAgICAgICRzY29wZS5kYXRhLnlvdXR1YmUgPSBIZWxwZXJTZXJ2aWNlLnBhcnNlWW91VHViZSgkc2NvcGUuZGF0YS55b3V0dWJlKTtcbiAgICAgIGFkZFBvc3QoJHNjb3BlLnBvc3QsICRzY29wZS5CbG9nUG9zdHMsIG51bGwsICRzY29wZS5kYXRhLnlvdXR1YmUpO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5hZGRUYWcgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS50YWdzLiRhZGQoe1xuICAgICAgXCJuYW1lXCI6ICRzY29wZS5kYXRhLm5ld1RhZ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVmKXtcbiAgICAgICRzY29wZS5wb3N0SWQgPSByZWYua2V5O1xuICAgICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIHBvc3QgaWQ/IFwiLHJlZi5rZXkpO1xuICAgICAgJHNjb3BlLmRhdGEubmV3VGFnID0gXCJcIjtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5yZXNpemVJbWcgPSBmdW5jdGlvbihpbWcpe1xuICAgIHZhciByZXNpemUgPSBIZWxwZXJTZXJ2aWNlLmltZ1Jlc2l6ZShpbWcpO1xuICB9XG5cbiAgJHNjb3BlLmRlbGV0ZVRhZyA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgICRzY29wZS50YWdzLiRyZW1vdmUoaXRlbSkudGhlbihmdW5jdGlvbihyZWYpIHtcbiAgcmVmLmtleSA9PT0gaXRlbS4kaWQ7IC8vIHRydWVcbn0pO1xuICB9XG5cbiAgdmFyIGFkZFBvc3QgPSBmdW5jdGlvbihwb3N0LCBwb3N0QXJyYXksIGltZywgeW91dHViZSl7XG4gICAgdmFyIHNsdWcgPSBIZWxwZXJTZXJ2aWNlLnNsdWdpZnkocG9zdC50aXRsZSk7XG4gICAgdmFyIHBvc3REYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIHllYXIgPSBtb21lbnQocG9zdERhdGUpLmZvcm1hdChcIllZWVlcIik7XG4gICAgdmFyIG1vbnRoID0gbW9tZW50KHBvc3REYXRlKS5mb3JtYXQoXCJNTU1NXCIpO1xuXG4gICAgdmFyIG5ld1RhZ3MgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluICRzY29wZS5jaGVja2VkVGFncyl7XG4gICAgICAgIG5ld1RhZ3NbcHJvcF0gPSAkc2NvcGUuY2hlY2tlZFRhZ3NbcHJvcF07XG4gICAgfVxuICAgIHZhciB0aGlzUG9zdCA9IHtcbiAgICAgIHBvc3RUaXRsZTogcG9zdC50aXRsZSxcbiAgICAgIHNsdWc6IHNsdWcsXG4gICAgICBwb3N0Qm9keTogcG9zdC5wb3N0Qm9keSxcbiAgICAgIHlvdXR1YmU6IHlvdXR1YmUgPyB5b3V0dWJlIDogbnVsbCxcbiAgICAgIGltZzogaW1nID8gaW1nIDogbnVsbCxcbiAgICAgIHRhZ3M6IG5ld1RhZ3MsXG4gICAgICB0aW1lc3RhbXA6IHBvc3REYXRlICAgXG4gICAgfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhcInRoaXNQb3N0OiBcIix0aGlzUG9zdCk7XG4gICAgcG9zdEFycmF5LiRhZGQodGhpc1Bvc3QpLnRoZW4oZnVuY3Rpb24ocmVmKXtcbiAgICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgICAgdmFyIGFyY2hpdmVQb3N0ID0ge1xuICAgICAgICBrZXk6IGtleVxuICAgICAgfVxuICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycgKyB5ZWFyICsgJy8nICsgbW9udGggKyAnLycgKyBrZXkpLnNldChhcmNoaXZlUG9zdCk7XG4gICAgICAvLyBmb3IgKHByb3AgaW4gbmV3VGFncyl7XG4gICAgICAvLyAgIGlmIChuZXdUYWdzW3Byb3BdKXtcbiAgICAgIC8vICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3RhZ3MvJyArIHByb3AgKyAnL3Bvc3RzLycgKyBrZXkpLnNldChhcmNoaXZlUG9zdCk7IFxuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG4gICAgICAkc3RhdGUuZ28oJ2Jsb2cubWFpbicpO1xuICAgIH0pO1xuICB9XG59XSlcblxuLmNvbnRyb2xsZXIoJ0VkaXRCbG9nQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICckdGltZW91dCcsICckc3RhdGVQYXJhbXMnLCdTZW5kRGF0YVNlcnZpY2UnLCdBbGxUYWdzJywndGhpc1Bvc3QnLCdIZWxwZXJTZXJ2aWNlJywnU3VibWl0SW1hZ2UnLCckdWliTW9kYWwnLCckbG9nJywnQmxvZ1Bvc3RzJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0LCAkc3RhdGVQYXJhbXMsIFNlbmREYXRhU2VydmljZSwgQWxsVGFncywgdGhpc1Bvc3QsIEhlbHBlclNlcnZpY2UsIFN1Ym1pdEltYWdlLCAkdWliTW9kYWwsICRsb2csIEJsb2dQb3N0cyl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDApJztcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgJHNjb3BlLmRhdGEgPSB7fTtcbiAgJHNjb3BlLnBvc3RBcnJheSA9IHRoaXNQb3N0O1xuICAkc2NvcGUucG9zdCA9IHRoaXNQb3N0WzBdO1xuICAkc2NvcGUub3JpZ2luYWxUYWdzID0gYW5ndWxhci5jb3B5KCRzY29wZS5wb3N0LnRhZ3MpO1xuICAkc2NvcGUudGFncyA9IEFsbFRhZ3M7XG5cbiAgaWYgKCRzY29wZS5wb3N0LnlvdXR1YmUpe1xuICAgIGNvbnNvbGUubG9nKCRzY29wZS5wb3N0LnlvdXR1YmUpO1xuICAgIHZhciB5b3V0dWJlSWQgPSAkc2NvcGUucG9zdC55b3V0dWJlXG4gICAgJHNjb3BlLmRhdGEueW91dHViZSA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1cIisgeW91dHViZUlkO1xuICB9XG5cbiAgXG5cbiAgJHNjb3BlLmNvbmZpcm1CbG9nRGVsZXRlID0gZnVuY3Rpb24ocG9zdCkge1xuICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2RlbGV0ZUJsb2dDb25maXJtTW9kYWwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnRGVsZXRlQmxvZ0NvbmZpcm1DdHJsJyxcbiAgICAgIHNpemU6ICdzbScsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIFwiUG9zdFwiOiBwb3N0XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgY29uc29sZS5sb2coXCJzdWJtaXR0ZWQgbW9kYWxcIik7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcbiAgICB9KTtcbiAgfTsgXG5cblxuICAkc2NvcGUuYWRkVGFnID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUudGFncy4kYWRkKHtcbiAgICAgIFwibmFtZVwiOiAkc2NvcGUuZGF0YS5uZXdUYWdcbiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlZil7XG4gICAgICAkc2NvcGUucG9zdElkID0gcmVmLmtleTtcbiAgICAgIGNvbnNvbGUubG9nKFwid2hhdCBpcyBwb3N0IGlkPyBcIixyZWYua2V5KTtcbiAgICAgICRzY29wZS5kYXRhLm5ld1RhZyA9IFwiXCI7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUuZGVsZXRlVGFnID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgJHNjb3BlLnRhZ3MuJHJlbW92ZShpdGVtKS50aGVuKGZ1bmN0aW9uKHJlZikge1xuICByZWYua2V5ID09PSBpdGVtLiRpZDsgLy8gdHJ1ZVxufSk7XG4gIH1cblxuXG4gICRzY29wZS5yZXNldE1lZGlhID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuZGF0YS55b3V0dWJlID0gXCJcIjtcbiAgICAkc2NvcGUuZGF0YS5pbWFnZSA9IFwiXCI7XG4gIH1cblxuICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoJHNjb3BlLmRhdGEubWVkaWFTZWxlY3QgPT09ICdpbWFnZScgJiYgJHNjb3BlLmRhdGEuaW1hZ2Upe1xuICAgICAgU3VibWl0SW1hZ2UoJHNjb3BlLnBvc3QsICRzY29wZS5wb3N0QXJyYXksICRzY29wZS5kYXRhLmltYWdlLCB1cGRhdGVQb3N0KTtcbiAgICB9IGVsc2UgaWYgKCRzY29wZS5kYXRhLm1lZGlhU2VsZWN0ID09PSAnaW1hZ2UnICYmICEkc2NvcGUuZGF0YS5pbWFnZSl7XG4gICAgICB1cGRhdGVQb3N0KCRzY29wZS5wb3N0LCAkc2NvcGUuQmxvZ1Bvc3RzLCAkc2NvcGUucG9zdC5pbWcsIG51bGwpO1xuICAgIH0gZWxzZSBpZiAoJHNjb3BlLmRhdGEubWVkaWFTZWxlY3QgPT09ICd5b3V0dWJlJyl7XG4gICAgICAkc2NvcGUuZGF0YS55b3V0dWJlID0gSGVscGVyU2VydmljZS5wYXJzZVlvdVR1YmUoJHNjb3BlLmRhdGEueW91dHViZSk7XG4gICAgICB1cGRhdGVQb3N0KCRzY29wZS5wb3N0LCAkc2NvcGUuQmxvZ1Bvc3RzLCBudWxsLCAkc2NvcGUuZGF0YS55b3V0dWJlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlUG9zdCA9IGZ1bmN0aW9uKHBvc3QsIHBvc3RBcnJheSwgaW1nLCB5b3V0dWJlKXtcbiAgICB2YXIgc2x1ZyA9IEhlbHBlclNlcnZpY2Uuc2x1Z2lmeShwb3N0LnBvc3RUaXRsZSk7XG4gICAgY29uc29sZS5sb2coc2x1Zyk7XG4gICAgdmFyIHllYXIgPSBtb21lbnQocG9zdC50aW1lc3RhbXApLmZvcm1hdChcIllZWVlcIik7XG4gICAgdmFyIG1vbnRoID0gbW9tZW50KHBvc3QudGltZXN0YW1wKS5mb3JtYXQoXCJNTU1NXCIpO1xuICAgIHZhciBuZXdUYWdzID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwb3N0LnRhZ3Mpe1xuICAgICAgbmV3VGFnc1twcm9wXSA9IHBvc3QudGFnc1twcm9wXTtcbiAgICB9XG4gICAgcG9zdC5zbHVnID0gc2x1ZztcbiAgICBwb3N0LnRhZ3MgPSBuZXdUYWdzO1xuICAgIHBvc3QueW91dHViZSA9IHlvdXR1YmUgPyB5b3V0dWJlIDogbnVsbDtcbiAgICBwb3N0LmltZyA9IGltZyA/IGltZyA6IG51bGw7XG4gICAgdmFyIHRoaXNQb3N0ID0ge1xuICAgICAgcG9zdFRpdGxlOiBwb3N0LnBvc3RUaXRsZSxcbiAgICAgIHNsdWc6IHNsdWcsXG4gICAgICBwb3N0Qm9keTogcG9zdC5wb3N0Qm9keSxcbiAgICAgIHlvdXR1YmU6IHBvc3QueW91dHViZSxcbiAgICAgIGltZzogcG9zdC5pbWcsXG4gICAgICB0YWdzOiBuZXdUYWdzLFxuICAgICAgdGltZXN0YW1wOiBwb3N0LnRpbWVzdGFtcCAgIFxuICAgIH07XG4gICAgJHNjb3BlLnBvc3RBcnJheS4kc2F2ZShwb3N0KS50aGVuKGZ1bmN0aW9uKHJlZikge1xuICAgICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYXJjaGl2ZXMvJyArIHllYXIgKyAnLycgKyBtb250aCArICcvJyArIGtleSkucmVtb3ZlKCk7XG4gICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYXJjaGl2ZXMvJyArIHllYXIgKyAnLycgKyBtb250aCArICcvJyArIGtleSkuc2V0KHRoaXNQb3N0KTtcbiAgICAgIGZvciAocHJvcCBpbiAkc2NvcGUub3JpZ2luYWxUYWdzKXtcbiAgICAgICAgaWYgKCRzY29wZS5vcmlnaW5hbFRhZ3NbcHJvcF0gPT09IHRydWUpe1xuICAgICAgICAgIHZhciB1cmwgPSAndGFncy8nICsgcHJvcCArICcvcG9zdHMvJyArIGtleTtcbiAgICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZih1cmwpLnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlbW92ZSBmYWlsZWQ6IFwiICsgZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICB9KTsgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2cocHJvcCArIFwiIG5vdCBhIHRhZyBmb3Igb2xkIGVkaXQhXCIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgZm9yIChwcm9wIGluIHRoaXNQb3N0LnRhZ3Mpe1xuICAgICAgICBpZiAodGhpc1Bvc3QudGFnc1twcm9wXSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3RhZ3MvJyArIHByb3AgKyAnL3Bvc3RzLycgKyBrZXkpLnNldCh0aGlzUG9zdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2cocHJvcCArIFwiIG5vdCBhIHRhZyBmb3IgbmV3IGVkaXQhXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwxMDApXG5cbiAgICAgICRzdGF0ZS5nbygnYmxvZy5tYWluJyk7XG4gICAgfSk7XG4gIH0gXG59XSkgIFxuXG5cbi5jb250cm9sbGVyKCdFZGl0QmxvZ1RhZ3NDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHRhZywgQmxvZykge1xuICAkc2NvcGUucHJvbXB0ZWQgPSBmYWxzZTtcbiAgJHNjb3BlLnRhZyA9IGFuZ3VsYXIuY29weSh0YWcpO1xuICBjb25zb2xlLmxvZyh0YWcpO1xuICAkc2NvcGUub2sgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIG5ld05hbWUgPSB7XG4gICAgICBuYW1lOiAkc2NvcGUudGFnLm5hbWVcbiAgICB9O1xuICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvdGFncy8nKyRzY29wZS50YWcuJGlkKS51cGRhdGUobmV3TmFtZSk7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9O1xuXG4gICRzY29wZS5kZWxldGVQcm9tcHQgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5wcm9tcHRlZCA9IHRydWU7XG4gIH1cblxuICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgIGlmIChyZXNwb25zZSA9PT0gXCJub1wiKXtcbiAgICAgICRzY29wZS5wcm9tcHRlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2UgPT09IFwieWVzXCIpe1xuICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy90YWdzLycrJHNjb3BlLnRhZy4kaWQpLnJlbW92ZSgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCbG9nLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIHRoaXNQb3N0VGFncyA9IEJsb2dbaV0udGFncztcbiAgICAgICAgaWYgKHRoaXNQb3N0VGFnc1skc2NvcGUudGFnLiRpZF0gPT09IHRydWUpe1xuICAgICAgICAgIHRoaXNQb3N0VGFnc1skc2NvcGUudGFnLiRpZF0gPSBudWxsO1xuICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvYmxvZ19wb3N0cy8nK0Jsb2dbaV0uJGlkK1wiL3RhZ3NcIikudXBkYXRlKHRoaXNQb3N0VGFncyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgIH0gXG4gIH1cblxufSlcblxuXG4uY29udHJvbGxlcignRGVsZXRlQmxvZ0NvbmZpcm1DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIFBvc3QsIG1vbWVudCwgJGxvY2F0aW9uKSB7XG5jb25zb2xlLmxvZyhQb3N0KTtcblxuJHNjb3BlLnllcyA9IGZ1bmN0aW9uKCl7XG4gIHZhciB5ZWFyID0gbW9tZW50KFBvc3QudGltZXN0YW1wKS5mb3JtYXQoXCJZWVlZXCIpO1xuICB2YXIgbW9udGggPSBtb21lbnQoUG9zdC50aW1lc3RhbXApLmZvcm1hdChcIk1NTU1cIik7XG4gIGNvbnNvbGUubG9nKG1vbnRoICsgXCIgb2YgXCIreWVhcik7XG4gIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdibG9nX3Bvc3RzLycrUG9zdC4kaWQpLnJlbW92ZSgpO1xuICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYXJjaGl2ZXMvJyArIHllYXIgKyAnLycgKyBtb250aCArICcvJyArIFBvc3QuJGlkKS5yZW1vdmUoKTtcbiAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgJGxvY2F0aW9uLnVybCgnL2Jsb2cnKTtcbn1cblxuJHNjb3BlLm5vID0gZnVuY3Rpb24oKXtcbiAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xufVxuICBcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycpXG5cblxuXG4uY29udHJvbGxlcignQmxvZ01hc3RlckN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckaHR0cCcsJyR0aW1lb3V0JywnJGxvY2F0aW9uJywnJHN0YXRlUGFyYW1zJywnQXV0aCcsJ0Jsb2cnLCdIZWxwZXJTZXJ2aWNlJywnSW5zdGFncmFtRmFjdG9yeScsJ0FsbFRhZ3NTZXJ2aWNlJywnVHdpdHRlckZhY3RvcnknLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgQXV0aCwgQmxvZywgSGVscGVyU2VydmljZSwgSW5zdGFncmFtRmFjdG9yeSwgQWxsVGFnc1NlcnZpY2UsIFR3aXR0ZXJGYWN0b3J5KXtcbiAgJHNjb3BlLmxvYWRlZEluc3RhID0gZmFsc2U7XG4gICRzY29wZS5sb2FkZWRUd2l0dGVyID0gZmFsc2U7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gXG4gIEluc3RhZ3JhbUZhY3RvcnkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAkc2NvcGUucGhvdG9zID0gZGF0YS5kYXRhO1xuICAgICRzY29wZS5sb2FkZWRJbnN0YSA9IHRydWU7XG4gICAgaWYgKCRzY29wZS5sb2FkZWRUd2l0dGVyKXtcbiAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICAgIH1cbiAgfSlcbiAgVHdpdHRlckZhY3RvcnkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgIFxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICRzY29wZS50d2VldERhdGUgPSBkYXRhLmFsbFR3ZWV0RGF0YS5jcmVhdGVkX2F0O1xuICAgICRzY29wZS50d2l0dGVyVXNlciA9IGRhdGEuYWxsVHdlZXREYXRhLnVzZXIubmFtZTtcbiAgICAkc2NvcGUudHdpdHRlckhhbmRsZSA9IGRhdGEuYWxsVHdlZXREYXRhLnVzZXIuc2NyZWVuX25hbWU7XG4gICAgJHNjb3BlLnR3ZWV0SWQgPSBkYXRhLmFsbFR3ZWV0RGF0YS5pZF9zdHI7XG4gICAgJHNjb3BlLnR3ZWV0ID0gZGF0YS50d2VldEJvZHk7XG4gICAgJHNjb3BlLmZhdm9yaXRlcyA9IGRhdGEuZmF2b3JpdGVzO1xuICAgICRzY29wZS5yZXR3ZWV0cyA9IGRhdGEucmV0d2VldHM7XG4gICAgJHNjb3BlLmxvYWRlZFR3aXR0ZXIgPSB0cnVlO1xuICAgIGlmICgkc2NvcGUubG9hZGVkSW5zdGEpe1xuICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XG4gICAgfVxuICB9KVxuICAkc2NvcGUuZW5hYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLmF1dGggPSBBdXRoO1xuICAkc2NvcGUuYXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBmaXJlYmFzZVVzZXI7XG5cbiAgfSk7XG59XSlcblxuXG5cblxuLmNvbnRyb2xsZXIoJ0Jsb2dDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJGh0dHAnLCckdGltZW91dCcsJyRsb2NhdGlvbicsJyRzdGF0ZVBhcmFtcycsJ0F1dGgnLCdCbG9nJywnSGVscGVyU2VydmljZScsJ0luc3RhZ3JhbUZhY3RvcnknLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCBBdXRoLCBCbG9nLCBIZWxwZXJTZXJ2aWNlLCBJbnN0YWdyYW1GYWN0b3J5LCBBbGxUYWdzU2VydmljZSl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICBtYWluLnN0eWxlLndpZHRoID0gJyc7XG4gIG1haW4uc3R5bGUucGFkZGluZyA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkc2NvcGUuYWxsVGFncyA9IEFsbFRhZ3NTZXJ2aWNlKCk7XG5cbiAgJHNjb3BlLmxvY2F0aW9uID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgLy8gY29uc29sZS5sb2coXCJsb2NhdGlvbjogXCIsJHNjb3BlLmxvY2F0aW9uKTtcbiAgXG4gIC8vICRzY29wZS5waG90b3MgPSBJbnN0YWdyYW0uZGF0YTtcbiAgSW5zdGFncmFtRmFjdG9yeS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgIC8vIGNvbnNvbGUubG9nKFwid2hhdCBpcyBkYXRhPyBcIixkYXRhKTtcbiAgICAkc2NvcGUucGhvdG9zID0gZGF0YS5kYXRhO1xuICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICB9KVxuICAkc2NvcGUuZW5hYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG5cbiAgLy8gJHNjb3BlLmF1dGggPSBBdXRoO1xuICAvLyAkc2NvcGUuYXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAvLyAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBmaXJlYmFzZVVzZXI7XG5cbiAgLy8gfSk7XG4gICRzY29wZS5hbGxQb3N0cyA9IEJsb2c7XG4gICRzY29wZS5wYWdlID0gJHN0YXRlUGFyYW1zLnBhZ2UgfHwgMDtcbiAgJHNjb3BlLnBhZ2VVcCA9ICcvYmxvZy8nICsgKHBhcnNlSW50KCRzY29wZS5wYWdlKSArIDEpO1xuICAkc2NvcGUucGFnZURvd24gPSAnL2Jsb2cvJyArIEhlbHBlclNlcnZpY2UucGFnZURvd24oJHNjb3BlLnBhZ2UpO1xuICAkc2NvcGUubGVuZ3RoID0gQmxvZy5sZW5ndGg7XG4gICRzY29wZS5maXJzdCA9IEhlbHBlclNlcnZpY2UuZmluZEZpcnN0KCRzY29wZS5sZW5ndGgsICRzY29wZS5wYWdlKTtcblxuXG4gICRzY29wZS5sYXN0ID0gJHNjb3BlLmxlbmd0aCAtICg0ICogJHNjb3BlLnBhZ2UpO1xuICAkc2NvcGUucG9zdHMgPSBCbG9nLnNsaWNlKCRzY29wZS5maXJzdCwgJHNjb3BlLmxhc3QpO1xuXG4gIFxuXG4gICRzY29wZS5lZGl0UG9zdCA9IGZ1bmN0aW9uKHNsdWcpeyBcbiAgICAkbG9jYXRpb24udXJsKCcvYmxvZy9lZGl0Lycrc2x1Zyk7XG4gIH1cblxuICBcblxufV0pXG5cblxuLmNvbnRyb2xsZXIoJ0Jsb2dBcmNoaXZlQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyR0aW1lb3V0JywnJHN0YXRlUGFyYW1zJywnJGxvY2F0aW9uJywgJ0Jsb2cnLCdBcmNoaXZlJywnQXV0aCcsJ0hlbHBlclNlcnZpY2UnLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zLCAkbG9jYXRpb24sIEJsb2csIEFyY2hpdmUsIEF1dGgsIEhlbHBlclNlcnZpY2UsIEFsbFRhZ3NTZXJ2aWNlKXtcbiAgICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbm90TG9hZGVkJyk7XG4gICAkc2NvcGUubG9jYXRpb24gPSAkbG9jYXRpb24uJCRwYXRoO1xuICAkc2NvcGUuYWxsVGFncyA9IEFsbFRhZ3NTZXJ2aWNlKCk7XG4gICRzY29wZS5lbmFibGUgPSB0cnVlO1xuICAvLyAkc2NvcGUucGhvdG9zID0gSW5zdGFncmFtLmRhdGE7XG4gICRzY29wZS5mdWxsQmxvZyA9IEJsb2c7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBBcmNoaXZlLmxlbmd0aDsgaSsrKXtcbiAgICB2YXIga2V5ID0gQXJjaGl2ZVtpXS4kaWQ7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBCbG9nLmxlbmd0aDsgaisrKXtcbiAgICAgIHZhciBibG9nS2V5ID0gQmxvZ1tqXS4kaWQ7XG4gICAgICBpZiAoa2V5ID09PSBibG9nS2V5KXtcbiAgICAgICAgcmVzdWx0LnB1c2goQmxvZ1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAkc2NvcGUuYWxsUG9zdHMgPSByZXN1bHQ7IFxuICAkc2NvcGUucGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG5cbiAgJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG5cblxuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcblxuICB9KTtcbiAgJHNjb3BlLnBhZ2UgPSAkc3RhdGVQYXJhbXMucGFnZSB8fCAwO1xuICAkc2NvcGUucGFnZVVwID0gJy9ibG9nL2FyY2hpdmVzLycgKyAkc3RhdGVQYXJhbXMueWVhciArICcvJyArICRzdGF0ZVBhcmFtcy5tb250aCArICcvJyArIChwYXJzZUludCgkc2NvcGUucGFnZSkgKyAxKTtcbiAgJHNjb3BlLnBhZ2VEb3duID0gJy9ibG9nL2FyY2hpdmVzLycgKyAkc3RhdGVQYXJhbXMueWVhciArICcvJyArICRzdGF0ZVBhcmFtcy5tb250aCArICcvJyArIEhlbHBlclNlcnZpY2UucGFnZURvd24oJHNjb3BlLnBhZ2UpO1xuICAkc2NvcGUubGVuZ3RoID0gJHNjb3BlLmFsbFBvc3RzLmxlbmd0aDtcbiAgJHNjb3BlLmZpcnN0ID0gSGVscGVyU2VydmljZS5maW5kRmlyc3QoJHNjb3BlLmxlbmd0aCwgJHNjb3BlLnBhZ2UpO1xuXG5cbiAgJHNjb3BlLmxhc3QgPSAkc2NvcGUubGVuZ3RoIC0gKDQgKiAkc2NvcGUucGFnZSk7XG4gIC8vIGNvbnNvbGUubG9nKFwiTGFzdDogXCIsJHNjb3BlLmxhc3QpO1xuICAkc2NvcGUucG9zdHMgPSAkc2NvcGUuYWxsUG9zdHMuc2xpY2UoJHNjb3BlLmZpcnN0LCAkc2NvcGUubGFzdCk7XG4gIC8vIGNvbnNvbGUubG9nKCRzY29wZS5wb3N0cyk7XG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyAgICBcbiAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbiAgfSlcblxuICAkc2NvcGUuZWRpdFBvc3QgPSBmdW5jdGlvbihwb3N0KXtcbiAgICB2YXIgdGl0bGVQYXJzZWQgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkwocG9zdC5wb3N0VGl0bGUpO1xuICAgICRsb2NhdGlvbi51cmwoJy9ibG9nL2VkaXQvJyt0aXRsZVBhcnNlZCk7XG4gIH1cbn1dKSBcblxuXG4uY29udHJvbGxlcignQmxvZ1RhZ3NDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHN0YXRlUGFyYW1zJywnJGxvY2F0aW9uJywgJyR0aW1lb3V0JywnQmxvZycsJ1RhZ3NTaG93JywnQXV0aCcsJ0hlbHBlclNlcnZpY2UnLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgJHRpbWVvdXQsIEJsb2csIFRhZ3NTaG93LCBBdXRoLCBIZWxwZXJTZXJ2aWNlLCBBbGxUYWdzU2VydmljZSl7XG4gICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ25vdExvYWRlZCcpO1xuICAgJHNjb3BlLmxvY2F0aW9uID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgJHNjb3BlLmFsbFRhZ3MgPSBBbGxUYWdzU2VydmljZSgpO1xuICAkc2NvcGUuZW5hYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLnRhZ05hbWUgPSBUYWdzU2hvd1swXS5uYW1lO1xuICB2YXIgdGhpc1RhZyA9IFRhZ3NTaG93WzBdLiRpZDtcbiAgdmFyIHNlbGVjdFBvc3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgQmxvZy5sZW5ndGg7IGkrKyl7XG4gICAgdmFyIHRoaXNQb3N0VGFncyA9IEJsb2dbaV0udGFncztcbiAgICBpZiAodGhpc1Bvc3RUYWdzW3RoaXNUYWddKXtcbiAgICAgIHNlbGVjdFBvc3RzLnB1c2goQmxvZ1tpXSk7XG4gICAgfVxuICB9O1xuXG5cblxuXG5cblxuXG4gIFxuICAvLyB2YXIgbGVuZ3RoID0gMDtcbiAgLy8gdmFyIGk7XG4gIC8vIGZvciAoaSBpbiBhbGxQb3N0cykge1xuICAvLyAgIGlmIChhbGxQb3N0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAvLyAgICAgICBsZW5ndGgrKztcbiAgLy8gICAgICAgc2VsZWN0UG9zdHMucHVzaChhbGxQb3N0c1tpXSk7XG4gIC8vICAgfVxuICAvLyB9XG4gIC8vICRzY29wZS5wYXJzZVRpdGxlID0gSGVscGVyU2VydmljZS50aXRsZVRvVVJMO1xuXG5cblxuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcblxuICB9KTtcbiAgJHNjb3BlLnBhZ2UgPSAkc3RhdGVQYXJhbXMucGFnZSB8fCAwO1xuICAkc2NvcGUucGFnZVVwID0gJy9ibG9nL3RhZ3MvJyArICRzdGF0ZVBhcmFtcy50YWdOYW1lICArICcvJyArIChwYXJzZUludCgkc2NvcGUucGFnZSkgKyAxKTtcbiAgJHNjb3BlLnBhZ2VEb3duID0gJy9ibG9nL3RhZ3MvJyArICRzdGF0ZVBhcmFtcy50YWdOYW1lICsgJy8nICsgSGVscGVyU2VydmljZS5wYWdlRG93bigkc2NvcGUucGFnZSk7XG4gICRzY29wZS5sZW5ndGggPSBsZW5ndGg7XG4gICRzY29wZS5maXJzdCA9IEhlbHBlclNlcnZpY2UuZmluZEZpcnN0KCRzY29wZS5sZW5ndGgsICRzY29wZS5wYWdlKTtcblxuICAkc2NvcGUubGFzdCA9ICRzY29wZS5sZW5ndGggLSAoNCAqICRzY29wZS5wYWdlKTtcbiAgY29uc29sZS5sb2coXCJMYXN0OiBcIiwkc2NvcGUubGFzdCk7XG4gICRzY29wZS5wb3N0cyA9IHNlbGVjdFBvc3RzLnNsaWNlKCRzY29wZS5maXJzdCwgJHNjb3BlLmxhc3QpO1xuICBjb25zb2xlLmxvZygkc2NvcGUucG9zdHMpO1xuXG4gICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTsgICBcbiAgfSlcblxuICAkc2NvcGUuZWRpdFBvc3QgPSBmdW5jdGlvbihwb3N0KXtcbiAgICB2YXIgdGl0bGVQYXJzZWQgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkwocG9zdC5wb3N0VGl0bGUpO1xuICAgICRsb2NhdGlvbi51cmwoJy9ibG9nL2VkaXQvJyt0aXRsZVBhcnNlZCk7XG4gIH1cbn1dKSBcblxuXG4uY29udHJvbGxlcignQmxvZ1Nob3dDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHN0YXRlUGFyYW1zJywnJGxvY2F0aW9uJywnJHRpbWVvdXQnLCd0aGlzUG9zdCcsJ0Jsb2cnLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgJHRpbWVvdXQsIHRoaXNQb3N0LCBCbG9nLCBBbGxUYWdzU2VydmljZSl7XG4gJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdub3RMb2FkZWQnKTtcbiAkc2NvcGUubG9jYXRpb24gPSAkbG9jYXRpb24uJCRwYXRoO1xuICRzY29wZS5hbGxUYWdzID0gQWxsVGFnc1NlcnZpY2UoKTtcbiAkc2NvcGUuZW5hYmxlID0gZmFsc2U7XG4gJHNjb3BlLnJlY2VudFBvc3RzID0gQmxvZztcbiBjb25zb2xlLmxvZygkc2NvcGUucmVjZW50UG9zdHMpO1xuIC8vICRzY29wZS5waG90b3MgPSBJbnN0YWdyYW0uZGF0YTsgXG4gJHNjb3BlLnBvc3RzID0gdGhpc1Bvc3Q7XG4gJHNjb3BlLmFsbFBvc3RzID0gdGhpc1Bvc3Q7XG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyAgXG4gICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XG4gIH0pXG59XSkgIFxuXG5cbi5jb250cm9sbGVyKCdCbG9nU2lkZWJhckN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckc3RhdGVQYXJhbXMnLCckdGltZW91dCcsJ0FyY2hpdmVTZXJ2aWNlJywnQWxsVGFnc1NlcnZpY2UnLCdCbG9nUG9zdHMnLCdIZWxwZXJTZXJ2aWNlJywnJHVpYk1vZGFsJywnJGxvZycsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsJHRpbWVvdXQsIEFyY2hpdmVTZXJ2aWNlLCBBbGxUYWdzU2VydmljZSwgQmxvZ1Bvc3RzLCBIZWxwZXJTZXJ2aWNlLCAkdWliTW9kYWwsICRsb2cpe1xuIFxuICAkc2NvcGUucmVjZW50UG9zdHMgPSBCbG9nUG9zdHMoKTtcbiAgJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG4gICRzY29wZS55ZWFycyA9IEFyY2hpdmVTZXJ2aWNlLnllYXJzKCk7XG4gICRzY29wZS55ZWFycy4kbG9hZGVkKCkudGhlbihmdW5jdGlvbigpe1xuICB9KVxuXG4gICRzY29wZS5hbGxUYWdzID0gQWxsVGFnc1NlcnZpY2UoKTtcblxuICAkc2NvcGUubmV3QmxvZ1Bvc3QgPSBmdW5jdGlvbigpe1xuICAgICRzdGF0ZS5nbyhcImJsb2ctbmV3XCIpO1xuICB9XG5cbiAgICAkc2NvcGUuZWRpdFRhZyA9IGZ1bmN0aW9uKHRhZykge1xuICAgIC8vIGNvbnNvbGUubG9nKHdoaWNoUGFnZSk7XG4gICAgLy8gY29uc29sZS5sb2coaW5kZXgpO1xuICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2VkaXRUYWdzTW9kYWwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnRWRpdEJsb2dUYWdzQ3RybCcsXG4gICAgICBzaXplOiAnbGcnLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICBcIkJsb2dcIjogZnVuY3Rpb24oQmxvZ1Bvc3RzKXtcbiAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgICAgfSwgICBcbiAgICAgICAgdGFnOiB0YWdcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICBjb25zb2xlLmxvZyhcInN1Ym1pdHRlZCBtb2RhbFwiKTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuICAgIH0pO1xuICB9OyBcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG5cbi5jb250cm9sbGVyKCdlZGl0TW9kYWxDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIGVkaXRTaG93LCBpbmRleCwgJGZpcmViYXNlQXJyYXkpIHtcbiAgJHNjb3BlLnNob3dzID0gZWRpdFNob3c7XG4gICRzY29wZS5zaG93ID0gZWRpdFNob3dbaW5kZXhdO1xuXG4gIGNvbnNvbGUubG9nKFwiaW5kZXggaXMgXCIsaW5kZXgpO1xuICAkc2NvcGUuZGF0ZU9iaiA9IG5ldyBEYXRlKCRzY29wZS5zaG93LnVuaXggKiAxMDAwKTtcbiAgY29uc29sZS5sb2coJHNjb3BlLmRhdGVPYmopO1xuXG5cblxuICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHNjb3BlLnNob3cuZGF0ZSA9IG1vbWVudCgkc2NvcGUuZGF0ZU9iaikuZm9ybWF0KCdkZGQsIE1NTU0gRG8nKTtcbiAgICAkc2NvcGUuc2hvdy51bml4ID0gJHNjb3BlLmRhdGVPYmouZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAkc2NvcGUuc2hvd3MuJHNhdmUoJHNjb3BlLnNob3cpLnRoZW4oZnVuY3Rpb24ocmVmKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIik7XG4gICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6XCIsIGVycm9yKTtcbiAgICB9KTtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH07XG5cbiAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLnNob3dzLiRyZW1vdmUoJHNjb3BlLnNob3cpLnRoZW4oZnVuY3Rpb24ocmVmKXtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bCBkZWxldGU6IFwiLHJlZik7XG4gICAgfSwgZnVuY3Rpb24oZXJyb3Ipe1xuICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIsZXJyb3IpXG4gICAgfSk7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG59KVxuXG5cbi5jb250cm9sbGVyKCduZXdNb2RhbEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgJGZpcmViYXNlQXJyYXkpIHtcblxuICAkc2NvcGUuc2hvdyA9IHt9O1xuICB2YXIgc2hvd3NSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignc2hvd3MnKTtcbiAgJHNjb3BlLnNob3dzQXJyYXkgPSAkZmlyZWJhc2VBcnJheShzaG93c1JlZik7XG5cbiAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGlzRGF0ZSA9IG1vbWVudCgkc2NvcGUuc2hvdy5zaG93RGF0ZSkuZm9ybWF0KCdkZCwgTU1NTSBEbycpO1xuICAgIHZhciB0aGlzVW5peCA9ICRzY29wZS5zaG93LnNob3dEYXRlLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgY29uc29sZS5sb2codGhpc0RhdGUpO1xuICAgIHZhciBvYmplY3QgPSB7XG4gICAgICBcImRhdGVcIjogdGhpc0RhdGUsXG4gICAgICBcInVuaXhcIjogdGhpc1VuaXgsXG4gICAgICBcImxvY2F0aW9uXCI6ICRzY29wZS5zaG93LnNob3dMb2NhdGlvbixcbiAgICAgIFwidmVudWVcIjogJHNjb3BlLnNob3cudmVudWUsXG4gICAgICBcInZlbnVlTGlua1wiOiAkc2NvcGUuc2hvdy52ZW51ZUxpbmsgfHwgXCJcIixcbiAgICAgIFwidGlja2V0TGlua1wiOiAkc2NvcGUuc2hvdy50aWNrZXRMaW5rIHx8IFwiXCJcbiAgICB9XG4gICAgY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAkc2NvcGUuc2hvd3NBcnJheS4kYWRkKG9iamVjdCk7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9O1xufSlcblxuXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG5cbi5jb250cm9sbGVyKCdOYXZDdHJsJywgWyckc2NvcGUnLCckdGltZW91dCcsJyRsb2cnLCckdWliTW9kYWwnLCckaHR0cCcsJ0F1dGgnLCckc3RhdGUnLCckc2Vzc2lvblN0b3JhZ2UnLCckbG9jYXRpb24nLCckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwkbG9nLCAkdWliTW9kYWwsICRodHRwLCBBdXRoLCAkc3RhdGUsICRzZXNzaW9uU3RvcmFnZSwkbG9jYXRpb24sICR3aW5kb3cpe1xuICAvLyAkc2NvcGUuc2Vzc2lvblN0b3JhZ2UgPSAkc2Vzc2lvblN0b3JhZ2U7XG4gIC8vIGlmICghJHNjb3BlLnNlc3Npb25TdG9yYWdlLmhhc2gpe1xuICAvLyAgICRzY29wZS5zZXNzaW9uU3RvcmFnZS5oYXNoID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgY29uc29sZS5sb2coXCJhbHJlYWR5IGEgc2Vzc2lvbiBoYXNoXCIpO1xuICAvLyB9XG4gIC8vIGNvbnNvbGUubG9nKFwiV2hhdCBpcyBzZXNzaW9uIHN0b3JhZ2U/IFwiLCRzY29wZS5zZXNzaW9uU3RvcmFnZSk7XG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuICB9KTtcblxuXG5cbiAgJHNjb3BlLnVzZXIgPSB7fTtcbiAgJHNjb3BlLm1haWxDb25maXJtID0gZmFsc2U7XG4gIHZhciB3ID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XG4gIHZhciBoID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICRzY29wZS5oZWlnaHQgPSBoO1xuXG4gIHZhciBtb2JpbGVCRyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9iaWxlLWJhY2tncm91bmQtZGl2XCIpO1xuICBpZiAodyA8IDkwMCl7XG4gIG1vYmlsZUJHLnN0eWxlLmhlaWdodCA9IGggKyBcInB4XCI7XG4gIH0gZWxzZSB7XG4gIG1vYmlsZUJHLnN0eWxlLmhlaWdodCA9IDAgKyBcInB4XCI7IFxuICB9XG4gIC8vIGNvbnNvbGUubG9nKFwiaW5uZXIgd2lkdGg6IFwiLHdpZHRoKTtcbiAgaWYgKCEkc2NvcGUubG9hZGVkICYmIHcgPiA4MDYpeyBcbiAgICAkc2NvcGUubW9iaWxlV2lkdGggPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICAgJHNjb3BlLm1vYmlsZVdpZHRoID0gdHJ1ZTtcbiAgfSBcblxuXG5cblxuICBcblxuICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgIC8vIE9WRVJMQVkgQ1JFQVRJT05cbiAgIFxuICAgICAgaWYgKHcgPj0gNjc4KXtcbiAgICAgIGlmICgkc2NvcGUuZmlyZWJhc2VVc2VyID09PSBudWxsICYmICRsb2NhdGlvbi4kJHBhdGggIT09IFwiL2xvZ2luXCIpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImVudGVyaW5nIHBvcHVwXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJsYXlNYWlsXCIpKXtcbiAgICAgICAgICBcbiAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBkaXYuaWQgPSBcIm92ZXJsYXlNYWlsXCI7XG4gICAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFwib3ZlcmxheS1zdGFydFwiO1xuICAgICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICB2YXIgcG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcC11cFwiKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhib2R5LnNjcm9sbEhlaWdodCk7XG4gICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGJvZHkuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgIHBvcFVwLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlNYWlsXCIpO1xuICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2YXIgc2Nyb2xsVG9wID0gJHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgLy8gdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXktY29udGVudFwiKTtcbiAgICAgICAgLy8gY29udGVudC5zdHlsZS50b3AgPSBzY3JvbGxUb3AgKyBcInB4XCI7XG4gICAgICAgICRzY29wZS5pc1BvcHVwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LDYwMDApXG4gICAgXG5cbiAgJHNjb3BlLmNsb3NlUG9wdXAgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5pc1BvcHVwID0gZmFsc2U7XG4gIH1cbiAgICBcbiAgIFxuICBcbiAgJHNjb3BlLnRvU3RvcmUgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5pc1BvcHVwID0gZmFsc2U7XG4gICAgJHN0YXRlLmdvKFwic3RvcmVcIik7XG4gIH1cblxuXG5cblxuICAkc2NvcGUudG9nZ2xlID0gdHJ1ZTtcbiAgdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgaWYgKHdpZHRoID4gODA2KXtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gICAgfSwgMTAwKTtcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gIH1cbn1dKVxuXG4uY29udHJvbGxlcignRm9vdGVyQ3RybCcsIFsnJHNjb3BlJywnJHRpbWVvdXQnLCckbG9nJywnJHVpYk1vZGFsJywnJGh0dHAnLCdBdXRoJywnJHN0YXRlJywnJHNlc3Npb25TdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwkbG9nLCAkdWliTW9kYWwsICRodHRwLCBBdXRoLCAkc3RhdGUsICRzZXNzaW9uU3RvcmFnZSl7XG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuICB9KTtcbiAgXG4gICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2xpY2tlZCBsb2cgb3V0XCIpO1xuICAgIEF1dGguJHNpZ25PdXQoKTtcbiAgfTtcblxuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpe1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2xpY2tlZCBsb2cgaW5cIik7XG4gICAgJHN0YXRlLmdvKCdsb2dpbicpOyAgXG4gIH1cblxuXG5cblxuICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgaWYgKHdpZHRoID4gODA2KXtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gICAgfSwgMTAwKTtcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gIH1cbn1dKVxuXG5cblxuXG5cbi5jb250cm9sbGVyKCdNYWlsTW9kYWxDdHJsJywgWyckc2NvcGUnLCckdGltZW91dCcsJyR1aWJNb2RhbCcsJyR1aWJNb2RhbEluc3RhbmNlJywnJGh0dHAnLCdBdXRoJywnJHN0YXRlJywnJHNlc3Npb25TdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwkdWliTW9kYWwsJHVpYk1vZGFsSW5zdGFuY2UsICRodHRwLCBBdXRoLCAkc3RhdGUsICRzZXNzaW9uU3RvcmFnZSl7XG4gICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY29uc29sZS5sb2coJHVpYk1vZGFsSW5zdGFuY2UpXG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH1cblxuXG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuLmNvbnRyb2xsZXIoJ1Nob3dzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJ2N1cnJlbnRBdXRoJywnJHVpYk1vZGFsJywnJGxvZycsJyRmaXJlYmFzZUFycmF5JywnbW9tZW50JywnQXV0aCcsJ2dldFNob3dzJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGN1cnJlbnRBdXRoLCAkdWliTW9kYWwsJGxvZywgJGZpcmViYXNlQXJyYXksIG1vbWVudCwgQXV0aCwgZ2V0U2hvd3Mpe1xudmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG4gIG1haW4uc3R5bGUud2lkdGggPSAnJztcbiAgbWFpbi5zdHlsZS5wYWRkaW5nID0gJyc7XG4kc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkc2NvcGUuc2hvd3MgPSBnZXRTaG93cztcblxuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcbiAgICAvLyBjb25zb2xlLmxvZyhcImZpcmViYXNlIHVzZXIgaXMgXCIsJHNjb3BlLmZpcmViYXNlVXNlcik7XG4gIH0pO1xuXG5cbiAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbih3aGljaFBhZ2UsIGluZGV4KSB7XG4gICAgLy8gY29uc29sZS5sb2cod2hpY2hQYWdlKTtcbiAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3Nob3dzLycrd2hpY2hQYWdlKydTaG93TW9kYWwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiB3aGljaFBhZ2UrJ01vZGFsQ3RybCcsXG4gICAgICBzaXplOiAnbGcnLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICBlZGl0U2hvdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkc2NvcGUuc2hvd3M7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBzZWxlY3RlZEl0ZW07XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcbiAgICB9KTtcbiAgfTsgXG5cbn1dKSAiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuXG4uY29udHJvbGxlcignU3RvcmVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc2Vzc2lvblN0b3JhZ2UsIGFsbFByb2R1Y3RzLCBQcm9kdWN0c1NlcnZpY2Upe1xuICAgIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICAgIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG4gICAgbWFpbi5zdHlsZS53aWR0aCA9ICcnO1xuICAgIG1haW4uc3R5bGUucGFkZGluZyA9ICcnO1xuICAgICRzY29wZS5sb2FkZWQgPSBmYWxzZTtcbiAgICAkc2NvcGUucHJvZHVjdHMgPSBhbGxQcm9kdWN0cztcbiAgICBjb25zb2xlLmxvZyhhbGxQcm9kdWN0cyk7XG4gICAgXG4vLyAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Byb2R1Y3RzJykuc2V0KHtcbi8vICAgXCJwcm9kXzAwMDFcIjoge1xuLy8gICAgIFwiYWN0aXZlXCI6IHRydWUsXG4vLyAgICAgXCJpbWFnZXNcIjogW1xuLy8gICAgICAgXCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MC9iL3Npc3RlcnMtc2l0ZS5hcHBzcG90LmNvbS9vL3Byb2R1Y3QtaW1hZ2VzJTJGc2lzdGVyc19kcmlua19jaGFtcGFnbmVfdGl0bGVfc3EuanBnP2FsdD1tZWRpYSZ0b2tlbj0zZTM5ZWY4Zi04MDYyLTQ5MjktODU4OS1lYWVhYzQzZTUwMjVcIlxuLy8gICAgIF0sXG4vLyAgICAgXCJwcmljZVwiOiAxMTk5LFxuLy8gICAgIFwidGl0bGVcIjogXCJEcmluayBDaGFtcGFnbmUgLSAxOTk3IEVkaXRpb24gQ29tcGFjdCBEaXNjXCIsXG4vLyAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlJlbWVtYmVyIFRvd2VyIFJlY29yZHM/IEdldCB5b3VyIG5vc3RhbGdpYSBvbiB3aXRoIFNJU1RFUlMnIGRlYnV0IGFsYnVtLCBEcmluayBDaGFtcGFnbmUsIG9uIGNvbXBhY3QgZGlzYy4gUGFja2FnZWQgaW4gYSA0IHBhbmVsIGNhcmRib2FyZCB3YWxsZXQgZmVhdHVyaW5nIGFydHdvcmsgYnkgVG9tIERlc0xvbmdjaGFtcC5cIixcbi8vICAgICBcInByb2R1Y3RfdHlwZVwiOiBcInNoaXBwYWJsZVwiLFxuLy8gICAgIFwic2hpcF9kZXRhaWxzXCI6IG51bGwsXG4vLyAgICAgXCJza3VzXCI6IG51bGxcbi8vICAgfSxcbi8vICAgXCJwcm9kXzAwMDJcIjoge1xuLy8gICAgIFwiYWN0aXZlXCI6IHRydWUsXG4vLyAgICAgXCJpbWFnZXNcIjogW1xuLy8gICAgICAgXCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MC9iL3Npc3RlcnMtc2l0ZS5hcHBzcG90LmNvbS9vL3Byb2R1Y3QtaW1hZ2VzJTJGc2lzdGVyc19kcmlua19jaGFtcGFnbmVfdGl0bGVfc3EuanBnP2FsdD1tZWRpYSZ0b2tlbj0zZTM5ZWY4Zi04MDYyLTQ5MjktODU4OS1lYWVhYzQzZTUwMjVcIlxuLy8gICAgIF0sXG4vLyAgICAgXCJwcmljZVwiOiAxMTk5LFxuLy8gICAgIFwidGl0bGVcIjogXCJEcmluayBDaGFtcGFnbmUgLSBEaWdpdGFsIERvd25sb2FkXCIsXG4vLyAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkRpZ2l0YWwgZG93bmxvYWQgc3R1ZmYuXCIsXG4vLyAgICAgXCJwcm9kdWN0X3R5cGVcIjogXCJkaWdpdGFsXCIsXG4vLyAgICAgXCJzaGlwX2RldGFpbHNcIjoge1xuLy8gICAgICAgXCJoZWlnaHRcIjogMSxcbi8vICAgICAgIFwibGVuZ3RoXCI6IDYsXG4vLyAgICAgICBcIndpZHRoXCI6IDYsXG4vLyAgICAgICBcIndlaWdodFwiOiA2XG4vLyAgICAgICB9LFxuLy8gICAgIFwic2t1c1wiOiBudWxsXG4vLyAgIH1cbi8vIH0pO1xuXG5cbiAgICBcbiAgICAkc2NvcGUuc2hvd1Byb2R1Y3QgPSBmdW5jdGlvbihpZCl7XG4gICAgICAkc3RhdGUuZ28oJ3N0b3JlU2hvdycsIHtpZDppZH0pO1xuICAgIH1cblxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyBcbiAgICB9KVxuIFxufSlcblxuLmNvbnRyb2xsZXIoJ1N0b3JlQ2FydEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuXG4gICRzY29wZS50b0NoZWNrb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUvY2hlY2tvdXQvYWRkcmVzcycpO1xuICB9XG5cbiAgJHNjb3BlLmNvbnRpbnVlID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUnKTtcbiAgfVxufSlcblxuXG5cbi5jb250cm9sbGVyKCdTdG9yZVNob3dDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSwgb25lUHJvZHVjdCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuJHNjb3BlLnByb2R1Y3QgPSBvbmVQcm9kdWN0O1xuJHNjb3BlLmltYWdlcyA9IG9uZVByb2R1Y3QuaW1hZ2VzO1xudmFyIGN1cnJlbnRBY3RpdmVTcmMgPSAkc2NvcGUuaW1hZ2VzWzBdO1xuXG4kc2NvcGUuc2t1cyA9ICRzY29wZS5wcm9kdWN0LnNrdXMuZGF0YTtcblxuJHNjb3BlLmRhdGEgPSB7fTtcbiRzY29wZS5kYXRhLnNlbGVjdGVkID0gJHNjb3BlLnByb2R1Y3Quc2t1cy5kYXRhWzBdO1xuXG5cbnZhciBtYWluSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2R1Y3QtcGhvdG8gaW1nXCIpO1xubWFpbkltZy5zcmMgPSAkc2NvcGUuaW1hZ2VzWzBdO1xuXG5cbiRzY29wZS5pc0FjdGl2ZUltZyA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLmltZyA9PT0gY3VycmVudEFjdGl2ZVNyYyl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuXG4kc2NvcGUuY2hhbmdlQWN0aXZlID0gZnVuY3Rpb24oKXtcbiAgY3VycmVudEFjdGl2ZVNyYyA9IHRoaXMuaW1nO1xuICBtYWluSW1nLnNyYyA9IHRoaXMuaW1nO1xufVxuXG5cblxuXG5cblxuXG59KVxuXG5cblxuXG5cblxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0VGVtcGxhdGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkbG9jYWxTdG9yYWdlKXtcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgJHNjb3BlLiRzdG9yYWdlID0gJGxvY2FsU3RvcmFnZTtcblxuICAkc2NvcGUuJG9uKCdjYXJ0Q2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHsgXG4gICAgJHNjb3BlLnNob3dQYXRoID0gZGF0YTsgXG4gIH0pO1xuICBpZiAoISRzY29wZS5zaG93UGF0aCl7XG4gICAgJHNjb3BlLnNob3dQYXRoID0gJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudDtcbiAgfVxuXG5cbn0pXG5cblxuXG5cblxuXG4uY29udHJvbGxlcignU3RvcmVBZGRyZXNzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkd2luZG93LCAkdGltZW91dCwgJGh0dHAsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlLCBDdXJyZW50T3JkZXJTZXJ2aWNlKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjQ3LCAyMzcsIDI0NSwgMCknO1xuXG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICRzY29wZS5jYXJ0SXRlbXMgPSBuZ0NhcnQuZ2V0SXRlbXMoKTtcbiAgJHJvb3RTY29wZS5wYXRoID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgaWYgKCEkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50IHx8ICRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQgPCAxKXtcbiAgICAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50ID0gMDtcbiAgICAkc2NvcGUuJGVtaXQoJ2NhcnRDaGFuZ2UnLCAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgXG4gIH0gXG4gIFxuICAkc2NvcGUubG9hZGVkID0gW107XG5cblxuICAkc2NvcGUuZGF0YSA9IHtcbiAgICBcInNoaXBwaW5nXCI6IHtcbiAgICAgIFwiY291bnRyeVwiOiB7fVxuICAgIH0sXG4gICAgXCJiaWxsaW5nXCI6IHtcbiAgICAgIFwiY291bnRyeVwiOiB7fVxuICAgIH1cbiAgfTtcbiAgJHNjb3BlLm1haWxpbmdMaXN0QWRkID0gdHJ1ZTtcbiAgJHNjb3BlLnNoaXBwaW5nU2FtZUJvb2wgPSBmYWxzZTtcblxuXG4gIC8vIFJFUVVFU1RTIEZPUiBKU09OIERBVEEgRk9SIE5HLU9QVElPTlNcblxuICAkaHR0cC5nZXQoJy9qcy9KU09OL2NvdW50cmllcy5qc29uJykuc3VjY2VzcyAoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICRzY29wZS5jb3VudHJpZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGF0YS5zaGlwcGluZy5jb3VudHJ5ID0gJHNjb3BlLmNvdW50cmllc1swXTtcbiAgICAgICAgJHNjb3BlLmRhdGEuYmlsbGluZy5jb3VudHJ5ID0gJHNjb3BlLmNvdW50cmllc1swXTtcbiAgICAgICAgJHNjb3BlLmxvYWRlZC5wdXNoKFwiZ29cIik7XG4gIH0pO1xuXG4gICRodHRwLmdldCgnL2pzL0pTT04vc3RhdGVzLmpzb24nKS5zdWNjZXNzIChmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgJHNjb3BlLnN0YXRlcyA9IGRhdGE7XG4gICAgICAgICRzY29wZS5sb2FkZWQucHVzaChcImdvXCIpO1xuICB9KTtcblxuICAkaHR0cC5nZXQoJy9qcy9KU09OL3Byb3ZpbmNlcy5qc29uJykuc3VjY2VzcyAoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICRzY29wZS5wcm92aW5jZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUubG9hZGVkLnB1c2goXCJnb1wiKTtcbiAgfSk7XG5cblxuXG4gICRzY29wZS5pc1NoaXBwaW5nU2FtZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCRzY29wZS5kYXRhLnNoaXBwaW5nU2FtZSl7XG4gICAgICAkc2NvcGUuZGF0YS5iaWxsaW5nID0gJHNjb3BlLmRhdGEuc2hpcHBpbmc7XG4gICAgICAkc2NvcGUuc2hpcHBpbmdTYW1lQm9vbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5kYXRhLmJpbGxpbmcgPSB7fTtcbiAgICAgICRzY29wZS5zaGlwcGluZ1NhbWVCb29sID0gZmFsc2U7XG4gICAgfVxuICB9XG5cblxuICAkc2NvcGUuY291bnRyeUNoYW5nZSA9IGZ1bmN0aW9uKGNvdW50cnkpe1xuICAgIGlmIChjb3VudHJ5LmNvZGUgPT09ICdVUycpe1xuICAgICAgJHNjb3BlLnNoaXBwaW5nVHlwZSA9ICRzY29wZS5zaGlwUmF0ZXMuZG9tZXN0aWM7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5zaGlwcGluZ1R5cGUgPSAkc2NvcGUuc2hpcFJhdGVzLmludGVybmF0aW9uYWw7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtKXtcbiAgICAgaWYoZm9ybS4kdmFsaWQpe1xuICAgICAgXG4gICAgJHNjb3BlLmxvYWRlZCA9IFtdO1xuICAgIHZhciBzaGlwID0gJHNjb3BlLmRhdGEuc2hpcHBpbmc7XG4gICAgdmFyIGJpbGwgPSAkc2NvcGUuZGF0YS5iaWxsaW5nOyBcbiAgICAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3MgPSAkc2NvcGUuZGF0YS5iaWxsaW5nO1xuICAgIHZhciByZXEgPSB7XG4gICAgICB1cmw6ICcvc3RyaXBlL2NyZWF0ZU9yZGVyJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgIGl0ZW1zOiAkc2NvcGUuY2FydEl0ZW1zLFxuICAgICAgICAgIHNoaXBwaW5nOiB7XG4gICAgICAgICAgICBuYW1lOiBzaGlwLm5hbWUsXG4gICAgICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICAgIGxpbmUxOiBzaGlwLmFkZHJlc3MxLFxuICAgICAgICAgICAgICBsaW5lMjogc2hpcC5hZGRyZXNzMiB8fCBudWxsLFxuICAgICAgICAgICAgICBjaXR5OiBzaGlwLmNpdHksXG4gICAgICAgICAgICAgIHN0YXRlOiBzaGlwLnN0YXRlUHJvdmluY2Uuc2hvcnQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgY291bnRyeTogc2hpcC5jb3VudHJ5LmNvZGUsXG4gICAgICAgICAgICAgIHBvc3RhbF9jb2RlOiBzaGlwLnBvc3RhbENvZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVtYWlsOiBzaGlwLmVtYWlsLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICB0YXhSYXRlOiBuZ0NhcnQuZ2V0VGF4UmF0ZSgpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBcbiAgICAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHtcblxuICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09ICdjcmVhdGVkJyl7XG4gICAgICAgICAgICAkc2NvcGUuJHN0b3JhZ2UubWFpbGluZ0xpc3QgPSAkc2NvcGUubWFpbGluZ0xpc3RBZGQ7XG4gICAgICAgICAgICBpZiAoISRzY29wZS4kc3RvcmFnZS5hZGRyZXNzU3VibWl0KXtcbiAgICAgICAgICAgICAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50Kys7XG4gICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdjYXJ0Q2hhbmdlJywgJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudCk7ICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5hZGRyZXNzU3VibWl0ID0gdHJ1ZTsgICAgICAgICAgICBcbiAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEgPSByZXM7XG4gICAgICAgICAgICAkc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUvY2hlY2tvdXQvcGF5bWVudCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLmxvYWRlZCA9IFsxLCAyLCAzXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICRzY29wZS5lcnJvck1lc3NhZ2UgPSByZXMuZGF0YS5tZXNzYWdlO1xuICAgICAgICAgIH0gXG4gICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKHJlcykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgXCIscmVzKTsgICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZm9ybSBpbnZhbGlkISFcIik7XG4gICAgICB9XG5cbiAgfVxuXG5cbiAgICAkc2NvcGUuZ2V0VGF4UmF0ZSA9IGZ1bmN0aW9uKGNvdW50cnksIHN0YXRlUHJvdmluY2UsIHBvc3RhbENvZGUpe1xuICAgIGlmIChjb3VudHJ5LmNvZGUgPT09ICdVUycgJiYgc3RhdGVQcm92aW5jZS5zaG9ydCA9PT0gJ1dBJyAmJiBwb3N0YWxDb2RlKXtcbiAgICAgIGlmICgkd2luZG93LmxvY2FsU3RvcmFnZS5jdXJyZW50V2FSYXRlKXtcbiAgICAgICAgdmFyIHBhcnNlZFRheCA9IHBhcnNlRmxvYXQoJHdpbmRvdy5sb2NhbFN0b3JhZ2UuY3VycmVudFdhUmF0ZSlcbiAgICAgICAgbmdDYXJ0LnNldFRheFJhdGUocGFyc2VkVGF4KTsgICAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVxID0ge1xuICAgICAgICAgIHVybDogJy90YXhSYXRlJyxcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgY291bnRyeTogJ3VzYScsXG4gICAgICAgICAgICBwb3N0YWw6IHBvc3RhbENvZGVcbiAgICAgICAgICB9XG4gICAgICAgIH0gXG5cbiAgICAgICAgJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7XG4gICAgICAgICAgbmdDYXJ0LnNldFRheFJhdGUocmVzLmRhdGEudG90YWxSYXRlKTsgXG4gICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuY3VycmVudFdhUmF0ZSA9IHJlcy5kYXRhLnRvdGFsUmF0ZTsgICBcbiAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciBcIixyZXMpOyAgICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb3VudHJ5LmNvZGUgPT09ICdVUycgJiYgc3RhdGVQcm92aW5jZS5zaG9ydCAhPT0gJ1dBJyl7XG4gICAgICBuZ0NhcnQuc2V0VGF4UmF0ZSgwKTtcbiAgICB9IGVsc2UgaWYgKGNvdW50cnkuY29kZSAhPT0gJ1VTJyl7XG4gICAgICBuZ0NhcnQuc2V0VGF4UmF0ZSgwKTtcbiAgICB9XG4gIH1cblxuXG5cblxuXG59KVxuXG5cblxuLmNvbnRyb2xsZXIoJ1N0b3JlUGF5bWVudEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRsb2NhbFN0b3JhZ2UsIG5nQ2FydCwgJHJvb3RTY29wZSwgY3VycmVudE9yZGVyKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjQ3LCAyMzcsIDI0NSwgMCknO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkcm9vdFNjb3BlLnBhdGggPSAkbG9jYXRpb24uJCRwYXRoO1xuICAkc2NvcGUuJHN0b3JhZ2UgPSAkbG9jYWxTdG9yYWdlO1xuICAkc2NvcGUucGF0aENvdW50ID0gcGFyc2VJbnQoJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudCk7IFxuICAkc2NvcGUuc2hpcE9wdGlvbnMgPSAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGEuc2hpcHBpbmdfbWV0aG9kcztcbiAgJHNjb3BlLnNhdmVkU2VsZWN0ZWRTaGlwID0gJHNjb3BlLiRzdG9yYWdlLm9yZGVyRGF0YS5kYXRhLnNlbGVjdGVkX3NoaXBwaW5nX21ldGhvZDtcblxuICBcblxuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuc2hpcE9wdGlvbnMubGVuZ3RoOyBpKyspe1xuICAgIGlmICgkc2NvcGUuc2hpcE9wdGlvbnNbaV0uaWQgPT09ICRzY29wZS5zYXZlZFNlbGVjdGVkU2hpcCl7XG4gICAgICAkc2NvcGUuc2VsZWN0ZWRTaGlwID0gJHNjb3BlLnNoaXBPcHRpb25zW2ldO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIFxuICAgJHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWRTaGlwJywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgc2NvcGUpIHtcbiAgICBuZ0NhcnQuc2V0U2hpcHBpbmcoJHNjb3BlLnNlbGVjdGVkU2hpcC5hbW91bnQpOyAgXG4gIH0sIGZhbHNlKTtcblxuICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7IFxuICB9KVxuXG4gIFxuICBcbiAgJHNjb3BlLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtKXtcbiAgICAvLyBpZihmb3JtLiR2YWxpZCl7XG4gICAgICAkc2NvcGUubG9hZGVkID0gZmFsc2U7IFxuICAgICAgU3RyaXBlLmNhcmQuY3JlYXRlVG9rZW4oe1xuICAgICAgICBudW1iZXI6ICRzY29wZS5udW1iZXIsXG4gICAgICAgIGN2YzogJHNjb3BlLmN2YyxcbiAgICAgICAgZXhwOiAkc2NvcGUuZXhwaXJ5LFxuICAgICAgICBuYW1lOiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3MubmFtZSxcbiAgICAgICAgYWRkcmVzc19saW5lMTogJHNjb3BlLiRzdG9yYWdlLmJpbGxpbmdBZGRyZXNzLmFkZHJlc3MxLFxuICAgICAgICBhZGRyZXNzX2xpbmUyOiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3MuYWRkcmVzczIgfHwgbnVsbCxcbiAgICAgICAgYWRkcmVzc19jaXR5OiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3MuY2l0eSxcbiAgICAgICAgYWRkcmVzc19zdGF0ZTogJHNjb3BlLiRzdG9yYWdlLmJpbGxpbmdBZGRyZXNzLnN0YXRlUHJvdmluY2Uuc2hvcnQgfHwgbnVsbCxcbiAgICAgICAgYWRkcmVzc196aXA6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICBhZGRyZXNzX2NvdW50cnk6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5jb3VudHJ5LmNvZGVcbiAgICAgIH0sIGhhbmRsZVN0cmlwZSk7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZm9ybSBpbnZhbGlkISFcIik7XG4gICAgLy8gfVxuICB9XG5cbiAgdmFyIGhhbmRsZVN0cmlwZSA9IGZ1bmN0aW9uKHN0YXR1cywgcmVzcG9uc2Upe1xuICAgIGlmKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgLy8gdGhlcmUgd2FzIGFuIGVycm9yLiBGaXggaXQuXG4gIH0gZWxzZSB7XG4gICAgdG9rZW4gPSByZXNwb25zZTtcbiAgICB2YXIgcmVxID0ge1xuICAgICAgdXJsOiAnL3N0cmlwZS91cGRhdGVTaGlwcGluZycsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgIG9yZGVySWQ6ICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEuZGF0YS5pZCxcbiAgICAgICAgc2VsZWN0ZWRTaGlwOiAkc2NvcGUuc2VsZWN0ZWRTaGlwLmlkXG4gICAgICB9XG4gICAgfVxuXG4gICAgJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7XG4gICAgICAgICAgIGlmICghJHNjb3BlLiRzdG9yYWdlLnBheW1lbnRTdWJtaXQpe1xuICAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQrKztcbiAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2NhcnRDaGFuZ2UnLCAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLnBheW1lbnRTdWJtaXQgPSB0cnVlOyAgXG4gICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLm9yZGVyRGF0YSA9IHJlcztcbiAgICAgICAgICAkc2NvcGUuJHN0b3JhZ2UudG9rZW5EYXRhID0gdG9rZW47XG4gICAgICAgICAgJGxvY2F0aW9uLnVybCgnL3N0b3JlL2NoZWNrb3V0L2NvbmZpcm0nKTsgICBcbiAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7IFxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgXCIscmVzKTsgICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuICB9XG4gIH1cblxuXG59KVxuXG5cbi5jb250cm9sbGVyKCdTdG9yZUNvbmZpcm1DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkbG9jYWxTdG9yYWdlLCBuZ0NhcnQsICRyb290U2NvcGUpe1xudmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjQ3LCAyMzcsIDI0NSwgMCknO1xuJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4kc2NvcGUucGF0aENvdW50ID0gcGFyc2VJbnQoJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudCk7IFxuJHNjb3BlLm9yZGVyQ29tcGxldGUgPSBmYWxzZTtcbiRyb290U2NvcGUucGF0aCA9ICRsb2NhdGlvbi4kJHBhdGg7XG4kc2NvcGUubmdDYXJ0ID0gbmdDYXJ0O1xuJHNjb3BlLnRva2VuID0gJHNjb3BlLiRzdG9yYWdlLnRva2VuRGF0YTtcbiRzY29wZS5vcmRlciA9ICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEuZGF0YTtcbnZhciBpdGVtcyA9ICRzY29wZS5vcmRlci5pdGVtcztcbmZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspe1xuICBpZiAoaXRlbXNbaV0udHlwZSA9PT0gJ3NoaXBwaW5nJyl7XG4gICAgJHNjb3BlLnNoaXBTZXJ2aWNlID0gaXRlbXNbaV0uZGVzY3JpcHRpb247XG4gIH1cbn1cbiR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICRzY29wZS5sb2FkZWQgPSB0cnVlO1xufSlcbiAgXG5cblxuJHNjb3BlLmNyZWF0ZUNoYXJnZSA9IGZ1bmN0aW9uKCl7XG4gICRzY29wZS5sb2FkZWQgPSBmYWxzZTsgXG4gIHZhciByZXEgPSB7XG4gICAgICAgIHVybDogJy9zdHJpcGUvb3JkZXJDb21wbGV0ZScsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBvcmRlcklkOiAkc2NvcGUub3JkZXIuaWQsXG4gICAgICAgICAgdG9rZW46ICRzY29wZS50b2tlbi5pZFxuICAgICAgICB9XG4gICAgICB9IFxuXG4gICAgICAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHtcbiAgICAgICAgJHNjb3BlLm9yZGVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICBpZiAoJHNjb3BlLiRzdG9yYWdlLm1haWxpbmdMaXN0KXtcbiAgICAgICAgICBtYWlsY2hpbXBTdWJtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBuZ0NhcnQuc2V0VGF4UmF0ZSgpO1xuICAgICAgICBuZ0NhcnQuc2V0U2hpcHBpbmcoKTsgICBcbiAgICAgICAgbmdDYXJ0LmVtcHR5KCk7XG4gICAgICAgICRsb2NhbFN0b3JhZ2UuJHJlc2V0KCk7XG4gICAgICB9LCBmdW5jdGlvbiBlcnJvcihyZXMpIHtcbiAgICAgICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7IFxuICAgIC8vZG8gc29tZXRoaW5nIGlmIHRoZSByZXNwb25zZSBoYXMgYW4gZXJyb3JcbiAgICBjb25zb2xlLmxvZyhcImVycm9yIFwiLHJlcyk7XG4gIH0pO1xufVxuXG5cblxuXG5cbnZhciBtYWlsY2hpbXBTdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgIHZhciB1cmwgPSBcIi8vc2lzdGVyc3RoZWJhbmQudXMxNC5saXN0LW1hbmFnZS5jb20vc3Vic2NyaWJlL3Bvc3QtanNvbj91PWJjMzg3MjBiMGJjYzdhMzI2NDFiYjU3MmMmYW1wO2lkPTI0MmY0YWRjODkmRU1BSUw9XCIrJHNjb3BlLiRzdG9yYWdlLm9yZGVyRGF0YS5kYXRhLmVtYWlsK1wiJmM9SlNPTl9DQUxMQkFDS1wiXG4gICAgJGh0dHAuanNvbnAodXJsKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKXtcbiAgICB9LCBmdW5jdGlvbiBlcnJvcihyZXMpe1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KTtcbn1cblxuXG5cblxuXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0RpcmVjdGl2ZXMnLCBbXSlcblxuXG5cblxuLmRpcmVjdGl2ZShcImZpbGVyZWFkXCIsIFtmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGZpbGVyZWFkOiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImNoYW5nZVwiLCBmdW5jdGlvbiAoY2hhbmdlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGxvYWRFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmlsZXJlYWQgPSBsb2FkRXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1dKVxuXG5cblxuLmRpcmVjdGl2ZShcImNvdW50cnlOYW1lXCIsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlOiBcIjxzcGFuPnt7bmFtZX19PC9zcGFuPlwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBjb3VudHJ5Q29kZTogXCI9XCJcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAkaHR0cC5nZXQoJy9qcy9KU09OL2NvdW50cmllcy5qc29uJykudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHZhciBjb3VudHJpZXMgPSBkYXRhLmRhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnRyaWVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGlmIChjb3VudHJpZXNbaV0uY29kZSA9PT0gc2NvcGUuY291bnRyeUNvZGUpe1xuICAgICAgICAgICAgICAgIHNjb3BlLm5hbWUgPSBjb3VudHJpZXNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIHNjb3BlLm5hbWUgPSBcInVua25vd25cIjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufV0pO1xuXG5cblxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc1NlcnZpY2VzJywgWyduZ1Jlc291cmNlJ10pXG5cblxuLmZhY3RvcnkoJ0xvYWRlZFNlcnZpY2UnLCBmdW5jdGlvbigpIHtcbiB2YXIgbG9hZGVkID0gZmFsc2U7XG4gZnVuY3Rpb24gc2V0KGRhdGEpIHtcbiAgIGxvYWRlZCA9IGRhdGE7XG4gfVxuIGZ1bmN0aW9uIGdldCgpIHtcbiAgcmV0dXJuIGxvYWRlZDtcbiB9XG5cbiByZXR1cm4ge1xuICBzZXQ6IHNldCxcbiAgZ2V0OiBnZXRcbiB9XG5cbn0pXG5cbi5mYWN0b3J5KFwiQXV0aFwiLCBbXCIkZmlyZWJhc2VBdXRoXCIsXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUF1dGgpIHtcbiAgICByZXR1cm4gJGZpcmViYXNlQXV0aCgpO1xuICB9XG5dKVxuXG4uZmFjdG9yeShcIkdldFNob3dzXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsXCJtb21lbnRcIiwgXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5LCBtb21lbnQpe1xuICAgIHZhciBjdXJyZW50RGF5ID0gbW9tZW50KCkudW5peCgpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY3VycmVudCBkYXk6IFwiLGN1cnJlbnREYXkpO1xuICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgIHZhciBzaG93c1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdzaG93cycpLm9yZGVyQnlDaGlsZChcInVuaXhcIikuc3RhcnRBdChjdXJyZW50RGF5KTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkknbSBpbiBHZXRTaG93c1wiKTtcbiAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoc2hvd3NSZWYpO1xuICB9XG59XSlcblxuXG4uZmFjdG9yeShcIlByb2R1Y3RzU2VydmljZVwiLCBbXCIkaHR0cFwiLFwiJHFcIixcIiRmaXJlYmFzZUFycmF5XCIsIGZ1bmN0aW9uKCRodHRwLCAkcSwgJGZpcmViYXNlQXJyYXkpe1xuICByZXR1cm4ge1xuICAgIGFsbFByb2R1Y3RzOiBmdW5jdGlvbigpe1xuICAgICAgdmFyIGFsbFByb2R1Y3RzUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Byb2R1Y3RzJyk7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoYWxsUHJvZHVjdHNSZWYpO1xuICAgIH0sXG4gICAgb25lUHJvZHVjdDogZnVuY3Rpb24ocHJvZHVjdElkKXtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwid2hhdCdzIGlkPyBcIixwcm9kdWN0SWQpO1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciByZXEgPSB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJy9zdHJpcGUvb25lUHJvZHVjdCcsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICRodHRwKHJlcSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJzdWNjZXNzISEhXCIpXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuICB9XG59XSlcblxuLnNlcnZpY2UoJ0luc3RhZ3JhbUZhY3RvcnknLCBbJyRodHRwJywgJyRxJywgXG4gIGZ1bmN0aW9uICgkaHR0cCwgJHEpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiAnL2luc3RhZ3JhbScsXG4gICAgICAgIGNhY2hlOiB0cnVlXG4gICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgIH0pLmVycm9yKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KG1zZyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XSlcblxuLnNlcnZpY2UoJ1R3aXR0ZXJGYWN0b3J5JywgWyckaHR0cCcsICckcScsIFxuICBmdW5jdGlvbiAoJGh0dHAsICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJy90d2l0dGVyJyxcbiAgICAgICAgY2FjaGU6IHRydWVcbiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgfSkuZXJyb3IoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QobXNnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1dKVxuXG5cbi5mYWN0b3J5KFwiRG93bmxvYWRLZXlTZXJ2aWNlXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGhhc2gpe1xuICAgICAgY29uc29sZS5sb2coXCJoYXNoIGlzIFwiK2hhc2gpO1xuICAgICAgLy8gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2Rvd25sb2FkS2V5cy8nICsgaGFzaCkuc2V0KFwidGVzdCB2YWx1ZVwiKTtcbiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdkb3dubG9hZEtleXMvJytoYXNoKS5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgdmFyIHNuYXAgPSBzbmFwc2hvdC52YWwoKTtcbiAgICAgICAgY29uc29sZS5sb2coc25hcCk7XG4gICAgICB9KTtcbiAgICAgXG4gICAgICAvLyBpZiAodGhpc0tleSAhPT0gbnVsbCl7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiS0VZIEVYSVNUUyEhISEhISFcIilcbiAgICAgIC8vICAgcmV0dXJuIHRydWU7XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBjb25zb2xlLmxvZyhcIktleSBkb2Vzbid0IGV4aXN0LlwiKVxuICAgICAgLy8gICByZXR1cm4gZmFsc2U7XG4gICAgICAvLyB9XG4gICAgfVxuICB9XG4pXG5cblxuXG5cbi5mYWN0b3J5KFwiR2V0U2hvd3NcIiwgW1wiJGZpcmViYXNlQXJyYXlcIixcIm1vbWVudFwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXksIG1vbWVudCl7XG4gICAgdmFyIGN1cnJlbnREYXkgPSBtb21lbnQoKS51bml4KCk7XG4gICAgLy8gY29uc29sZS5sb2coXCJjdXJyZW50IGRheTogXCIsY3VycmVudERheSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNob3dzUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Nob3dzJykub3JkZXJCeUNoaWxkKFwidW5peFwiKS5zdGFydEF0KGN1cnJlbnREYXkpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiSSdtIGluIEdldFNob3dzXCIpO1xuICAgIHJldHVybiAkZmlyZWJhc2VBcnJheShzaG93c1JlZik7XG4gIH1cbn1dKVxuXG5cblxuXG5cbi5mYWN0b3J5KFwiQmxvZ1Bvc3RzXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsIFxuICBmdW5jdGlvbigkZmlyZWJhc2VBcnJheSkge1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICB2YXIgYmxvZ1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdibG9nX3Bvc3RzJykub3JkZXJCeUNoaWxkKFwidGltZXN0YW1wXCIpO1xuICAgIHJldHVybiAkZmlyZWJhc2VBcnJheShibG9nUmVmKTtcbiAgfVxufV0pXG5cblxuLmZhY3RvcnkoXCJUaGlzUG9zdFNlcnZpY2VcIiwgW1wiJGZpcmViYXNlQXJyYXlcIixcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXkpe1xuICAgIHJldHVybiBmdW5jdGlvbihzbHVnKXtcbiAgICAgIHZhciBwb3N0UmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2Jsb2dfcG9zdHMnKTtcbiAgICAgIHZhciB0aGlzUG9zdFJlZiA9IHBvc3RSZWYub3JkZXJCeUNoaWxkKCdzbHVnJykuZXF1YWxUbyhzbHVnKTtcbiAgICAgIHJldHVybiAkZmlyZWJhc2VBcnJheSh0aGlzUG9zdFJlZik7XG4gICAgfVxuICB9XG4gIF0pXG5cbi5mYWN0b3J5KFwiQWxsVGFnc1NlcnZpY2VcIiwgW1wiJGZpcmViYXNlQXJyYXlcIiwgXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5KSB7XG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgdmFyIHRhZ1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0YWdzJyk7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkodGFnUmVmKTtcbiAgfVxufV0pXG5cbi5mYWN0b3J5KFwiVGFnc1Nob3dTZXJ2aWNlXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsIFxuICBmdW5jdGlvbigkZmlyZWJhc2VPYmplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRhZ05hbWUpe1xuICAgICAgdmFyIHRhZ1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0YWdzJyk7XG4gICAgICB2YXIgdGFnU2hvd1JlZiA9IHRhZ1JlZi5vcmRlckJ5Q2hpbGQoJ25hbWUnKS5lcXVhbFRvKHRhZ05hbWUpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZU9iamVjdCh0YWdTaG93UmVmKTtcbiAgfVxufV0pXG5cblxuLmZhY3RvcnkoXCJBcmNoaXZlU2VydmljZVwiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXkpe1xuICAgIHJldHVybiB7XG4gICAgICB5ZWFyczogZnVuY3Rpb24oKXtcbiAgICAgIHZhciB5ZWFyUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzJyk7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoeWVhclJlZilcbiAgICAgIH0sXG4gICAgICBtb250aHM6IGZ1bmN0aW9uKHllYXIpe1xuICAgICAgdmFyIG1vbnRoUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycreWVhcik7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkobW9udGhSZWYpXG4gICAgICB9XG4gICAgfVxufV0pXG5cbi5mYWN0b3J5KFwiQXJjaGl2ZVNob3dTZXJ2aWNlXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsIFxuICBmdW5jdGlvbigkZmlyZWJhc2VBcnJheSkge1xuICByZXR1cm4gZnVuY3Rpb24oeWVhciwgbW9udGgpe1xuICAgICAgdmFyIGFyY2hpdmVSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYXJjaGl2ZXMvJyArIHllYXIgKyAnLycgKyBtb250aCk7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoYXJjaGl2ZVJlZik7XG4gIH1cbn1dKVxuXG4uZmFjdG9yeSgnU2VuZERhdGFTZXJ2aWNlJywgZnVuY3Rpb24oKSB7XG4gdmFyIHNhdmVkRGF0YSA9IHt9XG4gZnVuY3Rpb24gc2V0KGRhdGEpIHtcbiAgIHNhdmVkRGF0YSA9IGRhdGE7XG4gfVxuIGZ1bmN0aW9uIGdldCgpIHtcbiAgcmV0dXJuIHNhdmVkRGF0YTtcbiB9XG5cbiByZXR1cm4ge1xuICBzZXQ6IHNldCxcbiAgZ2V0OiBnZXRcbiB9XG5cbn0pXG5cbi5mYWN0b3J5KCdDdXJyZW50T3JkZXJTZXJ2aWNlJywgZnVuY3Rpb24oJHdpbmRvdykge1xuIGZ1bmN0aW9uIHNldChkYXRhKSB7XG4gICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCAnb3JkZXJEYXRhJywgYW5ndWxhci50b0pzb24oZGF0YSkgKTtcbiAgLy8gIGNvbnNvbGUubG9nKFwib3JkZXIgc2F2ZWQhXCIpO1xuIH1cbiBmdW5jdGlvbiBnZXQoKSB7XG4gIHZhciBvcmRlciA9IGFuZ3VsYXIuZnJvbUpzb24oICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZGVyRGF0YScpICkgO1xuICAgIHJldHVybiBKU09OLnBhcnNlKG9yZGVyKTtcbiB9XG5cbiByZXR1cm4ge1xuICBzZXQ6IHNldCxcbiAgZ2V0OiBnZXRcbiB9XG59KVxuXG5cblxuXG4uZmFjdG9yeSgnSGVscGVyU2VydmljZScsIFtcIm1vbWVudFwiLFwiJHFcIiwgZnVuY3Rpb24obW9tZW50LCAkcSkge1xuICByZXR1cm4ge1xuICAgIHBhcnNlWW91VHViZTogZnVuY3Rpb24odXJsKXtcbiAgICAgIHZhciB2aWRlb2lkID0gdXJsLm1hdGNoKC8oPzpodHRwcz86XFwvezJ9KT8oPzp3ezN9XFwuKT95b3V0dSg/OmJlKT9cXC4oPzpjb218YmUpKD86XFwvd2F0Y2hcXD92PXxcXC8pKFteXFxzJl0rKS8pO1xuICAgICAgICBpZih2aWRlb2lkICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdmlkZW9pZFsxXTtcbiAgICAgICAgfSBlbHNlIHsgXG4gICAgICAgICAgY29uc29sZS5sb2coXCJUaGUgeW91dHViZSB1cmwgaXMgbm90IHZhbGlkLlwiKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYmFzZTY0TWltZVR5cGU6IGZ1bmN0aW9uKGVuY29kZWQpe1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBpZiAodHlwZW9mIGVuY29kZWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgbWltZSA9IGVuY29kZWQubWF0Y2goL2RhdGE6KFthLXpBLVowLTldK1xcL1thLXpBLVowLTktLitdKykuKiwuKi8pO1xuICAgICAgaWYgKG1pbWUgJiYgbWltZS5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gbWltZVsxXTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKFwiaW1hZ2UgdHlwZSBpcyBcIixyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIGdldEJhc2U2NEltYWdlOiBmdW5jdGlvbihkYXRhVVJMKSB7XG4gICAgICB2YXIgYmFzZTY0ID0gZGF0YVVSTC5yZXBsYWNlKC9eZGF0YTppbWFnZVxcLyhwbmd8anBlZyk7YmFzZTY0LC8sIFwiXCIpO1xuICAgICAgcmV0dXJuIGJhc2U2NDtcbiAgICB9LFxuICAgIGI2NHRvQmxvYjogZnVuY3Rpb24oYjY0RGF0YSwgY29udGVudFR5cGUsIHNsaWNlU2l6ZSkge1xuICAgICAgY29udGVudFR5cGUgPSBjb250ZW50VHlwZSB8fCAnJztcbiAgICAgIHNsaWNlU2l6ZSA9IHNsaWNlU2l6ZSB8fCA1MTI7XG4gICAgICB2YXIgYnl0ZUNoYXJhY3RlcnMgPSBhdG9iKGI2NERhdGEpO1xuICAgICAgdmFyIGJ5dGVBcnJheXMgPSBbXTtcbiAgICAgIGZvciAodmFyIG9mZnNldCA9IDA7IG9mZnNldCA8IGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aDsgb2Zmc2V0ICs9IHNsaWNlU2l6ZSkge1xuICAgICAgICB2YXIgc2xpY2UgPSBieXRlQ2hhcmFjdGVycy5zbGljZShvZmZzZXQsIG9mZnNldCArIHNsaWNlU2l6ZSk7XG4gICAgICAgIHZhciBieXRlTnVtYmVycyA9IG5ldyBBcnJheShzbGljZS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYnl0ZU51bWJlcnNbaV0gPSBzbGljZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlTnVtYmVycyk7XG4gICAgICAgIGJ5dGVBcnJheXMucHVzaChieXRlQXJyYXkpO1xuICAgICAgfSBcbiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoYnl0ZUFycmF5cywge3R5cGU6IGNvbnRlbnRUeXBlfSk7XG4gICAgICByZXR1cm4gYmxvYjtcbiAgICB9LFxuICAgIHBhZ2VEb3duOiBmdW5jdGlvbihjdXJyZW50UGFnZSl7XG4gICAgICBpZiAoY3VycmVudFBhZ2UgPCAyKXtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3VycmVudFBhZ2UgLSAoMSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBmaW5kRmlyc3Q6IGZ1bmN0aW9uKGxlbmd0aCwgcGFnZSl7XG4gICAgdmFyIGNhbGNGaXJzdCA9IGxlbmd0aCAtICg0KigxK3BhZ2UpKTtcbiAgICAgIGlmIChjYWxjRmlyc3QgPj0gMCl7XG4gICAgICAgIHJldHVybiBjYWxjRmlyc3RcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGl0bGVUb1VSTDogZnVuY3Rpb24odGl0bGUpe1xuXG4gICAgcmV0dXJuIHRpdGxlLnNwbGl0KCcgJykuam9pbignLScpO1xuICAgIH0sXG4gICAgc2x1Z2lmeTogZnVuY3Rpb24odGV4dCl7XG4gICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJykgICAgICAgICAgIC8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggLVxuICAgICAgLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgJycpICAgICAgIC8vIFJlbW92ZSBhbGwgbm9uLXdvcmQgY2hhcnNcbiAgICAgIC5yZXBsYWNlKC9cXC1cXC0rL2csICctJykgICAgICAgICAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxuICAgICAgLnJlcGxhY2UoL14tKy8sICcnKSAgICAgICAgICAgICAvLyBUcmltIC0gZnJvbSBzdGFydCBvZiB0ZXh0XG4gICAgICAucmVwbGFjZSgvLSskLywgJycpOyAgICAgICAgICAgIC8vIFRyaW0gLSBmcm9tIGVuZCBvZiB0ZXh0XG4gICAgfSxcbiAgICBpbWdSZXNpemU6IGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIHJlc2l6ZSEhXCIpO1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGxvYWRJTUcgPSBuZXcgSW1hZ2U7XG4gICAgbG9hZElNRy5zcmMgPSBpbWc7XG4gICAgbG9hZElNRy5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAgIGNvbnNvbGUubG9nKHRoaXMud2lkdGggKyBcIiBcIiArIHRoaXMuaGVpZ2h0KTtcbiAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBsb2FkSU1HLndpZHRoIC8gbG9hZElNRy5oZWlnaHQ7XG4gICAgICAgY29uc29sZS5sb2coXCJXSEFUIElTIFJBVElPPz8/IFwiLGFzcGVjdFJhdGlvKTtcbiAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxLjc3NiAmJiBsb2FkSU1HLmhlaWdodCA+PSA1MDApe1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZElNRzogXCIsbG9hZElNRyk7XG4gICAgICAgICAgdmFyIHBlcmNlbnRDaGFuZ2UgPSAobG9hZElNRy5oZWlnaHQgLSA1MDApIC8gbG9hZElNRy5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IDUwMDtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBsb2FkSU1HLndpZHRoIC0gKGxvYWRJTUcud2lkdGggKiBwZXJjZW50Q2hhbmdlKTtcbiAgICAgICAgXG4gICAgICAgIH0gZWxzZSBpZiAoYXNwZWN0UmF0aW8gPCAxLjc3NiAmJiBsb2FkSU1HLndpZHRoID49IDg4OSl7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkSU1HOiBcIixsb2FkSU1HKTtcbiAgICAgICAgICB2YXIgcGVyY2VudENoYW5nZSA9IChsb2FkSU1HLndpZHRoIC0gODg5KSAvIGxvYWRJTUcud2lkdGg7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gODg5O1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBsb2FkSU1HLmhlaWdodCAtIChsb2FkSU1HLmhlaWdodCAqIHBlcmNlbnRDaGFuZ2UpO1xuICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZElNRzogXCIsbG9hZElNRyk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJpbWFnZSBpcyBub3QgYmlnIGVub3VnaCFcIik7ICBcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShsb2FkSU1HLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB2YXIgcmVzaXplZFJlc3VsdCA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc2l6ZWRSZXN1bHQpOyAgIFxuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTsgXG4gICAgfVxuICB9IFxufV0pXG5cblxuXG5cbi5mYWN0b3J5KCdTdWJtaXRJbWFnZScsIFtcIkhlbHBlclNlcnZpY2VcIiwgZnVuY3Rpb24oSGVscGVyU2VydmljZSkge1xuICByZXR1cm4gZnVuY3Rpb24ocG9zdCwgcG9zdEFycmF5LCBpbWFnZSwgY2FsbGJhY2spe1xuICAgIEhlbHBlclNlcnZpY2UuaW1nUmVzaXplKGltYWdlKS50aGVuKGZ1bmN0aW9uKG5ld0ltYWdlKXtcbiAgICAgIHZhciBtaW1lID0gSGVscGVyU2VydmljZS5iYXNlNjRNaW1lVHlwZShuZXdJbWFnZSk7XG4gICAgY29uc29sZS5sb2coXCJUWVBFIElTIFwiLG1pbWUpO1xuICAgIHZhciBiYXNlNjRyZXN1bHQgPSBIZWxwZXJTZXJ2aWNlLmdldEJhc2U2NEltYWdlKG5ld0ltYWdlKVxuICAgIHZhciBmaWxlID0gSGVscGVyU2VydmljZS5iNjR0b0Jsb2IoYmFzZTY0cmVzdWx0LCBtaW1lKVxuICAgIHZhciBtZXRhZGF0YSA9IHtcbiAgICBjb250ZW50VHlwZTogbWltZVxuICAgIH07XG4gICAgdmFyIHBob3RvSWQgPSAoTWF0aC5yYW5kb20oKSoxZTMyKS50b1N0cmluZygzNik7XG4gICAgdmFyIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCk7XG4gICAgdmFyIHVwbG9hZFRhc2sgPSBzdG9yYWdlUmVmLmNoaWxkKCdibG9nLWltYWdlcy8nICsgcGhvdG9JZCkucHV0KGZpbGUsIG1ldGFkYXRhKTtcbiAgICB1cGxvYWRUYXNrLm9uKGZpcmViYXNlLnN0b3JhZ2UuVGFza0V2ZW50LlNUQVRFX0NIQU5HRUQsIC8vIG9yICdzdGF0ZV9jaGFuZ2VkJ1xuICAgIGZ1bmN0aW9uKHNuYXBzaG90KSB7XG4gICAgICAvLyBHZXQgdGFzayBwcm9ncmVzcywgaW5jbHVkaW5nIHRoZSBudW1iZXIgb2YgYnl0ZXMgdXBsb2FkZWQgYW5kIHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgIHZhciBwcm9ncmVzcyA9IChzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcykgKiAxMDA7XG4gICAgICBjb25zb2xlLmxvZygnVXBsb2FkIGlzICcgKyBwcm9ncmVzcyArICclIGRvbmUnKTtcbiAgICAgIHN3aXRjaCAoc25hcHNob3Quc3RhdGUpIHtcbiAgICAgICAgY2FzZSBmaXJlYmFzZS5zdG9yYWdlLlRhc2tTdGF0ZS5QQVVTRUQ6IC8vIG9yICdwYXVzZWQnXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VwbG9hZCBpcyBwYXVzZWQnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBmaXJlYmFzZS5zdG9yYWdlLlRhc2tTdGF0ZS5SVU5OSU5HOiAvLyBvciAncnVubmluZydcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBsb2FkIGlzIHJ1bm5pbmcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgY2FzZSAnc3RvcmFnZS91bmF1dGhvcml6ZWQnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0b3JhZ2UvY2FuY2VsZWQnOlxuICAgICAgICAvLyBVc2VyIGNhbmNlbGVkIHRoZSB1cGxvYWRcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdG9yYWdlL3Vua25vd24nOlxuICAgICAgICAvLyBVbmtub3duIGVycm9yIG9jY3VycmVkLCBpbnNwZWN0IGVycm9yLnNlcnZlclJlc3BvbnNlXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJ1cGxvYWQgZmluaXNoZWRcIilcbiAgICB2YXIgZG93bmxvYWRVUkwgPSB1cGxvYWRUYXNrLnNuYXBzaG90LmRvd25sb2FkVVJMO1xuICAgIGNhbGxiYWNrKHBvc3QsIHBvc3RBcnJheSwgZG93bmxvYWRVUkwsIG51bGwpO1xuICB9KTtcbiAgICB9KVxuICAgIFxuXG5cblxuICB9XG5cbn1dKVxuXG5cblxuXG5cblxuXG4iXX0=
