var authWait=["Auth",function(e){return e.$waitForSignIn()}],authRequire=["Auth",function(e){return e.$requireSignIn()}];angular.module("SistersApp",["SistersCtrls","SistersDirectives","ui.router","ui.bootstrap","firebase","angularMoment","ngCart","ngStorage","angularPayments","ngAnimate","picardy.fontawesome","textAngular","ui.router.metatags","angular-parallax"]).run(["$rootScope","$state","$location","$window","MetaTags",function(e,t,o,a,r){e.MetaTags=r,e.$on("$stateChangeError",function(e,o,a,r,n,s){"AUTH_REQUIRED"===s&&t.go("login")}),e.$on("$stateChangeSuccess",function(e){document.body.scrollTop=document.documentElement.scrollTop=0,a.ga&&a.ga("send","pageview",{page:o.path()})})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","UIRouterMetatagsProvider","$provide",function(e,t,o,a,r){a.setDefaultTitle("SISTERS").setDefaultDescription('Seattle duo. "Drink Champagne", the debut album, coming soon!').setStaticProperties({"og:site_name":"SISTERS"}).setOGURL(!0),t.otherwise("/"),e.state("home",{url:"/",metaTags:{title:"SISTERS",description:'Seattle duo. "Drink Champagne", the debut album, coming soon!'},templateUrl:"/views/home.html",controller:"HomeCtrl"}).state("about",{url:"/about",templateUrl:"/views/about.html",controller:"AboutCtrl"}).state("press",{url:"/press",templateUrl:"/views/press.html",controller:"PressCtrl"}).state("contact",{url:"/contact",templateUrl:"/views/contact.html",controller:"ContactCtrl"}).state("download",{url:"/download/:id",resolve:{downloadKey:["DownloadKeyService","$stateParams",function(e,t){return e(t.id).$loaded()}]},onEnter:["$state","$stateParams","$timeout","downloadKey",function(e,t,o,a){a===!0?o(function(){console.log("success!")},0):o(function(){console.log("failed!")},0)}]}).state("blog",{templateUrl:"/views/blog/blog.html",controller:"BlogMasterCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}]}}).state("blog-new",{url:"/blog/new",templateUrl:"/views/blog/newBlogPost.html",controller:"NewBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}]}}).state("blog-edit",{url:"/blog/edit/:slug",templateUrl:"/views/blog/editBlogPost.html",controller:"EditBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}],thisPost:["$stateParams","ThisPostService",function(e,t){return t(e.slug).$loaded()}]}}).state("blog-tags-edit",{url:"/blog/editTags/",templateUrl:"/views/blog/editTags.html",controller:"EditBlogTagsCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(e){return e().$loaded()}]}}).state("blog.main",{url:"/blog",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.page",{url:"/blog/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.archive",{url:"/blog/archives/:year/:month",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(e,t){return t(e.year,e.month).$loaded()}]}}).state("blog.archivePage",{url:"/blog/archives/:year/:month/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(e,t){return t(e.year,e.month).$loaded()}]}}).state("blog.tags",{url:"/blog/tags/:tagName",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogTagsCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(e){return e().$loaded()}],TagsShow:["$stateParams","TagsShowService",function(e,t){return t(e.tagName).$loaded()}]}}).state("blog.show",{url:"/blog/show/:slug",templateUrl:"/views/blog/blog-content.html",controller:"BlogShowCtrl",resolve:{currentAuth:authWait,thisPost:["$stateParams","ThisPostService",function(e,t){return t(e.slug).$loaded()}],Blog:["BlogPosts",function(e){return e().$loaded()}]},metaTags:{title:function(e){console.log("what is Blog? ",e);var t="SISTERS - "+e[0].postTitle;return t},description:function(e){return e[0].postBody}}}).state("shows",{url:"/shows",metaTags:{title:"SISTERS - Shows",description:"Upcoming shows for Seattle duo SISTERS."},templateUrl:"/views/shows/shows.html",controller:"ShowsCtrl",resolve:{currentAuth:authWait,getShows:["GetShows",function(e){return console.log("app resolve entered"),e().$loaded()}]}}).state("store",{url:"/store",metaTags:{title:"SISTERS - Store",description:"The official store for Seattle duo SISTERS."},templateUrl:"/views/store/store.html",controller:"StoreCtrl",resolve:{currentAuth:authWait,allProducts:["ProductsService",function(e){return e.allProducts()}]}}).state("storeCart",{url:"/store/cart",templateUrl:"/views/store/cart.html",controller:"StoreCartCtrl",resolve:{currentAuth:authWait}}).state("storeShow",{url:"/store/:id",templateUrl:"/views/store/storeShow.html",controller:"StoreShowCtrl",resolve:{currentAuth:authWait,oneProduct:["ProductsService","$stateParams",function(e,t){return e.oneProduct(t.id)}]}}).state("checkout",{templateUrl:"/views/store/checkoutTemplate.html",controller:"CheckoutTemplateCtrl",resolve:{currentAuth:authWait}}).state("checkout.address",{url:"/store/checkout/address",templateUrl:"/views/store/checkoutAddress.html",controller:"StoreAddressCtrl",resolve:{currentAuth:authWait}}).state("checkout.payment",{url:"/store/checkout/payment",templateUrl:"/views/store/checkoutPayment.html",controller:"StorePaymentCtrl",resolve:{currentAuth:authWait,currentOrder:["CurrentOrderService",function(e){return e.get()}]}}).state("checkout.confirm",{url:"/store/checkout/confirm",templateUrl:"/views/store/checkoutConfirm.html",controller:"StoreConfirmCtrl",resolve:{currentAuth:authWait}}).state("login",{url:"/login",templateUrl:"/views/login.html",controller:"LoginCtrl"}),o.html5Mode(!0)}]).filter("cut",function(){return function(e,t,o,a,r){var n=angular.element("<div/>").html(e);console.log("source: ",n);var s=n.text().length;console.log("length: ",s)}}).filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl("http://www.youtube.com/embed/"+t)}}]).filter("MomentFilter",["moment",function(e){return function(t){return e(t).format("dddd, MMMM Do, YYYY")}}]).filter("tooOld",function(){return function(e){var t=moment().unix(),o=[];return angular.forEach(e,function(e){var a=e.unixDate/1e3;t-a<=86400&&o.push(e)}),o}}).filter("DeliveryEstDate",["moment",function(e){return function(t){return e(t).format("dddd, MMMM Do")}}]).filter("timeAgo",["moment",function(){return function(e){return moment(e).fromNow()}}]).filter("reverse",function(){return function(e){return e.slice().reverse()}}).filter("centsToDollars",function(){return function(e){return e/100}}),angular.module("SistersCtrls",["SistersServices"]).controller("MainCtrl",["$scope","$state","$timeout","$http",function(e,t,o,a){e.$on("loadMainContainer",function(t,o){"loaded"===o?e.mainLoaded=!0:e.mainLoaded=!1})}]).controller("HomeCtrl",["$scope","$state","$timeout","$http","LoadedService",function(e,t,o,a,r){var n=document.getElementById("main");n.style.backgroundColor="rgba(247, 237, 245, 0)",n.style.width="",n.style.padding="",n.style.paddingBottom="400px",e.loaded=r.get();var s=window.innerWidth;!e.loaded&&s>806?o(function(){e.$emit("loadMainContainer","loaded"),e.fadeHome=!0,r.set(!0)},2500):o(function(){e.$emit("loadMainContainer","loaded"),e.fadeHome=!0,r.set(!0)},2500),e.mailchimpSubmit=function(t,o,r){if(t.$valid){e.isPopup=!1;var n="//sisterstheband.us14.list-manage.com/subscribe/post-json?u=bc38720b0bcc7a32641bb572c&amp;id=242f4adc89&EMAIL="+o+"&c=JSON_CALLBACK";a.jsonp(n).then(function(t){console.log(t),e.user={},r&&(e.mailConfirm=!0)},function(e){console.log(e)})}}}]).controller("AboutCtrl",["$scope","$state","$timeout",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(255, 255, 255, 1)",a.style.padding="0 0 176px 0",a.style.width="100%",e.$emit("loadMainContainer","loaded")}]).controller("ContactCtrl",["$scope","$state","$timeout",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(255, 255, 255, 0)",a.style.padding="",a.style.width="",e.$emit("loadMainContainer","loaded")}]).controller("PressCtrl",["$scope","$state","$timeout",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(255, 255, 255, 0)",a.style.padding="0 0 176px 0",a.style.width="90%",e.$emit("loadMainContainer","loaded")}]),angular.module("SistersCtrls").controller("LoginCtrl",["$scope","$state","Auth",function(e,t,o){var a=document.getElementById("main");a.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.submitted=!1,e.logged=!1,o.$onAuthStateChanged(function(o){o?(e.logged=!0,t.go("home")):console.log("Not logged in.")}),e.user={},e.login=function(){e.submitted=!0,e.firebaseUser=null,o.$signInWithEmailAndPassword(e.user.email,e.user.password).then(function(t){e.firebaseUser=t}).catch(function(e){console.error("Authentication failed:",e)})}}]),angular.module("SistersCtrls").controller("NewBlogCtrl",["$scope","$state","$http","Auth","BlogPosts","AllTags","HelperService","SubmitImage","moment",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.BlogPosts=r(),e.tags=n,e.checkedTags={},e.data={},e.resetMedia=function(){e.data.youtube="",e.data.image=""},e.submit=function(){console.log("submit clicked"),console.log("what is post? ",e.post),"image"===e.data.mediaSelect?l(e.post,e.BlogPosts,e.data.image,u):"youtube"===e.data.mediaSelect&&(e.data.youtube=s.parseYouTube(e.data.youtube),u(e.post,e.BlogPosts,null,e.data.youtube))},e.addTag=function(){e.tags.$add({name:e.data.newTag}).then(function(t){e.postId=t.key,console.log("what is post id? ",t.key),e.data.newTag=""})},e.resizeImg=function(e){s.imgResize(e)},e.deleteTag=function(t){e.tags.$remove(t).then(function(e){e.key===t.$id})};var u=function(o,a,r,n){var l=s.slugify(o.title),c=(new Date).getTime(),u=i(c).format("YYYY"),d=i(c).format("MMMM"),g={};for(var m in e.checkedTags)g[m]=e.checkedTags[m];var h={postTitle:o.title,slug:l,postBody:o.postBody,youtube:n?n:null,img:r?r:null,tags:g,timestamp:c};console.log("thisPost: ",h),a.$add(h).then(function(e){var o=e.key,a={key:o};firebase.database().ref("archives/"+u+"/"+d+"/"+o).set(a),t.go("blog.main")})}}]).controller("EditBlogCtrl",["$scope","$state","$timeout","$stateParams","SendDataService","AllTags","thisPost","HelperService","SubmitImage","$uibModal","$log","BlogPosts",function(e,t,o,a,r,n,s,l,i,c,u,d){var g=document.getElementById("main");if(g.style.backgroundColor="rgba(0,0,0,0)",e.$emit("loadMainContainer","loaded"),e.data={},e.postArray=s,e.post=s[0],e.originalTags=angular.copy(e.post.tags),e.tags=n,e.post.youtube){console.log(e.post.youtube);var m=e.post.youtube;e.data.youtube="https://www.youtube.com/watch?v="+m}e.confirmBlogDelete=function(e){var t=c.open({animation:!0,backdrop:!0,templateUrl:"/views/blog/deleteBlogConfirmModal.html",controller:"DeleteBlogConfirmCtrl",size:"sm",resolve:{Post:e}});t.result.then(function(){console.log("submitted modal")},function(){u.info("Modal dismissed at: "+new Date)})},e.addTag=function(){e.tags.$add({name:e.data.newTag}).then(function(t){e.postId=t.key,console.log("what is post id? ",t.key),e.data.newTag=""})},e.deleteTag=function(t){e.tags.$remove(t).then(function(e){e.key===t.$id})},e.resetMedia=function(){e.data.youtube="",e.data.image=""},e.submit=function(){"image"===e.data.mediaSelect&&e.data.image?i(e.post,e.postArray,e.data.image,h):"image"!==e.data.mediaSelect||e.data.image?"youtube"===e.data.mediaSelect&&(e.data.youtube=l.parseYouTube(e.data.youtube),h(e.post,e.BlogPosts,null,e.data.youtube)):h(e.post,e.BlogPosts,e.post.img,null)};var h=function(a,r,n,s){var i=l.slugify(a.postTitle);console.log(i);var c=moment(a.timestamp).format("YYYY"),u=moment(a.timestamp).format("MMMM"),d={};for(var g in a.tags)d[g]=a.tags[g];a.slug=i,a.tags=d,a.youtube=s?s:null,a.img=n?n:null;var m={postTitle:a.postTitle,slug:i,postBody:a.postBody,youtube:a.youtube,img:a.img,tags:d,timestamp:a.timestamp};e.postArray.$save(a).then(function(a){var r=a.key;firebase.database().ref("archives/"+c+"/"+u+"/"+r).remove(),firebase.database().ref("archives/"+c+"/"+u+"/"+r).set(m);for(g in e.originalTags)if(e.originalTags[g]===!0){var n="tags/"+g+"/posts/"+r;firebase.database().ref(n).remove().then(function(e){}).catch(function(e){console.log("Remove failed: "+e.message)})}else console.log(g+" not a tag for old edit!");o(function(){for(g in m.tags)m.tags[g]===!0?firebase.database().ref("tags/"+g+"/posts/"+r).set(m):console.log(g+" not a tag for new edit!")},100),t.go("blog.main")})}}]).controller("EditBlogTagsCtrl",["$scope","$uibModalInstance","tag","Blog",function(e,t,o,a){e.prompted=!1,e.tag=angular.copy(o),console.log(o),e.ok=function(o){var a={name:e.tag.name};firebase.database().ref("/tags/"+e.tag.$id).update(a),t.close()},e.cancel=function(){t.dismiss("cancel")},e.deletePrompt=function(){e.prompted=!0},e.delete=function(o){if("no"===o)e.prompted=!1;else if("yes"===o){firebase.database().ref("/tags/"+e.tag.$id).remove();for(var r=0;r<a.length;r++){var n=a[r].tags;n[e.tag.$id]===!0&&(n[e.tag.$id]=null,firebase.database().ref("/blog_posts/"+a[r].$id+"/tags").update(n))}t.close()}}}]).controller("DeleteBlogConfirmCtrl",["$scope","$uibModalInstance","Post","moment","$location",function(e,t,o,a,r){console.log(o),e.yes=function(){var e=a(o.timestamp).format("YYYY"),n=a(o.timestamp).format("MMMM");console.log(n+" of "+e),firebase.database().ref("blog_posts/"+o.$id).remove(),firebase.database().ref("archives/"+e+"/"+n+"/"+o.$id).remove(),t.close(),r.url("/blog")},e.no=function(){t.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("BlogMasterCtrl",["$scope","$state","$http","$timeout","$location","$stateParams","Auth","Blog","HelperService","InstagramFactory","AllTagsService","TwitterFactory",function(e,t,o,a,r,n,s,l,i,c,u,d){e.loadedInsta=!1,e.loadedTwitter=!1,e.$emit("loadMainContainer","loaded"),c.then(function(t){e.photos=t.data,e.loadedInsta=!0,e.loadedTwitter&&(e.loaded=!0)}),d.then(function(t){console.log(t),e.tweetDate=t.allTweetData.created_at,e.twitterUser=t.allTweetData.user.name,e.twitterHandle=t.allTweetData.user.screen_name,e.tweetId=t.allTweetData.id_str,e.tweet=t.tweetBody,e.favorites=t.favorites,e.retweets=t.retweets,e.loadedTwitter=!0,e.loadedInsta&&(e.loaded=!0)}),e.enable=!0,e.auth=s,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t})}]).controller("BlogCtrl",["$scope","$state","$http","$timeout","$location","$stateParams","Auth","Blog","HelperService","InstagramFactory","AllTagsService",function(e,t,o,a,r,n,s,l,i,c,u){var d=document.getElementById("main");d.style.backgroundColor="rgba(252, 244, 247, .9)",d.style.width="",d.style.padding="",e.$emit("loadMainContainer","loaded"),e.allTags=u(),e.location=r.$$path,c.then(function(t){e.photos=t.data,e.loaded=!0}),e.enable=!0,e.parseTitle=i.titleToURL,e.allPosts=l,e.page=n.page||0,e.pageUp="/blog/"+(parseInt(e.page)+1),e.pageDown="/blog/"+i.pageDown(e.page),e.length=l.length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,e.posts=l.slice(e.first,e.last),e.editPost=function(e){r.url("/blog/edit/"+e)}}]).controller("BlogArchiveCtrl",["$scope","$state","$timeout","$stateParams","$location","Blog","Archive","Auth","HelperService","AllTagsService",function(e,t,o,a,r,n,s,l,i,c){e.$emit("loadMainContainer","notLoaded"),e.location=r.$$path,e.allTags=c(),e.enable=!0,e.fullBlog=n;for(var u=[],d=0;d<s.length;d++)for(var g=s[d].$id,m=0;m<n.length;m++){var h=n[m].$id;g===h&&u.push(n[m])}e.allPosts=u,e.params=a,e.parseTitle=i.titleToURL,e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.page=a.page||0,e.pageUp="/blog/archives/"+a.year+"/"+a.month+"/"+(parseInt(e.page)+1),e.pageDown="/blog/archives/"+a.year+"/"+a.month+"/"+i.pageDown(e.page),e.length=e.allPosts.length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,e.posts=e.allPosts.slice(e.first,e.last),o(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0}),e.editPost=function(e){var t=i.titleToURL(e.postTitle);r.url("/blog/edit/"+t)}}]).controller("BlogTagsCtrl",["$scope","$state","$stateParams","$location","$timeout","Blog","TagsShow","Auth","HelperService","AllTagsService",function(e,t,o,a,r,n,s,l,i,c){e.$emit("loadMainContainer","notLoaded"),e.location=a.$$path,e.allTags=c(),e.enable=!0,e.tagName=s[0].name;for(var u=s[0].$id,d=[],g=0;g<n.length;g++){var m=n[g].tags;m[u]&&d.push(n[g])}e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.page=o.page||0,e.pageUp="/blog/tags/"+o.tagName+"/"+(parseInt(e.page)+1),e.pageDown="/blog/tags/"+o.tagName+"/"+i.pageDown(e.page),e.length=length,e.first=i.findFirst(e.length,e.page),e.last=e.length-4*e.page,console.log("Last: ",e.last),e.posts=d.slice(e.first,e.last),console.log(e.posts),r(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0}),e.editPost=function(e){var t=i.titleToURL(e.postTitle);a.url("/blog/edit/"+t)}}]).controller("BlogShowCtrl",["$scope","$state","$stateParams","$location","$timeout","thisPost","Blog","AllTagsService",function(e,t,o,a,r,n,s,l){e.$emit("loadMainContainer","notLoaded"),e.location=a.$$path,e.allTags=l(),e.enable=!1,e.recentPosts=s,console.log(e.recentPosts),e.posts=n,e.allPosts=n,r(function(){e.$emit("loadMainContainer","loaded"),e.loaded=!0})}]).controller("BlogSidebarCtrl",["$scope","$state","$stateParams","$timeout","ArchiveService","AllTagsService","BlogPosts","HelperService","$uibModal","$log",function(e,t,o,a,r,n,s,l,i,c){e.recentPosts=s(),e.parseTitle=l.titleToURL,e.years=r.years(),e.years.$loaded().then(function(){console.log(e.years)}),e.allTags=n(),e.newBlogPost=function(){t.go("blog-new")},e.editTag=function(e){var t=i.open({animation:!0,backdrop:!0,templateUrl:"/views/blog/editTagsModal.html",controller:"EditBlogTagsCtrl",size:"lg",resolve:{Blog:["BlogPosts",function(e){return e().$loaded()}],tag:e}});t.result.then(function(){console.log("submitted modal")},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("SistersCtrls").controller("editModalCtrl",["$scope","$uibModalInstance","editShow","index","$firebaseArray",function(e,t,o,a,r){e.shows=o,e.show=o[a],console.log("index is ",a),e.dateObj=new Date(1e3*e.show.unix),console.log(e.dateObj),e.ok=function(){e.show.date=moment(e.dateObj).format("ddd, MMMM Do"),e.show.unix=e.dateObj.getTime()/1e3,e.shows.$save(e.show).then(function(e){console.log("success")},function(e){console.log("Error:",e)}),t.close()},e.cancel=function(){t.dismiss("cancel")},e.delete=function(){e.shows.$remove(e.show).then(function(e){console.log("successful delete: ",e)},function(e){console.log("error: ",e)}),t.close()}}]).controller("newModalCtrl",["$scope","$uibModalInstance","$firebaseArray",function(e,t,o){e.show={};var a=firebase.database().ref("shows");e.showsArray=o(a),e.ok=function(){var o=moment(e.show.showDate).format("ddd, MMMM Do"),a=e.show.showDate.getTime()/1e3;console.log(o);var r={date:o,unix:a,location:e.show.showLocation,venue:e.show.venue,venueLink:e.show.venueLink||"",ticketLink:e.show.ticketLink||""};console.log(r),e.showsArray.$add(r),t.close()},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("NavCtrl",["$scope","$timeout","$log","$uibModal","$http","Auth","$state","$sessionStorage","$location","$window",function(e,t,o,a,r,n,s,l,i,c){e.auth=n,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.user={},e.mailConfirm=!1;var u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e.height=d;var g=document.getElementById("mobile-background-div");u<900?g.style.height=d+"px":g.style.height="0px",!e.loaded&&u>806?e.mobileWidth=!1:e.mobileWidth=!0,t(function(){if(null===e.firebaseUser&&"/login"!==i.$$path){if(console.log("entering popup"),!document.getElementById("overlayMail")){var t=document.createElement("div");t.id="overlayMail",t.className="overlay-start";var o=document.body,a=document.querySelector("#pop-up");console.log(o.scrollHeight),t.style.height=o.scrollHeight+"px",a.appendChild(t);var r=document.querySelector("#overlayMail");r.classList.add("active")}e.isPopup=!0}},6e3),e.closePopup=function(){e.isPopup=!1},e.toStore=function(){e.isPopup=!1,t(function(){c.open("https://iheartsisters.bandcamp.com/")},300)},e.toggle=!0;var m=window.innerWidth;m>806?t(function(){e.fade=!0},100):e.fade=!0}]).controller("FooterCtrl",["$scope","$timeout","$log","$uibModal","$http","Auth","$state","$sessionStorage",function(e,t,o,a,r,n,s,l){e.auth=n,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.logout=function(){n.$signOut()},e.login=function(){s.go("login")};var i=window.innerWidth;i>806?t(function(){e.fade=!0},100):e.fade=!0}]).controller("MailModalCtrl",["$scope","$timeout","$uibModal","$uibModalInstance","$http","Auth","$state","$sessionStorage",function(e,t,o,a,r,n,s,l){e.close=function(){a.dismiss("cancel")}}]),angular.module("SistersCtrls").controller("ShowsCtrl",["$scope","$state","currentAuth","$uibModal","$log","$firebaseArray","moment","Auth","getShows",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(252, 244, 247, .9)",c.style.width="",c.style.padding="",e.$emit("loadMainContainer","loaded"),e.shows=i,e.auth=l,e.auth.$onAuthStateChanged(function(t){e.firebaseUser=t}),e.open=function(t,o){var n=a.open({animation:!0,backdrop:!0,templateUrl:"/views/shows/"+t+"ShowModal.html",controller:t+"ModalCtrl",size:"lg",resolve:{editShow:function(){return e.shows},index:o}});n.result.then(function(t){e.selected=t},function(){r.info("Modal dismissed at: "+new Date)})}}]),angular.module("SistersCtrls").controller("StoreCtrl",["$scope","$state","$http","$timeout","$location","$sessionStorage","allProducts","ProductsService",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="",i.style.width="",i.style.padding="",e.loaded=!1,e.products=s,e.showProduct=function(e){t.go("storeShow",{id:e})},a(function(){e.loaded=!0,e.$emit("loadMainContainer","loaded")})}]).controller("StoreCartCtrl",["$scope","$state","$http","$timeout","$location","$sessionStorage",function(e,t,o,a,r,n){var s=document.getElementById("main");s.style.backgroundColor="",e.$emit("loadMainContainer","loaded"),e.toCheckout=function(){r.url("/store/checkout/address")},e.continue=function(){r.url("/store")}}]).controller("StoreShowCtrl",["$scope","$stateParams","$state","$http","$timeout","$location","$sessionStorage","oneProduct",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="",e.$emit("loadMainContainer","loaded"),e.product=l,e.images=l.images;var c=e.images[0];e.skus=e.product.skus.data,e.data={},e.data.selected=e.product.skus.data[0];var u=document.querySelector(".main-product-photo img");u.src=e.images[0],e.isActiveImg=function(){return this.img===c},e.changeActive=function(){c=this.img,u.src=this.img}}]).controller("CheckoutTemplateCtrl",["$scope","$state","$http","$timeout","$location","$localStorage",function(e,t,o,a,r,n){e.$emit("loadMainContainer","loaded"),e.$storage=n,e.$on("cartChange",function(t,o){e.showPath=o}),e.showPath||(e.showPath=e.$storage.pathCount)}]).controller("StoreAddressCtrl",["$scope","$state","$window","$timeout","$http","$location","$localStorage","ngCart","$rootScope","CurrentOrderService",function(e,t,o,a,r,n,s,l,i,c){var u=document.getElementById("main");u.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),e.$storage=s,e.cartItems=l.getItems(),i.path=n.$$path,(!e.$storage.pathCount||e.$storage.pathCount<1)&&(e.$storage.pathCount=0,e.$emit("cartChange",e.$storage.pathCount)),e.loaded=[],e.data={shipping:{country:{}},billing:{country:{}}},e.mailingListAdd=!0,e.shippingSameBool=!1,r.get("/js/JSON/countries.json").success(function(t){e.countries=t,e.data.shipping.country=e.countries[0],e.data.billing.country=e.countries[0],e.loaded.push("go")}),r.get("/js/JSON/states.json").success(function(t){e.states=t,e.loaded.push("go")}),r.get("/js/JSON/provinces.json").success(function(t){e.provinces=t,e.loaded.push("go")}),e.isShippingSame=function(){e.data.shippingSame?(e.data.billing=e.data.shipping,e.shippingSameBool=!0):(e.data.billing={},e.shippingSameBool=!1)},e.countryChange=function(t){"US"===t.code?e.shippingType=e.shipRates.domestic:e.shippingType=e.shipRates.international},e.submitForm=function(t){if(t.$valid){e.loaded=[];var o=e.data.shipping;e.data.billing;e.copyItems=angular.copy(e.cartItems);for(var a=0;a<e.copyItems.length;a++)delete e.copyItems[a]._data,delete e.copyItems[a].attr;e.$storage.billingAddress=e.data.billing;var s={url:"/stripe/createOrder",method:"POST",params:{order:{currency:"usd",items:e.copyItems,shipping:{name:o.name,address:{line1:o.address1,line2:o.address2||null,city:o.city,state:o.stateProvince.short||null,country:o.country.code,postal_code:o.postalCode}},email:o.email,metadata:{taxRate:l.getTaxRate()}}}};r(s).then(function(t){"created"===t.data.status?(e.$storage.mailingList=e.mailingListAdd,e.$storage.addressSubmit||(e.$storage.pathCount++,e.$emit("cartChange",e.$storage.pathCount)),e.$storage.addressSubmit=!0,e.$storage.orderData=t,e.$evalAsync(function(){n.url("/store/checkout/payment")})):(e.loaded=[1,2,3],console.log(t.data),e.errorMessage=t.data.message)},function(e){console.log("error ",e)})}else console.log("form invalid!!")},e.getTaxRate=function(e,t,a){if("US"===e.code&&"WA"===t.short&&a)if(o.localStorage.currentWaRate){var n=parseFloat(o.localStorage.currentWaRate);l.setTaxRate(n)}else{var s={url:"/taxRate",method:"GET",params:{country:"usa",postal:a}};r(s).then(function(e){l.setTaxRate(e.data.totalRate),o.localStorage.currentWaRate=e.data.totalRate},function(e){console.log("error ",e)})}else"US"===e.code&&"WA"!==t.short?l.setTaxRate(0):"US"!==e.code&&l.setTaxRate(0)}}]).controller("StorePaymentCtrl",["$scope","$state","$http","$timeout","$location","$localStorage","ngCart","$rootScope","currentOrder",function(e,t,o,a,r,n,s,l,i){var c=document.getElementById("main");c.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),l.path=r.$$path,e.$storage=n,e.pathCount=parseInt(e.$storage.pathCount),e.shipOptions=e.$storage.orderData.data.shipping_methods,e.savedSelectedShip=e.$storage.orderData.data.selected_shipping_method;for(var u=0;u<e.shipOptions.length;u++)if(e.shipOptions[u].id===e.savedSelectedShip){e.selectedShip=e.shipOptions[u];break}e.$watch("selectedShip",function(t,o,a){s.setShipping(e.selectedShip.amount)},!1),a(function(){e.loaded=!0}),e.submitForm=function(t){e.loaded=!1,Stripe.card.createToken({number:e.number,cvc:e.cvc,exp:e.expiry,name:e.$storage.billingAddress.name,address_line1:e.$storage.billingAddress.address1,address_line2:e.$storage.billingAddress.address2||null,address_city:e.$storage.billingAddress.city,address_state:e.$storage.billingAddress.stateProvince.short||null,address_zip:e.$storage.billingAddress.postalCode,address_country:e.$storage.billingAddress.country.code},d)};var d=function(t,a){if(a.error);else{token=a;var n={url:"/stripe/updateShipping",method:"POST",params:{token:token,orderId:e.$storage.orderData.data.id,selectedShip:e.selectedShip.id}};o(n).then(function(t){e.$storage.paymentSubmit||(e.$storage.pathCount++,e.$emit("cartChange",e.$storage.pathCount)),e.$storage.paymentSubmit=!0,e.$storage.orderData=t,e.$storage.tokenData=token,r.url("/store/checkout/confirm")},function(t){e.loaded=!0,console.log("error ",t)})}}}]).controller("StoreConfirmCtrl",["$scope","$state","$http","$timeout","$location","$localStorage","ngCart","$rootScope",function(e,t,o,a,r,n,s,l){var i=document.getElementById("main");i.style.backgroundColor="rgba(247, 237, 245, 0)",e.$emit("loadMainContainer","loaded"),e.$storage=n,e.pathCount=parseInt(e.$storage.pathCount),e.orderComplete=!1,l.path=r.$$path,e.ngCart=s,e.token=e.$storage.tokenData,e.order=e.$storage.orderData.data;for(var c=e.order.items,u=0;u<c.length;u++)"shipping"===c[u].type&&(e.shipService=c[u].description);a(function(){e.loaded=!0}),e.createCharge=function(){e.loaded=!1;var t={url:"/stripe/orderComplete",method:"POST",params:{orderId:e.order.id,token:e.token.id}};o(t).then(function(t){e.orderComplete=!0,e.$storage.mailingList&&d(),s.setTaxRate(),s.setShipping(),s.empty(),n.$reset()},function(t){e.loaded=!0,console.log("error ",t)})};var d=function(){var t="//sisterstheband.us14.list-manage.com/subscribe/post-json?u=bc38720b0bcc7a32641bb572c&amp;id=242f4adc89&EMAIL="+e.$storage.orderData.data.email+"&c=JSON_CALLBACK";o.jsonp(t).then(function(e){},function(e){console.log(e)})}}]),angular.module("SistersDirectives",[]).directive("fileread",[function(){return{scope:{fileread:"="},link:function(e,t,o){t.bind("change",function(t){var o=new FileReader;o.onload=function(t){e.$apply(function(){e.fileread=t.target.result})},o.readAsDataURL(t.target.files[0])})}}}]).directive("countryName",["$http",function(e){return{template:"<span>{{name}}</span>",scope:{countryCode:"="},link:function(t){e.get("/js/JSON/countries.json").then(function(e){for(var o=e.data,a=0;a<o.length;a++)if(o[a].code===t.countryCode){t.name=o[a].name;break}},function(e){t.name="unknown"})}}}]),angular.module("SistersServices",["ngResource"]).factory("LoadedService",function(){function e(e){o=e}function t(){return o}var o=!1;return{set:e,get:t}}).factory("Auth",["$firebaseAuth",function(e){return e()}]).factory("ProductsService",["$http","$q",function(e,t){return{allProducts:function(){var o=t.defer();return e.get("/stripe/allProducts").success(function(e){o.resolve(e.data)}),o.promise},oneProduct:function(o){var a=t.defer(),r={method:"GET",url:"/stripe/oneProduct",params:{productId:o}};return e(r).success(function(e){a.resolve(e)}),a.promise}}}]).service("InstagramFactory",["$http","$q",function(e,t){var o=t.defer();return e({method:"GET",url:"/instagram",cache:!0}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}]).service("TwitterFactory",["$http","$q",function(e,t){var o=t.defer();return e({method:"GET",url:"/twitter",cache:!0}).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}]).factory("DownloadKeyService",function(){return function(e){console.log("hash is "+e),firebase.database().ref("downloadKeys/"+e).once("value").then(function(e){var t=e.val();console.log(t)})}}).factory("GetShows",["$firebaseArray","moment",function(e,t){var o=t().unix(),a=o-86400;return console.log("current day: ",o),function(){var t=firebase.database().ref("shows").orderByChild("unix").startAt(a);return e(t)}}]).factory("BlogPosts",["$firebaseArray",function(e){return function(){var t=firebase.database().ref("blog_posts").orderByChild("timestamp");return e(t)}}]).factory("ThisPostService",["$firebaseArray",function(e){return function(t){var o=firebase.database().ref("blog_posts"),a=o.orderByChild("slug").equalTo(t);return e(a)}}]).factory("AllTagsService",["$firebaseArray",function(e){return function(){var t=firebase.database().ref("tags");return e(t)}}]).factory("TagsShowService",["$firebaseArray",function(e){
return function(t){var o=firebase.database().ref("tags"),a=o.orderByChild("name").equalTo(t);return e(a)}}]).factory("ArchiveService",["$firebaseArray",function(e){return{years:function(){var t=firebase.database().ref("archives");return e(t)},months:function(t){var o=firebase.database().ref("archives/"+t);return e(o)}}}]).factory("ArchiveShowService",["$firebaseArray",function(e){return function(t,o){var a=firebase.database().ref("archives/"+t+"/"+o);return e(a)}}]).factory("SendDataService",function(){function e(e){o=e}function t(){return o}var o={};return{set:e,get:t}}).factory("CurrentOrderService",["$window",function(e){function t(t){e.localStorage.setItem("orderData",angular.toJson(t))}function o(){var t=angular.fromJson(e.localStorage.getItem("orderData"));return JSON.parse(t)}return{set:t,get:o}}]).factory("HelperService",["moment","$q",function(e,t){return{parseYouTube:function(e){var t=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=t?t[1]:void console.log("The youtube url is not valid.")},base64MimeType:function(e){var t=null;if("string"!=typeof e)return t;var o=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return o&&o.length&&(t=o[1]),console.log("image type is ",t),t},getBase64Image:function(e){var t=e.replace(/^data:image\/(png|jpeg);base64,/,"");return t},b64toBlob:function(e,t,o){t=t||"",o=o||512;for(var a=atob(e),r=[],n=0;n<a.length;n+=o){for(var s=a.slice(n,n+o),l=new Array(s.length),i=0;i<s.length;i++)l[i]=s.charCodeAt(i);var c=new Uint8Array(l);r.push(c)}var u=new Blob(r,{type:t});return u},pageDown:function(e){return e<2?"":e-1},findFirst:function(e,t){var o=e-4*(1+t);return o>=0?o:0},getToday:function(){var t=e().unix();return t},titleToURL:function(e){return e.split(" ").join("-")},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},imgResize:function(e){console.log("inside resize!!");var o=t.defer(),a=new Image;return a.src=e,a.onload=function(){console.log(this.width+" "+this.height);var e=a.width/a.height;console.log("WHAT IS RATIO??? ",e);var t=document.createElement("canvas");if(e>=1.776&&a.height>=500){console.log("loadIMG: ",a);var r=(a.height-500)/a.height;t.height=500,t.width=a.width-a.width*r}else if(e<1.776&&a.width>=889){console.log("loadIMG: ",a);var r=(a.width-889)/a.width;t.width=889,t.height=a.height-a.height*r}else console.log("loadIMG: ",a),console.log("image is not big enough!");var n=t.getContext("2d");n.drawImage(a,0,0,t.width,t.height);var s=t.toDataURL("image/jpeg");o.resolve(s)},o.promise}}}]).factory("SubmitImage",["HelperService",function(e){return function(t,o,a,r){e.imgResize(a).then(function(a){var n=e.base64MimeType(a);console.log("TYPE IS ",n);var s=e.getBase64Image(a),l=e.b64toBlob(s,n),i={contentType:n},c=(1e32*Math.random()).toString(36),u=firebase.storage().ref(),d=u.child("blog-images/"+c).put(l,i);d.on(firebase.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){switch(e.code){case"storage/unauthorized":break;case"storage/canceled":break;case"storage/unknown":}},function(){console.log("upload finished");var e=d.snapshot.downloadURL;r(t,o,e,null)})})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIjAwIGhvbWVfY29udHJvbGxlci5qcyIsIjAxIGF1dGhfY29udHJvbGxlci5qcyIsIjAyIGJsb2dfYWRtaW5fY29udHJvbGxlci5qcyIsIjAzIGJsb2dfY29udHJvbGxlci5qcyIsIjA0IG1vZGFsX2NvbnRyb2xsZXIuanMiLCIwNSBuYXZfY29udHJvbGxlci5qcyIsIjA2IHNob3dfY29udHJvbGxlci5qcyIsIjA3IHN0b3JlX2NvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmVzLmpzIiwic2VydmljZXMuanMiXSwibmFtZXMiOlsiYXV0aFdhaXQiLCJBdXRoIiwiJHdhaXRGb3JTaWduSW4iLCJhdXRoUmVxdWlyZSIsIiRyZXF1aXJlU2lnbkluIiwiYW5ndWxhciIsIm1vZHVsZSIsInJ1biIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCIkbG9jYXRpb24iLCIkd2luZG93IiwiTWV0YVRhZ3MiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJlcnJvciIsImdvIiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2EiLCJwYWdlIiwicGF0aCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJVSVJvdXRlck1ldGF0YWdzUHJvdmlkZXIiLCIkcHJvdmlkZSIsInNldERlZmF1bHRUaXRsZSIsInNldERlZmF1bHREZXNjcmlwdGlvbiIsInNldFN0YXRpY1Byb3BlcnRpZXMiLCJvZzpzaXRlX25hbWUiLCJzZXRPR1VSTCIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwibWV0YVRhZ3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsImRvd25sb2FkS2V5IiwiRG93bmxvYWRLZXlTZXJ2aWNlIiwiJHN0YXRlUGFyYW1zIiwiaWQiLCIkbG9hZGVkIiwib25FbnRlciIsIiR0aW1lb3V0IiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRBdXRoIiwiQmxvZyIsIkJsb2dQb3N0cyIsIkFsbFRhZ3MiLCJBbGxUYWdzU2VydmljZSIsInRoaXNQb3N0IiwiVGhpc1Bvc3RTZXJ2aWNlIiwic2x1ZyIsIkFyY2hpdmUiLCJBcmNoaXZlU2hvd1NlcnZpY2UiLCJ5ZWFyIiwibW9udGgiLCJUYWdzU2hvdyIsIlRhZ3NTaG93U2VydmljZSIsInRhZ05hbWUiLCJwb3N0VGl0bGUiLCJwb3N0Qm9keSIsImdldFNob3dzIiwiR2V0U2hvd3MiLCJhbGxQcm9kdWN0cyIsIlByb2R1Y3RzU2VydmljZSIsIm9uZVByb2R1Y3QiLCJjdXJyZW50T3JkZXIiLCJDdXJyZW50T3JkZXJTZXJ2aWNlIiwiZ2V0IiwiaHRtbDVNb2RlIiwiZmlsdGVyIiwidmFsdWUiLCJlbmFibGUiLCJ3b3Jkd2lzZSIsIm1heCIsInRhaWwiLCJzb3VyY2UiLCJlbGVtZW50IiwiaHRtbCIsImxlbmd0aCIsInRleHQiLCIkc2NlIiwidmFsIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwibW9tZW50IiwiZm9ybWF0IiwiZXZlbnRzIiwiY3VycmVudERheSIsInVuaXgiLCJmaWx0ZXJlZCIsImZvckVhY2giLCJ0aGlzRXZlbnQiLCJ1bml4RGF0ZSIsInB1c2giLCJmcm9tTm93IiwiaXRlbXMiLCJzbGljZSIsInJldmVyc2UiLCIkc2NvcGUiLCIkaHR0cCIsImRhdGEiLCJtYWluTG9hZGVkIiwiTG9hZGVkU2VydmljZSIsIm1haW4iLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwid2lkdGgiLCJwYWRkaW5nIiwicGFkZGluZ0JvdHRvbSIsImxvYWRlZCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCIkZW1pdCIsImZhZGVIb21lIiwic2V0IiwibWFpbGNoaW1wU3VibWl0IiwiZm9ybSIsImVtYWlsIiwiaXNOYXYiLCIkdmFsaWQiLCJpc1BvcHVwIiwianNvbnAiLCJ0aGVuIiwicmVzIiwidXNlciIsIm1haWxDb25maXJtIiwic3VibWl0dGVkIiwibG9nZ2VkIiwiJG9uQXV0aFN0YXRlQ2hhbmdlZCIsImZpcmViYXNlVXNlciIsImxvZ2luIiwiJHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwicGFzc3dvcmQiLCJjYXRjaCIsIkhlbHBlclNlcnZpY2UiLCJTdWJtaXRJbWFnZSIsInRhZ3MiLCJjaGVja2VkVGFncyIsInJlc2V0TWVkaWEiLCJ5b3V0dWJlIiwiaW1hZ2UiLCJzdWJtaXQiLCJwb3N0IiwibWVkaWFTZWxlY3QiLCJhZGRQb3N0IiwicGFyc2VZb3VUdWJlIiwiYWRkVGFnIiwiJGFkZCIsIm5hbWUiLCJuZXdUYWciLCJyZWYiLCJwb3N0SWQiLCJrZXkiLCJyZXNpemVJbWciLCJpbWciLCJpbWdSZXNpemUiLCJkZWxldGVUYWciLCJpdGVtIiwiJHJlbW92ZSIsIiRpZCIsInBvc3RBcnJheSIsInNsdWdpZnkiLCJwb3N0RGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwibmV3VGFncyIsInByb3AiLCJ0aW1lc3RhbXAiLCJhcmNoaXZlUG9zdCIsImZpcmViYXNlIiwiZGF0YWJhc2UiLCJTZW5kRGF0YVNlcnZpY2UiLCIkdWliTW9kYWwiLCIkbG9nIiwib3JpZ2luYWxUYWdzIiwiY29weSIsInlvdXR1YmVJZCIsImNvbmZpcm1CbG9nRGVsZXRlIiwibW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJhbmltYXRpb24iLCJiYWNrZHJvcCIsInNpemUiLCJQb3N0IiwicmVzdWx0IiwiaW5mbyIsInVwZGF0ZVBvc3QiLCIkc2F2ZSIsInJlbW92ZSIsIm1lc3NhZ2UiLCIkdWliTW9kYWxJbnN0YW5jZSIsInRhZyIsInByb21wdGVkIiwib2siLCJuZXdOYW1lIiwidXBkYXRlIiwiY2xvc2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwiZGVsZXRlUHJvbXB0IiwiZGVsZXRlIiwicmVzcG9uc2UiLCJpIiwidGhpc1Bvc3RUYWdzIiwieWVzIiwibm8iLCJJbnN0YWdyYW1GYWN0b3J5IiwiVHdpdHRlckZhY3RvcnkiLCJsb2FkZWRJbnN0YSIsImxvYWRlZFR3aXR0ZXIiLCJwaG90b3MiLCJ0d2VldERhdGUiLCJhbGxUd2VldERhdGEiLCJjcmVhdGVkX2F0IiwidHdpdHRlclVzZXIiLCJ0d2l0dGVySGFuZGxlIiwic2NyZWVuX25hbWUiLCJ0d2VldElkIiwiaWRfc3RyIiwidHdlZXQiLCJ0d2VldEJvZHkiLCJmYXZvcml0ZXMiLCJyZXR3ZWV0cyIsImF1dGgiLCJhbGxUYWdzIiwibG9jYXRpb24iLCIkJHBhdGgiLCJwYXJzZVRpdGxlIiwidGl0bGVUb1VSTCIsImFsbFBvc3RzIiwicGFnZVVwIiwicGFyc2VJbnQiLCJwYWdlRG93biIsImZpcnN0IiwiZmluZEZpcnN0IiwibGFzdCIsInBvc3RzIiwiZWRpdFBvc3QiLCJmdWxsQmxvZyIsImoiLCJibG9nS2V5IiwicGFyYW1zIiwidGl0bGVQYXJzZWQiLCJ0aGlzVGFnIiwic2VsZWN0UG9zdHMiLCJyZWNlbnRQb3N0cyIsIkFyY2hpdmVTZXJ2aWNlIiwieWVhcnMiLCJuZXdCbG9nUG9zdCIsImVkaXRUYWciLCJlZGl0U2hvdyIsImluZGV4IiwiJGZpcmViYXNlQXJyYXkiLCJzaG93cyIsInNob3ciLCJkYXRlT2JqIiwiZGF0ZSIsInNob3dzUmVmIiwic2hvd3NBcnJheSIsInRoaXNEYXRlIiwic2hvd0RhdGUiLCJ0aGlzVW5peCIsIm9iamVjdCIsInNob3dMb2NhdGlvbiIsInZlbnVlIiwidmVudWVMaW5rIiwidGlja2V0TGluayIsIiRzZXNzaW9uU3RvcmFnZSIsInciLCJjbGllbnRXaWR0aCIsImgiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsImhlaWdodCIsIm1vYmlsZUJHIiwibW9iaWxlV2lkdGgiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwicG9wVXAiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsSGVpZ2h0IiwiYXBwZW5kQ2hpbGQiLCJvdmVybGF5IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xvc2VQb3B1cCIsInRvU3RvcmUiLCJ0b2dnbGUiLCJmYWRlIiwibG9nb3V0IiwiJHNpZ25PdXQiLCJ3aGljaFBhZ2UiLCJzZWxlY3RlZEl0ZW0iLCJzZWxlY3RlZCIsInByb2R1Y3RzIiwic2hvd1Byb2R1Y3QiLCJ0b0NoZWNrb3V0IiwiY29udGludWUiLCJwcm9kdWN0IiwiaW1hZ2VzIiwiY3VycmVudEFjdGl2ZVNyYyIsInNrdXMiLCJtYWluSW1nIiwic3JjIiwiaXNBY3RpdmVJbWciLCJ0aGlzIiwiY2hhbmdlQWN0aXZlIiwiJGxvY2FsU3RvcmFnZSIsIiRzdG9yYWdlIiwic2hvd1BhdGgiLCJwYXRoQ291bnQiLCJuZ0NhcnQiLCJjYXJ0SXRlbXMiLCJnZXRJdGVtcyIsInNoaXBwaW5nIiwiY291bnRyeSIsImJpbGxpbmciLCJtYWlsaW5nTGlzdEFkZCIsInNoaXBwaW5nU2FtZUJvb2wiLCJzdWNjZXNzIiwiY291bnRyaWVzIiwic3RhdGVzIiwicHJvdmluY2VzIiwiaXNTaGlwcGluZ1NhbWUiLCJzaGlwcGluZ1NhbWUiLCJjb3VudHJ5Q2hhbmdlIiwiY29kZSIsInNoaXBwaW5nVHlwZSIsInNoaXBSYXRlcyIsImRvbWVzdGljIiwiaW50ZXJuYXRpb25hbCIsInN1Ym1pdEZvcm0iLCJzaGlwIiwiY29weUl0ZW1zIiwiX2RhdGEiLCJhdHRyIiwiYmlsbGluZ0FkZHJlc3MiLCJyZXEiLCJtZXRob2QiLCJvcmRlciIsImN1cnJlbmN5IiwiYWRkcmVzcyIsImxpbmUxIiwiYWRkcmVzczEiLCJsaW5lMiIsImFkZHJlc3MyIiwiY2l0eSIsInN0YXRlUHJvdmluY2UiLCJzaG9ydCIsInBvc3RhbF9jb2RlIiwicG9zdGFsQ29kZSIsIm1ldGFkYXRhIiwidGF4UmF0ZSIsImdldFRheFJhdGUiLCJzdGF0dXMiLCJtYWlsaW5nTGlzdCIsImFkZHJlc3NTdWJtaXQiLCJvcmRlckRhdGEiLCIkZXZhbEFzeW5jIiwiZXJyb3JNZXNzYWdlIiwibG9jYWxTdG9yYWdlIiwiY3VycmVudFdhUmF0ZSIsInBhcnNlZFRheCIsInBhcnNlRmxvYXQiLCJzZXRUYXhSYXRlIiwicG9zdGFsIiwidG90YWxSYXRlIiwic2hpcE9wdGlvbnMiLCJzaGlwcGluZ19tZXRob2RzIiwic2F2ZWRTZWxlY3RlZFNoaXAiLCJzZWxlY3RlZF9zaGlwcGluZ19tZXRob2QiLCJzZWxlY3RlZFNoaXAiLCIkd2F0Y2giLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwic2NvcGUiLCJzZXRTaGlwcGluZyIsImFtb3VudCIsIlN0cmlwZSIsImNhcmQiLCJjcmVhdGVUb2tlbiIsIm51bWJlciIsImN2YyIsImV4cCIsImV4cGlyeSIsImFkZHJlc3NfbGluZTEiLCJhZGRyZXNzX2xpbmUyIiwiYWRkcmVzc19jaXR5IiwiYWRkcmVzc19zdGF0ZSIsImFkZHJlc3NfemlwIiwiYWRkcmVzc19jb3VudHJ5IiwiaGFuZGxlU3RyaXBlIiwidG9rZW4iLCJvcmRlcklkIiwicGF5bWVudFN1Ym1pdCIsInRva2VuRGF0YSIsIm9yZGVyQ29tcGxldGUiLCJ0eXBlIiwic2hpcFNlcnZpY2UiLCJjcmVhdGVDaGFyZ2UiLCJlbXB0eSIsIiRyZXNldCIsImRpcmVjdGl2ZSIsImZpbGVyZWFkIiwibGluayIsImF0dHJpYnV0ZXMiLCJiaW5kIiwiY2hhbmdlRXZlbnQiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwibG9hZEV2ZW50IiwiJGFwcGx5IiwidGFyZ2V0IiwicmVhZEFzRGF0YVVSTCIsImZpbGVzIiwidGVtcGxhdGUiLCJjb3VudHJ5Q29kZSIsImVyciIsImZhY3RvcnkiLCIkZmlyZWJhc2VBdXRoIiwiJHEiLCJkZWZlcnJlZCIsImRlZmVyIiwicHJvbWlzZSIsInByb2R1Y3RJZCIsInNlcnZpY2UiLCJjYWNoZSIsIm1zZyIsInJlamVjdCIsImhhc2giLCJvbmNlIiwic25hcHNob3QiLCJzbmFwIiwiY2FsY0RheSIsIm9yZGVyQnlDaGlsZCIsInN0YXJ0QXQiLCJibG9nUmVmIiwicG9zdFJlZiIsInRoaXNQb3N0UmVmIiwiZXF1YWxUbyIsInRhZ1JlZiIsIiRmaXJlYmFzZU9iamVjdCIsInRhZ1Nob3dSZWYiLCJ5ZWFyUmVmIiwibW9udGhzIiwibW9udGhSZWYiLCJhcmNoaXZlUmVmIiwic2F2ZWREYXRhIiwic2V0SXRlbSIsInRvSnNvbiIsImZyb21Kc29uIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInZpZGVvaWQiLCJtYXRjaCIsImJhc2U2NE1pbWVUeXBlIiwiZW5jb2RlZCIsIm1pbWUiLCJnZXRCYXNlNjRJbWFnZSIsImRhdGFVUkwiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYjY0dG9CbG9iIiwiYjY0RGF0YSIsImNvbnRlbnRUeXBlIiwic2xpY2VTaXplIiwiYnl0ZUNoYXJhY3RlcnMiLCJhdG9iIiwiYnl0ZUFycmF5cyIsIm9mZnNldCIsImJ5dGVOdW1iZXJzIiwiQXJyYXkiLCJjaGFyQ29kZUF0IiwiYnl0ZUFycmF5IiwiVWludDhBcnJheSIsImJsb2IiLCJCbG9iIiwiY3VycmVudFBhZ2UiLCJjYWxjRmlyc3QiLCJnZXRUb2RheSIsInNwbGl0Iiwiam9pbiIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJsb2FkSU1HIiwiSW1hZ2UiLCJhc3BlY3RSYXRpbyIsImNhbnZhcyIsInBlcmNlbnRDaGFuZ2UiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicmVzaXplZFJlc3VsdCIsInRvRGF0YVVSTCIsImNhbGxiYWNrIiwibmV3SW1hZ2UiLCJiYXNlNjRyZXN1bHQiLCJmaWxlIiwicGhvdG9JZCIsIk1hdGgiLCJyYW5kb20iLCJzdG9yYWdlUmVmIiwic3RvcmFnZSIsInVwbG9hZFRhc2siLCJjaGlsZCIsInB1dCIsIm9uIiwiVGFza0V2ZW50IiwiU1RBVEVfQ0hBTkdFRCIsInByb2dyZXNzIiwiYnl0ZXNUcmFuc2ZlcnJlZCIsInRvdGFsQnl0ZXMiLCJUYXNrU3RhdGUiLCJQQVVTRUQiLCJSVU5OSU5HIiwiZG93bmxvYWRVUkwiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLFdBQUEsT0FBQSxTQUFBQyxHQUFBLE1BQUFBLEdBQUFDLG1CQUNBQyxhQUFBLE9BQUEsU0FB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Q0EsSUFBQSx1QkFDQSxLQUNBLEtBQUEsbUJBRUEsS0FDQSxLQUFBLHFCQUlBLFdBQ0E5UixRQUFBQyxJQUFBLGtCQUNBLElBQUE0ZCxHQUFBWixFQUFBekUsU0FBQXFGLFdBQ0FyQixHQUFBblcsRUFBQWtCLEVBQUFzVyxFQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhdXRoV2FpdCA9IFtcIkF1dGhcIiwgZnVuY3Rpb24oQXV0aCkgeyByZXR1cm4gQXV0aC4kd2FpdEZvclNpZ25JbigpOyB9XVxudmFyIGF1dGhSZXF1aXJlID0gW1wiQXV0aFwiLCBmdW5jdGlvbihBdXRoKSB7IHJldHVybiBBdXRoLiRyZXF1aXJlU2lnbkluKCk7IH1dXG5cbmFuZ3VsYXIubW9kdWxlKFwiU2lzdGVyc0FwcFwiLCBbJ1Npc3RlcnNDdHJscycsJ1Npc3RlcnNEaXJlY3RpdmVzJywndWkucm91dGVyJywndWkuYm9vdHN0cmFwJywnZmlyZWJhc2UnLCdhbmd1bGFyTW9tZW50JywnbmdDYXJ0JywnbmdTdG9yYWdlJywnYW5ndWxhclBheW1lbnRzJywnbmdBbmltYXRlJywncGljYXJkeS5mb250YXdlc29tZScsJ3RleHRBbmd1bGFyJywndWkucm91dGVyLm1ldGF0YWdzJywnYW5ndWxhci1wYXJhbGxheCddKVxuXG5cblxuLnJ1bihbXCIkcm9vdFNjb3BlXCIsIFwiJHN0YXRlXCIsXCIkbG9jYXRpb25cIixcIiR3aW5kb3dcIiwnTWV0YVRhZ3MnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc3RhdGUsICRsb2NhdGlvbiwgJHdpbmRvdyxNZXRhVGFncykge1xuICAkcm9vdFNjb3BlLk1ldGFUYWdzID0gTWV0YVRhZ3M7XG4gICRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlRXJyb3JcIiwgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgLy8gV2UgY2FuIGNhdGNoIHRoZSBlcnJvciB0aHJvd24gd2hlbiB0aGUgJHJlcXVpcmVTaWduSW4gcHJvbWlzZSBpcyByZWplY3RlZFxuICAgIC8vIGFuZCByZWRpcmVjdCB0aGUgdXNlciBiYWNrIHRvIHRoZSBob21lIHBhZ2VcbiAgICBpZiAoZXJyb3IgPT09IFwiQVVUSF9SRVFVSVJFRFwiKSB7XG4gICAgICAkc3RhdGUuZ28oXCJsb2dpblwiKTtcbiAgICB9XG4gIH0pO1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEkd2luZG93LmdhKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gXG4gICAgICAgICAgICAgICAgJHdpbmRvdy5nYSgnc2VuZCcsICdwYWdldmlldycsIHsgcGFnZTogJGxvY2F0aW9uLnBhdGgoKSB9KTtcblxuXG4gIH0pO1xuXG59XSlcblxuXG5cblxuLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsJyRsb2NhdGlvblByb3ZpZGVyJywnVUlSb3V0ZXJNZXRhdGFnc1Byb3ZpZGVyJywnJHByb3ZpZGUnLCBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyLCBVSVJvdXRlck1ldGF0YWdzUHJvdmlkZXIsICRwcm92aWRlKXtcbiAgVUlSb3V0ZXJNZXRhdGFnc1Byb3ZpZGVyXG4gICAgICAgIC5zZXREZWZhdWx0VGl0bGUoJ1NJU1RFUlMnKVxuICAgICAgICAuc2V0RGVmYXVsdERlc2NyaXB0aW9uKCdTZWF0dGxlIGR1by4gXCJEcmluayBDaGFtcGFnbmVcIiwgdGhlIGRlYnV0IGFsYnVtLCBjb21pbmcgc29vbiEnKVxuICAgICAgICAuc2V0U3RhdGljUHJvcGVydGllcyh7XG4gICAgICAgICAgICAgICAgJ29nOnNpdGVfbmFtZSc6ICdTSVNURVJTJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgLnNldE9HVVJMKHRydWUpO1xuXG5cblxuICBcbiAgXG4gIFxuICBcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gIC5zdGF0ZSgnaG9tZScsIHtcbiAgICB1cmw6ICcvJyxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTZWF0dGxlIGR1by4gXCJEcmluayBDaGFtcGFnbmVcIiwgdGhlIGRlYnV0IGFsYnVtLCBjb21pbmcgc29vbiEnXG4gICAgICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2hvbWUuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0hvbWVDdHJsJ1xuICB9KVxuICAuc3RhdGUoJ2Fib3V0Jywge1xuICAgIHVybDogJy9hYm91dCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYWJvdXQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Fib3V0Q3RybCdcbiAgfSlcblxuICAgLnN0YXRlKCdwcmVzcycsIHtcbiAgICB1cmw6ICcvcHJlc3MnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3ByZXNzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcmVzc0N0cmwnXG4gIH0pXG5cbiAgICAuc3RhdGUoJ2NvbnRhY3QnLCB7XG4gICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2NvbnRhY3QuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0NvbnRhY3RDdHJsJ1xuICB9KVxuXG4gIC5zdGF0ZSgnZG93bmxvYWQnLCB7XG4gICAgdXJsOiAnL2Rvd25sb2FkLzppZCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJkb3dubG9hZEtleVwiOiBmdW5jdGlvbihEb3dubG9hZEtleVNlcnZpY2UsICRzdGF0ZVBhcmFtcyl7XG4gICAgICAgIHJldHVybiBEb3dubG9hZEtleVNlcnZpY2UoJHN0YXRlUGFyYW1zLmlkKS4kbG9hZGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkVudGVyOiBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHRpbWVvdXQsIGRvd25sb2FkS2V5KSB7XG4gICAgICBpZiAoZG93bmxvYWRLZXkgPT09IHRydWUpIHtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2VzcyFcIik7XG4gICAgICAgICAgICAgICAgICAvLyAkc3RhdGUuZ28oJ2Rvd25sb2FkQ29uZmlybScpO1xuICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZhaWxlZCFcIik7XG4gICAgICAgICAgICAgICAgICAvLyAkc3RhdGUuZ28oJ2Rvd25sb2FkRmFpbGVkJyk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuXG4gIC5zdGF0ZSgnYmxvZycsIHtcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2Jsb2cuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dNYXN0ZXJDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgXCJCbG9nXCI6IGZ1bmN0aW9uKEJsb2dQb3N0cyl7XG4gICAgICAgIHJldHVybiBCbG9nUG9zdHMoKS4kbG9hZGVkKCk7XG4gICAgICB9ICAgICAgXG4gICAgfVxuICB9KVxuXG4gIC5zdGF0ZSgnYmxvZy1uZXcnLCB7XG4gICAgdXJsOiAnL2Jsb2cvbmV3JyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL25ld0Jsb2dQb3N0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdOZXdCbG9nQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoUmVxdWlyZSxcbiAgICAgIFwiQWxsVGFnc1wiOiBmdW5jdGlvbihBbGxUYWdzU2VydmljZSl7XG4gICAgICAgIHJldHVybiBBbGxUYWdzU2VydmljZSgpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIC5zdGF0ZSgnYmxvZy1lZGl0Jywge1xuICAgIHVybDogJy9ibG9nL2VkaXQvOnNsdWcnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvZWRpdEJsb2dQb3N0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdFZGl0QmxvZ0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFJlcXVpcmUsXG4gICAgICBcIkFsbFRhZ3NcIjogZnVuY3Rpb24oQWxsVGFnc1NlcnZpY2Upe1xuICAgICAgICByZXR1cm4gQWxsVGFnc1NlcnZpY2UoKS4kbG9hZGVkKCk7XG4gICAgICB9LFxuICAgICAgXCJ0aGlzUG9zdFwiOiBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFRoaXNQb3N0U2VydmljZSl7XG4gICAgICAgIHJldHVybiBUaGlzUG9zdFNlcnZpY2UoJHN0YXRlUGFyYW1zLnNsdWcpLiRsb2FkZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIC5zdGF0ZSgnYmxvZy10YWdzLWVkaXQnLCB7XG4gICAgdXJsOiAnL2Jsb2cvZWRpdFRhZ3MvJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2VkaXRUYWdzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdFZGl0QmxvZ1RhZ3NDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhSZXF1aXJlLFxuICAgICAgXCJBbGxUYWdzXCI6IGZ1bmN0aW9uKEFsbFRhZ3NTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIEFsbFRhZ3NTZXJ2aWNlKCkuJGxvYWRlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICAuc3RhdGUoJ2Jsb2cubWFpbicsIHtcbiAgICB1cmw6ICcvYmxvZycsXG4gICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUyAtIEJsb2cnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVcGRhdGVzLCBuZXdzLCBhbmQgY29tbWVudGFyeSBmcm9tIFNlYXR0bGUgYmFuZCBTSVNURVJTLidcbiAgICAgICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9ibG9nL2Jsb2ctY29udGVudC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQmxvZ0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXRcbiAgICB9XG4gIH0pXG4gICAgLnN0YXRlKCdibG9nLnBhZ2UnLCB7XG4gICAgdXJsOiAnL2Jsb2cvOnBhZ2UnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBCbG9nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlcywgbmV3cywgYW5kIGNvbW1lbnRhcnkgZnJvbSBTZWF0dGxlIGJhbmQgU0lTVEVSUy4nXG4gICAgICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0ICAgICBcbiAgICB9XG4gIH0pXG5cbiAgICAgLnN0YXRlKCdibG9nLmFyY2hpdmUnLCB7XG4gICAgdXJsOiAnL2Jsb2cvYXJjaGl2ZXMvOnllYXIvOm1vbnRoJyxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gQmxvZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZXMsIG5ld3MsIGFuZCBjb21tZW50YXJ5IGZyb20gU2VhdHRsZSBiYW5kIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy1jb250ZW50Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdCbG9nQXJjaGl2ZUN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBcIkJsb2dcIjogZnVuY3Rpb24oQmxvZ1Bvc3RzKXtcbiAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgIH0sXG4gICAgICBcIkFyY2hpdmVcIjogZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBBcmNoaXZlU2hvd1NlcnZpY2Upe1xuICAgICAgICByZXR1cm4gQXJjaGl2ZVNob3dTZXJ2aWNlKCRzdGF0ZVBhcmFtcy55ZWFyLCAkc3RhdGVQYXJhbXMubW9udGgpLiRsb2FkZWQoKTtcbiAgICAgIH0gICAgICBcbiAgICB9XG4gIH0pXG5cbiAgICAuc3RhdGUoJ2Jsb2cuYXJjaGl2ZVBhZ2UnLCB7XG4gICAgICB1cmw6ICcvYmxvZy9hcmNoaXZlcy86eWVhci86bW9udGgvOnBhZ2UnLFxuICAgICAgbWV0YVRhZ3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnU0lTVEVSUyAtIEJsb2cnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVcGRhdGVzLCBuZXdzLCBhbmQgY29tbWVudGFyeSBmcm9tIFNlYXR0bGUgYmFuZCBTSVNURVJTLidcbiAgICAgICAgfSxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy1jb250ZW50Lmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ0Jsb2dBcmNoaXZlQ3RybCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICAgIHJldHVybiBCbG9nUG9zdHMoKS4kbG9hZGVkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiQXJjaGl2ZVwiOiBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEFyY2hpdmVTaG93U2VydmljZSl7XG4gICAgICAgICAgcmV0dXJuIEFyY2hpdmVTaG93U2VydmljZSgkc3RhdGVQYXJhbXMueWVhciwgJHN0YXRlUGFyYW1zLm1vbnRoKS4kbG9hZGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH0pXG5cbiAgICAuc3RhdGUoJ2Jsb2cudGFncycsIHtcbiAgICB1cmw6ICcvYmxvZy90YWdzLzp0YWdOYW1lJyxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gQmxvZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZXMsIG5ld3MsIGFuZCBjb21tZW50YXJ5IGZyb20gU2VhdHRsZSBiYW5kIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvYmxvZy1jb250ZW50Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdCbG9nVGFnc0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBcIkJsb2dcIjogZnVuY3Rpb24oQmxvZ1Bvc3RzKXtcbiAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgIH0sXG4gICAgICBcIlRhZ3NTaG93XCI6IGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVGFnc1Nob3dTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIFRhZ3NTaG93U2VydmljZSgkc3RhdGVQYXJhbXMudGFnTmFtZSkuJGxvYWRlZCgpO1xuICAgICAgfSAgICAgIFxuICAgIH1cbiAgfSlcblxuXG5cbiAgLnN0YXRlKCdibG9nLnNob3cnLCB7XG4gICAgdXJsOiAnL2Jsb2cvc2hvdy86c2x1ZycsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9ibG9nLWNvbnRlbnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0Jsb2dTaG93Q3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdCxcbiAgICAgIFwidGhpc1Bvc3RcIjogZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUaGlzUG9zdFNlcnZpY2UpeyAgICAgICAgXG4gICAgICAgIHJldHVybiBUaGlzUG9zdFNlcnZpY2UoJHN0YXRlUGFyYW1zLnNsdWcpLiRsb2FkZWQoKTtcbiAgICAgIH0sXG4gICAgICBcIkJsb2dcIjogZnVuY3Rpb24oQmxvZ1Bvc3RzKXtcbiAgICAgICAgcmV0dXJuIEJsb2dQb3N0cygpLiRsb2FkZWQoKTtcbiAgICAgIH0gICAgICAgXG4gICAgfSxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6IGZ1bmN0aW9uKHRoaXNQb3N0KXtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3aGF0IGlzIEJsb2c/IFwiLHRoaXNQb3N0KTtcbiAgICAgICAgICAgICAgdmFyIHRpdGxlID0gXCJTSVNURVJTIC0gXCIgKyB0aGlzUG9zdFswXS5wb3N0VGl0bGU7XG4gICAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZnVuY3Rpb24odGhpc1Bvc3Qpe1xuICAgICAgICAgICAgICByZXR1cm4gdGhpc1Bvc3RbMF0ucG9zdEJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIH0pXG4gIFxuXG5cbiAgLnN0YXRlKCdzaG93cycsIHtcbiAgICB1cmw6ICcvc2hvd3MnLFxuICAgIG1ldGFUYWdzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1NJU1RFUlMgLSBTaG93cycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwY29taW5nIHNob3dzIGZvciBTZWF0dGxlIGR1byBTSVNURVJTLidcbiAgICAgICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9zaG93cy9zaG93cy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnU2hvd3NDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgZ2V0U2hvd3M6IGZ1bmN0aW9uKEdldFNob3dzKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJhcHAgcmVzb2x2ZSBlbnRlcmVkXCIpO1xuICAgICAgICByZXR1cm4gR2V0U2hvd3MoKS4kbG9hZGVkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIC5zdGF0ZSgnc3RvcmUnLCB7XG4gICAgdXJsOiAnL3N0b3JlJyxcbiAgICBtZXRhVGFnczoge1xuICAgICAgICAgICAgdGl0bGU6ICdTSVNURVJTIC0gU3RvcmUnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgb2ZmaWNpYWwgc3RvcmUgZm9yIFNlYXR0bGUgZHVvIFNJU1RFUlMuJ1xuICAgICAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL3N0b3JlLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTdG9yZUN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXQsXG4gICAgICBcImFsbFByb2R1Y3RzXCI6IGZ1bmN0aW9uKFByb2R1Y3RzU2VydmljZSl7XG4gICAgICAgIHJldHVybiBQcm9kdWN0c1NlcnZpY2UuYWxsUHJvZHVjdHMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdzdG9yZUNhcnQnLCB7XG4gICAgdXJsOiAnL3N0b3JlL2NhcnQnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NhcnQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlQ2FydEN0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXRcbiAgICB9XG4gIH0pXG5cbiAgLnN0YXRlKCdzdG9yZVNob3cnLCB7XG4gICAgdXJsOiAnL3N0b3JlLzppZCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvc3RvcmVTaG93Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTdG9yZVNob3dDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgXCJvbmVQcm9kdWN0XCI6IGZ1bmN0aW9uKFByb2R1Y3RzU2VydmljZSwgJHN0YXRlUGFyYW1zKXtcbiAgICAgICAgcmV0dXJuIFByb2R1Y3RzU2VydmljZS5vbmVQcm9kdWN0KCRzdGF0ZVBhcmFtcy5pZCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuICAuc3RhdGUoJ2NoZWNrb3V0Jywge1xuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NoZWNrb3V0VGVtcGxhdGUuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0NoZWNrb3V0VGVtcGxhdGVDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgIH1cbiAgfSlcbiAgLnN0YXRlKCdjaGVja291dC5hZGRyZXNzJywge1xuICAgIHVybDogJy9zdG9yZS9jaGVja291dC9hZGRyZXNzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9zdG9yZS9jaGVja291dEFkZHJlc3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1N0b3JlQWRkcmVzc0N0cmwnLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIFwiY3VycmVudEF1dGhcIjogYXV0aFdhaXRcbiAgICB9XG4gIH0pXG4gIC5zdGF0ZSgnY2hlY2tvdXQucGF5bWVudCcsIHtcbiAgICB1cmw6ICcvc3RvcmUvY2hlY2tvdXQvcGF5bWVudCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3RvcmUvY2hlY2tvdXRQYXltZW50Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdTdG9yZVBheW1lbnRDdHJsJyxcbiAgICByZXNvbHZlOiB7XG4gICAgICBcImN1cnJlbnRBdXRoXCI6IGF1dGhXYWl0LFxuICAgICAgY3VycmVudE9yZGVyOiBmdW5jdGlvbihDdXJyZW50T3JkZXJTZXJ2aWNlKXtcbiAgICAgICAgcmV0dXJuIEN1cnJlbnRPcmRlclNlcnZpY2UuZ2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gICAuc3RhdGUoJ2NoZWNrb3V0LmNvbmZpcm0nLCB7XG4gICAgdXJsOiAnL3N0b3JlL2NoZWNrb3V0L2NvbmZpcm0nLFxuICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3N0b3JlL2NoZWNrb3V0Q29uZmlybS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnU3RvcmVDb25maXJtQ3RybCcsXG4gICAgcmVzb2x2ZToge1xuICAgICAgXCJjdXJyZW50QXV0aFwiOiBhdXRoV2FpdFxuICAgIH1cbiAgfSlcbiAgXG4gIFxuICAuc3RhdGUoJ2xvZ2luJywge1xuICAgIHVybDogJy9sb2dpbicsXG4gICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvbG9naW4uaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcbiAgfSlcblxuICBcbiAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG59XSlcblxuLmZpbHRlcignY3V0JywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBlbmFibGUsIHdvcmR3aXNlLCBtYXgsIHRhaWwpIHtcbiAgICB2YXIgc291cmNlID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2Lz4nKS5odG1sKHZhbHVlKTtcbiAgICBjb25zb2xlLmxvZyhcInNvdXJjZTogXCIsc291cmNlKTtcbiAgICB2YXIgbGVuZ3RoID0gc291cmNlLnRleHQoKS5sZW5ndGg7XG4gICAgY29uc29sZS5sb2coXCJsZW5ndGg6IFwiLGxlbmd0aCk7XG4gICAgLy8gaWYgKCFwbGFpblRleHQpIHJldHVybiAnJztcbiAgICAvLyBpZiAocGxhaW5UZXh0ICYmICFlbmFibGUpIHtcbiAgICAvLyAgIHJldHVybiB2YWx1ZTtcbiAgICAvLyB9IGVsc2UgaWYgKHBsYWluVGV4dCAmJiBlbmFibGUpe1xuICAgIC8vICAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gICAgLy8gICBpZiAoIW1heCkge1xuICAgIC8vICAgICByZXR1cm4gdmFsdWU7XG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAocGxhaW5UZXh0Lmxlbmd0aCA8PSBtYXgpe1xuICAgIC8vICAgICByZXR1cm4gdmFsdWU7XG4gICAgLy8gICB9IFxuICAgIC8vICAgZWxlbWVudFswXS5pbm5lclRleHQgPSBwbGFpblRleHQuc3Vic3RyKDAsIG1heCk7XG4gICAgLy8gICBpZiAod29yZHdpc2UpIHtcbiAgICAvLyAgICAgdmFyIGxhc3RzcGFjZSA9IHBsYWluVGV4dC5sYXN0SW5kZXhPZignICcpO1xuICAgIC8vICAgICBpZiAobGFzdHNwYWNlICE9IC0xKSB7XG4gICAgLy8gICAgICAgLy9BbHNvIHJlbW92ZSAuIGFuZCAsIHNvIGl0cyBnaXZlcyBhIGNsZWFuZXIgcmVzdWx0LlxuICAgIC8vICAgICAgIGlmIChwbGFpblRleHQuY2hhckF0KGxhc3RzcGFjZS0xKSA9PSAnLicgfHwgdmFsdWUuY2hhckF0KGxhc3RzcGFjZS0xKSA9PSAnLCcpIHtcbiAgICAvLyAgICAgICAgIGxhc3RzcGFjZSA9IGxhc3RzcGFjZSAtIDE7XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICAgIGVsZW1lbnRbMF0uaW5uZXJUZXh0ID0gdmFsdWUuc3Vic3RyKDAsIGxhc3RzcGFjZSk7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgICAgXG4gICAgLy8gLy8gICBjb25zb2xlLmxvZyhcInZhbHVlOiBcIix2YWx1ZSk7XG4gICAgLy8gLy8gICByZXR1cm4gZWxlbWVudFswXS5vdXRlckhUTUwgKyAodGFpbCB8fCAn4oCmJyk7XG4gICAgLy8gfVxuICB9O1xufSlcblxuLmZpbHRlcigndHJ1c3RBc1Jlc291cmNlVXJsJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuICRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKCdodHRwOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycrdmFsKTtcbiAgfTtcbn1dKVxuXG5cbi5maWx0ZXIoJ01vbWVudEZpbHRlcicsIFsnbW9tZW50JywgZnVuY3Rpb24obW9tZW50KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuICBtb21lbnQodmFsKS5mb3JtYXQoJ2RkZGQsIE1NTU0gRG8sIFlZWVknKTtcbiAgfVxufV0pXG5cbi5maWx0ZXIoJ3Rvb09sZCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnRzKSB7XG4gICAgdmFyIGN1cnJlbnREYXkgPSBtb21lbnQoKS51bml4KClcbiAgICB2YXIgZmlsdGVyZWQgPSBbXTtcbiAgICBhbmd1bGFyLmZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIHRoaXNFdmVudCA9IGV2ZW50LnVuaXhEYXRlLzEwMDA7XG4gICAgICBpZiAoKGN1cnJlbnREYXkgLSB0aGlzRXZlbnQpIDw9IDg2NDAwKSB7XG4gICAgICAgIGZpbHRlcmVkLnB1c2goZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfTtcbn0pXG5cbi5maWx0ZXIoJ0RlbGl2ZXJ5RXN0RGF0ZScsIFsnbW9tZW50JywgZnVuY3Rpb24obW9tZW50KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuICBtb21lbnQodmFsKS5mb3JtYXQoJ2RkZGQsIE1NTU0gRG8nKTtcbiAgfVxufV0pXG5cbi5maWx0ZXIoJ3RpbWVBZ28nLCBbJ21vbWVudCcsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbih2YWwpe1xuICAgIHJldHVybiBtb21lbnQodmFsKS5mcm9tTm93KCk7XG4gIH1cbn1dKVxuXG4uZmlsdGVyKCdyZXZlcnNlJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICByZXR1cm4gaXRlbXMuc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgfTtcbiAgfSlcblxuXG5cbi5maWx0ZXIoJ2NlbnRzVG9Eb2xsYXJzJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCl7XG4gICAgcmV0dXJuICB2YWwvMTAwO1xuICB9XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnLCBbJ1Npc3RlcnNTZXJ2aWNlcyddKVxuXG5cbi5jb250cm9sbGVyKCdNYWluQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyR0aW1lb3V0JywnJGh0dHAnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsJGh0dHApIHtcbiRzY29wZS4kb24oJ2xvYWRNYWluQ29udGFpbmVyJywgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT09IFwibG9hZGVkXCIpe1xuICAgICAgJHNjb3BlLm1haW5Mb2FkZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUubWFpbkxvYWRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cblxufV0pXG5cbi5jb250cm9sbGVyKCdIb21lQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyR0aW1lb3V0JywnJGh0dHAnLCdMb2FkZWRTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0LCRodHRwLExvYWRlZFNlcnZpY2UpIHtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjQ3LCAyMzcsIDI0NSwgMCknO1xuICBtYWluLnN0eWxlLndpZHRoID0gJyc7XG4gIG1haW4uc3R5bGUucGFkZGluZyA9IFwiXCI7XG4gIG1haW4uc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiNDAwcHhcIjtcbiAgXG4gICRzY29wZS5sb2FkZWQgPSBMb2FkZWRTZXJ2aWNlLmdldCgpO1xuICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgaWYgKCEkc2NvcGUubG9hZGVkICYmIHdpZHRoID4gODA2KXsgXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgICAgICRzY29wZS5mYWRlSG9tZSA9IHRydWU7XG4gICAgICBMb2FkZWRTZXJ2aWNlLnNldCh0cnVlKTtcbiAgICB9LCAyNTAwKTtcbiAgfSBlbHNlIHtcbiAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgICAgICRzY29wZS5mYWRlSG9tZSA9IHRydWU7XG4gICAgICBMb2FkZWRTZXJ2aWNlLnNldCh0cnVlKTtcbiAgICB9LCAyNTAwKTtcbiAgfSBcblxuXG4gICAgJHNjb3BlLm1haWxjaGltcFN1Ym1pdCA9IGZ1bmN0aW9uKGZvcm0sIGVtYWlsLCBpc05hdil7XG4gICAgaWYoZm9ybS4kdmFsaWQpe1xuICAgICAkc2NvcGUuaXNQb3B1cCA9IGZhbHNlO1xuICAgIHZhciB1cmwgPSBcIi8vc2lzdGVyc3RoZWJhbmQudXMxNC5saXN0LW1hbmFnZS5jb20vc3Vic2NyaWJlL3Bvc3QtanNvbj91PWJjMzg3MjBiMGJjYzdhMzI2NDFiYjU3MmMmYW1wO2lkPTI0MmY0YWRjODkmRU1BSUw9XCIrZW1haWwrXCImYz1KU09OX0NBTExCQUNLXCJcbiAgICAkaHR0cC5qc29ucCh1cmwpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpe1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICRzY29wZS51c2VyID0ge307XG4gICAgICAgIGlmKGlzTmF2KXtcbiAgICAgICAgJHNjb3BlLm1haWxDb25maXJtID0gdHJ1ZTtcbiAgICAgICAgICAvLyAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIC8vICAgJHNjb3BlLm1haWxDb25maXJtID0gZmFsc2U7XG4gICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIm1haWwgY29uZmlybSByZXNldFwiKTtcbiAgICAgICAgICAvLyB9LDcwMDApO1xuICAgICAgICB9XG4gICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKXtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfSk7XG5cbiAgICB9XG4gIH1cblxuXG59XSlcblxuLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpJztcbiAgbWFpbi5zdHlsZS5wYWRkaW5nID0gXCIwIDAgMTc2cHggMFwiO1xuICBtYWluLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xufSkgXG5cbi5jb250cm9sbGVyKCdDb250YWN0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJztcbiAgbWFpbi5zdHlsZS5wYWRkaW5nID0gXCJcIjtcbiAgbWFpbi5zdHlsZS53aWR0aCA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xufSkgXG5cbi5jb250cm9sbGVyKCdQcmVzc0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKSc7XG4gIG1haW4uc3R5bGUucGFkZGluZyA9IFwiMCAwIDE3NnB4IDBcIjtcbiAgbWFpbi5zdHlsZS53aWR0aCA9ICc5MCUnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xufSk7IiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycpXG5cbi5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCdBdXRoJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIEF1dGgpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLDAsMCwwKSc7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgJHNjb3BlLmxvZ2dlZCA9IGZhbHNlO1xuXG5cbiAgQXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgIGlmIChmaXJlYmFzZVVzZXIpIHtcbiAgICAgICRzY29wZS5sb2dnZWQgPSB0cnVlO1xuICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJOb3QgbG9nZ2VkIGluLlwiKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gYmluZCBmb3JtIGRhdGEgdG8gdXNlciBtb2RlbFxuICAkc2NvcGUudXNlciA9IHt9XG5cblxuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuc3VibWl0dGVkID0gdHJ1ZTtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gbnVsbDtcbiAgICBBdXRoLiRzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCgkc2NvcGUudXNlci5lbWFpbCwgJHNjb3BlLnVzZXIucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXV0aGVudGljYXRpb24gZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgfSlcbiAgfTtcblxuXG59XSkgIiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycpXG5cblxuXG4uY29udHJvbGxlcignTmV3QmxvZ0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckaHR0cCcsJ0F1dGgnLCdCbG9nUG9zdHMnLCdBbGxUYWdzJywnSGVscGVyU2VydmljZScsJ1N1Ym1pdEltYWdlJywnbW9tZW50JywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCBBdXRoLCBCbG9nUG9zdHMsIEFsbFRhZ3MsIEhlbHBlclNlcnZpY2UsIFN1Ym1pdEltYWdlLCBtb21lbnQpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLDAsMCwwKSc7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS5CbG9nUG9zdHMgPSBCbG9nUG9zdHMoKTtcbiAgJHNjb3BlLnRhZ3MgPSBBbGxUYWdzO1xuICAkc2NvcGUuY2hlY2tlZFRhZ3MgPSB7fTtcbiAgJHNjb3BlLmRhdGEgPSB7fTtcblxuICAkc2NvcGUucmVzZXRNZWRpYSA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLmRhdGEueW91dHViZSA9IFwiXCI7XG4gICAgJHNjb3BlLmRhdGEuaW1hZ2UgPSBcIlwiO1xuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XG4gICAgY29uc29sZS5sb2coXCJzdWJtaXQgY2xpY2tlZFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgcG9zdD8gXCIsJHNjb3BlLnBvc3QpO1xuICAgIGlmICgkc2NvcGUuZGF0YS5tZWRpYVNlbGVjdCA9PT0gJ2ltYWdlJyl7XG4gICAgICBTdWJtaXRJbWFnZSgkc2NvcGUucG9zdCwgJHNjb3BlLkJsb2dQb3N0cywgJHNjb3BlLmRhdGEuaW1hZ2UsIGFkZFBvc3QpO1xuICAgIH0gZWxzZSBpZiAoJHNjb3BlLmRhdGEubWVkaWFTZWxlY3QgPT09ICd5b3V0dWJlJyl7XG4gICAgICAkc2NvcGUuZGF0YS55b3V0dWJlID0gSGVscGVyU2VydmljZS5wYXJzZVlvdVR1YmUoJHNjb3BlLmRhdGEueW91dHViZSk7XG4gICAgICBhZGRQb3N0KCRzY29wZS5wb3N0LCAkc2NvcGUuQmxvZ1Bvc3RzLCBudWxsLCAkc2NvcGUuZGF0YS55b3V0dWJlKTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUuYWRkVGFnID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUudGFncy4kYWRkKHtcbiAgICAgIFwibmFtZVwiOiAkc2NvcGUuZGF0YS5uZXdUYWdcbiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlZil7XG4gICAgICAkc2NvcGUucG9zdElkID0gcmVmLmtleTtcbiAgICAgIGNvbnNvbGUubG9nKFwid2hhdCBpcyBwb3N0IGlkPyBcIixyZWYua2V5KTtcbiAgICAgICRzY29wZS5kYXRhLm5ld1RhZyA9IFwiXCI7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUucmVzaXplSW1nID0gZnVuY3Rpb24oaW1nKXtcbiAgICB2YXIgcmVzaXplID0gSGVscGVyU2VydmljZS5pbWdSZXNpemUoaW1nKTtcbiAgfVxuXG4gICRzY29wZS5kZWxldGVUYWcgPSBmdW5jdGlvbihpdGVtKXtcbiAgICAkc2NvcGUudGFncy4kcmVtb3ZlKGl0ZW0pLnRoZW4oZnVuY3Rpb24ocmVmKSB7XG4gIHJlZi5rZXkgPT09IGl0ZW0uJGlkOyAvLyB0cnVlXG59KTtcbiAgfVxuXG4gIHZhciBhZGRQb3N0ID0gZnVuY3Rpb24ocG9zdCwgcG9zdEFycmF5LCBpbWcsIHlvdXR1YmUpe1xuICAgIHZhciBzbHVnID0gSGVscGVyU2VydmljZS5zbHVnaWZ5KHBvc3QudGl0bGUpO1xuICAgIHZhciBwb3N0RGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHZhciB5ZWFyID0gbW9tZW50KHBvc3REYXRlKS5mb3JtYXQoXCJZWVlZXCIpO1xuICAgIHZhciBtb250aCA9IG1vbWVudChwb3N0RGF0ZSkuZm9ybWF0KFwiTU1NTVwiKTtcblxuICAgIHZhciBuZXdUYWdzID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiAkc2NvcGUuY2hlY2tlZFRhZ3Mpe1xuICAgICAgICBuZXdUYWdzW3Byb3BdID0gJHNjb3BlLmNoZWNrZWRUYWdzW3Byb3BdO1xuICAgIH1cbiAgICB2YXIgdGhpc1Bvc3QgPSB7XG4gICAgICBwb3N0VGl0bGU6IHBvc3QudGl0bGUsXG4gICAgICBzbHVnOiBzbHVnLFxuICAgICAgcG9zdEJvZHk6IHBvc3QucG9zdEJvZHksXG4gICAgICB5b3V0dWJlOiB5b3V0dWJlID8geW91dHViZSA6IG51bGwsXG4gICAgICBpbWc6IGltZyA/IGltZyA6IG51bGwsXG4gICAgICB0YWdzOiBuZXdUYWdzLFxuICAgICAgdGltZXN0YW1wOiBwb3N0RGF0ZSAgIFxuICAgIH07XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJ0aGlzUG9zdDogXCIsdGhpc1Bvc3QpO1xuICAgIHBvc3RBcnJheS4kYWRkKHRoaXNQb3N0KS50aGVuKGZ1bmN0aW9uKHJlZil7XG4gICAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICAgIHZhciBhcmNoaXZlUG9zdCA9IHtcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH1cbiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcy8nICsgeWVhciArICcvJyArIG1vbnRoICsgJy8nICsga2V5KS5zZXQoYXJjaGl2ZVBvc3QpO1xuICAgICAgLy8gZm9yIChwcm9wIGluIG5ld1RhZ3Mpe1xuICAgICAgLy8gICBpZiAobmV3VGFnc1twcm9wXSl7XG4gICAgICAvLyAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0YWdzLycgKyBwcm9wICsgJy9wb3N0cy8nICsga2V5KS5zZXQoYXJjaGl2ZVBvc3QpOyBcbiAgICAgIC8vICAgfVxuICAgICAgLy8gfVxuICAgICAgJHN0YXRlLmdvKCdibG9nLm1haW4nKTtcbiAgICB9KTtcbiAgfVxufV0pXG5cbi5jb250cm9sbGVyKCdFZGl0QmxvZ0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHRpbWVvdXQnLCAnJHN0YXRlUGFyYW1zJywnU2VuZERhdGFTZXJ2aWNlJywnQWxsVGFncycsJ3RoaXNQb3N0JywnSGVscGVyU2VydmljZScsJ1N1Ym1pdEltYWdlJywnJHVpYk1vZGFsJywnJGxvZycsJ0Jsb2dQb3N0cycsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zLCBTZW5kRGF0YVNlcnZpY2UsIEFsbFRhZ3MsIHRoaXNQb3N0LCBIZWxwZXJTZXJ2aWNlLCBTdWJtaXRJbWFnZSwgJHVpYk1vZGFsLCAkbG9nLCBCbG9nUG9zdHMpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLDAsMCwwKSc7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS5kYXRhID0ge307XG4gICRzY29wZS5wb3N0QXJyYXkgPSB0aGlzUG9zdDtcbiAgJHNjb3BlLnBvc3QgPSB0aGlzUG9zdFswXTtcbiAgJHNjb3BlLm9yaWdpbmFsVGFncyA9IGFuZ3VsYXIuY29weSgkc2NvcGUucG9zdC50YWdzKTtcbiAgJHNjb3BlLnRhZ3MgPSBBbGxUYWdzO1xuXG4gIGlmICgkc2NvcGUucG9zdC55b3V0dWJlKXtcbiAgICBjb25zb2xlLmxvZygkc2NvcGUucG9zdC55b3V0dWJlKTtcbiAgICB2YXIgeW91dHViZUlkID0gJHNjb3BlLnBvc3QueW91dHViZVxuICAgICRzY29wZS5kYXRhLnlvdXR1YmUgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9XCIrIHlvdXR1YmVJZDtcbiAgfVxuXG4gIFxuXG4gICRzY29wZS5jb25maXJtQmxvZ0RlbGV0ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcbiAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvYmxvZy9kZWxldGVCbG9nQ29uZmlybU1vZGFsLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ0RlbGV0ZUJsb2dDb25maXJtQ3RybCcsXG4gICAgICBzaXplOiAnc20nLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICBcIlBvc3RcIjogcG9zdFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgIGNvbnNvbGUubG9nKFwic3VibWl0dGVkIG1vZGFsXCIpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG4gICAgfSk7XG4gIH07IFxuXG5cbiAgJHNjb3BlLmFkZFRhZyA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLnRhZ3MuJGFkZCh7XG4gICAgICBcIm5hbWVcIjogJHNjb3BlLmRhdGEubmV3VGFnXG4gICAgfSkudGhlbihmdW5jdGlvbihyZWYpe1xuICAgICAgJHNjb3BlLnBvc3RJZCA9IHJlZi5rZXk7XG4gICAgICBjb25zb2xlLmxvZyhcIndoYXQgaXMgcG9zdCBpZD8gXCIscmVmLmtleSk7XG4gICAgICAkc2NvcGUuZGF0YS5uZXdUYWcgPSBcIlwiO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLmRlbGV0ZVRhZyA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgICRzY29wZS50YWdzLiRyZW1vdmUoaXRlbSkudGhlbihmdW5jdGlvbihyZWYpIHtcbiAgcmVmLmtleSA9PT0gaXRlbS4kaWQ7IC8vIHRydWVcbn0pO1xuICB9XG5cblxuICAkc2NvcGUucmVzZXRNZWRpYSA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLmRhdGEueW91dHViZSA9IFwiXCI7XG4gICAgJHNjb3BlLmRhdGEuaW1hZ2UgPSBcIlwiO1xuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCRzY29wZS5kYXRhLm1lZGlhU2VsZWN0ID09PSAnaW1hZ2UnICYmICRzY29wZS5kYXRhLmltYWdlKXtcbiAgICAgIFN1Ym1pdEltYWdlKCRzY29wZS5wb3N0LCAkc2NvcGUucG9zdEFycmF5LCAkc2NvcGUuZGF0YS5pbWFnZSwgdXBkYXRlUG9zdCk7XG4gICAgfSBlbHNlIGlmICgkc2NvcGUuZGF0YS5tZWRpYVNlbGVjdCA9PT0gJ2ltYWdlJyAmJiAhJHNjb3BlLmRhdGEuaW1hZ2Upe1xuICAgICAgdXBkYXRlUG9zdCgkc2NvcGUucG9zdCwgJHNjb3BlLkJsb2dQb3N0cywgJHNjb3BlLnBvc3QuaW1nLCBudWxsKTtcbiAgICB9IGVsc2UgaWYgKCRzY29wZS5kYXRhLm1lZGlhU2VsZWN0ID09PSAneW91dHViZScpe1xuICAgICAgJHNjb3BlLmRhdGEueW91dHViZSA9IEhlbHBlclNlcnZpY2UucGFyc2VZb3VUdWJlKCRzY29wZS5kYXRhLnlvdXR1YmUpO1xuICAgICAgdXBkYXRlUG9zdCgkc2NvcGUucG9zdCwgJHNjb3BlLkJsb2dQb3N0cywgbnVsbCwgJHNjb3BlLmRhdGEueW91dHViZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVwZGF0ZVBvc3QgPSBmdW5jdGlvbihwb3N0LCBwb3N0QXJyYXksIGltZywgeW91dHViZSl7XG4gICAgdmFyIHNsdWcgPSBIZWxwZXJTZXJ2aWNlLnNsdWdpZnkocG9zdC5wb3N0VGl0bGUpO1xuICAgIGNvbnNvbGUubG9nKHNsdWcpO1xuICAgIHZhciB5ZWFyID0gbW9tZW50KHBvc3QudGltZXN0YW1wKS5mb3JtYXQoXCJZWVlZXCIpO1xuICAgIHZhciBtb250aCA9IG1vbWVudChwb3N0LnRpbWVzdGFtcCkuZm9ybWF0KFwiTU1NTVwiKTtcbiAgICB2YXIgbmV3VGFncyA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gcG9zdC50YWdzKXtcbiAgICAgIG5ld1RhZ3NbcHJvcF0gPSBwb3N0LnRhZ3NbcHJvcF07XG4gICAgfVxuICAgIHBvc3Quc2x1ZyA9IHNsdWc7XG4gICAgcG9zdC50YWdzID0gbmV3VGFncztcbiAgICBwb3N0LnlvdXR1YmUgPSB5b3V0dWJlID8geW91dHViZSA6IG51bGw7XG4gICAgcG9zdC5pbWcgPSBpbWcgPyBpbWcgOiBudWxsO1xuICAgIHZhciB0aGlzUG9zdCA9IHtcbiAgICAgIHBvc3RUaXRsZTogcG9zdC5wb3N0VGl0bGUsXG4gICAgICBzbHVnOiBzbHVnLFxuICAgICAgcG9zdEJvZHk6IHBvc3QucG9zdEJvZHksXG4gICAgICB5b3V0dWJlOiBwb3N0LnlvdXR1YmUsXG4gICAgICBpbWc6IHBvc3QuaW1nLFxuICAgICAgdGFnczogbmV3VGFncyxcbiAgICAgIHRpbWVzdGFtcDogcG9zdC50aW1lc3RhbXAgICBcbiAgICB9O1xuICAgICRzY29wZS5wb3N0QXJyYXkuJHNhdmUocG9zdCkudGhlbihmdW5jdGlvbihyZWYpIHtcbiAgICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycgKyB5ZWFyICsgJy8nICsgbW9udGggKyAnLycgKyBrZXkpLnJlbW92ZSgpO1xuICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycgKyB5ZWFyICsgJy8nICsgbW9udGggKyAnLycgKyBrZXkpLnNldCh0aGlzUG9zdCk7XG4gICAgICBmb3IgKHByb3AgaW4gJHNjb3BlLm9yaWdpbmFsVGFncyl7XG4gICAgICAgIGlmICgkc2NvcGUub3JpZ2luYWxUYWdzW3Byb3BdID09PSB0cnVlKXtcbiAgICAgICAgICB2YXIgdXJsID0gJ3RhZ3MvJyArIHByb3AgKyAnL3Bvc3RzLycgKyBrZXk7XG4gICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYodXJsKS5yZW1vdmUoKS50aGVuKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZW1vdmUgZmFpbGVkOiBcIiArIGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgfSk7IFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHByb3AgKyBcIiBub3QgYSB0YWcgZm9yIG9sZCBlZGl0IVwiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgIGZvciAocHJvcCBpbiB0aGlzUG9zdC50YWdzKXtcbiAgICAgICAgaWYgKHRoaXNQb3N0LnRhZ3NbcHJvcF0gPT09IHRydWUpe1xuICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0YWdzLycgKyBwcm9wICsgJy9wb3N0cy8nICsga2V5KS5zZXQodGhpc1Bvc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHByb3AgKyBcIiBub3QgYSB0YWcgZm9yIG5ldyBlZGl0IVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sMTAwKVxuXG4gICAgICAkc3RhdGUuZ28oJ2Jsb2cubWFpbicpO1xuICAgIH0pO1xuICB9IFxufV0pICBcblxuXG4uY29udHJvbGxlcignRWRpdEJsb2dUYWdzQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCB0YWcsIEJsb2cpIHtcbiAgJHNjb3BlLnByb21wdGVkID0gZmFsc2U7XG4gICRzY29wZS50YWcgPSBhbmd1bGFyLmNvcHkodGFnKTtcbiAgY29uc29sZS5sb2codGFnKTtcbiAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciBuZXdOYW1lID0ge1xuICAgICAgbmFtZTogJHNjb3BlLnRhZy5uYW1lXG4gICAgfTtcbiAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL3RhZ3MvJyskc2NvcGUudGFnLiRpZCkudXBkYXRlKG5ld05hbWUpO1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH07XG5cbiAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgfTtcblxuICAkc2NvcGUuZGVsZXRlUHJvbXB0ID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUucHJvbXB0ZWQgPSB0cnVlO1xuICB9XG5cbiAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICBpZiAocmVzcG9uc2UgPT09IFwibm9cIil7XG4gICAgICAkc2NvcGUucHJvbXB0ZWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlID09PSBcInllc1wiKXtcbiAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvdGFncy8nKyRzY29wZS50YWcuJGlkKS5yZW1vdmUoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQmxvZy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciB0aGlzUG9zdFRhZ3MgPSBCbG9nW2ldLnRhZ3M7XG4gICAgICAgIGlmICh0aGlzUG9zdFRhZ3NbJHNjb3BlLnRhZy4kaWRdID09PSB0cnVlKXtcbiAgICAgICAgICB0aGlzUG9zdFRhZ3NbJHNjb3BlLnRhZy4kaWRdID0gbnVsbDtcbiAgICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL2Jsb2dfcG9zdHMvJytCbG9nW2ldLiRpZCtcIi90YWdzXCIpLnVwZGF0ZSh0aGlzUG9zdFRhZ3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICB9IFxuICB9XG5cbn0pXG5cblxuLmNvbnRyb2xsZXIoJ0RlbGV0ZUJsb2dDb25maXJtQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBQb3N0LCBtb21lbnQsICRsb2NhdGlvbikge1xuY29uc29sZS5sb2coUG9zdCk7XG5cbiRzY29wZS55ZXMgPSBmdW5jdGlvbigpe1xuICB2YXIgeWVhciA9IG1vbWVudChQb3N0LnRpbWVzdGFtcCkuZm9ybWF0KFwiWVlZWVwiKTtcbiAgdmFyIG1vbnRoID0gbW9tZW50KFBvc3QudGltZXN0YW1wKS5mb3JtYXQoXCJNTU1NXCIpO1xuICBjb25zb2xlLmxvZyhtb250aCArIFwiIG9mIFwiK3llYXIpO1xuICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYmxvZ19wb3N0cy8nK1Bvc3QuJGlkKS5yZW1vdmUoKTtcbiAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycgKyB5ZWFyICsgJy8nICsgbW9udGggKyAnLycgKyBQb3N0LiRpZCkucmVtb3ZlKCk7XG4gICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICRsb2NhdGlvbi51cmwoJy9ibG9nJyk7XG59XG5cbiRzY29wZS5ubyA9IGZ1bmN0aW9uKCl7XG4gICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbn1cbiAgXG59KSIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG5cblxuLmNvbnRyb2xsZXIoJ0Jsb2dNYXN0ZXJDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJGh0dHAnLCckdGltZW91dCcsJyRsb2NhdGlvbicsJyRzdGF0ZVBhcmFtcycsJ0F1dGgnLCdCbG9nJywnSGVscGVyU2VydmljZScsJ0luc3RhZ3JhbUZhY3RvcnknLCdBbGxUYWdzU2VydmljZScsJ1R3aXR0ZXJGYWN0b3J5JywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIEF1dGgsIEJsb2csIEhlbHBlclNlcnZpY2UsIEluc3RhZ3JhbUZhY3RvcnksIEFsbFRhZ3NTZXJ2aWNlLCBUd2l0dGVyRmFjdG9yeSl7XG4gICRzY29wZS5sb2FkZWRJbnN0YSA9IGZhbHNlO1xuICAkc2NvcGUubG9hZGVkVHdpdHRlciA9IGZhbHNlO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuIFxuICBJbnN0YWdyYW1GYWN0b3J5LnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgJHNjb3BlLnBob3RvcyA9IGRhdGEuZGF0YTtcbiAgICAkc2NvcGUubG9hZGVkSW5zdGEgPSB0cnVlO1xuICAgIGlmICgkc2NvcGUubG9hZGVkVHdpdHRlcil7XG4gICAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pXG4gIFR3aXR0ZXJGYWN0b3J5LnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICBcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAkc2NvcGUudHdlZXREYXRlID0gZGF0YS5hbGxUd2VldERhdGEuY3JlYXRlZF9hdDtcbiAgICAkc2NvcGUudHdpdHRlclVzZXIgPSBkYXRhLmFsbFR3ZWV0RGF0YS51c2VyLm5hbWU7XG4gICAgJHNjb3BlLnR3aXR0ZXJIYW5kbGUgPSBkYXRhLmFsbFR3ZWV0RGF0YS51c2VyLnNjcmVlbl9uYW1lO1xuICAgICRzY29wZS50d2VldElkID0gZGF0YS5hbGxUd2VldERhdGEuaWRfc3RyO1xuICAgICRzY29wZS50d2VldCA9IGRhdGEudHdlZXRCb2R5O1xuICAgICRzY29wZS5mYXZvcml0ZXMgPSBkYXRhLmZhdm9yaXRlcztcbiAgICAkc2NvcGUucmV0d2VldHMgPSBkYXRhLnJldHdlZXRzO1xuICAgICRzY29wZS5sb2FkZWRUd2l0dGVyID0gdHJ1ZTtcbiAgICBpZiAoJHNjb3BlLmxvYWRlZEluc3RhKXtcbiAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICAgIH1cbiAgfSlcbiAgJHNjb3BlLmVuYWJsZSA9IHRydWU7XG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuXG4gIH0pO1xufV0pXG5cblxuXG5cbi5jb250cm9sbGVyKCdCbG9nQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyRodHRwJywnJHRpbWVvdXQnLCckbG9jYXRpb24nLCckc3RhdGVQYXJhbXMnLCdBdXRoJywnQmxvZycsJ0hlbHBlclNlcnZpY2UnLCdJbnN0YWdyYW1GYWN0b3J5JywnQWxsVGFnc1NlcnZpY2UnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgQXV0aCwgQmxvZywgSGVscGVyU2VydmljZSwgSW5zdGFncmFtRmFjdG9yeSwgQWxsVGFnc1NlcnZpY2Upe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyNTIsIDI0NCwgMjQ3LCAuOSknO1xuICBtYWluLnN0eWxlLndpZHRoID0gJyc7XG4gIG1haW4uc3R5bGUucGFkZGluZyA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuICAkc2NvcGUuYWxsVGFncyA9IEFsbFRhZ3NTZXJ2aWNlKCk7XG5cbiAgJHNjb3BlLmxvY2F0aW9uID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgLy8gY29uc29sZS5sb2coXCJsb2NhdGlvbjogXCIsJHNjb3BlLmxvY2F0aW9uKTtcbiAgXG4gIC8vICRzY29wZS5waG90b3MgPSBJbnN0YWdyYW0uZGF0YTtcbiAgSW5zdGFncmFtRmFjdG9yeS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgIC8vIGNvbnNvbGUubG9nKFwid2hhdCBpcyBkYXRhPyBcIixkYXRhKTtcbiAgICAkc2NvcGUucGhvdG9zID0gZGF0YS5kYXRhO1xuICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICB9KVxuICAkc2NvcGUuZW5hYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG5cbiAgLy8gJHNjb3BlLmF1dGggPSBBdXRoO1xuICAvLyAkc2NvcGUuYXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAvLyAgICRzY29wZS5maXJlYmFzZVVzZXIgPSBmaXJlYmFzZVVzZXI7XG5cbiAgLy8gfSk7XG4gICRzY29wZS5hbGxQb3N0cyA9IEJsb2c7XG4gICRzY29wZS5wYWdlID0gJHN0YXRlUGFyYW1zLnBhZ2UgfHwgMDtcbiAgJHNjb3BlLnBhZ2VVcCA9ICcvYmxvZy8nICsgKHBhcnNlSW50KCRzY29wZS5wYWdlKSArIDEpO1xuICAkc2NvcGUucGFnZURvd24gPSAnL2Jsb2cvJyArIEhlbHBlclNlcnZpY2UucGFnZURvd24oJHNjb3BlLnBhZ2UpO1xuICAkc2NvcGUubGVuZ3RoID0gQmxvZy5sZW5ndGg7XG4gICRzY29wZS5maXJzdCA9IEhlbHBlclNlcnZpY2UuZmluZEZpcnN0KCRzY29wZS5sZW5ndGgsICRzY29wZS5wYWdlKTtcblxuXG4gICRzY29wZS5sYXN0ID0gJHNjb3BlLmxlbmd0aCAtICg0ICogJHNjb3BlLnBhZ2UpO1xuICAkc2NvcGUucG9zdHMgPSBCbG9nLnNsaWNlKCRzY29wZS5maXJzdCwgJHNjb3BlLmxhc3QpO1xuXG4gIFxuXG4gICRzY29wZS5lZGl0UG9zdCA9IGZ1bmN0aW9uKHNsdWcpeyBcbiAgICAkbG9jYXRpb24udXJsKCcvYmxvZy9lZGl0Lycrc2x1Zyk7XG4gIH1cblxuICBcblxufV0pXG5cblxuLmNvbnRyb2xsZXIoJ0Jsb2dBcmNoaXZlQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJyR0aW1lb3V0JywnJHN0YXRlUGFyYW1zJywnJGxvY2F0aW9uJywgJ0Jsb2cnLCdBcmNoaXZlJywnQXV0aCcsJ0hlbHBlclNlcnZpY2UnLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zLCAkbG9jYXRpb24sIEJsb2csIEFyY2hpdmUsIEF1dGgsIEhlbHBlclNlcnZpY2UsIEFsbFRhZ3NTZXJ2aWNlKXtcbiAgICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbm90TG9hZGVkJyk7XG4gICAkc2NvcGUubG9jYXRpb24gPSAkbG9jYXRpb24uJCRwYXRoO1xuICAkc2NvcGUuYWxsVGFncyA9IEFsbFRhZ3NTZXJ2aWNlKCk7XG4gICRzY29wZS5lbmFibGUgPSB0cnVlO1xuICAvLyAkc2NvcGUucGhvdG9zID0gSW5zdGFncmFtLmRhdGE7XG4gICRzY29wZS5mdWxsQmxvZyA9IEJsb2c7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBBcmNoaXZlLmxlbmd0aDsgaSsrKXtcbiAgICB2YXIga2V5ID0gQXJjaGl2ZVtpXS4kaWQ7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBCbG9nLmxlbmd0aDsgaisrKXtcbiAgICAgIHZhciBibG9nS2V5ID0gQmxvZ1tqXS4kaWQ7XG4gICAgICBpZiAoa2V5ID09PSBibG9nS2V5KXtcbiAgICAgICAgcmVzdWx0LnB1c2goQmxvZ1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAkc2NvcGUuYWxsUG9zdHMgPSByZXN1bHQ7IFxuICAkc2NvcGUucGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG5cbiAgJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG5cblxuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcblxuICB9KTtcbiAgJHNjb3BlLnBhZ2UgPSAkc3RhdGVQYXJhbXMucGFnZSB8fCAwO1xuICAkc2NvcGUucGFnZVVwID0gJy9ibG9nL2FyY2hpdmVzLycgKyAkc3RhdGVQYXJhbXMueWVhciArICcvJyArICRzdGF0ZVBhcmFtcy5tb250aCArICcvJyArIChwYXJzZUludCgkc2NvcGUucGFnZSkgKyAxKTtcbiAgJHNjb3BlLnBhZ2VEb3duID0gJy9ibG9nL2FyY2hpdmVzLycgKyAkc3RhdGVQYXJhbXMueWVhciArICcvJyArICRzdGF0ZVBhcmFtcy5tb250aCArICcvJyArIEhlbHBlclNlcnZpY2UucGFnZURvd24oJHNjb3BlLnBhZ2UpO1xuICAkc2NvcGUubGVuZ3RoID0gJHNjb3BlLmFsbFBvc3RzLmxlbmd0aDtcbiAgJHNjb3BlLmZpcnN0ID0gSGVscGVyU2VydmljZS5maW5kRmlyc3QoJHNjb3BlLmxlbmd0aCwgJHNjb3BlLnBhZ2UpO1xuXG5cbiAgJHNjb3BlLmxhc3QgPSAkc2NvcGUubGVuZ3RoIC0gKDQgKiAkc2NvcGUucGFnZSk7XG4gIC8vIGNvbnNvbGUubG9nKFwiTGFzdDogXCIsJHNjb3BlLmxhc3QpO1xuICAkc2NvcGUucG9zdHMgPSAkc2NvcGUuYWxsUG9zdHMuc2xpY2UoJHNjb3BlLmZpcnN0LCAkc2NvcGUubGFzdCk7XG4gIC8vIGNvbnNvbGUubG9nKCRzY29wZS5wb3N0cyk7XG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyAgICBcbiAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbiAgfSlcblxuICAkc2NvcGUuZWRpdFBvc3QgPSBmdW5jdGlvbihwb3N0KXtcbiAgICB2YXIgdGl0bGVQYXJzZWQgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkwocG9zdC5wb3N0VGl0bGUpO1xuICAgICRsb2NhdGlvbi51cmwoJy9ibG9nL2VkaXQvJyt0aXRsZVBhcnNlZCk7XG4gIH1cbn1dKSBcblxuXG4uY29udHJvbGxlcignQmxvZ1RhZ3NDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHN0YXRlUGFyYW1zJywnJGxvY2F0aW9uJywgJyR0aW1lb3V0JywnQmxvZycsJ1RhZ3NTaG93JywnQXV0aCcsJ0hlbHBlclNlcnZpY2UnLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgJHRpbWVvdXQsIEJsb2csIFRhZ3NTaG93LCBBdXRoLCBIZWxwZXJTZXJ2aWNlLCBBbGxUYWdzU2VydmljZSl7XG4gICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ25vdExvYWRlZCcpO1xuICAgJHNjb3BlLmxvY2F0aW9uID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgJHNjb3BlLmFsbFRhZ3MgPSBBbGxUYWdzU2VydmljZSgpO1xuICAkc2NvcGUuZW5hYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLnRhZ05hbWUgPSBUYWdzU2hvd1swXS5uYW1lO1xuICB2YXIgdGhpc1RhZyA9IFRhZ3NTaG93WzBdLiRpZDtcbiAgdmFyIHNlbGVjdFBvc3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgQmxvZy5sZW5ndGg7IGkrKyl7XG4gICAgdmFyIHRoaXNQb3N0VGFncyA9IEJsb2dbaV0udGFncztcbiAgICBpZiAodGhpc1Bvc3RUYWdzW3RoaXNUYWddKXtcbiAgICAgIHNlbGVjdFBvc3RzLnB1c2goQmxvZ1tpXSk7XG4gICAgfVxuICB9O1xuXG5cblxuXG5cblxuXG4gIFxuICAvLyB2YXIgbGVuZ3RoID0gMDtcbiAgLy8gdmFyIGk7XG4gIC8vIGZvciAoaSBpbiBhbGxQb3N0cykge1xuICAvLyAgIGlmIChhbGxQb3N0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAvLyAgICAgICBsZW5ndGgrKztcbiAgLy8gICAgICAgc2VsZWN0UG9zdHMucHVzaChhbGxQb3N0c1tpXSk7XG4gIC8vICAgfVxuICAvLyB9XG4gIC8vICRzY29wZS5wYXJzZVRpdGxlID0gSGVscGVyU2VydmljZS50aXRsZVRvVVJMO1xuXG5cblxuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcblxuICB9KTtcbiAgJHNjb3BlLnBhZ2UgPSAkc3RhdGVQYXJhbXMucGFnZSB8fCAwO1xuICAkc2NvcGUucGFnZVVwID0gJy9ibG9nL3RhZ3MvJyArICRzdGF0ZVBhcmFtcy50YWdOYW1lICArICcvJyArIChwYXJzZUludCgkc2NvcGUucGFnZSkgKyAxKTtcbiAgJHNjb3BlLnBhZ2VEb3duID0gJy9ibG9nL3RhZ3MvJyArICRzdGF0ZVBhcmFtcy50YWdOYW1lICsgJy8nICsgSGVscGVyU2VydmljZS5wYWdlRG93bigkc2NvcGUucGFnZSk7XG4gICRzY29wZS5sZW5ndGggPSBsZW5ndGg7XG4gICRzY29wZS5maXJzdCA9IEhlbHBlclNlcnZpY2UuZmluZEZpcnN0KCRzY29wZS5sZW5ndGgsICRzY29wZS5wYWdlKTtcblxuICAkc2NvcGUubGFzdCA9ICRzY29wZS5sZW5ndGggLSAoNCAqICRzY29wZS5wYWdlKTtcbiAgY29uc29sZS5sb2coXCJMYXN0OiBcIiwkc2NvcGUubGFzdCk7XG4gICRzY29wZS5wb3N0cyA9IHNlbGVjdFBvc3RzLnNsaWNlKCRzY29wZS5maXJzdCwgJHNjb3BlLmxhc3QpO1xuICBjb25zb2xlLmxvZygkc2NvcGUucG9zdHMpO1xuXG4gICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgICAkc2NvcGUubG9hZGVkID0gdHJ1ZTsgICBcbiAgfSlcblxuICAkc2NvcGUuZWRpdFBvc3QgPSBmdW5jdGlvbihwb3N0KXtcbiAgICB2YXIgdGl0bGVQYXJzZWQgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkwocG9zdC5wb3N0VGl0bGUpO1xuICAgICRsb2NhdGlvbi51cmwoJy9ibG9nL2VkaXQvJyt0aXRsZVBhcnNlZCk7XG4gIH1cbn1dKSBcblxuXG4uY29udHJvbGxlcignQmxvZ1Nob3dDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywnJHN0YXRlUGFyYW1zJywnJGxvY2F0aW9uJywnJHRpbWVvdXQnLCd0aGlzUG9zdCcsJ0Jsb2cnLCdBbGxUYWdzU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgJHRpbWVvdXQsIHRoaXNQb3N0LCBCbG9nLCBBbGxUYWdzU2VydmljZSl7XG4gJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdub3RMb2FkZWQnKTtcbiAkc2NvcGUubG9jYXRpb24gPSAkbG9jYXRpb24uJCRwYXRoO1xuICRzY29wZS5hbGxUYWdzID0gQWxsVGFnc1NlcnZpY2UoKTtcbiAkc2NvcGUuZW5hYmxlID0gZmFsc2U7XG4gJHNjb3BlLnJlY2VudFBvc3RzID0gQmxvZztcbiBjb25zb2xlLmxvZygkc2NvcGUucmVjZW50UG9zdHMpO1xuIC8vICRzY29wZS5waG90b3MgPSBJbnN0YWdyYW0uZGF0YTsgXG4gJHNjb3BlLnBvc3RzID0gdGhpc1Bvc3Q7XG4gJHNjb3BlLmFsbFBvc3RzID0gdGhpc1Bvc3Q7XG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyAgXG4gICAgJHNjb3BlLmxvYWRlZCA9IHRydWU7XG4gIH0pXG59XSkgIFxuXG5cbi5jb250cm9sbGVyKCdCbG9nU2lkZWJhckN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCckc3RhdGVQYXJhbXMnLCckdGltZW91dCcsJ0FyY2hpdmVTZXJ2aWNlJywnQWxsVGFnc1NlcnZpY2UnLCdCbG9nUG9zdHMnLCdIZWxwZXJTZXJ2aWNlJywnJHVpYk1vZGFsJywnJGxvZycsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsJHRpbWVvdXQsIEFyY2hpdmVTZXJ2aWNlLCBBbGxUYWdzU2VydmljZSwgQmxvZ1Bvc3RzLCBIZWxwZXJTZXJ2aWNlLCAkdWliTW9kYWwsICRsb2cpe1xuIFxuICAkc2NvcGUucmVjZW50UG9zdHMgPSBCbG9nUG9zdHMoKTtcbiAgJHNjb3BlLnBhcnNlVGl0bGUgPSBIZWxwZXJTZXJ2aWNlLnRpdGxlVG9VUkw7XG4gICRzY29wZS55ZWFycyA9IEFyY2hpdmVTZXJ2aWNlLnllYXJzKCk7XG4gICRzY29wZS55ZWFycy4kbG9hZGVkKCkudGhlbihmdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKCRzY29wZS55ZWFycyk7XG4gIH0pXG5cbiAgJHNjb3BlLmFsbFRhZ3MgPSBBbGxUYWdzU2VydmljZSgpO1xuXG4gICRzY29wZS5uZXdCbG9nUG9zdCA9IGZ1bmN0aW9uKCl7XG4gICAgJHN0YXRlLmdvKFwiYmxvZy1uZXdcIik7XG4gIH1cblxuICAgICRzY29wZS5lZGl0VGFnID0gZnVuY3Rpb24odGFnKSB7XG4gICAgLy8gY29uc29sZS5sb2cod2hpY2hQYWdlKTtcbiAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2Jsb2cvZWRpdFRhZ3NNb2RhbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdFZGl0QmxvZ1RhZ3NDdHJsJyxcbiAgICAgIHNpemU6ICdsZycsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIFwiQmxvZ1wiOiBmdW5jdGlvbihCbG9nUG9zdHMpe1xuICAgICAgICByZXR1cm4gQmxvZ1Bvc3RzKCkuJGxvYWRlZCgpO1xuICAgICAgICB9LCAgIFxuICAgICAgICB0YWc6IHRhZ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgIGNvbnNvbGUubG9nKFwic3VibWl0dGVkIG1vZGFsXCIpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG4gICAgfSk7XG4gIH07IFxuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNDdHJscycpXG5cblxuLmNvbnRyb2xsZXIoJ2VkaXRNb2RhbEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgZWRpdFNob3csIGluZGV4LCAkZmlyZWJhc2VBcnJheSkge1xuICAkc2NvcGUuc2hvd3MgPSBlZGl0U2hvdztcbiAgJHNjb3BlLnNob3cgPSBlZGl0U2hvd1tpbmRleF07XG5cbiAgY29uc29sZS5sb2coXCJpbmRleCBpcyBcIixpbmRleCk7XG4gICRzY29wZS5kYXRlT2JqID0gbmV3IERhdGUoJHNjb3BlLnNob3cudW5peCAqIDEwMDApO1xuICBjb25zb2xlLmxvZygkc2NvcGUuZGF0ZU9iaik7XG5cblxuXG4gICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAkc2NvcGUuc2hvdy5kYXRlID0gbW9tZW50KCRzY29wZS5kYXRlT2JqKS5mb3JtYXQoJ2RkZCwgTU1NTSBEbycpO1xuICAgICRzY29wZS5zaG93LnVuaXggPSAkc2NvcGUuZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICRzY29wZS5zaG93cy4kc2F2ZSgkc2NvcGUuc2hvdykudGhlbihmdW5jdGlvbihyZWYpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH0pO1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH07XG5cbiAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgfTtcblxuICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuc2hvd3MuJHJlbW92ZSgkc2NvcGUuc2hvdykudGhlbihmdW5jdGlvbihyZWYpe1xuICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsIGRlbGV0ZTogXCIscmVmKTtcbiAgICB9LCBmdW5jdGlvbihlcnJvcil7XG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yOiBcIixlcnJvcilcbiAgICB9KTtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbn0pXG5cblxuLmNvbnRyb2xsZXIoJ25ld01vZGFsQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCAkZmlyZWJhc2VBcnJheSkge1xuXG4gICRzY29wZS5zaG93ID0ge307XG4gIHZhciBzaG93c1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdzaG93cycpO1xuICAkc2NvcGUuc2hvd3NBcnJheSA9ICRmaXJlYmFzZUFycmF5KHNob3dzUmVmKTtcblxuICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoaXNEYXRlID0gbW9tZW50KCRzY29wZS5zaG93LnNob3dEYXRlKS5mb3JtYXQoJ2RkZCwgTU1NTSBEbycpO1xuICAgIHZhciB0aGlzVW5peCA9ICRzY29wZS5zaG93LnNob3dEYXRlLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgY29uc29sZS5sb2codGhpc0RhdGUpO1xuICAgIHZhciBvYmplY3QgPSB7XG4gICAgICBcImRhdGVcIjogdGhpc0RhdGUsXG4gICAgICBcInVuaXhcIjogdGhpc1VuaXgsXG4gICAgICBcImxvY2F0aW9uXCI6ICRzY29wZS5zaG93LnNob3dMb2NhdGlvbixcbiAgICAgIFwidmVudWVcIjogJHNjb3BlLnNob3cudmVudWUsXG4gICAgICBcInZlbnVlTGlua1wiOiAkc2NvcGUuc2hvdy52ZW51ZUxpbmsgfHwgXCJcIixcbiAgICAgIFwidGlja2V0TGlua1wiOiAkc2NvcGUuc2hvdy50aWNrZXRMaW5rIHx8IFwiXCJcbiAgICB9XG4gICAgY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAkc2NvcGUuc2hvd3NBcnJheS4kYWRkKG9iamVjdCk7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9O1xufSkiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuXG4uY29udHJvbGxlcignTmF2Q3RybCcsIFsnJHNjb3BlJywnJHRpbWVvdXQnLCckbG9nJywnJHVpYk1vZGFsJywnJGh0dHAnLCdBdXRoJywnJHN0YXRlJywnJHNlc3Npb25TdG9yYWdlJywnJGxvY2F0aW9uJywnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsJGxvZywgJHVpYk1vZGFsLCAkaHR0cCwgQXV0aCwgJHN0YXRlLCAkc2Vzc2lvblN0b3JhZ2UsJGxvY2F0aW9uLCAkd2luZG93KXtcbiAgLy8gJHNjb3BlLnNlc3Npb25TdG9yYWdlID0gJHNlc3Npb25TdG9yYWdlO1xuICAvLyBpZiAoISRzY29wZS5zZXNzaW9uU3RvcmFnZS5oYXNoKXtcbiAgLy8gICAkc2NvcGUuc2Vzc2lvblN0b3JhZ2UuaGFzaCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICAvLyB9IGVsc2Uge1xuICAvLyAgIGNvbnNvbGUubG9nKFwiYWxyZWFkeSBhIHNlc3Npb24gaGFzaFwiKTtcbiAgLy8gfVxuICAvLyBjb25zb2xlLmxvZyhcIldoYXQgaXMgc2Vzc2lvbiBzdG9yYWdlPyBcIiwkc2NvcGUuc2Vzc2lvblN0b3JhZ2UpO1xuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG4gICRzY29wZS5hdXRoLiRvbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgJHNjb3BlLmZpcmViYXNlVXNlciA9IGZpcmViYXNlVXNlcjtcbiAgfSk7XG5cblxuXG4gICRzY29wZS51c2VyID0ge307XG4gICRzY29wZS5tYWlsQ29uZmlybSA9IGZhbHNlO1xuICB2YXIgdyA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuICB2YXIgaCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAkc2NvcGUuaGVpZ2h0ID0gaDtcblxuICB2YXIgbW9iaWxlQkcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vYmlsZS1iYWNrZ3JvdW5kLWRpdlwiKTtcbiAgaWYgKHcgPCA5MDApe1xuICBtb2JpbGVCRy5zdHlsZS5oZWlnaHQgPSBoICsgXCJweFwiO1xuICB9IGVsc2Uge1xuICBtb2JpbGVCRy5zdHlsZS5oZWlnaHQgPSAwICsgXCJweFwiOyBcbiAgfVxuICAvLyBjb25zb2xlLmxvZyhcImlubmVyIHdpZHRoOiBcIix3aWR0aCk7XG4gIGlmICghJHNjb3BlLmxvYWRlZCAmJiB3ID4gODA2KXsgXG4gICAgJHNjb3BlLm1vYmlsZVdpZHRoID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgICRzY29wZS5tb2JpbGVXaWR0aCA9IHRydWU7XG4gIH0gXG5cblxuXG5cbiAgXG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAvLyBPVkVSTEFZIENSRUFUSU9OXG4gICBcbiAgICAgIC8vIGlmICh3ID49IDY3OCl7XG4gICAgICBpZiAoJHNjb3BlLmZpcmViYXNlVXNlciA9PT0gbnVsbCAmJiAkbG9jYXRpb24uJCRwYXRoICE9PSBcIi9sb2dpblwiKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJlbnRlcmluZyBwb3B1cFwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVybGF5TWFpbFwiKSl7XG4gICAgICAgICAgXG4gICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgZGl2LmlkID0gXCJvdmVybGF5TWFpbFwiO1xuICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSBcIm92ZXJsYXktc3RhcnRcIjtcbiAgICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgdmFyIHBvcFVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3AtdXBcIik7XG4gICAgICAgICAgY29uc29sZS5sb2coYm9keS5zY3JvbGxIZWlnaHQpO1xuICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBib2R5LnNjcm9sbEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICBwb3BVcC5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgIHZhciBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5TWFpbFwiKTtcbiAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmFyIHNjcm9sbFRvcCA9ICR3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgIC8vIHZhciBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5LWNvbnRlbnRcIik7XG4gICAgICAgIC8vIGNvbnRlbnQuc3R5bGUudG9wID0gc2Nyb2xsVG9wICsgXCJweFwiO1xuICAgICAgICAkc2NvcGUuaXNQb3B1cCA9IHRydWU7XG4gICAgICB9XG4gICAgLy8gfTtcbiAgfSw2MDAwKVxuICAgIFxuXG4gICRzY29wZS5jbG9zZVBvcHVwID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuaXNQb3B1cCA9IGZhbHNlO1xuICB9XG4gICAgXG4gICBcbiAgXG4gICRzY29wZS50b1N0b3JlID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5pc1BvcHVwID0gZmFsc2U7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkd2luZG93Lm9wZW4oJ2h0dHBzOi8vaWhlYXJ0c2lzdGVycy5iYW5kY2FtcC5jb20vJyk7XG4gICAgICB9LDMwMCk7XG4gIH1cblxuXG5cblxuICAkc2NvcGUudG9nZ2xlID0gdHJ1ZTtcbiAgdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgaWYgKHdpZHRoID4gODA2KXtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gICAgfSwgMTAwKTtcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gIH1cbn1dKVxuXG4uY29udHJvbGxlcignRm9vdGVyQ3RybCcsIFsnJHNjb3BlJywnJHRpbWVvdXQnLCckbG9nJywnJHVpYk1vZGFsJywnJGh0dHAnLCdBdXRoJywnJHN0YXRlJywnJHNlc3Npb25TdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwkbG9nLCAkdWliTW9kYWwsICRodHRwLCBBdXRoLCAkc3RhdGUsICRzZXNzaW9uU3RvcmFnZSl7XG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuICB9KTtcbiAgXG4gICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2xpY2tlZCBsb2cgb3V0XCIpO1xuICAgIEF1dGguJHNpZ25PdXQoKTtcbiAgfTtcblxuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpe1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2xpY2tlZCBsb2cgaW5cIik7XG4gICAgJHN0YXRlLmdvKCdsb2dpbicpOyAgXG4gIH1cblxuXG5cblxuICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgaWYgKHdpZHRoID4gODA2KXtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gICAgfSwgMTAwKTtcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUuZmFkZSA9IHRydWU7XG4gIH1cbn1dKVxuXG5cblxuXG5cbi5jb250cm9sbGVyKCdNYWlsTW9kYWxDdHJsJywgWyckc2NvcGUnLCckdGltZW91dCcsJyR1aWJNb2RhbCcsJyR1aWJNb2RhbEluc3RhbmNlJywnJGh0dHAnLCdBdXRoJywnJHN0YXRlJywnJHNlc3Npb25TdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwkdWliTW9kYWwsJHVpYk1vZGFsSW5zdGFuY2UsICRodHRwLCBBdXRoLCAkc3RhdGUsICRzZXNzaW9uU3RvcmFnZSl7XG4gICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY29uc29sZS5sb2coJHVpYk1vZGFsSW5zdGFuY2UpXG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH1cblxuXG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnU2lzdGVyc0N0cmxzJylcblxuLmNvbnRyb2xsZXIoJ1Nob3dzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsJ2N1cnJlbnRBdXRoJywnJHVpYk1vZGFsJywnJGxvZycsJyRmaXJlYmFzZUFycmF5JywnbW9tZW50JywnQXV0aCcsJ2dldFNob3dzJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGN1cnJlbnRBdXRoLCAkdWliTW9kYWwsJGxvZywgJGZpcmViYXNlQXJyYXksIG1vbWVudCwgQXV0aCwgZ2V0U2hvd3Mpe1xudmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjUyLCAyNDQsIDI0NywgLjkpJztcbiAgbWFpbi5zdHlsZS53aWR0aCA9ICcnO1xuICBtYWluLnN0eWxlLnBhZGRpbmcgPSAnJztcbiRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS5zaG93cyA9IGdldFNob3dzO1xuXG4gICRzY29wZS5hdXRoID0gQXV0aDtcbiAgJHNjb3BlLmF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbihmaXJlYmFzZVVzZXIpIHtcbiAgICAkc2NvcGUuZmlyZWJhc2VVc2VyID0gZmlyZWJhc2VVc2VyO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiZmlyZWJhc2UgdXNlciBpcyBcIiwkc2NvcGUuZmlyZWJhc2VVc2VyKTtcbiAgfSk7XG5cblxuICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uKHdoaWNoUGFnZSwgaW5kZXgpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh3aGljaFBhZ2UpO1xuICAgIC8vIGNvbnNvbGUubG9nKGluZGV4KTtcbiAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc2hvd3MvJyt3aGljaFBhZ2UrJ1Nob3dNb2RhbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6IHdoaWNoUGFnZSsnTW9kYWxDdHJsJyxcbiAgICAgIHNpemU6ICdsZycsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIGVkaXRTaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5zaG93cztcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuICAgIH0pO1xuICB9OyBcblxufV0pICIsImFuZ3VsYXIubW9kdWxlKCdTaXN0ZXJzQ3RybHMnKVxuXG5cbi5jb250cm9sbGVyKCdTdG9yZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSwgYWxsUHJvZHVjdHMsIFByb2R1Y3RzU2VydmljZSl7XG4gICAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gICAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcbiAgICBtYWluLnN0eWxlLndpZHRoID0gJyc7XG4gICAgbWFpbi5zdHlsZS5wYWRkaW5nID0gJyc7XG4gICAgJHNjb3BlLmxvYWRlZCA9IGZhbHNlO1xuICAgICRzY29wZS5wcm9kdWN0cyA9IGFsbFByb2R1Y3RzO1xuXG5cbiAgICBcbiAgICAkc2NvcGUuc2hvd1Byb2R1Y3QgPSBmdW5jdGlvbihpZCl7XG4gICAgICAkc3RhdGUuZ28oJ3N0b3JlU2hvdycsIHtpZDppZH0pO1xuICAgIH1cblxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpOyBcbiAgICB9KVxuIFxufSlcblxuLmNvbnRyb2xsZXIoJ1N0b3JlQ2FydEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuXG4gICRzY29wZS50b0NoZWNrb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUvY2hlY2tvdXQvYWRkcmVzcycpO1xuICB9XG5cbiAgJHNjb3BlLmNvbnRpbnVlID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24udXJsKCcvc3RvcmUnKTtcbiAgfVxufSlcblxuXG5cbi5jb250cm9sbGVyKCdTdG9yZVNob3dDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJGh0dHAsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzZXNzaW9uU3RvcmFnZSwgb25lUHJvZHVjdCl7XG4gIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAkc2NvcGUuJGVtaXQoJ2xvYWRNYWluQ29udGFpbmVyJywgJ2xvYWRlZCcpO1xuJHNjb3BlLnByb2R1Y3QgPSBvbmVQcm9kdWN0O1xuJHNjb3BlLmltYWdlcyA9IG9uZVByb2R1Y3QuaW1hZ2VzO1xudmFyIGN1cnJlbnRBY3RpdmVTcmMgPSAkc2NvcGUuaW1hZ2VzWzBdO1xuXG4kc2NvcGUuc2t1cyA9ICRzY29wZS5wcm9kdWN0LnNrdXMuZGF0YTtcblxuJHNjb3BlLmRhdGEgPSB7fTtcbiRzY29wZS5kYXRhLnNlbGVjdGVkID0gJHNjb3BlLnByb2R1Y3Quc2t1cy5kYXRhWzBdO1xuXG5cbnZhciBtYWluSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2R1Y3QtcGhvdG8gaW1nXCIpO1xubWFpbkltZy5zcmMgPSAkc2NvcGUuaW1hZ2VzWzBdO1xuXG5cbiRzY29wZS5pc0FjdGl2ZUltZyA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLmltZyA9PT0gY3VycmVudEFjdGl2ZVNyYyl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuXG4kc2NvcGUuY2hhbmdlQWN0aXZlID0gZnVuY3Rpb24oKXtcbiAgY3VycmVudEFjdGl2ZVNyYyA9IHRoaXMuaW1nO1xuICBtYWluSW1nLnNyYyA9IHRoaXMuaW1nO1xufVxuXG5cblxuXG5cblxuXG59KVxuXG5cblxuXG5cblxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0VGVtcGxhdGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRodHRwLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkbG9jYWxTdG9yYWdlKXtcbiAgJHNjb3BlLiRlbWl0KCdsb2FkTWFpbkNvbnRhaW5lcicsICdsb2FkZWQnKTtcbiAgJHNjb3BlLiRzdG9yYWdlID0gJGxvY2FsU3RvcmFnZTtcblxuICAkc2NvcGUuJG9uKCdjYXJ0Q2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHsgXG4gICAgJHNjb3BlLnNob3dQYXRoID0gZGF0YTsgXG4gIH0pO1xuICBpZiAoISRzY29wZS5zaG93UGF0aCl7XG4gICAgJHNjb3BlLnNob3dQYXRoID0gJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudDtcbiAgfVxuXG5cbn0pXG5cblxuXG5cblxuXG4uY29udHJvbGxlcignU3RvcmVBZGRyZXNzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkd2luZG93LCAkdGltZW91dCwgJGh0dHAsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlLCBDdXJyZW50T3JkZXJTZXJ2aWNlKXtcbiAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gIG1haW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjQ3LCAyMzcsIDI0NSwgMCknO1xuXG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICRzY29wZS5jYXJ0SXRlbXMgPSBuZ0NhcnQuZ2V0SXRlbXMoKTtcbiAgJHJvb3RTY29wZS5wYXRoID0gJGxvY2F0aW9uLiQkcGF0aDtcbiAgaWYgKCEkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50IHx8ICRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQgPCAxKXtcbiAgICAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50ID0gMDtcbiAgICAkc2NvcGUuJGVtaXQoJ2NhcnRDaGFuZ2UnLCAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgXG4gIH0gXG4gIFxuICAkc2NvcGUubG9hZGVkID0gW107XG5cblxuICAkc2NvcGUuZGF0YSA9IHtcbiAgICBcInNoaXBwaW5nXCI6IHtcbiAgICAgIFwiY291bnRyeVwiOiB7fVxuICAgIH0sXG4gICAgXCJiaWxsaW5nXCI6IHtcbiAgICAgIFwiY291bnRyeVwiOiB7fVxuICAgIH1cbiAgfTtcbiAgJHNjb3BlLm1haWxpbmdMaXN0QWRkID0gdHJ1ZTtcbiAgJHNjb3BlLnNoaXBwaW5nU2FtZUJvb2wgPSBmYWxzZTtcblxuXG4gIC8vIFJFUVVFU1RTIEZPUiBKU09OIERBVEEgRk9SIE5HLU9QVElPTlNcblxuICAkaHR0cC5nZXQoJy9qcy9KU09OL2NvdW50cmllcy5qc29uJykuc3VjY2VzcyAoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICRzY29wZS5jb3VudHJpZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUuZGF0YS5zaGlwcGluZy5jb3VudHJ5ID0gJHNjb3BlLmNvdW50cmllc1swXTtcbiAgICAgICAgJHNjb3BlLmRhdGEuYmlsbGluZy5jb3VudHJ5ID0gJHNjb3BlLmNvdW50cmllc1swXTtcbiAgICAgICAgJHNjb3BlLmxvYWRlZC5wdXNoKFwiZ29cIik7XG4gIH0pO1xuXG4gICRodHRwLmdldCgnL2pzL0pTT04vc3RhdGVzLmpzb24nKS5zdWNjZXNzIChmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgJHNjb3BlLnN0YXRlcyA9IGRhdGE7XG4gICAgICAgICRzY29wZS5sb2FkZWQucHVzaChcImdvXCIpO1xuICB9KTtcblxuICAkaHR0cC5nZXQoJy9qcy9KU09OL3Byb3ZpbmNlcy5qc29uJykuc3VjY2VzcyAoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICRzY29wZS5wcm92aW5jZXMgPSBkYXRhO1xuICAgICAgICAkc2NvcGUubG9hZGVkLnB1c2goXCJnb1wiKTtcbiAgfSk7XG5cblxuXG4gICRzY29wZS5pc1NoaXBwaW5nU2FtZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCRzY29wZS5kYXRhLnNoaXBwaW5nU2FtZSl7XG4gICAgICAkc2NvcGUuZGF0YS5iaWxsaW5nID0gJHNjb3BlLmRhdGEuc2hpcHBpbmc7XG4gICAgICAkc2NvcGUuc2hpcHBpbmdTYW1lQm9vbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5kYXRhLmJpbGxpbmcgPSB7fTtcbiAgICAgICRzY29wZS5zaGlwcGluZ1NhbWVCb29sID0gZmFsc2U7XG4gICAgfVxuICB9XG5cblxuICAkc2NvcGUuY291bnRyeUNoYW5nZSA9IGZ1bmN0aW9uKGNvdW50cnkpe1xuICAgIGlmIChjb3VudHJ5LmNvZGUgPT09ICdVUycpe1xuICAgICAgJHNjb3BlLnNoaXBwaW5nVHlwZSA9ICRzY29wZS5zaGlwUmF0ZXMuZG9tZXN0aWM7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5zaGlwcGluZ1R5cGUgPSAkc2NvcGUuc2hpcFJhdGVzLmludGVybmF0aW9uYWw7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtKXtcbiAgICAgaWYoZm9ybS4kdmFsaWQpe1xuICAgICAgXG4gICAgJHNjb3BlLmxvYWRlZCA9IFtdO1xuICAgIHZhciBzaGlwID0gJHNjb3BlLmRhdGEuc2hpcHBpbmc7XG4gICAgdmFyIGJpbGwgPSAkc2NvcGUuZGF0YS5iaWxsaW5nOyBcbiAgICAkc2NvcGUuY29weUl0ZW1zID0gYW5ndWxhci5jb3B5KCRzY29wZS5jYXJ0SXRlbXMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNvcHlJdGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgICBkZWxldGUgJHNjb3BlLmNvcHlJdGVtc1tpXS5fZGF0YTtcbiAgICAgIGRlbGV0ZSAkc2NvcGUuY29weUl0ZW1zW2ldLmF0dHI7XG4gICAgfVxuICAgICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcyA9ICRzY29wZS5kYXRhLmJpbGxpbmc7XG4gICAgdmFyIHJlcSA9IHtcbiAgICAgIHVybDogJy9zdHJpcGUvY3JlYXRlT3JkZXInLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgICAgaXRlbXM6ICRzY29wZS5jb3B5SXRlbXMsXG4gICAgICAgICAgc2hpcHBpbmc6IHtcbiAgICAgICAgICAgIG5hbWU6IHNoaXAubmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgbGluZTE6IHNoaXAuYWRkcmVzczEsXG4gICAgICAgICAgICAgIGxpbmUyOiBzaGlwLmFkZHJlc3MyIHx8IG51bGwsXG4gICAgICAgICAgICAgIGNpdHk6IHNoaXAuY2l0eSxcbiAgICAgICAgICAgICAgc3RhdGU6IHNoaXAuc3RhdGVQcm92aW5jZS5zaG9ydCB8fCBudWxsLFxuICAgICAgICAgICAgICBjb3VudHJ5OiBzaGlwLmNvdW50cnkuY29kZSxcbiAgICAgICAgICAgICAgcG9zdGFsX2NvZGU6IHNoaXAucG9zdGFsQ29kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZW1haWw6IHNoaXAuZW1haWwsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHRheFJhdGU6IG5nQ2FydC5nZXRUYXhSYXRlKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IFxuICAgICRodHRwKHJlcSkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcykge1xuXG4gICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gJ2NyZWF0ZWQnKXtcbiAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5tYWlsaW5nTGlzdCA9ICRzY29wZS5tYWlsaW5nTGlzdEFkZDtcbiAgICAgICAgICAgIGlmICghJHNjb3BlLiRzdG9yYWdlLmFkZHJlc3NTdWJtaXQpe1xuICAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQrKztcbiAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2NhcnRDaGFuZ2UnLCAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLmFkZHJlc3NTdWJtaXQgPSB0cnVlOyAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLm9yZGVyRGF0YSA9IHJlcztcbiAgICAgICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9zdG9yZS9jaGVja291dC9wYXltZW50Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgIFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUubG9hZGVkID0gWzEsIDIsIDNdO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xuICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhLm1lc3NhZ2U7XG4gICAgICAgICAgfSBcbiAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciBcIixyZXMpOyAgICAgICAgICAgICBcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJmb3JtIGludmFsaWQhIVwiKTtcbiAgICAgIH1cblxuICB9XG5cblxuICAgICRzY29wZS5nZXRUYXhSYXRlID0gZnVuY3Rpb24oY291bnRyeSwgc3RhdGVQcm92aW5jZSwgcG9zdGFsQ29kZSl7XG4gICAgaWYgKGNvdW50cnkuY29kZSA9PT0gJ1VTJyAmJiBzdGF0ZVByb3ZpbmNlLnNob3J0ID09PSAnV0EnICYmIHBvc3RhbENvZGUpe1xuICAgICAgaWYgKCR3aW5kb3cubG9jYWxTdG9yYWdlLmN1cnJlbnRXYVJhdGUpe1xuICAgICAgICB2YXIgcGFyc2VkVGF4ID0gcGFyc2VGbG9hdCgkd2luZG93LmxvY2FsU3RvcmFnZS5jdXJyZW50V2FSYXRlKVxuICAgICAgICBuZ0NhcnQuc2V0VGF4UmF0ZShwYXJzZWRUYXgpOyAgICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXEgPSB7XG4gICAgICAgICAgdXJsOiAnL3RheFJhdGUnLFxuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBjb3VudHJ5OiAndXNhJyxcbiAgICAgICAgICAgIHBvc3RhbDogcG9zdGFsQ29kZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBcblxuICAgICAgICAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHtcbiAgICAgICAgICBuZ0NhcnQuc2V0VGF4UmF0ZShyZXMuZGF0YS50b3RhbFJhdGUpOyBcbiAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5jdXJyZW50V2FSYXRlID0gcmVzLmRhdGEudG90YWxSYXRlOyAgIFxuICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIFwiLHJlcyk7ICAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvdW50cnkuY29kZSA9PT0gJ1VTJyAmJiBzdGF0ZVByb3ZpbmNlLnNob3J0ICE9PSAnV0EnKXtcbiAgICAgIG5nQ2FydC5zZXRUYXhSYXRlKDApO1xuICAgIH0gZWxzZSBpZiAoY291bnRyeS5jb2RlICE9PSAnVVMnKXtcbiAgICAgIG5nQ2FydC5zZXRUYXhSYXRlKDApO1xuICAgIH1cbiAgfVxuXG5cblxuXG5cbn0pXG5cblxuXG4uY29udHJvbGxlcignU3RvcmVQYXltZW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlLCBjdXJyZW50T3JkZXIpe1xuICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcbiAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyNDcsIDIzNywgMjQ1LCAwKSc7XG4gICRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4gICRyb290U2NvcGUucGF0aCA9ICRsb2NhdGlvbi4kJHBhdGg7XG4gICRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICRzY29wZS5wYXRoQ291bnQgPSBwYXJzZUludCgkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50KTsgXG4gICRzY29wZS5zaGlwT3B0aW9ucyA9ICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEuZGF0YS5zaGlwcGluZ19tZXRob2RzO1xuICAkc2NvcGUuc2F2ZWRTZWxlY3RlZFNoaXAgPSAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGEuc2VsZWN0ZWRfc2hpcHBpbmdfbWV0aG9kO1xuXG4gIFxuXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zaGlwT3B0aW9ucy5sZW5ndGg7IGkrKyl7XG4gICAgaWYgKCRzY29wZS5zaGlwT3B0aW9uc1tpXS5pZCA9PT0gJHNjb3BlLnNhdmVkU2VsZWN0ZWRTaGlwKXtcbiAgICAgICRzY29wZS5zZWxlY3RlZFNoaXAgPSAkc2NvcGUuc2hpcE9wdGlvbnNbaV07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgXG4gICAkc2NvcGUuJHdhdGNoKCdzZWxlY3RlZFNoaXAnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xuICAgIG5nQ2FydC5zZXRTaGlwcGluZygkc2NvcGUuc2VsZWN0ZWRTaGlwLmFtb3VudCk7ICBcbiAgfSwgZmFsc2UpO1xuXG4gICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAkc2NvcGUubG9hZGVkID0gdHJ1ZTsgXG4gIH0pXG5cbiAgXG4gIFxuICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKGZvcm0pe1xuICAgIC8vIGlmKGZvcm0uJHZhbGlkKXtcbiAgICAgICRzY29wZS5sb2FkZWQgPSBmYWxzZTsgXG4gICAgICBTdHJpcGUuY2FyZC5jcmVhdGVUb2tlbih7XG4gICAgICAgIG51bWJlcjogJHNjb3BlLm51bWJlcixcbiAgICAgICAgY3ZjOiAkc2NvcGUuY3ZjLFxuICAgICAgICBleHA6ICRzY29wZS5leHBpcnksXG4gICAgICAgIG5hbWU6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5uYW1lLFxuICAgICAgICBhZGRyZXNzX2xpbmUxOiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3MuYWRkcmVzczEsXG4gICAgICAgIGFkZHJlc3NfbGluZTI6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5hZGRyZXNzMiB8fCBudWxsLFxuICAgICAgICBhZGRyZXNzX2NpdHk6ICRzY29wZS4kc3RvcmFnZS5iaWxsaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICBhZGRyZXNzX3N0YXRlOiAkc2NvcGUuJHN0b3JhZ2UuYmlsbGluZ0FkZHJlc3Muc3RhdGVQcm92aW5jZS5zaG9ydCB8fCBudWxsLFxuICAgICAgICBhZGRyZXNzX3ppcDogJHNjb3BlLiRzdG9yYWdlLmJpbGxpbmdBZGRyZXNzLnBvc3RhbENvZGUsXG4gICAgICAgIGFkZHJlc3NfY291bnRyeTogJHNjb3BlLiRzdG9yYWdlLmJpbGxpbmdBZGRyZXNzLmNvdW50cnkuY29kZVxuICAgICAgfSwgaGFuZGxlU3RyaXBlKTtcbiAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJmb3JtIGludmFsaWQhIVwiKTtcbiAgICAvLyB9XG4gIH1cblxuICB2YXIgaGFuZGxlU3RyaXBlID0gZnVuY3Rpb24oc3RhdHVzLCByZXNwb25zZSl7XG4gICAgaWYocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAvLyB0aGVyZSB3YXMgYW4gZXJyb3IuIEZpeCBpdC5cbiAgfSBlbHNlIHtcbiAgICB0b2tlbiA9IHJlc3BvbnNlO1xuICAgIFxuXG4gICAgdmFyIHJlcSA9IHtcbiAgICAgIHVybDogJy9zdHJpcGUvdXBkYXRlU2hpcHBpbmcnLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICBvcmRlcklkOiAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGEuaWQsXG4gICAgICAgIHNlbGVjdGVkU2hpcDogJHNjb3BlLnNlbGVjdGVkU2hpcC5pZFxuICAgICAgfVxuICAgIH1cblxuICAgICRodHRwKHJlcSkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcykge1xuICAgICAgICAgICBpZiAoISRzY29wZS4kc3RvcmFnZS5wYXltZW50U3VibWl0KXtcbiAgICAgICAgICAgICAkc2NvcGUuJHN0b3JhZ2UucGF0aENvdW50Kys7XG4gICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdjYXJ0Q2hhbmdlJywgJHNjb3BlLiRzdG9yYWdlLnBhdGhDb3VudCk7ICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5wYXltZW50U3VibWl0ID0gdHJ1ZTsgIFxuICAgICAgICAgICRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEgPSByZXM7XG4gICAgICAgICAgJHNjb3BlLiRzdG9yYWdlLnRva2VuRGF0YSA9IHRva2VuO1xuICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9zdG9yZS9jaGVja291dC9jb25maXJtJyk7ICAgXG4gICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKHJlcykge1xuICAgICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlOyBcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIFwiLHJlcyk7ICAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgfVxuICB9XG5cblxufSlcblxuXG4uY29udHJvbGxlcignU3RvcmVDb25maXJtQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJGxvY2FsU3RvcmFnZSwgbmdDYXJ0LCAkcm9vdFNjb3BlKXtcbnZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluXCIpO1xuICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDI0NywgMjM3LCAyNDUsIDApJztcbiRzY29wZS4kZW1pdCgnbG9hZE1haW5Db250YWluZXInLCAnbG9hZGVkJyk7XG4kc2NvcGUuJHN0b3JhZ2UgPSAkbG9jYWxTdG9yYWdlO1xuJHNjb3BlLnBhdGhDb3VudCA9IHBhcnNlSW50KCRzY29wZS4kc3RvcmFnZS5wYXRoQ291bnQpOyBcbiRzY29wZS5vcmRlckNvbXBsZXRlID0gZmFsc2U7XG4kcm9vdFNjb3BlLnBhdGggPSAkbG9jYXRpb24uJCRwYXRoO1xuJHNjb3BlLm5nQ2FydCA9IG5nQ2FydDtcbiRzY29wZS50b2tlbiA9ICRzY29wZS4kc3RvcmFnZS50b2tlbkRhdGE7XG4kc2NvcGUub3JkZXIgPSAkc2NvcGUuJHN0b3JhZ2Uub3JkZXJEYXRhLmRhdGE7XG52YXIgaXRlbXMgPSAkc2NvcGUub3JkZXIuaXRlbXM7XG5mb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKXtcbiAgaWYgKGl0ZW1zW2ldLnR5cGUgPT09ICdzaGlwcGluZycpe1xuICAgICRzY29wZS5zaGlwU2VydmljZSA9IGl0ZW1zW2ldLmRlc2NyaXB0aW9uO1xuICB9XG59XG4kdGltZW91dChmdW5jdGlvbigpe1xuICAkc2NvcGUubG9hZGVkID0gdHJ1ZTtcbn0pXG4gIFxuXG5cbiRzY29wZS5jcmVhdGVDaGFyZ2UgPSBmdW5jdGlvbigpe1xuICAkc2NvcGUubG9hZGVkID0gZmFsc2U7IFxuICB2YXIgcmVxID0ge1xuICAgICAgICB1cmw6ICcvc3RyaXBlL29yZGVyQ29tcGxldGUnLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgb3JkZXJJZDogJHNjb3BlLm9yZGVyLmlkLFxuICAgICAgICAgIHRva2VuOiAkc2NvcGUudG9rZW4uaWRcbiAgICAgICAgfVxuICAgICAgfSBcblxuICAgICAgJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7XG4gICAgICAgICRzY29wZS5vcmRlckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCRzY29wZS4kc3RvcmFnZS5tYWlsaW5nTGlzdCl7XG4gICAgICAgICAgbWFpbGNoaW1wU3VibWl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbmdDYXJ0LnNldFRheFJhdGUoKTtcbiAgICAgICAgbmdDYXJ0LnNldFNoaXBwaW5nKCk7ICAgXG4gICAgICAgIG5nQ2FydC5lbXB0eSgpO1xuICAgICAgICAkbG9jYWxTdG9yYWdlLiRyZXNldCgpO1xuICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICRzY29wZS5sb2FkZWQgPSB0cnVlOyBcbiAgICAvL2RvIHNvbWV0aGluZyBpZiB0aGUgcmVzcG9uc2UgaGFzIGFuIGVycm9yXG4gICAgY29uc29sZS5sb2coXCJlcnJvciBcIixyZXMpO1xuICB9KTtcbn1cblxuXG5cblxuXG52YXIgbWFpbGNoaW1wU3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdXJsID0gXCIvL3Npc3RlcnN0aGViYW5kLnVzMTQubGlzdC1tYW5hZ2UuY29tL3N1YnNjcmliZS9wb3N0LWpzb24/dT1iYzM4NzIwYjBiY2M3YTMyNjQxYmI1NzJjJmFtcDtpZD0yNDJmNGFkYzg5JkVNQUlMPVwiKyRzY29wZS4kc3RvcmFnZS5vcmRlckRhdGEuZGF0YS5lbWFpbCtcIiZjPUpTT05fQ0FMTEJBQ0tcIlxuICAgICRodHRwLmpzb25wKHVybCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcyl7XG4gICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKXtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfSk7XG59XG5cblxuXG5cblxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNEaXJlY3RpdmVzJywgW10pXG5cblxuXG5cbi5kaXJlY3RpdmUoXCJmaWxlcmVhZFwiLCBbZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBmaWxlcmVhZDogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChsb2FkRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmZpbGVyZWFkID0gbG9hZEV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XSlcblxuXG5cbi5kaXJlY3RpdmUoXCJjb3VudHJ5TmFtZVwiLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZTogXCI8c3Bhbj57e25hbWV9fTwvc3Bhbj5cIixcbiAgICBzY29wZToge1xuICAgICAgY291bnRyeUNvZGU6IFwiPVwiXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSkge1xuICAgICAgJGh0dHAuZ2V0KCcvanMvSlNPTi9jb3VudHJpZXMuanNvbicpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgY291bnRyaWVzID0gZGF0YS5kYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50cmllcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZiAoY291bnRyaWVzW2ldLmNvZGUgPT09IHNjb3BlLmNvdW50cnlDb2RlKXtcbiAgICAgICAgICAgICAgICBzY29wZS5uYW1lID0gY291bnRyaWVzW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBzY29wZS5uYW1lID0gXCJ1bmtub3duXCI7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1dKTtcblxuXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ1Npc3RlcnNTZXJ2aWNlcycsIFsnbmdSZXNvdXJjZSddKVxuXG5cbi5mYWN0b3J5KCdMb2FkZWRTZXJ2aWNlJywgZnVuY3Rpb24oKSB7XG4gdmFyIGxvYWRlZCA9IGZhbHNlO1xuIGZ1bmN0aW9uIHNldChkYXRhKSB7XG4gICBsb2FkZWQgPSBkYXRhO1xuIH1cbiBmdW5jdGlvbiBnZXQoKSB7XG4gIHJldHVybiBsb2FkZWQ7XG4gfVxuXG4gcmV0dXJuIHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0XG4gfVxuXG59KVxuXG4uZmFjdG9yeShcIkF1dGhcIiwgW1wiJGZpcmViYXNlQXV0aFwiLFxuICBmdW5jdGlvbigkZmlyZWJhc2VBdXRoKSB7XG4gICAgcmV0dXJuICRmaXJlYmFzZUF1dGgoKTtcbiAgfVxuXSlcblxuXG4uZmFjdG9yeShcIlByb2R1Y3RzU2VydmljZVwiLCBbXCIkaHR0cFwiLFwiJHFcIiwgZnVuY3Rpb24oJGh0dHAsICRxKXtcbiAgcmV0dXJuIHtcbiAgICBhbGxQcm9kdWN0czogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImluc2lkZSBhbGwgcHJvZHVjdHMgc2VydmljZVwiKVxuICAgICAgJGh0dHAuZ2V0KCcvc3RyaXBlL2FsbFByb2R1Y3RzJykuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgLy8gcHJvZHVjdHMgPSBkYXRhLmRhdGE7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJwcm9kdWN0cyBpbiBzZXJ2aWNlOiBcIixwcm9kdWN0cyk7ICAgXG4gICAgICB9KTsgXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTsgICBcbiAgICB9LFxuICAgIG9uZVByb2R1Y3Q6IGZ1bmN0aW9uKHByb2R1Y3RJZCl7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIndoYXQncyBpZD8gXCIscHJvZHVjdElkKTtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcmVxID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICcvc3RyaXBlL29uZVByb2R1Y3QnLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAkaHR0cChyZXEpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3VjY2VzcyEhIVwiKVxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgfVxufV0pXG5cbi5zZXJ2aWNlKCdJbnN0YWdyYW1GYWN0b3J5JywgWyckaHR0cCcsICckcScsIFxuICBmdW5jdGlvbiAoJGh0dHAsICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJy9pbnN0YWdyYW0nLFxuICAgICAgICBjYWNoZTogdHJ1ZVxuICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICB9KS5lcnJvcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChtc2cpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufV0pXG5cblxuXG4uc2VydmljZSgnVHdpdHRlckZhY3RvcnknLCBbJyRodHRwJywgJyRxJywgXG4gIGZ1bmN0aW9uICgkaHR0cCwgJHEpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiAnL3R3aXR0ZXInLFxuICAgICAgICBjYWNoZTogdHJ1ZVxuICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICB9KS5lcnJvcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChtc2cpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufV0pXG5cblxuLmZhY3RvcnkoXCJEb3dubG9hZEtleVNlcnZpY2VcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZnVuY3Rpb24oaGFzaCl7XG4gICAgICBjb25zb2xlLmxvZyhcImhhc2ggaXMgXCIraGFzaCk7XG4gICAgICAvLyBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignZG93bmxvYWRLZXlzLycgKyBoYXNoKS5zZXQoXCJ0ZXN0IHZhbHVlXCIpO1xuICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2Rvd25sb2FkS2V5cy8nK2hhc2gpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICB2YXIgc25hcCA9IHNuYXBzaG90LnZhbCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhzbmFwKTtcbiAgICAgIH0pO1xuICAgICBcbiAgICAgIC8vIGlmICh0aGlzS2V5ICE9PSBudWxsKXtcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJLRVkgRVhJU1RTISEhISEhIVwiKVxuICAgICAgLy8gICByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiS2V5IGRvZXNuJ3QgZXhpc3QuXCIpXG4gICAgICAvLyAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIH1cbiAgICB9XG4gIH1cbilcblxuXG5cbi5mYWN0b3J5KFwiR2V0U2hvd3NcIiwgW1wiJGZpcmViYXNlQXJyYXlcIixcIm1vbWVudFwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXksIG1vbWVudCl7XG4gICAgdmFyIGN1cnJlbnREYXkgPSBtb21lbnQoKS51bml4KCk7XG4gICAgdmFyIGNhbGNEYXkgPSBjdXJyZW50RGF5IC0gODY0MDA7XG4gICAgY29uc29sZS5sb2coXCJjdXJyZW50IGRheTogXCIsY3VycmVudERheSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNob3dzUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Nob3dzJykub3JkZXJCeUNoaWxkKFwidW5peFwiKS5zdGFydEF0KGNhbGNEYXkpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiSSdtIGluIEdldFNob3dzXCIpO1xuICAgIHJldHVybiAkZmlyZWJhc2VBcnJheShzaG93c1JlZik7XG4gIH1cbn1dKVxuXG4vLyAuZmFjdG9yeShcIkdldFNpbmdsZVNob3dcIiwgW1wiJGZpcmViYXNlQXJyYXlcIiwgXG4vLyAgIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5KSB7XG4vLyAgIHJldHVybiBmdW5jdGlvbihpZCl7XG4vLyAgICAgIHZhciBzaG93c1JlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdzaG93cy8nKyBpZCk7XG4vLyAgICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoc2hvd3NSZWYpO1xuLy8gICB9XG4vLyB9XSlcblxuXG5cblxuXG4uZmFjdG9yeShcIkJsb2dQb3N0c1wiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGJsb2dSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignYmxvZ19wb3N0cycpLm9yZGVyQnlDaGlsZChcInRpbWVzdGFtcFwiKTtcbiAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkoYmxvZ1JlZik7XG4gIH1cbn1dKVxuXG5cbi5mYWN0b3J5KFwiVGhpc1Bvc3RTZXJ2aWNlXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5KXtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2x1Zyl7XG4gICAgICB2YXIgcG9zdFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdibG9nX3Bvc3RzJyk7XG4gICAgICB2YXIgdGhpc1Bvc3RSZWYgPSBwb3N0UmVmLm9yZGVyQnlDaGlsZCgnc2x1ZycpLmVxdWFsVG8oc2x1Zyk7XG4gICAgICByZXR1cm4gJGZpcmViYXNlQXJyYXkodGhpc1Bvc3RSZWYpO1xuICAgIH1cbiAgfVxuICBdKVxuXG4uZmFjdG9yeShcIkFsbFRhZ3NTZXJ2aWNlXCIsIFtcIiRmaXJlYmFzZUFycmF5XCIsIFxuICBmdW5jdGlvbigkZmlyZWJhc2VBcnJheSkge1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgIHZhciB0YWdSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndGFncycpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KHRhZ1JlZik7XG4gIH1cbn1dKVxuXG4uZmFjdG9yeShcIlRhZ3NTaG93U2VydmljZVwiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlT2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbih0YWdOYW1lKXtcbiAgICAgIHZhciB0YWdSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndGFncycpO1xuICAgICAgdmFyIHRhZ1Nob3dSZWYgPSB0YWdSZWYub3JkZXJCeUNoaWxkKCduYW1lJykuZXF1YWxUbyh0YWdOYW1lKTtcbiAgICAgIHJldHVybiAkZmlyZWJhc2VPYmplY3QodGFnU2hvd1JlZik7XG4gIH1cbn1dKVxuXG5cbi5mYWN0b3J5KFwiQXJjaGl2ZVNlcnZpY2VcIiwgW1wiJGZpcmViYXNlQXJyYXlcIiwgXG4gIGZ1bmN0aW9uKCRmaXJlYmFzZUFycmF5KXtcbiAgICByZXR1cm4ge1xuICAgICAgeWVhcnM6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgeWVhclJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcycpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KHllYXJSZWYpXG4gICAgICB9LFxuICAgICAgbW9udGhzOiBmdW5jdGlvbih5ZWFyKXtcbiAgICAgIHZhciBtb250aFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdhcmNoaXZlcy8nK3llYXIpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KG1vbnRoUmVmKVxuICAgICAgfVxuICAgIH1cbn1dKVxuXG4uZmFjdG9yeShcIkFyY2hpdmVTaG93U2VydmljZVwiLCBbXCIkZmlyZWJhc2VBcnJheVwiLCBcbiAgZnVuY3Rpb24oJGZpcmViYXNlQXJyYXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHllYXIsIG1vbnRoKXtcbiAgICAgIHZhciBhcmNoaXZlUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2FyY2hpdmVzLycgKyB5ZWFyICsgJy8nICsgbW9udGgpO1xuICAgICAgcmV0dXJuICRmaXJlYmFzZUFycmF5KGFyY2hpdmVSZWYpO1xuICB9XG59XSlcblxuLmZhY3RvcnkoJ1NlbmREYXRhU2VydmljZScsIGZ1bmN0aW9uKCkge1xuIHZhciBzYXZlZERhdGEgPSB7fVxuIGZ1bmN0aW9uIHNldChkYXRhKSB7XG4gICBzYXZlZERhdGEgPSBkYXRhO1xuIH1cbiBmdW5jdGlvbiBnZXQoKSB7XG4gIHJldHVybiBzYXZlZERhdGE7XG4gfVxuXG4gcmV0dXJuIHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0XG4gfVxuXG59KVxuXG4uZmFjdG9yeSgnQ3VycmVudE9yZGVyU2VydmljZScsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiBmdW5jdGlvbiBzZXQoZGF0YSkge1xuICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSggJ29yZGVyRGF0YScsIGFuZ3VsYXIudG9Kc29uKGRhdGEpICk7XG4gIC8vICBjb25zb2xlLmxvZyhcIm9yZGVyIHNhdmVkIVwiKTtcbiB9XG4gZnVuY3Rpb24gZ2V0KCkge1xuICB2YXIgb3JkZXIgPSBhbmd1bGFyLmZyb21Kc29uKCAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmRlckRhdGEnKSApIDtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShvcmRlcik7XG4gfVxuXG4gcmV0dXJuIHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0XG4gfVxufSlcblxuXG5cblxuXG5cbi5mYWN0b3J5KCdIZWxwZXJTZXJ2aWNlJywgW1wibW9tZW50XCIsXCIkcVwiLCBmdW5jdGlvbihtb21lbnQsICRxKSB7XG4gIHJldHVybiB7XG4gICAgcGFyc2VZb3VUdWJlOiBmdW5jdGlvbih1cmwpe1xuICAgICAgdmFyIHZpZGVvaWQgPSB1cmwubWF0Y2goLyg/Omh0dHBzPzpcXC97Mn0pPyg/Ond7M31cXC4pP3lvdXR1KD86YmUpP1xcLig/OmNvbXxiZSkoPzpcXC93YXRjaFxcP3Y9fFxcLykoW15cXHMmXSspLyk7XG4gICAgICAgIGlmKHZpZGVvaWQgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB2aWRlb2lkWzFdO1xuICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSB5b3V0dWJlIHVybCBpcyBub3QgdmFsaWQuXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBiYXNlNjRNaW1lVHlwZTogZnVuY3Rpb24oZW5jb2RlZCl7XG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgZW5jb2RlZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBtaW1lID0gZW5jb2RlZC5tYXRjaCgvZGF0YTooW2EtekEtWjAtOV0rXFwvW2EtekEtWjAtOS0uK10rKS4qLC4qLyk7XG4gICAgICBpZiAobWltZSAmJiBtaW1lLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBtaW1lWzFdO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coXCJpbWFnZSB0eXBlIGlzIFwiLHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgZ2V0QmFzZTY0SW1hZ2U6IGZ1bmN0aW9uKGRhdGFVUkwpIHtcbiAgICAgIHZhciBiYXNlNjQgPSBkYXRhVVJMLnJlcGxhY2UoL15kYXRhOmltYWdlXFwvKHBuZ3xqcGVnKTtiYXNlNjQsLywgXCJcIik7XG4gICAgICByZXR1cm4gYmFzZTY0O1xuICAgIH0sXG4gICAgYjY0dG9CbG9iOiBmdW5jdGlvbihiNjREYXRhLCBjb250ZW50VHlwZSwgc2xpY2VTaXplKSB7XG4gICAgICBjb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlIHx8ICcnO1xuICAgICAgc2xpY2VTaXplID0gc2xpY2VTaXplIHx8IDUxMjtcbiAgICAgIHZhciBieXRlQ2hhcmFjdGVycyA9IGF0b2IoYjY0RGF0YSk7XG4gICAgICB2YXIgYnl0ZUFycmF5cyA9IFtdO1xuICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgYnl0ZUNoYXJhY3RlcnMubGVuZ3RoOyBvZmZzZXQgKz0gc2xpY2VTaXplKSB7XG4gICAgICAgIHZhciBzbGljZSA9IGJ5dGVDaGFyYWN0ZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2xpY2VTaXplKTtcbiAgICAgICAgdmFyIGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KHNsaWNlLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBieXRlTnVtYmVyc1tpXSA9IHNsaWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVOdW1iZXJzKTtcbiAgICAgICAgYnl0ZUFycmF5cy5wdXNoKGJ5dGVBcnJheSk7XG4gICAgICB9IFxuICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihieXRlQXJyYXlzLCB7dHlwZTogY29udGVudFR5cGV9KTtcbiAgICAgIHJldHVybiBibG9iO1xuICAgIH0sXG4gICAgcGFnZURvd246IGZ1bmN0aW9uKGN1cnJlbnRQYWdlKXtcbiAgICAgIGlmIChjdXJyZW50UGFnZSA8IDIpe1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50UGFnZSAtICgxKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbmRGaXJzdDogZnVuY3Rpb24obGVuZ3RoLCBwYWdlKXtcbiAgICB2YXIgY2FsY0ZpcnN0ID0gbGVuZ3RoIC0gKDQqKDErcGFnZSkpO1xuICAgICAgaWYgKGNhbGNGaXJzdCA+PSAwKXtcbiAgICAgICAgcmV0dXJuIGNhbGNGaXJzdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRUb2RheTogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBjdXJyZW50RGF5ID0gbW9tZW50KCkudW5peCgpO1xuICAgICAgcmV0dXJuIGN1cnJlbnREYXk7XG4gICAgfSxcbiAgICB0aXRsZVRvVVJMOiBmdW5jdGlvbih0aXRsZSl7XG5cbiAgICByZXR1cm4gdGl0bGUuc3BsaXQoJyAnKS5qb2luKCctJyk7XG4gICAgfSxcbiAgICBzbHVnaWZ5OiBmdW5jdGlvbih0ZXh0KXtcbiAgICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKSAgICAgICAgICAgLy8gUmVwbGFjZSBzcGFjZXMgd2l0aCAtXG4gICAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCAnJykgICAgICAgLy8gUmVtb3ZlIGFsbCBub24td29yZCBjaGFyc1xuICAgICAgLnJlcGxhY2UoL1xcLVxcLSsvZywgJy0nKSAgICAgICAgIC8vIFJlcGxhY2UgbXVsdGlwbGUgLSB3aXRoIHNpbmdsZSAtXG4gICAgICAucmVwbGFjZSgvXi0rLywgJycpICAgICAgICAgICAgIC8vIFRyaW0gLSBmcm9tIHN0YXJ0IG9mIHRleHRcbiAgICAgIC5yZXBsYWNlKC8tKyQvLCAnJyk7ICAgICAgICAgICAgLy8gVHJpbSAtIGZyb20gZW5kIG9mIHRleHRcbiAgICB9LFxuICAgIGltZ1Jlc2l6ZTogZnVuY3Rpb24gKGltZykge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgcmVzaXplISFcIik7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgbG9hZElNRyA9IG5ldyBJbWFnZTtcbiAgICBsb2FkSU1HLnNyYyA9IGltZztcbiAgICBsb2FkSU1HLm9ubG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgY29uc29sZS5sb2codGhpcy53aWR0aCArIFwiIFwiICsgdGhpcy5oZWlnaHQpO1xuICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IGxvYWRJTUcud2lkdGggLyBsb2FkSU1HLmhlaWdodDtcbiAgICAgICBjb25zb2xlLmxvZyhcIldIQVQgSVMgUkFUSU8/Pz8gXCIsYXNwZWN0UmF0aW8pO1xuICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEuNzc2ICYmIGxvYWRJTUcuaGVpZ2h0ID49IDUwMCl7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkSU1HOiBcIixsb2FkSU1HKTtcbiAgICAgICAgICB2YXIgcGVyY2VudENoYW5nZSA9IChsb2FkSU1HLmhlaWdodCAtIDUwMCkgLyBsb2FkSU1HLmhlaWdodDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNTAwO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGxvYWRJTUcud2lkdGggLSAobG9hZElNRy53aWR0aCAqIHBlcmNlbnRDaGFuZ2UpO1xuICAgICAgICBcbiAgICAgICAgfSBlbHNlIGlmIChhc3BlY3RSYXRpbyA8IDEuNzc2ICYmIGxvYWRJTUcud2lkdGggPj0gODg5KXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRJTUc6IFwiLGxvYWRJTUcpO1xuICAgICAgICAgIHZhciBwZXJjZW50Q2hhbmdlID0gKGxvYWRJTUcud2lkdGggLSA4ODkpIC8gbG9hZElNRy53aWR0aDtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSA4ODk7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGxvYWRJTUcuaGVpZ2h0IC0gKGxvYWRJTUcuaGVpZ2h0ICogcGVyY2VudENoYW5nZSk7XG4gICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkSU1HOiBcIixsb2FkSU1HKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImltYWdlIGlzIG5vdCBiaWcgZW5vdWdoIVwiKTsgIFxuICAgICAgICB9XG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGxvYWRJTUcsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHZhciByZXNpemVkUmVzdWx0ID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIik7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzaXplZFJlc3VsdCk7ICAgXG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlOyBcbiAgICB9XG4gIH0gXG59XSlcblxuXG5cblxuLmZhY3RvcnkoJ1N1Ym1pdEltYWdlJywgW1wiSGVscGVyU2VydmljZVwiLCBmdW5jdGlvbihIZWxwZXJTZXJ2aWNlKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb3N0LCBwb3N0QXJyYXksIGltYWdlLCBjYWxsYmFjayl7XG4gICAgSGVscGVyU2VydmljZS5pbWdSZXNpemUoaW1hZ2UpLnRoZW4oZnVuY3Rpb24obmV3SW1hZ2Upe1xuICAgICAgdmFyIG1pbWUgPSBIZWxwZXJTZXJ2aWNlLmJhc2U2NE1pbWVUeXBlKG5ld0ltYWdlKTtcbiAgICBjb25zb2xlLmxvZyhcIlRZUEUgSVMgXCIsbWltZSk7XG4gICAgdmFyIGJhc2U2NHJlc3VsdCA9IEhlbHBlclNlcnZpY2UuZ2V0QmFzZTY0SW1hZ2UobmV3SW1hZ2UpXG4gICAgdmFyIGZpbGUgPSBIZWxwZXJTZXJ2aWNlLmI2NHRvQmxvYihiYXNlNjRyZXN1bHQsIG1pbWUpXG4gICAgdmFyIG1ldGFkYXRhID0ge1xuICAgIGNvbnRlbnRUeXBlOiBtaW1lXG4gICAgfTtcbiAgICB2YXIgcGhvdG9JZCA9IChNYXRoLnJhbmRvbSgpKjFlMzIpLnRvU3RyaW5nKDM2KTtcbiAgICB2YXIgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKTtcbiAgICB2YXIgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYuY2hpbGQoJ2Jsb2ctaW1hZ2VzLycgKyBwaG90b0lkKS5wdXQoZmlsZSwgbWV0YWRhdGEpO1xuICAgIHVwbG9hZFRhc2sub24oZmlyZWJhc2Uuc3RvcmFnZS5UYXNrRXZlbnQuU1RBVEVfQ0hBTkdFRCwgLy8gb3IgJ3N0YXRlX2NoYW5nZWQnXG4gICAgZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgIC8vIEdldCB0YXNrIHByb2dyZXNzLCBpbmNsdWRpbmcgdGhlIG51bWJlciBvZiBieXRlcyB1cGxvYWRlZCBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBieXRlcyB0byBiZSB1cGxvYWRlZFxuICAgICAgdmFyIHByb2dyZXNzID0gKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzKSAqIDEwMDtcbiAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgaXMgJyArIHByb2dyZXNzICsgJyUgZG9uZScpO1xuICAgICAgc3dpdGNoIChzbmFwc2hvdC5zdGF0ZSkge1xuICAgICAgICBjYXNlIGZpcmViYXNlLnN0b3JhZ2UuVGFza1N0YXRlLlBBVVNFRDogLy8gb3IgJ3BhdXNlZCdcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBsb2FkIGlzIHBhdXNlZCcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZpcmViYXNlLnN0b3JhZ2UuVGFza1N0YXRlLlJVTk5JTkc6IC8vIG9yICdydW5uaW5nJ1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgaXMgcnVubmluZycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICBjYXNlICdzdG9yYWdlL3VuYXV0aG9yaXplZCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RvcmFnZS9jYW5jZWxlZCc6XG4gICAgICAgIC8vIFVzZXIgY2FuY2VsZWQgdGhlIHVwbG9hZFxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0b3JhZ2UvdW5rbm93bic6XG4gICAgICAgIC8vIFVua25vd24gZXJyb3Igb2NjdXJyZWQsIGluc3BlY3QgZXJyb3Iuc2VydmVyUmVzcG9uc2VcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcInVwbG9hZCBmaW5pc2hlZFwiKVxuICAgIHZhciBkb3dubG9hZFVSTCA9IHVwbG9hZFRhc2suc25hcHNob3QuZG93bmxvYWRVUkw7XG4gICAgY2FsbGJhY2socG9zdCwgcG9zdEFycmF5LCBkb3dubG9hZFVSTCwgbnVsbCk7XG4gIH0pO1xuICAgIH0pXG4gICAgXG5cblxuXG4gIH1cblxufV0pXG5cblxuXG5cblxuXG5cbiJdfQ==
