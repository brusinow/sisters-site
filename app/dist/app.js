var authWait=["Auth",function(t){return t.$waitForSignIn()}],authRequire=["Auth",function(t){return t.$requireSignIn()}];angular.module("SistersApp",["SistersCtrls","SistersDirectives","ui.router","ui.bootstrap","firebase","angularMoment","ngCart","ngStorage","angularPayments","ngAnimate","picardy.fontawesome","textAngular","ui.router.metatags","ngParallax"]).run(["$rootScope","$state","$location","$window","MetaTags",function(t,e,r,o,l){t.MetaTags=l,t.$on("$stateChangeError",function(t,r,o,l,n,a){"AUTH_REQUIRED"===a&&e.go("login")}),t.$on("$stateChangeSuccess",function(t){document.body.scrollTop=document.documentElement.scrollTop=0,o.ga&&o.ga("send","pageview",{page:r.path()})})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","UIRouterMetatagsProvider","$provide",function(t,e,r,o,l){o.setDefaultTitle("SISTERS").setDefaultDescription('Seattle duo. "Drink Champagne", the debut album, coming soon!').setStaticProperties({"og:site_name":"SISTERS"}).setOGURL(!0),e.otherwise("/"),t.state("home",{url:"/",metaTags:{title:"SISTERS",description:'Seattle duo. "Drink Champagne", the debut album, coming soon!'},templateUrl:"/views/home.html",controller:"HomeCtrl"}).state("about",{url:"/about",templateUrl:"/views/about.html",controller:"AboutCtrl"}).state("blog",{templateUrl:"/views/blog/blog.html",controller:"BlogMasterCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(t){return t().$loaded()}]}}).state("blog-new",{url:"/blog/new",templateUrl:"/views/blog/newBlogPost.html",controller:"NewBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(t){return t().$loaded()}]}}).state("blog-edit",{url:"/blog/edit/:slug",templateUrl:"/views/blog/editBlogPost.html",controller:"EditBlogCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(t){return t().$loaded()}],thisPost:["$stateParams","ThisPostService",function(t,e){return e(t.slug).$loaded()}]}}).state("blog-tags-edit",{url:"/blog/editTags/",templateUrl:"/views/blog/editTags.html",controller:"EditBlogTagsCtrl",resolve:{currentAuth:authRequire,AllTags:["AllTagsService",function(t){return t().$loaded()}]}}).state("blog.main",{url:"/blog",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.page",{url:"/blog/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogCtrl",resolve:{currentAuth:authWait}}).state("blog.archive",{url:"/blog/archives/:year/:month",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(t){return t().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(t,e){return e(t.year,t.month).$loaded()}]}}).state("blog.archivePage",{url:"/blog/archives/:year/:month/:page",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogArchiveCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(t){return t().$loaded()}],Archive:["$stateParams","ArchiveShowService",function(t,e){return e(t.year,t.month).$loaded()}]}}).state("blog.tags",{url:"/blog/tags/:tagName",metaTags:{title:"SISTERS - Blog",description:"Updates, news, and commentary from Seattle band SISTERS."},templateUrl:"/views/blog/blog-content.html",controller:"BlogTagsCtrl",resolve:{currentAuth:authWait,Blog:["BlogPosts",function(t){return t().$loaded()}],TagsShow:["$stateParams","TagsShowService",function(t,e){return e(t.tagName).$loaded()}]}}).state("blog.show",{url:"/blog/show/:slug",templateUrl:"/views/blog/blog-content.html",controller:"BlogShowCtrl",resolve:{currentAuth:authWait,thisPost:["$stateParams","ThisPostService",function(t,e){return e(t.slug).$loaded()}],Blog:["BlogPosts",function(t){return t().$loaded()}]},metaTags:{title:function(t){console.log("what is Blog? ",t);var e="SISTERS - "+t[0].postTitle;return e},description:function(t){return t[0].postBody}}}).state("shows",{url:"/shows",metaTags:{title:"SISTERS - Shows",description:"Upcoming shows for Seattle duo SISTERS."},templateUrl:"/views/shows/shows.html",controller:"ShowsCtrl",resolve:{currentAuth:authWait,getShows:["GetShows",function(t){return console.log("app resolve entered"),t().$loaded()}]}}).state("store",{url:"/store",metaTags:{title:"SISTERS - Store",description:"The official store for Seattle duo SISTERS."},templateUrl:"/views/store/store.html",controller:"StoreCtrl",resolve:{currentAuth:authWait,allProducts:["ProductsService",function(t){return t.allProducts()}]}}).state("storeCart",{url:"/store/cart",templateUrl:"/views/store/cart.html",controller:"StoreCartCtrl",resolve:{currentAuth:authWait}}).state("storeShow",{url:"/store/:id",templateUrl:"/views/store/storeShow.html",controller:"StoreShowCtrl",resolve:{currentAuth:authWait,oneProduct:["ProductsService","$stateParams",function(t,e){return t.oneProduct(e.id)}]}}).state("checkout",{templateUrl:"/views/store/checkoutTemplate.html",controller:"CheckoutTemplateCtrl",resolve:{currentAuth:authWait}}).state("checkout.address",{url:"/store/checkout/address",templateUrl:"/views/store/checkoutAddress.html",controller:"StoreAddressCtrl",resolve:{currentAuth:authWait}}).state("checkout.payment",{url:"/store/checkout/payment",templateUrl:"/views/store/checkoutPayment.html",controller:"StorePaymentCtrl",resolve:{currentAuth:authWait,currentOrder:["CurrentOrderService",function(t){return t.get()}]}}).state("checkout.confirm",{url:"/store/checkout/confirm",templateUrl:"/views/store/checkoutConfirm.html",controller:"StoreConfirmCtrl",resolve:{currentAuth:authWait}}).state("login",{url:"/login",templateUrl:"/views/login.html",controller:"LoginCtrl"}),r.html5Mode(!0)}]).filter("cut",function(){return function(t,e,r,o,l){if(!t)return"";if(t&&!e)return t;if(t&&e){if(o=parseInt(o,10),!o)return t;if(t.length<=o)return t;if(t=t.substr(0,o),r){var n=t.lastIndexOf(" ");n!=-1&&("."!=t.charAt(n-1)&&","!=t.charAt(n-1)||(n-=1),t=t.substr(0,n))}return t+(l||"â€¦")}}}).filter("trustAsResourceUrl",["$sce",function(t){return function(e){return t.trustAsResourceUrl("http://www.youtube.com/embed/"+e)}}]).filter("MomentFilter",["moment",function(t){return function(e){return t(e).format("MMMM Do, YYYY")}}]).filter("tooOld",function(){return function(t){var e=moment().unix(),r=[];return angular.forEach(t,function(t){var o=t.unixDate/1e3;e-o<=86400&&r.push(t)}),r}}).filter("DeliveryEstDate",["moment",function(t){return function(e){return t(e).format("dddd, MMMM Do")}}]).filter("timeAgo",["moment",function(){return function(t){return moment(t).fromNow()}}]).filter("centsToDollars",function(){return function(t){return t/100}});